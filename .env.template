# TrinityCore MCP Server Configuration Template
# Copy this file to .env and fill in your values

# =============================================================================
# DATABASE CONNECTION SETTINGS
# =============================================================================

# MySQL Database Host
TRINITY_DB_HOST=localhost

# MySQL Database Port
TRINITY_DB_PORT=3306

# MySQL Database User
TRINITY_DB_USER=your_db_user_here

# MySQL Database Password
TRINITY_DB_PASSWORD=your_db_password_here

# =============================================================================
# DATABASE NAMES
# =============================================================================

# World Database Name (contains game data: spells, items, quests, creatures)
TRINITY_DB_WORLD=world

# Auth Database Name (contains account and authentication data)
TRINITY_DB_AUTH=auth

# Characters Database Name (contains character data)
TRINITY_DB_CHARACTERS=characters

# =============================================================================
# DATA FILE PATHS
# =============================================================================

# Path to TrinityCore source code root directory
# Example: C:\TrinityCore or /home/user/TrinityCore
TRINITY_ROOT=C:\TrinityCore

# Path to GameTable (GT) files directory
# These files contain critical game calculations (combat ratings, XP tables, etc.)
# Usually located in server data directory
# Example: C:\TrinityServer\data\gt or ./data/gt
GT_PATH=./data/gt

# Path to DBC (Database Client) files directory
# Legacy binary data files from WoW client
# Example: C:\TrinityServer\data\dbc or ./data/dbc
DBC_PATH=./data/dbc

# Path to DB2 (Database 2) files directory
# Modern binary data files from WoW client (WoW 4.0+)
# Example: C:\TrinityServer\data\db2 or ./data/db2
DB2_PATH=./data/db2

# Path to VMap (Visibility/Collision Map) files directory
# Contains collision geometry for line-of-sight and spawn validation
# Example: C:\TrinityServer\data\vmaps or ./data/vmaps
VMAP_PATH=./data/vmaps

# Path to MMap (Movement Map / Navigation Mesh) files directory
# Contains navigation mesh data for pathfinding and AI movement
# Example: C:\TrinityServer\data\mmaps or ./data/mmaps
MMAP_PATH=./data/mmaps

# =============================================================================
# WORLD OF WARCRAFT CLIENT SETTINGS
# =============================================================================

# Path to World of Warcraft Retail Installation
# Used for CASC file extraction (minimap textures, map data)
# Example Windows: C:\Program Files (x86)\World of Warcraft\_retail_
# Example Mac: /Applications/World of Warcraft/_retail_
# Leave empty to auto-detect
WOW_PATH=

# =============================================================================
# MCP SERVER SETTINGS
# =============================================================================

# MCP Server Port (optional, for future HTTP interface)
MCP_PORT=3000

# CORS allowed origins (comma-separated for multiple origins)
# Defaults to http://localhost:3000 if not set
# Use "*" ONLY for development - never in production
# Examples:
#   CORS_ORIGIN=http://localhost:3000
#   CORS_ORIGIN=http://localhost:3000,http://localhost:3001
#   CORS_ORIGIN=https://my-trinitycore-ui.example.com
CORS_ORIGIN=http://localhost:3000

# =============================================================================
# TOOL PROFILE CONFIGURATION (Token Optimization)
# =============================================================================

# MCP Mode: Controls tool loading strategy
# Options:
#   webui       - Load all 111 tools (~75,500 tokens) for Web UI
#   claude-code - Load minimal profile for Claude Code development
# Default: webui (backward compatible)
MCP_MODE=webui

# Tool Profile: Which tools to load (when MCP_MODE=claude-code)
# Options:
#   full              - All 111 tools (~75,500 tokens) [Web UI default]
#   core-data         - Essential game data (10 tools, ~6,800 tokens, 91% reduction)
#   code-review       - Code analysis (8 tools, ~5,440 tokens, 93% reduction)
#   development       - Code generation (12 tools, ~8,160 tokens, 89% reduction)
#   performance       - Performance testing (9 tools, ~6,120 tokens, 92% reduction)
#   database          - Database operations (11 tools, ~7,480 tokens, 90% reduction)
#   world-editing     - Map/VMap/MMap (8 tools, ~5,440 tokens, 93% reduction)
#   combat-analysis   - Combat logs (10 tools, ~6,800 tokens, 91% reduction)
#   playerbot-dev     - Bot development: Core + Code + Perf (30 tools, ~20,400 tokens, 73% reduction)
#   quest-dev         - Quest systems: Core + World + DB (29 tools, ~19,720 tokens, 74% reduction)
#   dynamic           - Start minimal, load on demand
# Default: full (when MCP_MODE=webui), core-data (when MCP_MODE=claude-code)
MCP_PROFILE=full

# Enable Lazy Loading (experimental)
# When true, tools can be loaded/unloaded dynamically during session
# Default: false
MCP_LAZY_LOAD=false

# Custom Tool Inclusions (comma-separated)
# Load additional tools beyond the profile
# Example: MCP_CUSTOM_TOOLS=analyze-bot-ai,debug-bot-behavior
MCP_CUSTOM_TOOLS=

# Tool Exclusions (comma-separated)
# Remove specific tools from the profile
# Example: MCP_EXCLUDE_TOOLS=get-all-vendors,get-all-trainers
MCP_EXCLUDE_TOOLS=

# =============================================================================
# NOTES
# =============================================================================
#
# 1. Database Configuration:
#    - Ensure your MySQL server is running and accessible
#    - The user must have SELECT permissions on world, auth, and characters databases
#    - Default credentials assume standard TrinityCore setup
#
# 2. Data File Paths:
#    - Use absolute paths for production deployments
#    - Use relative paths (./data) for development
#    - Ensure paths use forward slashes (/) or escaped backslashes (\\) on Windows
#
# 3. Security:
#    - NEVER commit the .env file to version control
#    - Keep database passwords secure
#    - Use read-only database user for MCP server
#
# 4. Required Data Files:
#    - GT files: Combat ratings, XP tables, stat calculations
#    - DBC files: Legacy spell, item, creature data (pre-WoW 4.0)
#    - DB2 files: Modern spell, item, creature data (WoW 4.0+)
#    - VMap files: Collision geometry for line-of-sight checks
#    - MMap files: Navigation mesh for pathfinding and AI movement
#
# 5. WoW Client (Optional):
#    - Required for map texture extraction in World Editor
#    - Extracts minimap and zone map textures from CASC storage
#    - Auto-detection works for standard installation paths
#    - Extracted files are NOT redistributed (legal compliance)
#
# 6. Claude Code Integration:
#    - Configure in .claude/mcp-servers-config.json
#    - Provide environment variables via "env" section
#    - Use ${VAR_NAME} syntax for sensitive values
#
# 7. Tool Profile System (Token Optimization):
#    - Web UI: Always use MCP_MODE=webui (default, all 111 tools)
#    - Claude Code: Set MCP_MODE=claude-code for minimal profiles
#    - Profile Selection Guide:
#      * Simple lookup tasks → core-data (10 tools, 91% reduction)
#      * Code reviews → code-review (8 tools, 93% reduction)
#      * Bot development → playerbot-dev (30 tools, 73% reduction)
#      * Quest development → quest-dev (29 tools, 74% reduction)
#    - Reduces Claude Code token consumption by 60-90%
#    - More context available for actual code analysis
#    - See LAZY_LOAD_PROPOSAL.md and PROFILE_COMPARISON.md for details
#
