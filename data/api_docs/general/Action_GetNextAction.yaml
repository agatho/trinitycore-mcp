api:
  class: Action
  method: GetNextAction
  signature: std::shared_ptr<Action> Action::GetNextAction() const
documentation:
  brief: Retrieves the next action in the action queue for execution
  description: The GetNextAction method returns a shared pointer to the next Action
    object that is scheduled to be executed within the current action sequence. This
    method is typically used in AI decision-making systems where actions are queued
    and processed sequentially. The returned action may be null if no further actions
    are available in the queue. This method does not modify the internal state of
    the action queue, making it safe for read-only access during execution.
  parameters: []
  returns: A std::shared_ptr<Action> pointing to the next action in the sequence,
    or a null pointer if no next action exists.
  examples:
  - title: Basic usage in AI behavior
    code: "std::shared_ptr<Action> nextAction = action->GetNextAction();\nif (nextAction\
      \ != nullptr)\n{\n    nextAction->Execute();\n}"
    language: cpp
  - title: Checking for valid next action before execution
    code: "auto nextAction = playerAI->GetNextAction();\nif (nextAction && nextAction->IsReady())\n\
      {\n    nextAction->Execute();\n    playerAI->RemoveCurrentAction();\n}"
    language: cpp
  notes: This method is commonly used in TrinityCore's AI framework to manage sequential
    action execution. The returned shared_ptr should be handled carefully to avoid
    circular references or memory leaks. The method assumes that the action queue
    has been properly initialized and populated with valid actions.
  warnings: Calling this method repeatedly without proper handling of the returned
    action pointer may lead to accessing invalid memory if the action has already
    been executed or removed from the queue. Always check for null returns before
    dereferencing the shared_ptr.
  related:
  - GetActionQueue
  - AddAction
  - RemoveAction
  - ExecuteNextAction
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T18:02:18.585402'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
