api:
  class: TargetAssistAction
  method: HasLineOfSight
  signature: bool TargetAssistAction::HasLineOfSight(Player * bot, Unit * target)
    const
documentation:
  brief: Checks if the bot has line of sight to the target unit for targeting purposes.
  description: The HasLineOfSight method determines whether a bot player can establish
    a direct visual line of sight to a specified target unit. This is crucial for
    AI behavior in World of Warcraft's TrinityCore environment, particularly when
    deciding whether to attack, cast spells, or perform other actions that require
    unobstructed visibility. The method evaluates obstacles such as terrain, objects,
    and other units between the bot and its target. It typically uses raycasting or
    similar techniques to simulate visual detection within the game world. This check
    is essential for realistic NPC behavior and proper AI decision-making in combat
    scenarios.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot character that
      is checking line of sight.
  - name: target
    description: Pointer to the Unit object representing the target unit that the
      bot is attempting to see.
  returns: Returns true if there is an unobstructed path between the bot and the target
    unit, allowing for visual detection. Returns false if any obstacle blocks the
    line of sight.
  examples:
  - title: Basic usage in AI decision making
    code: "if (action->HasLineOfSight(bot, target)) {\n    // Proceed with attack\
      \ or spell casting\n    bot->CastSpell(target, SPELL_FIREBALL, true);\n} else\
      \ {\n    // Move closer or find alternative approach\n    bot->MoveTowards(target);\n\
      }"
    language: cpp
  - title: Integration into target selection logic
    code: "class MyTargetAssistAction : public TargetAssistAction {\npublic:\n   \
      \ bool Execute() override {\n        if (HasLineOfSight(bot, target)) {\n  \
      \          // Target is valid for engagement\n            return true;\n   \
      \     }\n        // Find another target or wait\n        return false;\n   \
      \ }\n};"
    language: cpp
  notes: This method likely performs a raycast check using the game's collision system.
    It may consider factors like unit height, bounding boxes, and environmental obstacles.
    The performance impact is generally low but can increase with complex environments
    or many simultaneous checks.
  warnings: Ensure that both bot and target pointers are valid before calling this
    method to prevent crashes. In some edge cases involving very small or large units,
    the line of sight check might not behave exactly as expected due to collision
    detection limitations.
  related:
  - TargetAssistAction::IsValidTarget
  - TargetAssistAction::IsInRange
  - Player::HasInFront
metadata:
  confidence: 0.92
  generated_at: '2025-11-07T09:25:32.345878'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
