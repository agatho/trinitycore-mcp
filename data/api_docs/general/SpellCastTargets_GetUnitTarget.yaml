api:
  class: SpellCastTargets
  method: GetUnitTarget
  signature: Unit * SpellCastTargets::GetUnitTarget() const
documentation:
  brief: Retrieves the target Unit object from the spell cast targets.
  description: The GetUnitTarget method returns a pointer to the Unit object that
    serves as the primary target for the spell being cast. This method is typically
    used during spell execution to access the unit that the spell is directed at.
    The returned Unit pointer may be null if no valid unit target has been set or
    if the target has been destroyed. In World of Warcraft's TrinityCore framework,
    this method is part of the SpellCastTargets class which manages all targets associated
    with a spell cast.
  parameters: []
  returns: A pointer to the Unit object that represents the spell's target, or nullptr
    if no valid unit target exists.
  examples:
  - title: Basic usage in spell effect handler
    code: "void SpellEffectDummy(SpellEffIndex effIndex)\n{\n    Unit* target = m_targets.GetUnitTarget();\n\
      \    if (target && target->IsPlayer())\n    {\n        // Apply some effect\
      \ to the player target\n        target->AddAura(SPELL_ID, target);\n    }\n}"
    language: cpp
  - title: Checking target validity before usage
    code: "void HandleSpellCast()\n{\n    Unit* target = m_targets.GetUnitTarget();\n\
      \    if (!target)\n    {\n        // No valid target, cancel spell\n       \
      \ FinishCast(SPELL_FAILED_BAD_TARGETS);\n        return;\n    }\n    \n    //\
      \ Proceed with spell logic using the target\n    DoSpellDamage(target);\n}"
    language: cpp
  notes: The method assumes that the SpellCastTargets object has been properly initialized
    with a valid target. The returned Unit pointer is only valid for the duration
    of the current spell execution context and should not be stored for later use.
    This method does not perform any validation on whether the target is still valid
    or alive, so callers should check target validity before using the returned pointer.
  warnings: Using the returned Unit pointer without checking for null can lead to
    crashes. The target unit may become invalid during spell execution if it dies
    or is removed from the world. Always validate the target before performing operations
    on it.
  related:
  - SpellCastTargets::GetUnitTarget
  - SpellCastTargets::SetUnitTarget
  - SpellCastTargets::GetGOTarget
  - SpellCastTargets::GetItemTarget
metadata:
  confidence: 0.95
  generated_at: '2025-11-03T18:22:09.930545'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
