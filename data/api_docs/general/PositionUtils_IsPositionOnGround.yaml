api:
  class: PositionUtils
  method: IsPositionOnGround
  signature: bool PositionUtils::IsPositionOnGround(const int & pos, Map * map)
documentation:
  brief: Checks if a given position is on the ground level within a specified map.
  description: The IsPositionOnGround method determines whether a specified position
    is located on the ground surface of a given map. This utility function is commonly
    used in World of Warcraft's TrinityCore to validate player or object positions,
    particularly when checking for valid landing spots or ensuring entities are not
    floating in mid-air. The method performs a ground level check using the provided
    map context and position data to return a boolean result indicating if the position
    corresponds to a ground-level location.
  parameters:
  - name: pos
    description: Reference to an integer representing the position identifier or index
      within the map's coordinate system. This value typically corresponds to a specific
      point in space defined by the map's positioning logic.
  - name: map
    description: Pointer to the Map object where the position check is performed.
      This parameter defines the map context for determining ground level and must
      not be null for valid operation.
  returns: Returns true if the specified position is located on the ground surface
    of the provided map; otherwise, returns false if the position is above ground
    or invalid.
  examples:
  - title: Basic Position Ground Check
    code: "int positionId = 12345;\nMap* currentMap = player->GetMap();\nbool isOnGround\
      \ = PositionUtils::IsPositionOnGround(positionId, currentMap);\nif (isOnGround)\n\
      {\n    // Proceed with ground-based actions\n}"
    language: cpp
  notes: This method relies on internal map data structures and height information
    to determine if a position is grounded. It may involve terrain sampling or collision
    detection depending on the implementation details of TrinityCore's positioning
    system.
  warnings: Ensure that the 'map' parameter is valid and not null before calling this
    method, as passing an invalid pointer could lead to undefined behavior or crashes.
  related:
  - GetPositionHeight
  - IsPositionValid
  - GetMapGroundHeight
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T21:05:41.386362'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
