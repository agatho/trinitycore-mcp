api:
  class: ThreatCalculator
  method: CalculateSpellThreat
  signature: float ThreatCalculator::CalculateSpellThreat(uint32 spellId, float modifier)
documentation:
  brief: Calculates the threat generated by a spell based on its ID and a modifier
    value.
  description: The CalculateSpellThreat method computes the amount of threat a spell
    generates when cast. This is used in the game's threat system to determine how
    much aggro a player or creature will generate from casting a specific spell. The
    method takes into account the spell's inherent threat value and applies a modifier
    to adjust for factors such as spell power, talent bonuses, or other game mechanics.
    The result is a floating-point value representing the calculated threat amount
    that can be used by the threat management system to update target aggro levels.
  parameters:
  - name: spellId
    description: The unique identifier of the spell for which threat is being calculated.
      This ID corresponds to entries in the spell database and determines base threat
      values.
  - name: modifier
    description: A multiplicative factor applied to the base spell threat. Values
      greater than 1 increase threat, while values less than 1 decrease it. Typically
      represents spell power scaling or talent modifiers.
  returns: A float value representing the calculated threat amount generated by casting
    the specified spell with the given modifier. Higher values indicate more threat
    generation.
  examples:
  - title: Basic Threat Calculation
    code: float threat = threatCalculator.CalculateSpellThreat(12345, 1.0f); // Calculate
      threat for spell ID 12345 with no modifier
    language: cpp
  - title: Threat Calculation with Modifier
    code: float threat = threatCalculator.CalculateSpellThreat(98765, 1.5f); // Calculate
      threat for spell ID 98765 with 50% increased threat
    language: cpp
  notes: This method is part of the core threat calculation system and integrates
    with TrinityCore's combat and AI systems. The actual implementation likely retrieves
    spell data from the database, applies formulaic calculations based on spell properties,
    and then multiplies by the provided modifier. This method should be called during
    spell casting events to properly update threat tables.
  warnings: Ensure that the spellId parameter corresponds to a valid spell in the
    database, as invalid IDs may cause undefined behavior or return incorrect threat
    values. The modifier value should be carefully managed to prevent excessive threat
    generation that could break gameplay balance.
  related:
  - CalculateMeleeThreat
  - CalculateDamageThreat
  - GetSpellThreatMultiplier
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T01:01:19.316888'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
