api:
  class: BlackMarketMgr
  method: SendAuctionWonMail
  signature: void BlackMarketMgr::SendAuctionWonMail(BlackMarketEntry * entry, int
    trans)
documentation:
  brief: Sends an auction won mail to the player who purchased an item from the black
    market.
  description: The SendAuctionWonMail method is responsible for delivering a notification
    email to the player who successfully purchased an item through the Black Market
    system in TrinityCore. This method is typically invoked after a successful bid
    or purchase has been processed, ensuring that the winning bidder receives appropriate
    in-game communication about their acquisition. The mail contains details about
    the purchased item, including its properties and any associated metadata. It plays
    a crucial role in maintaining game state consistency by informing players of their
    transactions within the black market interface.
  parameters:
  - name: entry
    description: Pointer to the BlackMarketEntry structure representing the specific
      auction item that was won. This parameter must not be null and should contain
      valid auction data for the mail to be sent correctly.
  - name: trans
    description: Transaction identifier or type code associated with the auction win.
      Used internally to track the nature of the transaction and may influence how
      the mail is formatted or delivered.
  returns: null
  examples:
  - title: Basic Usage Example
    code: "BlackMarketEntry* entry = sBlackMarketMgr->GetEntry(12345);\nif (entry)\n\
      {\n    sBlackMarketMgr->SendAuctionWonMail(entry, 1);\n}"
    language: cpp
  notes: This method assumes that the BlackMarketEntry provided is valid and contains
    all necessary information for constructing the auction won mail. The transaction
    parameter may be used to differentiate between various types of black market transactions
    (e.g., direct purchase, bid win). Ensure proper locking mechanisms are in place
    if this function is called from multiple threads.
  warnings: Calling this method with a null entry pointer will likely cause a crash
    or undefined behavior. Always validate the BlackMarketEntry before passing it
    to this function. Additionally, avoid calling this method outside of appropriate
    auction completion contexts as it may lead to incorrect mail delivery or game
    state inconsistencies.
  related:
  - GetEntry
  - ProcessAuctionBid
  - SendAuctionOutbidMail
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T12:11:05.801869'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
