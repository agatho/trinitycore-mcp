api:
  class: AuctionHouse
  method: FindBargainAuctions
  signature: int AuctionHouse::FindBargainAuctions(int * player, float maxPriceRatio)
documentation:
  brief: Finds and returns the count of bargain auctions available in the auction
    house.
  description: The FindBargainAuctions method scans the auction house listings to
    identify auctions that are considered bargain deals based on a specified maximum
    price ratio. It filters out auctions where the current bid is below the threshold
    defined by maxPriceRatio relative to the item's market value or base price. This
    method is typically used by the game logic to populate lists of discounted items
    for player notification or automated bidding systems. The method does not modify
    any auction data but rather performs a read-only scan of existing auctions.
  parameters:
  - name: player
    description: Pointer to the player object whose auction house data is being queried.
      This parameter determines which player's auction house view is analyzed for
      bargain deals.
  - name: maxPriceRatio
    description: Float value representing the maximum price ratio threshold for identifying
      bargain auctions. Auctions with bids below this ratio of their base price are
      considered bargains. For example, a value of 0.5 means only auctions with bids
      less than 50% of the item's base price are returned.
  returns: Returns an integer representing the number of bargain auctions found that
    meet the specified criteria. A return value of zero indicates no bargain auctions
    were found, while a positive integer indicates the count of qualifying auctions.
  examples:
  - title: Basic Usage
    code: int bargainCount = auctionHouse->FindBargainAuctions(&player, 0.75f);
    language: cpp
  - title: Advanced Usage with Conditional Logic
    code: "int count = auctionHouse->FindBargainAuctions(&player, 0.5f);\nif (count\
      \ > 0) {\n    // Notify player of bargain auctions\n    player->SendAuctionBargains(count);\n\
      } else {\n    // No bargains found\n    player->SendSystemMessage(\"No bargain\
      \ auctions available.\");\n}"
    language: cpp
  notes: This method is likely implemented using internal auction house data structures
    and may involve iterating through a list of active auctions. Performance may be
    impacted if the auction house contains a large number of listings, especially
    when filtering based on price ratios. The method assumes that the player parameter
    points to a valid player object with proper auction house access rights.
  warnings: Ensure that the player pointer is not null before calling this method,
    as passing an invalid pointer may lead to undefined behavior or crashes. The maxPriceRatio
    should be a positive value; negative values may produce unexpected results or
    cause filtering logic errors.
  related:
  - GetAuctionHouseListings
  - FilterBargainAuctions
  - UpdateAuctionHouseData
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T09:02:09.159315'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
