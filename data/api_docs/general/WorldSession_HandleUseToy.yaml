api:
  class: WorldSession
  method: HandleUseToy
  signature: void WorldSession::HandleUseToy(WorldPackets::Toy::UseToy & packet)
documentation:
  brief: Processes a client request to use a toy item, triggering its associated in-game
    effect or behavior.
  description: The HandleUseToy method is responsible for processing a client's request
    to use a toy item. When a player attempts to use a toy through the user interface,
    this method is invoked to handle the interaction. It typically validates that
    the toy can be used, applies any relevant effects or visual changes, and may trigger
    additional game mechanics such as quest progress or temporary buffs. The method
    operates within the WorldSession context, ensuring that only authenticated and
    valid players can interact with toys. This function does not directly modify the
    player's inventory but rather handles the logical execution of the toy's behavior.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in session handling
    code: "void WorldSession::HandleUseToy(WorldPackets::Toy::UseToy& packet)\n{\n\
      \    // Validate that the player has the toy in their inventory\n    // Apply\
      \ the toy's effect (e.g., play animation, send chat message)\n    // Update\
      \ quest progress if applicable\n}"
    language: cpp
  notes: This method is typically called from the packet processing system when a
    USE_TOY opcode is received. It assumes that the packet contains valid data about
    which toy item is being used and may perform checks against the player's current
    state to determine if the toy can be activated.
  warnings: null
  related:
  - HandleItemUse
  - HandleUseItem
  - "SendToy\u53CD\u5E94"
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T20:04:19.672460'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
