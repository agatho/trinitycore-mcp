api:
  class: BotProfiler
  method: RecordCallStack
  signature: void BotProfiler::RecordCallStack(const int & callStack, uint64_t duration,
    uint64_t sessionId)
documentation:
  brief: Records a call stack entry with duration and session ID for profiling bot
    behavior in World of Warcraft.
  description: The RecordCallStack method captures profiling data for bot execution
    by storing information about a specific call stack, its execution duration, and
    associated session identifier. This functionality is used within the TrinityCore
    framework to monitor and analyze performance characteristics of AI-controlled
    bots in the game environment. The method likely stores this data for later analysis
    or reporting purposes, helping developers understand how bot behaviors consume
    system resources over time.
  parameters:
  - name: callStack
    description: Reference to an integer identifier representing the call stack being
      recorded. This typically corresponds to a specific function or code path within
      the bot's execution flow.
  - name: duration
    description: 64-bit unsigned integer representing the time duration (in microseconds
      or milliseconds) that the call stack took to execute. This value indicates performance
      characteristics of the recorded operation.
  - name: sessionId
    description: 64-bit unsigned integer identifier for the current bot session. Used
      to group related profiling data together under a single execution context.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'BotProfiler profiler;

      int stackId = 12345;

      uint64_t duration = 1500;

      uint64_t sessionId = 987654321;

      profiler.RecordCallStack(stackId, duration, sessionId);'
    language: cpp
  - title: Integration with Bot Execution Context
    code: "void BotAI::OnUpdate(uint32_t diff) {\n    uint64_t start = getMSTime();\n\
      \    // ... bot logic here ...\n    uint64_t end = getMSTime();\n    uint64_t\
      \ duration = end - start;\n    profiler->RecordCallStack(1001, duration, GetSessionId());\n\
      }"
    language: cpp
  notes: This method is likely part of a larger profiling system designed for TrinityCore's
    bot AI framework. It may be used in conjunction with other profiling methods to
    build comprehensive performance reports. The callStack parameter probably maps
    to internal function identifiers or call graph nodes, while duration values should
    be consistent with the time measurement system used throughout the core.
  warnings: Ensure that callStack identifiers are properly managed and do not exceed
    valid ranges for internal indexing. The method does not validate input parameters,
    so invalid durations or session IDs could lead to incorrect profiling data or
    potential memory issues if not handled correctly by underlying storage mechanisms.
  related:
  - BotProfiler::StartSession
  - BotProfiler::EndSession
  - BotProfiler::GetProfileData
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T18:21:17.512477'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
