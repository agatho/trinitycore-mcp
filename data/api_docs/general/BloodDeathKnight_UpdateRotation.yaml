api:
  class: BloodDeathKnight
  method: UpdateRotation
  signature: void BloodDeathKnight::UpdateRotation(::Unit * target)
documentation:
  brief: Updates the blood death knight's rotation based on the current target.
  description: The UpdateRotation method is responsible for determining and executing
    the appropriate combat rotation sequence for a blood death knight AI. This method
    evaluates the current target's state, available abilities, resource levels (such
    as runes, Runic Power, and Blood Runes), and positioning to select the most optimal
    ability to cast next. It typically integrates with the core AI framework of TrinityCore
    to ensure proper execution of class-specific mechanics such as Blood Presence,
    Death Strike, Heart Strike, and other blood-oriented abilities. The method is
    called regularly during combat to maintain an effective rotation strategy.
  parameters:
  - name: target
    description: A pointer to the Unit object representing the current target of the
      death knight. This parameter is essential for determining which abilities to
      use based on target state and threat level.
  returns: null
  examples:
  - title: Basic Usage in Combat
    code: "void MyBloodDK::Update()\n{\n    if (Unit* target = GetVictim())\n    {\n\
      \        UpdateRotation(target);\n    }\n}"
    language: cpp
  - title: Integration with AI Framework
    code: "class BloodDeathKnightAI : public ScriptedAI\n{\npublic:\n    void UpdateAI(uint32\
      \ diff) override\n    {\n        if (!UpdateVictim())\n            return;\n\
      \n        if (me->GetVictim())\n            UpdateRotation(me->GetVictim());\n\
      \n        DoMeleeAttackIfReady();\n    }\n};"
    language: cpp
  notes: This method is typically invoked by the AI system during combat updates.
    It assumes that the death knight has a valid target and that the necessary resources
    (runes, Runic Power) are available for ability execution. The method does not
    directly handle movement or positioning; it focuses on ability selection and execution
    logic.
  warnings: Ensure that the target pointer is valid before calling this method to
    avoid potential crashes or undefined behavior. This method should only be called
    in combat situations where a valid target exists.
  related:
  - UpdateAI
  - DoMeleeAttackIfReady
  - GetVictim
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T08:32:54.150985'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
