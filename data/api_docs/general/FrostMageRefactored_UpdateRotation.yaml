api:
  class: FrostMageRefactored
  method: UpdateRotation
  signature: void FrostMageRefactored::UpdateRotation(int * target)
documentation:
  brief: Updates the frost mage's spell rotation based on current target and combat
    state
  description: The UpdateRotation method manages the core casting logic for a frost
    mage AI, determining which spells to cast next based on the current target and
    available resources. This method evaluates the player's current situation including
    mana levels, cooldowns, and target conditions to execute an optimal sequence of
    frost spells such as Frostbolt, Ice Lance, and Frozen Orb. It integrates with
    the TrinityCore AI framework to ensure proper spell timing and resource management
    during combat encounters.
  parameters:
  - name: target
    description: Pointer to the current target entity that the frost mage will cast
      spells against. Must be a valid GameObject or Unit pointer, typically representing
      an enemy unit in combat.
  returns: null
  examples:
  - title: Basic Usage Example
    code: "void FrostMageAI::Update()\n{\n    if (Unit* target = GetVictim())\n  \
      \  {\n        UpdateRotation(&target);\n    }\n}"
    language: cpp
  - title: Advanced Usage with Target Validation
    code: "void FrostMageRefactored::UpdateRotation(int* target)\n{\n    if (!target\
      \ || *target == 0)\n        return;\n\n    Unit* unitTarget = ObjectAccessor::GetUnit(*GetPlayer(),\
      \ *target);\n    if (!unitTarget || !unitTarget->IsAlive())\n        return;\n\
      \n    // Execute rotation logic here\n    // ... spell selection and casting\n\
      }"
    language: cpp
  notes: This method is typically called from within the AI update loop and should
    not be invoked directly outside of combat context. The target parameter must point
    to a valid unit object, otherwise undefined behavior may occur. Performance considerations
    include avoiding unnecessary spell checks when cooldowns are active.
  warnings: Do not pass null or invalid pointers to this method as it will likely
    cause crashes or unexpected behavior. Ensure the target remains valid throughout
    the duration of spell casting operations.
  related:
  - FrostMageRefactored::CastSpell
  - FrostMageRefactored::CheckCooldowns
  - FrostMageRefactored::GetTarget
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T04:29:31.662604'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
