api:
  class: WorldSession
  method: HandleGuildDeclineInvitation
  signature: void WorldSession::HandleGuildDeclineInvitation(WorldPackets::Guild::GuildDeclineInvitation
    & decline)
documentation:
  brief: Processes a guild invitation decline from the client.
  description: The HandleGuildDeclineInvitation method is responsible for handling
    the client's response when declining a guild invitation. When a player receives
    a guild invitation and chooses to decline it, this method is invoked to process
    that action. It typically removes the invitation from the player's pending invitations
    and may send appropriate feedback to the client. This method is part of the WorldSession
    class and integrates with the TrinityCore's guild management system to maintain
    proper state for guild invitations.
  parameters:
  - name: decline
    description: A reference to a GuildDeclineInvitation packet containing information
      about the declined guild invitation, including the guild ID and player's response.
  returns: null
  examples:
  - title: Declining a Guild Invitation
    code: "void WorldSession::HandleGuildDeclineInvitation(WorldPackets::Guild::GuildDeclineInvitation&\
      \ decline)\n{\n    // Process the declined guild invitation\n    if (Player*\
      \ player = GetPlayer())\n    {\n        // Remove pending invitation\n     \
      \   player->GetGuildInvite().Clear();\n        // Send confirmation to client\n\
      \        WorldPackets::Guild::GuildDeclineInvitationResponse response;\n   \
      \     response.GuildID = decline.GuildID;\n        response.Result = GUILD_INVITE_DECLINED;\n\
      \        SendPacket(response.Write());\n    }\n}"
    language: cpp
  notes: This method is typically called as part of the game's packet handling system
    when a client sends a guild decline invitation packet. It assumes that the player
    has an active session and that the guild invitation exists in their pending state.
  warnings: null
  related:
  - HandleGuildAcceptInvitation
  - HandleGuildCreate
  - HandleGuildInvite
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T22:01:28.938337'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
