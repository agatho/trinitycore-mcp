api:
  class: TrainerSpellInfo
  method: IsAlreadyKnown
  signature: bool TrainerSpellInfo::IsAlreadyKnown(Player * player) const
documentation:
  brief: Checks whether a player has already learned the spell associated with this
    trainer entry.
  description: The IsAlreadyKnown method determines if a given player has already
    acquired the spell that this TrainerSpellInfo instance represents. This check
    is typically used in trainer NPCs to decide whether to display the spell as available
    for learning or as already known. The method evaluates the player's current spell
    book against the spell ID associated with the trainer entry. It does not modify
    any state and is purely a query operation. This functionality is essential for
    proper trainer UI behavior in World of Warcraft, ensuring players don't see spells
    they've already learned as options to purchase.
  parameters: []
  returns: Returns true if the player has already learned the spell associated with
    this trainer entry; otherwise returns false.
  examples:
  - title: Basic usage in trainer logic
    code: "if (!trainerSpellInfo->IsAlreadyKnown(player)) {\n    // Display spell\
      \ as available for learning\n    player->ADD_GOSSIP_ITEM(GOSSIP_ICON_TRAINER,\
      \ \"Learn Spell\", GOSSIP_SENDER_MAIN, SPELL_LEARN);\n} else {\n    // Display\
      \ spell as already known\n    player->ADD_GOSSIP_ITEM(GOSSIP_ICON_TRAINER, \"\
      Spell Already Known\", GOSSIP_SENDER_MAIN, 0);\n}"
    language: cpp
  notes: This method relies on the internal spell book tracking of the Player class.
    It is assumed that the TrainerSpellInfo object has been properly initialized with
    a valid spell ID before calling this method. The check is performed using standard
    player spell lookup mechanisms and should be efficient for typical use cases.
  warnings: null
  related:
  - TrainerSpellInfo::GetSpellId
  - TrainerSpellInfo::IsLearnable
metadata:
  confidence: 0.95
  generated_at: '2025-11-08T14:23:46.464890'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
