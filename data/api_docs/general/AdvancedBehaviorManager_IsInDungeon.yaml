api:
  class: AdvancedBehaviorManager
  method: IsInDungeon
  signature: bool AdvancedBehaviorManager::IsInDungeon() const
documentation:
  brief: Determines whether the current player is located within a dungeon environment.
  description: The IsInDungeon method checks if the player associated with the AdvancedBehaviorManager
    instance is currently inside a dungeon instance. This includes both standard dungeons
    and heroic versions of dungeons, but excludes raid instances such as raids or
    battlegrounds. The method evaluates the player's current map and instance type
    to make this determination. It is commonly used in AI behavior scripts to modify
    NPC actions based on whether the player is in a dungeon environment.
  parameters: []
  returns: Returns true if the player is inside any dungeon-type instance, including
    normal, heroic, or mythic difficulties; returns false if the player is not in
    a dungeon or is in a raid, battleground, or open world area.
  examples:
  - title: Basic Usage in Behavior Script
    code: "if (behaviorManager.IsInDungeon()) {\n    // Player is in a dungeon, perform\
      \ dungeon-specific actions\n    npc->SetReactState(REACT_AGGRESSIVE);\n} else\
      \ {\n    // Player is not in a dungeon, perform normal actions\n    npc->SetReactState(REACT_PASSIVE);\n\
      }"
    language: cpp
  - title: Conditional AI Logic Based on Dungeon Status
    code: "class CustomAI : public ScriptedAI {\npublic:\n    void UpdateAI(uint32\
      \ diff) override {\n        if (behaviorManager.IsInDungeon()) {\n         \
      \   // Apply dungeon-specific logic\n            DoCast(SPELL_DUNGEON_BUFF);\n\
      \        } else {\n            // Apply normal world logic\n            DoCast(SPELL_WORLD_BUFF);\n\
      \        }\n    }\n};"
    language: cpp
  notes: This method relies on the player's current instance type and map information.
    It may not accurately reflect temporary zone changes or certain special event
    areas that are technically considered part of a dungeon but behave differently.
    The check is performed at the time of call, so if the player's location changes
    between calls, the result may vary.
  warnings: This method only checks for dungeon-type instances and will return false
    for raid instances, battlegrounds, or world zones. Developers should be aware
    that this distinction is important for proper AI behavior design in different
    content types.
  related:
  - IsInRaid
  - IsInBattleground
  - GetPlayerMapId
metadata:
  confidence: 0.95
  generated_at: '2025-11-07T16:12:41.600074'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
