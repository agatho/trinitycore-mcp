api:
  class: WorldSession
  method: GetBattlenetAccountId
  signature: uint32 WorldSession::GetBattlenetAccountId() const
documentation:
  brief: Retrieves the Battle.net account identifier associated with the current WorldSession.
  description: This method returns the unique identifier (ID) of the Battle.net account
    that is currently logged in through this session. The Battle.net account ID is
    used internally by TrinityCore to manage authentication, permissions, and cross-game
    account linking. It is typically assigned during the initial login process and
    remains constant for the duration of the session. This value is essential for
    implementing features such as account-wide achievements, shared inventory systems,
    or cross-realm character transfers. The method does not perform any validation
    or additional processing; it simply returns the cached Battle.net account ID stored
    within the session object.
  parameters: []
  returns: A 32-bit unsigned integer representing the Battle.net account identifier.
    If no Battle.net account is associated with the session (e.g., in case of legacy
    login or invalid session), this value may be zero or undefined, though typically
    such cases are handled by the authentication system before the session is created.
  examples:
  - title: Basic Usage Example
    code: "uint32 accountId = session->GetBattlenetAccountId();\nif (accountId !=\
      \ 0)\n{\n    // Process account-specific logic\n    sLog->outString(\"Battle.net\
      \ Account ID: %u\", accountId);\n}"
    language: cpp
  - title: Using Account ID for Logging
    code: "void HandlePlayerLogin(Player* player)\n{\n    uint32 battlenetId = player->GetSession()->GetBattlenetAccountId();\n\
      \    sLog->outString(\"Player %s logged in with Battle.net ID: %u\", player->GetName().c_str(),\
      \ battlenetId);\n}"
    language: cpp
  notes: This method assumes that the session has already been authenticated and that
    a valid Battle.net account is associated with it. It's recommended to verify the
    returned value before using it in critical operations, especially if the server
    supports both Battle.net and traditional account systems.
  warnings: Do not rely on this method for security-sensitive checks without verifying
    the session state first. In rare cases involving malformed sessions or legacy
    logins, the returned ID might be zero, which could lead to unexpected behavior
    if not properly handled.
  related:
  - GetAccountId
  - GetPlayer
  - IsBattlenetAccount
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T20:01:20.318572'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
