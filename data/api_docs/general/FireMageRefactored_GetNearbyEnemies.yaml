api:
  class: FireMageRefactored
  method: GetNearbyEnemies
  signature: uint32 FireMageRefactored::GetNearbyEnemies(float range) const
documentation:
  brief: Counts the number of nearby enemy units within a specified range.
  description: The GetNearbyEnemies method determines and returns the total count
    of hostile units (enemies) that are currently within the specified range of the
    Fire Mage. This method is typically used in AI decision-making processes to assess
    the threat level or determine optimal spell usage. The range parameter defines
    the maximum distance at which an enemy unit is considered 'nearby'. The method
    performs a spatial query to identify all valid enemy targets within the given
    radius and returns their count as a uint32 value. This functionality is essential
    for fire mage AI behavior, particularly when selecting between area-of-effect
    spells and single-target abilities.
  parameters: []
  returns: Returns a uint32 representing the number of enemy units found within the
    specified range. A return value of 0 indicates no enemies are present in the vicinity.
  examples:
  - title: Basic Usage to Determine Threat Level
    code: "uint32 nearbyEnemies = fireMage.GetNearbyEnemies(10.0f);\nif (nearbyEnemies\
      \ > 0)\n{\n    // Cast area-of-effect spell\n    fireMage.CastSpell(SpellId::FireballAOE);\n\
      }"
    language: cpp
  - title: Using Enemy Count for Spell Selection Logic
    code: "uint32 nearbyEnemies = fireMage.GetNearbyEnemies(8.0f);\nif (nearbyEnemies\
      \ >= 3)\n{\n    fireMage.CastSpell(SpellId::Pyroblast);\n}\nelse if (nearbyEnemies\
      \ == 1)\n{\n    fireMage.CastSpell(SpellId::Fireball);\n}"
    language: cpp
  notes: This method likely uses TrinityCore's internal spatial indexing systems to
    efficiently query nearby units. It may exclude certain unit types (e.g., dead
    or invisible enemies) based on game logic. The range parameter is typically measured
    in yards, and the method might be optimized for performance by caching recent
    results or using bounding volume hierarchies.
  warnings: Ensure that the range value passed is reasonable to avoid unnecessary
    computational overhead. Be aware that enemy units may become invalid during the
    execution of this method if they are destroyed or removed from the world between
    calls. This method should not be used in performance-critical sections without
    considering its potential impact on frame rate.
  related:
  - GetNearbyAllies
  - GetNearbyUnits
  - IsInRange
  - GetEnemiesInFront
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T09:41:20.686105'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
