api:
  class: PathfindingAdapter
  method: CalculatePath
  signature: bool PathfindingAdapter::CalculatePath(Player * bot, const int & destination,
    MovementPath & path, bool forceDirect)
documentation:
  brief: Calculates a movement path for a player bot to reach a specified destination
    using the pathfinding system.
  description: The CalculatePath method computes a navigable path from the current
    position of the specified player bot to a given destination. It utilizes the underlying
    pathfinding engine to determine a valid route, considering obstacles and terrain.
    The method can optionally force a direct path calculation even when normal pathfinding
    would be skipped. This is commonly used in AI behavior scripts for bots to navigate
    complex environments such as dungeons or outdoor zones.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that will follow
      the calculated path. Must not be null.
  - name: destination
    description: Integer identifier representing the destination point for the path
      calculation. This typically corresponds to a waypoint or node ID in the navigation
      mesh.
  - name: path
    description: Reference to a MovementPath object where the calculated path will
      be stored. The path contains a sequence of waypoints that the bot should follow.
  - name: forceDirect
    description: Boolean flag indicating whether to force direct path calculation.
      If true, bypasses normal pathfinding logic and calculates a straight-line path
      directly to the destination.
  returns: Returns true if the path was successfully calculated and stored in the
    provided MovementPath object; returns false otherwise, which may occur due to
    invalid inputs, unreachable destinations, or pathfinding failures.
  examples:
  - title: Basic Path Calculation
    code: "Player* bot = ...;\nint destination = 12345;\nMovementPath path;\nbool\
      \ success = PathfindingAdapter::CalculatePath(bot, destination, path, false);\n\
      if (success)\n{\n    // Process the calculated path\n}"
    language: cpp
  - title: Force Direct Path Calculation
    code: "Player* bot = ...;\nint destination = 67890;\nMovementPath path;\nbool\
      \ success = PathfindingAdapter::CalculatePath(bot, destination, path, true);\n\
      if (success)\n{\n    // Use direct path for immediate movement\n}"
    language: cpp
  notes: This method relies on the TrinityCore's navigation mesh system and requires
    that the destination node exists within the loaded map data. The MovementPath
    object should be cleared or reset before calling this method to avoid accumulating
    previous path data.
  warnings: Passing a null pointer for 'bot' will likely result in a crash or undefined
    behavior. Ensure that the destination ID corresponds to a valid node in the current
    zone's navigation mesh. Using forceDirect may cause bots to ignore important obstacles
    and terrain features, potentially leading to unrealistic movement patterns.
  related:
  - GetPath
  - IsPathValid
  - UpdatePath
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T06:53:55.061959'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
