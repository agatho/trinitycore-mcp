api:
  class: Unit
  method: RemovePvpFlag
  signature: void Unit::RemovePvpFlag(UnitPVPStateFlags flags)
documentation:
  brief: Removes the PvP flag from a unit, ending player vs player combat state.
  description: The RemovePvpFlag method removes the PvP flag from a Unit, which effectively
    ends the player vs player combat state for that unit. This method is typically
    used when a player's PvP flag needs to be removed after combat has ended or when
    a player is no longer in PvP status. The method operates on the Unit's internal
    PvP state flags and will remove specific flags based on the provided parameter.
    It is commonly used in conjunction with other PvP-related methods to manage player
    status during combat.
  parameters:
  - name: flags
    description: The specific PvP flag(s) to be removed from the unit. This parameter
      specifies which PvP state flags should be cleared, typically including flags
      related to player vs player status such as PVP_FLAG_ARENA, PVP_FLAG_FFA, or
      other relevant flags.
  returns: null
  examples:
  - title: Remove PvP Flag Example
    code: 'Unit* target = GetPlayer();

      Unit::RemovePvpFlag(UnitPVPStateFlags::PVP_FLAG_FFA);

      // This removes the FFA flag from the player''s PvP state'
    language: cpp
  - title: Remove All PvP Flags Example
    code: 'Unit* target = GetPlayer();

      Unit::RemovePvpFlag(UnitPVPStateFlags::PVP_FLAG_ARENA | UnitPVPStateFlags::PVP_FLAG_FFA);

      // This removes both Arena and FFA flags from the player''s PvP state'
    language: cpp
  notes: This method is typically called internally by TrinityCore during combat resolution
    or when a player enters a non-PvP zone. It should be used carefully as it affects
    the player's combat status and may impact other game mechanics like honor points
    or PvP-related rewards. The method operates on the unit's internal state flags
    and may not immediately reflect in the client if the player is in a PvP area.
  warnings: This method should only be called when the player is no longer in PvP
    status, as calling it during active combat can cause unexpected behavior. It also
    does not remove all PvP flags at once; it requires specific flags to be specified
    for removal.
  related:
  - Unit::AddPvpFlag
  - Unit::SetPvpFlag
  - Unit::GetPvpFlag
  - Unit::IsPvp
  - Unit::RemovePvpFlag
metadata:
  confidence: 0.85
  generated_at: '2025-10-30T20:31:29.042162'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
