api:
  class: GuardianDruid
  method: CanUseAbility
  signature: bool GuardianDruid::CanUseAbility(uint32 spellId)
documentation:
  brief: Determines whether a Guardian Druid can use a specified spell ability based
    on current game state and restrictions.
  description: The CanUseAbility method evaluates if a Guardian Druid character is
    eligible to cast or activate a given spell ability. It checks various conditions
    such as mana requirements, cooldowns, player state (e.g., if the druid is shapeshifted
    into bear or cat form), and other game mechanics that may prevent the use of certain
    abilities. This method is typically used by the AI system to make decisions about
    which abilities to use during combat. The method does not modify any internal
    state but returns a boolean value indicating whether the ability can be executed
    at that moment.
  parameters:
  - name: spellId
    description: The unique identifier of the spell or ability to check. This ID corresponds
      to entries in the Spell.dbc file and must represent a valid druid spell or ability.
  returns: Returns true if the Guardian Druid can currently use the specified spell
    ability; otherwise, returns false. This includes checks for mana availability,
    cooldowns, shapeshift state, and other relevant conditions.
  examples:
  - title: Basic usage to check if a spell can be used
    code: "if (guardianDruid->CanUseAbility(106952)) {\n    // Cast the ability\n\
      \    guardianDruid->CastSpell(target, 106952, true);\n}"
    language: cpp
  - title: Using in an AI decision loop
    code: "void GuardianDruidAI::UpdateAI(uint32 diff) {\n    if (CanUseAbility(106952)\
      \ && !me->HasUnitState(UNIT_STATE_CASTING)) {\n        DoCastVictim(106952);\n\
      \    }\n}"
    language: cpp
  notes: This method is commonly used in AI scripts to determine valid actions for
    Guardian Druids during combat. It's important to note that this function only
    evaluates eligibility and does not perform the actual casting or execution of
    the spell. The implementation may vary depending on the specific subclass of GuardianDruid
    and its current form.
  warnings: Ensure that the spellId passed is a valid druid ability; invalid IDs might
    lead to undefined behavior or incorrect results. Also, remember that this method
    does not account for global cooldowns or other external restrictions beyond those
    directly tied to the druid's state.
  related:
  - CastSpell
  - HasMana
  - IsInCombat
  - GetShapeshiftForm
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T17:35:44.364206'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
