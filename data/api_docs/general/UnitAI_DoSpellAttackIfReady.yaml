api:
  class: UnitAI
  method: DoSpellAttackIfReady
  signature: bool UnitAI::DoSpellAttackIfReady(uint32 spellId)
documentation:
  brief: Attempts to cast a spell if the unit is ready to attack and the spell is
    available.
  description: The DoSpellAttackIfReady method checks whether the UnitAI instance
    can perform a spell-based attack. It evaluates conditions such as spell availability,
    cooldowns, mana costs, and targeting requirements before attempting to cast the
    specified spell. This method is typically used in AI logic to determine when a
    unit should use a spell during combat. The method returns true if the spell was
    successfully initiated or is already in progress; otherwise, it returns false.
    It does not guarantee that the spell will hit or deal damage, only that the casting
    sequence has started.
  parameters: []
  returns: Returns true if the spell attack was initiated or is already in progress,
    false otherwise. This indicates whether the unit attempted to cast the spell and
    whether it met all preconditions for casting.
  examples:
  - title: Basic Spell Attack Usage
    code: "if (unitAI->DoSpellAttackIfReady(12345)) {\n    // Spell attack initiated\n\
      \    // Handle additional logic here\n}"
    language: cpp
  - title: Using with Conditional Logic
    code: "if (unit->GetHealthPct() < 30 && unitAI->DoSpellAttackIfReady(67890)) {\n\
      \    // Cast healing spell when health is low\n    // This example assumes the\
      \ spell ID corresponds to a healing spell\n}"
    language: cpp
  notes: This method relies on internal AI state management and should only be called
    from within an AI context. It may perform checks such as line of sight, target
    validity, and spell resource requirements before initiating the cast. The method
    does not handle spell effects or damage calculation; it only triggers the spell
    casting animation and logic.
  warnings: Calling this method outside of a valid AI context can lead to undefined
    behavior. Ensure that the unit has a valid target and sufficient resources (mana,
    etc.) before invoking this method. Avoid calling this method in rapid succession
    without checking cooldowns or other constraints.
  related:
  - DoMeleeAttackIfReady
  - DoCastSpell
  - CanCastSpell
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T00:16:24.697073'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
