api:
  class: DungeonBehavior
  method: instance
  signature: DungeonBehavior * DungeonBehavior::instance()
documentation:
  brief: Returns the singleton instance of the DungeonBehavior class
  description: The instance() method implements the singleton pattern for the DungeonBehavior
    class, providing global access to a single instance throughout the application.
    This method ensures that only one DungeonBehavior object exists at any given time,
    which is essential for managing dungeon-specific behaviors and game state. The
    returned pointer should be used carefully as it represents shared state across
    the entire dungeon system. This method is typically called during dungeon initialization
    or when accessing dungeon-wide behavior configurations.
  parameters: []
  returns: A pointer to the single instance of DungeonBehavior. Returns nullptr if
    the instance has not been initialized yet, though this should not occur in normal
    operation as the singleton is typically constructed on first access.
  examples:
  - title: Accessing the dungeon behavior instance
    code: "DungeonBehavior* dungeonBehavior = DungeonBehavior::instance();\nif (dungeonBehavior)\n\
      {\n    // Use the dungeon behavior instance for managing dungeon logic\n   \
      \ dungeonBehavior->HandlePlayerEnter(player);\n}"
    language: cpp
  - title: Using instance in a dungeon event handler
    code: "void OnDungeonStart()\n{\n    DungeonBehavior* db = DungeonBehavior::instance();\n\
      \    if (db)\n    {\n        db->SetDungeonState(DUNGEON_STATE_ACTIVE);\n  \
      \      db->InitializeBossEncounters();\n    }\n}"
    language: cpp
  notes: This method follows the Meyers singleton pattern, which is thread-safe in
    C++11 and later. The instance is created on first access, making it lazy-initialized.
    Developers should be aware that modifying shared state through this singleton
    can affect all dungeon operations, so proper synchronization may be required in
    multi-threaded contexts.
  warnings: Since this is a singleton, improper use can lead to tight coupling between
    components and make unit testing difficult. Avoid storing references to the instance
    in long-lived objects as it may cause memory leaks or access to stale data if
    the singleton is reset or destroyed.
  related:
  - DungeonBehavior::GetInstance
  - DungeonBehavior::Initialize
  - DungeonBehavior::Cleanup
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T15:12:36.215857'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
