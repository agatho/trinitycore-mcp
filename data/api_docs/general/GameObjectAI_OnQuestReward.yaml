api:
  class: GameObjectAI
  method: OnQuestReward
  signature: void GameObjectAI::OnQuestReward(Player * param0, const Quest * param1,
    int param2, uint32 param3)
documentation:
  brief: Handles quest reward processing when a player interacts with a game object.
  description: The OnQuestReward method is invoked by the TrinityCore framework when
    a player successfully completes a quest that involves interacting with a game
    object. This method serves as a hook for custom AI behavior, allowing developers
    to define specific actions or events that should occur upon quest completion through
    the object. It is typically called during the quest reward phase, after all quest
    objectives have been met and before the player receives rewards. The method provides
    access to both the player who completed the quest and the quest data itself, enabling
    complex interactions such as spawning NPCs, modifying game state, or triggering
    additional events.
  parameters:
  - name: param0
    description: Pointer to the Player object who completed the quest and triggered
      this event.
  - name: param1
    description: Pointer to the Quest object that was completed by the player.
  - name: param2
    description: Integer value representing the quest reward index or identifier,
      typically used for selecting specific rewards from multiple options.
  - name: param3
    description: Unsigned 32-bit integer representing the quest ID associated with
      the completed quest.
  returns: null
  examples:
  - title: Basic Quest Reward Handler
    code: "class MyGameObjectAI : public GameObjectAI {\npublic:\n    void OnQuestReward(Player*\
      \ player, const Quest* quest, int rewardIndex, uint32 questId) override {\n\
      \        // Spawn an NPC upon quest completion\n        if (questId == 12345)\
      \ {\n            GetGameObject()->SummonCreature(1234, player->GetPositionX(),\
      \ player->GetPositionY(), player->GetPositionZ(), 0);\n        }\n    }\n};"
    language: cpp
  - title: Conditional Quest Reward Logic
    code: "class ConditionalQuestAI : public GameObjectAI {\npublic:\n    void OnQuestReward(Player*\
      \ player, const Quest* quest, int rewardIndex, uint32 questId) override {\n\
      \        if (questId == 54321 && rewardIndex == 0) {\n            // Grant special\
      \ item only for first reward option\n            player->AddItem(98765, 1);\n\
      \        } else if (questId == 54321 && rewardIndex == 1) {\n            //\
      \ Apply buff or effect for second reward option\n            player->CastSpell(player,\
      \ 12345, true);\n        }\n    }\n};"
    language: cpp
  notes: This method is part of the GameObjectAI base class and must be overridden
    in derived classes to implement custom behavior. It's important to note that this
    function is called during the quest reward process, so any modifications to the
    player's state or inventory should be done carefully to avoid conflicts with the
    normal quest reward flow.
  warnings: Do not modify the quest data directly within this method as it may lead
    to unexpected behavior. Also, ensure that any summoned creatures or game objects
    are properly managed to prevent memory leaks or orphaned entities.
  related:
  - OnQuestAccept
  - OnGossipHello
  - OnQuestComplete
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T13:56:13.996922'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
