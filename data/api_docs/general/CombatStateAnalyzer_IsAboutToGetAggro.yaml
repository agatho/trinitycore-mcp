api:
  class: CombatStateAnalyzer
  method: IsAboutToGetAggro
  signature: bool CombatStateAnalyzer::IsAboutToGetAggro() const
documentation:
  brief: Determines if the current unit is about to receive aggro from a target.
  description: The IsAboutToGetAggro method evaluates whether the unit associated
    with this CombatStateAnalyzer instance is likely to be targeted by an enemy unit
    in the near future. This determination is based on various combat-related factors
    such as threat levels, distance, and combat state transitions. The method is typically
    used within AI logic to anticipate and prepare for incoming aggro, allowing units
    to perform defensive actions or reposition before being pulled into combat. It
    does not directly trigger aggro but serves as a predictive indicator for combat
    management.
  parameters: []
  returns: Returns true if the unit is likely to receive aggro from its current target
    within a short timeframe; otherwise returns false. The result considers factors
    like threat generation, proximity, and combat readiness states.
  examples:
  - title: Basic Usage in AI Logic
    code: "if (analyzer.IsAboutToGetAggro()) {\n    // Prepare for incoming aggro\n\
      \    unit->CastSpell(target, SPELL_DEFENSIVE_STANCE);\n}"
    language: cpp
  - title: Combat State Management
    code: "if (analyzer.IsAboutToGetAggro() && !unit->HasUnitState(UNIT_STATE_CASTING))\
      \ {\n    // Avoid casting spells that may increase threat\n    unit->SetReactState(REACT_PASSIVE);\n\
      }"
    language: cpp
  notes: This method relies on internal combat state tracking and may not be accurate
    if the combat system has not fully initialized or if units are in an unusual state.
    It should be called frequently during combat updates to maintain accuracy.
  warnings: The method's result can change rapidly during active combat, so it should
    not be used as a definitive indicator for long-term planning. Always verify current
    combat status before taking action based on this result.
  related:
  - GetAggroTarget
  - IsInCombat
  - GetThreatLevel
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T19:03:43.772982'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
