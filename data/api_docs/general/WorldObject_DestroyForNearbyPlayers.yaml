api:
  class: WorldObject
  method: DestroyForNearbyPlayers
  signature: void WorldObject::DestroyForNearbyPlayers()
documentation:
  brief: Removes the object from the visibility list of nearby players, making it
    no longer visible to them.
  description: The DestroyForNearbyPlayers method is used to remove a WorldObject
    from the visibility set of all players within its current map. This typically
    occurs when an object is being destroyed or removed from the game world, ensuring
    that nearby players no longer see it. The method iterates through all players
    in the object's associated map and sends appropriate destroy packets to their
    clients. It is commonly used for temporary objects, projectiles, or any entity
    that should vanish from player sight without being fully deleted from memory.
    This operation does not immediately delete the object but rather removes it from
    the visibility range of nearby players.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage
    code: 'WorldObject* object = ...;

      object->DestroyForNearbyPlayers();'
    language: cpp
  - title: Usage in Projectile Destruction
    code: "void Fireball::OnImpact()\n{\n    // Do damage\n    DoDamage();\n    \n\
      \    // Remove from nearby players' visibility\n    DestroyForNearbyPlayers();\n\
      \    \n    // Mark for deletion\n    AddObjectToRemoveList();\n}"
    language: cpp
  notes: This method only affects the visibility of the object to nearby players.
    It does not free memory or destroy the object itself. The actual removal from
    memory is handled separately, typically by adding the object to a removal list
    that gets processed during the next update cycle. This method should be called
    before any destruction logic to ensure smooth client-side updates.
  warnings: Calling this method on an object that has already been destroyed or removed
    may cause undefined behavior. Always verify that the object is still valid before
    calling this method. Additionally, since this method affects network visibility,
    it should not be used in performance-critical sections of code where frequent
    calls could impact server performance.
  related:
  - AddObjectToRemoveList
  - SendDestroyUpdate
  - IsInWorld
  - GetMap
metadata:
  confidence: 0.95
  generated_at: '2025-10-29T16:11:52.283721'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
