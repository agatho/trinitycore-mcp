api:
  class: LoSMetrics
  method: GetCacheHitRate
  signature: float LoSMetrics::GetCacheHitRate() const
documentation:
  brief: Calculates and returns the cache hit rate percentage for line-of-sight (LoS)
    calculations within the TrinityCore instance.
  description: The GetCacheHitRate method computes the ratio of successful cached
    line-of-sight queries to the total number of line-of-sight requests made during
    a given period. This metric is crucial for evaluating the efficiency of the LoS
    system's caching mechanism, which helps reduce redundant calculations in complex
    environments with many objects. The returned value represents a percentage indicating
    how often the system was able to retrieve precomputed results rather than performing
    new computations. This method typically aggregates data from internal counters
    maintained by the LoSMetrics class and provides an instantaneous snapshot of cache
    performance.
  parameters: []
  returns: A float value representing the cache hit rate as a percentage (0.0 to 100.0).
    A higher value indicates better cache utilization, while lower values may suggest
    that the system is frequently recalculating line-of-sight data instead of reusing
    cached results.
  examples:
  - title: Basic Usage
    code: 'float hitRate = instance->GetCacheHitRate();

      printf("Line-of-sight cache hit rate: %.2f%%\n", hitRate);'
    language: cpp
  - title: Monitoring Performance
    code: "LoSMetrics* metrics = sWorld->GetLoSMetrics();\nif (metrics)\n{\n    float\
      \ rate = metrics->GetCacheHitRate();\n    if (rate < 70.0f)\n    {\n       \
      \ sLog->outInfo(LOG_FILTER_GENERAL, \"Warning: Low LoS cache hit rate (%.1f%%)\
      \ detected.\", rate);\n    }\n}"
    language: cpp
  notes: This method is typically used for performance monitoring and debugging purposes.
    The cache hit rate may vary significantly based on world object density, terrain
    complexity, and the frequency of line-of-sight checks performed by AI systems
    or spell effects. The value returned is not thread-safe and should be accessed
    with appropriate synchronization if called from multiple threads.
  warnings: The method does not account for time-based decay or cache invalidation
    events that may occur during runtime. In high-traffic scenarios, frequent calls
    to this method might introduce minor overhead due to internal counter aggregation.
    Additionally, the returned value reflects only cached results since the last reset
    of internal metrics.
  related:
  - GetCacheMissRate
  - ResetMetrics
  - GetTotalRaycasts
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T16:43:00.817037'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
