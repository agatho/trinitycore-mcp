api:
  class: BattlegroundMgr
  method: BuildBattlegroundStatusHeader
  signature: void BattlegroundMgr::BuildBattlegroundStatusHeader(WorldPackets::Battleground::BattlefieldStatusHeader
    * header, const Player * player, uint32 ticketId, uint32 joinTime, int queueId)
documentation:
  brief: Populates a BattlefieldStatusHeader packet with battleground queue information
    for a player.
  description: The BuildBattlegroundStatusHeader method constructs and fills a BattlefieldStatusHeader
    packet that contains essential information about a player's current battleground
    queue status. This includes details such as the ticket ID, join time, and queue
    identifier. The method is typically used when sending battleground queue status
    updates to players, allowing them to see their position in the queue and related
    timing information. It serves as part of the core battleground matchmaking system,
    ensuring that players receive accurate and timely information about their queue
    participation.
  parameters:
  - name: header
    description: Pointer to a BattlefieldStatusHeader packet object that will be populated
      with battleground queue information.
  - name: player
    description: Pointer to the Player object for whom the battleground status header
      is being built. Used to determine player-specific queue details.
  - name: ticketId
    description: Unique identifier for the battleground queue ticket assigned to the
      player. This ID is used to track and manage the player's position in the queue.
  - name: joinTime
    description: Timestamp indicating when the player joined the battleground queue,
      measured in seconds since epoch.
  - name: queueId
    description: Identifier for the specific battleground queue the player is participating
      in. Negative values may indicate a non-queue status or special queue types.
  returns: No return value. The method modifies the provided header packet directly.
  examples:
  - title: Basic Usage Example
    code: 'WorldPackets::Battleground::BattlefieldStatusHeader header;

      Player* player = ...; // Assume valid player pointer

      uint32 ticketId = 12345;

      uint32 joinTime = time(nullptr);

      int queueId = 0;

      BattlegroundMgr::BuildBattlegroundStatusHeader(&header, player, ticketId, joinTime,
      queueId);

      player->SendDirectMessage(header);'
    language: cpp
  notes: This method is part of the battleground queue management system and should
    only be called when a player's queue status needs to be updated or communicated.
    The header packet must be properly initialized before calling this method. Performance-wise,
    this method is lightweight as it only populates pre-existing fields without complex
    computations.
  warnings: Ensure that the player pointer is valid and not null before calling this
    method. Passing invalid or uninitialized header objects may lead to undefined
    behavior. The queueId parameter should be validated to ensure it corresponds to
    a known battleground queue type.
  related:
  - BattlegroundMgr::BuildBattlegroundStatus
  - BattlegroundMgr::AddPlayerToBattlegroundQueue
  - BattlegroundMgr::RemovePlayerFromBattlegroundQueue
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T12:37:39.208961'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
