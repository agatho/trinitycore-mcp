api:
  class: WorldSession
  method: HandleSetSheathedOpcode
  signature: void WorldSession::HandleSetSheathedOpcode(WorldPackets::Combat::SetSheathed
    & packet)
documentation:
  brief: Processes a client packet to set the sheathed state of the player's weapon
  description: The HandleSetSheathedOpcode method handles the SetSheathed opcode sent
    by the client, which allows players to switch between different weapon sheathing
    states. This method updates the player's sheathed state based on the provided
    packet data and synchronizes it with the server-side state. The sheathed state
    affects how the player's weapon appears in combat and can influence certain gameplay
    mechanics such as attack animations and visual effects. This method is part of
    the combat-related packet handling system within WorldSession.
  parameters:
  - name: packet
    description: A reference to the WorldPackets::Combat::SetSheathed packet containing
      the sheathed state information sent by the client
  returns: null
  examples:
  - title: Basic usage in packet handling
    code: "void WorldSession::HandleSetSheathedOpcode(WorldPackets::Combat::SetSheathed&\
      \ packet)\n{\n    Player* player = GetPlayer();\n    if (!player)\n        return;\n\
      \    \n    player->SetSheathState(packet.SheathedState);\n    SendPacket(packet.Write());\n\
      }"
    language: cpp
  notes: This method is typically called from the main packet processing loop when
    a SetSheathed packet is received. The sheathed state affects visual appearance
    and certain combat animations, but does not change the player's actual weapon
    availability or damage output.
  warnings: null
  related:
  - GetSheathState
  - SetSheathState
  - SendSheathStateChange
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T19:13:14.586766'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
