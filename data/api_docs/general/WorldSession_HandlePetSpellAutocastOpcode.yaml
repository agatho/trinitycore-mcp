api:
  class: WorldSession
  method: HandlePetSpellAutocastOpcode
  signature: void WorldSession::HandlePetSpellAutocastOpcode(WorldPackets::Pet::PetSpellAutocast
    & packet)
documentation:
  brief: Toggles autocast behavior for a pet's spell based on the provided packet
    data.
  description: The HandlePetSpellAutocastOpcode method processes incoming client packets
    to enable or disable autocast functionality for a pet's spell. This method is
    invoked when a player sends a request to modify the autocast state of a specific
    spell that their pet can cast. It updates the pet's spell autocast settings within
    the session context, ensuring that the client and server remain synchronized regarding
    which spells should automatically be cast without manual intervention. The method
    typically operates in response to user interaction with the pet's spellbook UI
    or command interface.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage
    code: "void WorldSession::HandlePetSpellAutocastOpcode(WorldPackets::Pet::PetSpellAutocast&\
      \ packet)\n{\n    // Process the autocast toggle for the specified pet spell\n\
      \    if (Player* player = GetPlayer())\n    {\n        if (Creature* pet = player->GetPet())\n\
      \        {\n            pet->SetSpellAutocast(packet.SpellID, packet.IsAutocast);\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method assumes that the session has an active player with a valid pet.
    It directly modifies the pet's internal spell autocast state and does not perform
    any validation beyond basic packet parsing.
  warnings: Improper handling of this opcode may lead to desynchronization between
    client and server, causing unexpected behavior in pet spell casting or UI updates.
    Ensure that all incoming packet data is validated before applying changes.
  related:
  - HandlePetSpellAutocast
  - SetSpellAutocast
  - GetPet
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:14:59.774508'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
