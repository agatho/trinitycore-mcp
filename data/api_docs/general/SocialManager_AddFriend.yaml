api:
  class: SocialManager
  method: AddFriend
  signature: bool SocialManager::AddFriend(int playerGuid, const std::string & note)
documentation:
  brief: Adds a player to the friend list with an optional note.
  description: The AddFriend method attempts to add a specified player to the current
    player's friend list within the World of Warcraft social system. It takes a player
    GUID and an optional note that can be displayed alongside the friend in the client
    interface. The method performs validation checks such as ensuring the target player
    exists, verifying the player is not already on the friend list, and checking for
    valid note length constraints. This function is typically invoked when a player
    sends a friend request or when a friendship is accepted through the social interface.
  parameters:
  - name: playerGuid
    description: The unique identifier (GUID) of the player to be added as a friend.
      Must correspond to an existing character in the database.
  - name: note
    description: An optional note string that can be associated with the friend entry.
      This note is displayed in the client's friend list interface. Maximum length
      typically constrained by game client limitations.
  returns: Returns true if the friend was successfully added to the player's friend
    list, or false if the operation failed due to validation errors such as invalid
    GUID, duplicate friend entry, or note length violation.
  examples:
  - title: Basic Friend Addition
    code: "SocialManager* socialMgr = player->GetSocial();\nbool result = socialMgr->AddFriend(123456,\
      \ \"Best guild mate\");\nif (result) {\n    // Friend added successfully\n}\
      \ else {\n    // Failed to add friend\n}"
    language: cpp
  - title: Adding Friend Without Note
    code: "SocialManager* socialMgr = player->GetSocial();\nbool result = socialMgr->AddFriend(789012,\
      \ \"\"); // Empty note\nif (result) {\n    // Friend added with no note\n}"
    language: cpp
  notes: This method interacts with the database to persist friend relationships.
    It may trigger client-side updates to notify the player of successful additions.
    The implementation includes checks for maximum friend list size limits and ensures
    data integrity by validating the GUID against existing players in the world.
  warnings: Attempting to add a player that does not exist (invalid GUID) will result
    in failure. Repeatedly adding the same player will also return false due to duplicate
    detection. Ensure proper error handling when calling this method as it may silently
    fail without explicit error messages.
  related:
  - RemoveFriend
  - GetFriendList
  - SetFriendNote
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T19:22:50.793686'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
