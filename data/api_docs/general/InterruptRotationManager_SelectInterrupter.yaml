api:
  class: InterruptRotationManager
  method: SelectInterrupter
  signature: int InterruptRotationManager::SelectInterrupter(Unit * caster, uint32
    spellId)
documentation:
  brief: Selects the most appropriate interrupter unit for casting a specified spell
    based on available targets and combat state.
  description: The SelectInterrupter method determines which unit from the available
    targets should be selected to cast an interrupting spell. This method evaluates
    various factors such as target validity, spell requirements, and combat readiness
    to make this decision. It is primarily used in AI logic for managing spell casting
    priorities during combat situations where interruption of enemy actions is necessary.
    The method returns a unique identifier representing the chosen interrupter unit
    or -1 if no suitable candidate is found.
  parameters:
  - name: caster
    description: Pointer to the Unit object that will be casting the interrupting
      spell. Must not be null.
  - name: spellId
    description: The ID of the spell being cast for interruption purposes. Used to
      validate target eligibility and spell requirements.
  returns: Returns an integer representing the GUID of the selected interrupter unit,
    or -1 if no valid interrupter could be found.
  examples:
  - title: Basic Usage Example
    code: "Unit* myCaster = ...;\nuint32 interruptSpellId = 1766;\nint interrupterGuid\
      \ = rotationManager.SelectInterrupter(myCaster, interruptSpellId);\nif (interrupterGuid\
      \ != -1) {\n    // Proceed with interrupting the target\n}"
    language: cpp
  - title: Advanced Usage with Error Handling
    code: "Unit* player = ...;\nuint32 spellId = 2139;\nint result = rotationManager.SelectInterrupter(player,\
      \ spellId);\nif (result == -1) {\n    // No valid interrupter found\n    //\
      \ Handle fallback logic here\n} else {\n    Unit* target = ObjectAccessor::GetUnit(*player,\
      \ result);\n    if (target && target->IsInWorld()) {\n        // Execute interrupt\
      \ action\n    }\n}"
    language: cpp
  notes: This method assumes that the caster unit has access to a valid list of potential
    targets within its detection range. The implementation may vary depending on the
    specific AI behavior defined for the interrupting spell. Performance is optimized
    by caching target lists and avoiding redundant checks.
  warnings: Ensure that the caster parameter is not null before calling this method,
    as passing a null pointer will likely result in undefined behavior or crashes.
    Also, be aware that the returned GUID should always be validated against the current
    world state to ensure the target still exists and is valid for casting.
  related:
  - InterruptRotationManager::GetInterruptTargets
  - InterruptRotationManager::IsInterruptValid
  - InterruptRotationManager::CastInterruptSpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T04:51:36.135442'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
