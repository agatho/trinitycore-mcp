api:
  class: StoredLootContainer
  method: AddLootItem
  signature: void StoredLootContainer::AddLootItem(const LootItem & lootItem, int
    trans)
documentation:
  brief: Adds a loot item to the stored loot container with optional transaction handling.
  description: The AddLootItem method is responsible for inserting a LootItem into
    the StoredLootContainer. This method manages the internal storage of loot items
    that are generated during creature kills or other game events. The trans parameter
    allows for optional transaction handling, which can be used to group multiple
    loot additions together for atomic operations. The method ensures proper insertion
    and management of loot data within the container's internal structure. This functionality
    is crucial for maintaining accurate loot distribution in World of Warcraft's loot
    system.
  parameters:
  - name: lootItem
    description: A const reference to a LootItem object containing the loot data to
      be added. This includes item information, chance, and other loot properties.
  - name: trans
    description: An integer representing the transaction identifier. Used for grouping
      related loot additions together. A value of 0 typically indicates no transaction
      handling.
  returns: null
  examples:
  - title: Basic Usage
    code: 'LootItem item;

      item.itemid = 12345;

      item.count = 1;

      item.chance = 100.0f;

      storedLootContainer.AddLootItem(item, 0);'
    language: cpp
  - title: Transaction Grouping
    code: 'LootItem item1, item2;

      item1.itemid = 12345;

      item1.count = 1;

      item2.itemid = 67890;

      item2.count = 2;

      int transactionId = 1234;

      storedLootContainer.AddLootItem(item1, transactionId);

      storedLootContainer.AddLootItem(item2, transactionId);'
    language: cpp
  notes: This method is typically called during creature loot generation or when items
    are added to a player's loot window. The transaction parameter allows for batch
    processing of loot additions which can improve performance by reducing database
    operations. The method assumes the LootItem has been properly initialized with
    valid data before being passed in.
  warnings: Ensure that the LootItem object passed to this method is properly initialized
    and contains valid data. Passing uninitialized or corrupted LootItem objects may
    lead to undefined behavior or incorrect loot distribution. Be cautious when using
    transaction IDs, as improper usage can cause loot items to be grouped incorrectly
    or lost during processing.
  related:
  - GetLootItem
  - RemoveLootItem
  - ClearLootItems
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T21:34:34.403585'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
