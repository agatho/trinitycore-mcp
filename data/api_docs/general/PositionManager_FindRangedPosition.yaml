api:
  class: PositionManager
  method: FindRangedPosition
  signature: int PositionManager::FindRangedPosition(Unit * target, float preferredRange)
documentation:
  brief: Calculates and returns a suitable ranged position for a unit relative to
    a target within a preferred distance range.
  description: The FindRangedPosition method determines an appropriate location for
    a unit to move to in order to maintain a specified ranged distance from a target
    unit. This method is typically used by AI-controlled creatures or players to optimize
    positioning during ranged combat scenarios. It evaluates the current position
    of the target, calculates a valid position at or near the preferred range, and
    returns a status code indicating success or failure of the operation. The method
    considers factors such as terrain, obstacles, and unit movement capabilities when
    determining the final position.
  parameters:
  - name: target
    description: Pointer to the target Unit that the positioning calculation is based
      on. This parameter must not be null and should represent a valid game object
      in the world.
  - name: preferredRange
    description: The desired distance from the target unit. This value defines the
      minimum range at which the unit should position itself for optimal ranged combat
      effectiveness.
  returns: Returns an integer status code indicating the success or failure of the
    positioning calculation. A return value of 0 typically indicates success, while
    negative values may indicate various error conditions such as invalid parameters,
    inability to find a valid position, or target unavailability.
  examples:
  - title: Basic usage for AI unit positioning
    code: "Unit* enemy = ...;\nfloat range = 20.0f;\nint result = positionManager->FindRangedPosition(enemy,\
      \ range);\nif (result == 0) {\n    // Positioning successful, proceed with movement\n\
      }"
    language: cpp
  - title: Using FindRangedPosition in combat AI logic
    code: "void CombatAI::Update()\n{\n    if (Unit* target = GetTarget())\n    {\n\
      \        float preferredDistance = 30.0f;\n        int positionResult = m_positionManager->FindRangedPosition(target,\
      \ preferredDistance);\n        \n        if (positionResult == 0)\n        {\n\
      \            // Move to calculated ranged position\n            MoveToRangedPosition();\n\
      \        }\n        else\n        {\n            // Fallback behavior when positioning\
      \ fails\n            AttackTarget();\n        }\n    }\n}"
    language: cpp
  notes: This method is primarily used in AI systems for positioning units during
    ranged combat. The implementation may vary depending on the specific unit type
    and its movement capabilities. Performance considerations include pathfinding
    calculations which can be intensive when dealing with complex terrain or multiple
    obstacles.
  warnings: Ensure that the target pointer is valid before calling this method, as
    passing a null pointer will likely result in undefined behavior. The preferredRange
    parameter should be within reasonable bounds to avoid impossible positioning scenarios.
  related:
  - GetRangedPosition
  - CalculateDistanceToTarget
  - IsInRange
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T00:32:07.666802'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
