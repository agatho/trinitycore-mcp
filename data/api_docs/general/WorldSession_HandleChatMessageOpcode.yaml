api:
  class: WorldSession
  method: HandleChatMessageOpcode
  signature: void WorldSession::HandleChatMessageOpcode(WorldPackets::Chat::ChatMessage
    & chatMessage)
documentation:
  brief: Processes incoming chat messages from players in the World of Warcraft client
  description: The HandleChatMessageOpcode method is responsible for handling chat
    message packets sent by players from the World of Warcraft client. It processes
    various types of chat messages including general, guild, party, raid, and whisper
    communications. The method validates the message content, checks for spam or inappropriate
    language, and routes the message to the appropriate recipients based on the chat
    type. This function is a core part of the game's communication system and ensures
    proper message delivery while enforcing server-side chat rules and restrictions.
  parameters:
  - name: chatMessage
    description: The incoming chat message packet containing the message content,
      type, target information, and other relevant metadata from the client
  returns: null
  examples:
  - title: Basic chat message handling
    code: "void WorldSession::HandleChatMessageOpcode(WorldPackets::Chat::ChatMessage&\
      \ chatMessage)\n{\n    // Validate message content\n    if (chatMessage.Message.empty()\
      \ || chatMessage.Message.length() > MAX_CHAT_MESSAGE_LENGTH)\n        return;\n\
      \    \n    // Process different chat types\n    switch (chatMessage.Type)\n\
      \    {\n        case CHAT_MSG_SAY:\n            SendChatMessageToAll(chatMessage);\n\
      \            break;\n        case CHAT_MSG_WHISPER:\n            SendWhisperMessage(chatMessage);\n\
      \            break;\n        default:\n            break;\n    }\n}"
    language: cpp
  notes: This method is called from the main packet handling loop and should not block
    for extended periods. The method performs basic validation on chat messages but
    relies on other systems for advanced filtering and moderation. It's important
    to note that this method doesn't directly send responses back to clients - it
    processes the message and delegates appropriate actions.
  warnings: Improper handling of chat messages can lead to security vulnerabilities
    or performance issues. The method assumes proper packet validation has already
    occurred at a lower level. Developers should ensure all message processing respects
    server-side restrictions and does not expose sensitive information.
  related:
  - SendChatMessageToAll
  - SendWhisperMessage
  - ValidateChatMessage
  - HandleChatMessage
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T22:28:38.641860'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
