api:
  class: ReputationMgr
  method: GetFactionDataIndexForRaceAndClass
  signature: int32 ReputationMgr::GetFactionDataIndexForRaceAndClass(const FactionEntry
    * factionEntry) const
documentation:
  brief: Retrieves the faction data index for a given faction entry based on race
    and class.
  description: The GetFactionDataIndexForRaceAndClass method determines the appropriate
    faction data index for a specified faction entry by evaluating the player's race
    and class. This is used internally by the reputation system to map faction entries
    to specific data structures that contain reputation-related information such as
    standing thresholds, rewards, and modifiers. The method ensures that each faction
    entry is correctly associated with the relevant data based on character-specific
    attributes like race and class, which can affect how reputation is calculated
    or displayed for that faction. This functionality is essential for maintaining
    proper faction behavior in World of Warcraft's complex reputation system.
  parameters: []
  returns: Returns an int32 representing the index into the faction data array for
    the given faction entry. A negative value typically indicates an error or invalid
    faction, while a non-negative value corresponds to a valid index in the faction
    data structure.
  examples:
  - title: Basic Usage
    code: "const FactionEntry* faction = sFactionStore.LookupEntry(1234);\nint32 index\
      \ = reputationMgr->GetFactionDataIndexForRaceAndClass(faction);\nif (index >=\
      \ 0)\n{\n    // Use the index to access faction data\n    printf(\"Faction data\
      \ index: %d\\n\", index);\n}"
    language: cpp
  notes: This method is typically used internally by the reputation system and may
    rely on player-specific context such as race and class. It's important to note
    that faction data indices are not static and can vary based on the current player
    state. The method assumes that the faction entry passed in is valid and exists
    in the game's faction database.
  warnings: Do not call this method with a null faction entry, as it may lead to undefined
    behavior or crashes. Ensure that the faction entry has been properly validated
    before passing it to this method. Also, be aware that the returned index might
    change depending on the current player's race and class, so caching the result
    without considering context could lead to incorrect behavior.
  related:
  - GetReputation
  - SetReputation
  - GetFactionStanding
  - IsAtWar
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T04:00:20.326497'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
