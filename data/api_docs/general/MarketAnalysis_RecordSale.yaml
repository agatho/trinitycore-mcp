api:
  class: MarketAnalysis
  method: RecordSale
  signature: void MarketAnalysis::RecordSale(uint32 itemId, uint32 price, uint32 quantity,
    uint32 sellTime)
documentation:
  brief: Records a sale transaction for an item in the market analysis system.
  description: The RecordSale method logs a completed sale event into the market analysis
    database, capturing essential details such as the item ID, sale price, quantity
    sold, and timestamp. This function is typically invoked when a player successfully
    sells an item through the auction house or vendor system. The method ensures that
    all relevant transaction data is stored for future market trend analysis and economic
    modeling within the game world.
  parameters:
  - name: itemId
    description: The unique identifier of the item being sold. Must correspond to
      a valid entry in the item template database.
  - name: price
    description: The final sale price of the item in copper coins. Represents the
      total value of the transaction.
  - name: quantity
    description: The number of items sold in this transaction. Must be a positive
      integer greater than zero.
  - name: sellTime
    description: The Unix timestamp indicating when the sale occurred. Used for time-based
      market analysis and trend tracking.
  returns: null
  examples:
  - title: Basic Sale Recording
    code: MarketAnalysis::RecordSale(18732, 50000, 1, time(nullptr));
    language: cpp
  - title: Bulk Item Sale Recording
    code: 'uint32 itemId = 34567;

      uint32 price = 250000;

      uint32 quantity = 5;

      uint32 sellTime = time(nullptr) - 3600; // One hour ago

      MarketAnalysis::RecordSale(itemId, price, quantity, sellTime);'
    language: cpp
  notes: This method is designed to be thread-safe and should not block the main game
    loop. It may internally use database transactions or caching mechanisms to ensure
    data consistency across multiple concurrent sales.
  warnings: Ensure that all parameters are validated before calling this method, especially
    itemId and quantity, as invalid values could lead to corrupted market data or
    database errors.
  related:
  - GetMarketTrend
  - GetItemSalesHistory
  - CalculateAveragePrice
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T08:49:33.451356'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
