api:
  class: SpellMgr
  method: GetSpellTargetPosition
  signature: const int * SpellMgr::GetSpellTargetPosition(uint32 spell_id, int effIndex)
    const
documentation:
  brief: Retrieves the target position coordinates for a specified spell and effect
    index.
  description: The GetSpellTargetPosition method retrieves the target position coordinates
    (X, Y, Z) for a given spell ID and effect index. This function is commonly used
    in spell processing to determine where a spell should be cast or where its effects
    should be applied. The returned pointer points to an array of three integers representing
    the X, Y, and Z coordinates respectively. The method returns NULL if no target
    position data exists for the specified spell and effect index.
  parameters:
  - name: spell_id
    description: The unique identifier of the spell for which to retrieve target position
      data
  - name: effIndex
    description: The effect index of the spell for which to retrieve target position
      data (typically 0-2 for main effects)
  returns: A const pointer to an array of three integers representing X, Y, and Z
    coordinates respectively. Returns NULL if no target position data is found for
    the specified spell and effect index.
  examples:
  - title: Basic usage to retrieve spell target position
    code: "const int* pos = sSpellMgr->GetSpellTargetPosition(12345, 0);\nif (pos)\n\
      {\n    float x = pos[0];\n    float y = pos[1];\n    float z = pos[2];\n   \
      \ // Use the coordinates for spell targeting\n}"
    language: cpp
  - title: Using target position in spell effect handling
    code: "SpellInfo const* spellInfo = sSpellMgr->GetSpellInfo(98765);\nif (spellInfo)\n\
      {\n    const int* targetPos = sSpellMgr->GetSpellTargetPosition(98765, 0);\n\
      \    if (targetPos)\n    {\n        Position targetPosObj(targetPos[0], targetPos[1],\
      \ targetPos[2]);\n        // Apply spell effect at the target position\n   \
      \ }\n}"
    language: cpp
  notes: The returned integer array contains raw coordinate values that may need conversion
    to float coordinates depending on the context. The method is thread-safe as it
    only reads from static spell data structures. Performance is generally fast since
    it's a lookup operation in internal spell databases.
  warnings: Always check for NULL return values before dereferencing the returned
    pointer. The integer coordinates should be converted to appropriate floating-point
    values when used for positioning calculations in game world coordinates. Incorrect
    effect index values may lead to invalid position data being retrieved.
  related:
  - GetSpellInfo
  - GetSpellEffect
  - GetSpellTargetLocation
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T06:13:18.145166'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
