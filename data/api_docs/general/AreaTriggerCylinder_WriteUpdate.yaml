api:
  class: AreaTriggerCylinder
  method: WriteUpdate
  signature: void AreaTriggerCylinder::WriteUpdate(ByteBuffer & data, bool ignoreChangesMask,
    const AreaTrigger * owner, const Player * receiver) const
documentation:
  brief: Serializes area trigger cylinder data into a byte buffer for network transmission
    to a specific player.
  description: The WriteUpdate method serializes the state of an AreaTriggerCylinder
    object into a ByteBuffer, which is then sent over the network to update client-side
    visuals and behavior for a specific player. This method is typically invoked during
    packet construction for area trigger updates, ensuring that the client receives
    accurate information about the cylinder's properties such as position, radius,
    height, and other relevant attributes. The serialization process respects change
    masks and can optionally ignore them based on the ignoreChangesMask parameter.
    It is primarily used in TrinityCore's World of Warcraft server implementation
    to synchronize area trigger states between server and client.
  parameters:
  - name: data
    description: The ByteBuffer object where serialized data will be written. This
      buffer is typically part of a larger packet being constructed for network transmission.
  - name: ignoreChangesMask
    description: Boolean flag indicating whether to ignore the change mask when serializing
      data. If true, all fields are written regardless of their changed status; if
      false, only changed fields are included based on the internal change mask.
  - name: owner
    description: Pointer to the AreaTrigger object that owns this cylinder. This parameter
      provides context for the update and may be used to determine what data needs
      to be serialized or how to interpret certain values.
  - name: receiver
    description: Pointer to the Player object who will receive this update. Used to
      determine player-specific properties or to apply any necessary filtering based
      on the receiver's state or visibility settings.
  returns: null
  examples:
  - title: Basic usage in packet construction
    code: 'ByteBuffer data;

      AreaTriggerCylinder cylinder;

      Player* player = ...;

      AreaTrigger* trigger = ...;

      cylinder.WriteUpdate(data, false, trigger, player);

      // ''data'' now contains serialized cylinder information for the player'
    language: cpp
  - title: Forcing full serialization regardless of change mask
    code: 'ByteBuffer data;

      AreaTriggerCylinder cylinder;

      Player* player = ...;

      AreaTrigger* trigger = ...;

      cylinder.WriteUpdate(data, true, trigger, player);

      // All fields are written to the buffer, ignoring any change tracking'
    language: cpp
  notes: This method is part of TrinityCore's internal networking system and should
    not be called directly from outside core systems. The serialization logic depends
    heavily on the internal change tracking mechanisms of AreaTriggerCylinder objects.
    Performance considerations include avoiding unnecessary full serializations when
    only partial updates are needed.
  warnings: Incorrect use of the ignoreChangesMask parameter can lead to excessive
    bandwidth usage or incorrect client state updates. Ensure that the owner and receiver
    parameters are valid pointers, as dereferencing invalid pointers will cause crashes.
  related:
  - AreaTriggerCylinder::Update
  - AreaTriggerCylinder::BuildUpdateData
  - AreaTriggerCylinder::GetChangeMask
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T09:26:47.594433'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
