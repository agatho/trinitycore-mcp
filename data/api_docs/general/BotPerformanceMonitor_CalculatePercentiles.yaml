api:
  class: BotPerformanceMonitor
  method: CalculatePercentiles
  signature: void BotPerformanceMonitor::CalculatePercentiles(MetricType type)
documentation:
  brief: Calculates and updates performance percentiles for specified bot metrics.
  description: The CalculatePercentiles method computes statistical percentiles (such
    as median, 90th percentile, etc.) for a given metric type across all tracked bot
    performances. This method is typically invoked periodically to maintain up-to-date
    performance statistics that can be used for monitoring, optimization, and reporting
    purposes within the TrinityCore framework. The calculated percentiles help identify
    bottlenecks and performance trends in bot behavior, which is essential for maintaining
    server stability and player experience quality.
  parameters: []
  returns: null
  examples:
  - title: Calculate Percentiles for CPU Usage
    code: 'BotPerformanceMonitor monitor;

      monitor.CalculatePercentiles(MetricType::CPU_USAGE);'
    language: cpp
  notes: This method assumes that performance data has already been collected and
    stored in internal buffers. It is designed to be thread-safe and should not be
    called concurrently with other methods that modify the same metric data. The percentile
    calculations are performed using a sorted array approach for efficiency.
  warnings: Calling this method without prior data collection may result in inaccurate
    or empty percentile results. Ensure that all relevant bot performance metrics
    have been recorded before invoking this function to avoid misleading statistical
    analysis.
  related:
  - GetPercentile
  - RecordMetric
  - ResetMetrics
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T07:57:55.090413'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
