api:
  class: FeralDruidRefactored
  method: UpdateRotation
  signature: void FeralDruidRefactored::UpdateRotation(int * target)
documentation:
  brief: Updates the feral druid's combat rotation based on current target and spell
    availability
  description: The UpdateRotation method manages the core combat logic for a feral
    druid AI, determining the optimal sequence of abilities to cast based on the current
    target state, available mana, and cooldowns. This method evaluates whether to
    use melee attacks, shapeshifting, or specialized abilities like Ferocious Bite,
    Rake, or Shred. It ensures proper resource management and rotation efficiency
    while maintaining compliance with game mechanics such as combo point generation,
    spell priority, and combat stance requirements. The method typically integrates
    with the AI's decision-making framework to select actions that maximize damage
    output or survivability depending on the encounter context.
  parameters:
  - name: target
    description: Pointer to an integer representing the target's ID or index in the
      game world. This parameter is used to determine which enemy unit the druid should
      focus its rotation on.
  returns: null
  examples:
  - title: Basic Usage Example
    code: "void FeralDruidRefactored::UpdateRotation(int* target)\n{\n    if (!target\
      \ || *target <= 0) return;\n    // Logic to determine and execute next ability\
      \ in rotation\n    // Implementation details would follow here\n}"
    language: cpp
  - title: Integration with AI Framework
    code: "void FeralDruidRefactored::UpdateRotation(int* target)\n{\n    if (!target\
      \ || *target <= 0) return;\n    \n    Unit* unitTarget = ObjectAccessor::GetUnit(*m_owner,\
      \ *target);\n    if (!unitTarget || !unitTarget->IsAlive()) return;\n    \n\
      \    // Core rotation logic here\n    // e.g., check for combo points, mana\
      \ levels, cooldowns\n    // Execute appropriate abilities\n}"
    language: cpp
  notes: This method is part of the AI decision-making loop and should be called regularly
    during combat. It assumes that the target has been validated and is within range.
    The implementation may involve checking for specific buffs, debuffs, or player
    state conditions before executing any action.
  warnings: Improper handling of the target parameter can lead to undefined behavior
    or crashes. Ensure that the target pointer is valid and points to a live unit
    before calling this method. Avoid calling UpdateRotation outside of combat context
    unless explicitly designed for it.
  related:
  - FeralDruidRefactored::GetNextAbility
  - FeralDruidRefactored::CheckCooldowns
  - FeralDruidRefactored::IsInMeleeRange
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T04:49:16.872995'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
