api:
  class: PhaseShift
  method: AddUiMapPhaseId
  signature: bool PhaseShift::AddUiMapPhaseId(uint32 uiMapPhaseId, int32 references)
documentation:
  brief: Adds a UI map phase ID to the phase shift with optional reference counting.
  description: The AddUiMapPhaseId method is used to register a UI map phase identifier
    within a PhaseShift object. This functionality is typically employed in World
    of Warcraft's TrinityCore to manage visual and gameplay phases that affect user
    interfaces, such as quest tracking, world map overlays, or specific UI elements
    during certain events or zones. The method allows for reference counting through
    the 'references' parameter, which can be used to track how many times a particular
    phase is active or needed. If the phase ID already exists, the reference count
    may be incremented or handled according to internal logic. This method is part
    of the broader phase management system that ensures proper UI synchronization
    with game world states.
  parameters:
  - name: uiMapPhaseId
    description: The unique identifier for a UI map phase. This ID corresponds to
      a specific visual or gameplay state in the game's UI system, such as a quest
      phase or zone-specific overlay.
  - name: references
    description: An integer value representing the number of references to this UI
      map phase. If positive, it typically increments the reference count; if zero
      or negative, behavior depends on internal implementation logic.
  returns: Returns true if the UI map phase ID was successfully added or updated within
    the phase shift. Returns false if the operation failed due to invalid input, memory
    constraints, or other system limitations.
  examples:
  - title: Basic Usage
    code: "PhaseShift phaseShift;\nbool result = phaseShift.AddUiMapPhaseId(12345,\
      \ 1);\nif (result) {\n    // Phase ID successfully added\n}"
    language: cpp
  - title: Incrementing Reference Count
    code: 'PhaseShift phaseShift;

      // Assume phase ID 12345 is already present

      bool result = phaseShift.AddUiMapPhaseId(12345, 2);

      // This increases the reference count by 2 for phase ID 12345'
    language: cpp
  notes: This method is integral to managing UI state transitions in TrinityCore.
    It should be used carefully when dealing with multiple concurrent phases to avoid
    conflicts or incorrect reference counts. The internal handling of reference counting
    may vary depending on how the PhaseShift object is initialized and managed.
  warnings: Incorrect usage of the references parameter can lead to improper phase
    cleanup or UI artifacts. Always ensure that reference increments are matched with
    corresponding decrements when removing phases.
  related:
  - RemoveUiMapPhaseId
  - HasUiMapPhaseId
  - GetUiMapPhaseIds
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T06:21:37.971071'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
