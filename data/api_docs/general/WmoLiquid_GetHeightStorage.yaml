api:
  class: WmoLiquid
  method: GetHeightStorage
  signature: const float * WmoLiquid::GetHeightStorage() const
documentation:
  brief: Returns a pointer to the height data storage of the WMO liquid.
  description: The GetHeightStorage method provides access to the raw height data
    array that represents the liquid surface within a WMO (World Map Object) group.
    This data is typically used for collision detection, rendering, and water level
    calculations in the game world. The returned pointer points to an array of floating-point
    values that define the height at various points within the liquid's bounding box.
    The method does not perform any copying or transformation of the data; it simply
    returns a const pointer to the internal storage, making it efficient for read-only
    access. This is commonly used by the TrinityCore engine when processing WMO-based
    liquids such as water bodies or pools in outdoor zones.
  parameters: []
  returns: A const pointer to the beginning of the height data array stored within
    this WmoLiquid instance. The array contains floating-point values representing
    height levels at specific grid points. The caller must not modify the returned
    data, as it is owned and managed by the WmoLiquid object. Returns nullptr if no
    height data has been initialized or loaded.
  examples:
  - title: Accessing Height Data for Rendering
    code: "const float* heights = wmoLiquid->GetHeightStorage();\nif (heights != nullptr)\n\
      {\n    // Process height data for rendering or collision\n    for (int i = 0;\
      \ i < width * height; ++i)\n    {\n        float heightValue = heights[i];\n\
      \        // Use heightValue for vertex positioning or other logic\n    }\n}"
    language: cpp
  - title: Checking Liquid Height Data Validity
    code: "const WmoLiquid* liquid = map->GetWmoLiquid(0, 0);\nif (liquid != nullptr)\n\
      {\n    const float* heightData = liquid->GetHeightStorage();\n    if (heightData\
      \ != nullptr)\n    {\n        // Safe to use height data\n        float baseHeight\
      \ = *heightData;\n        // ... process further\n    }\n    else\n    {\n \
      \       // No valid height data available\n    }\n}"
    language: cpp
  notes: The returned pointer is only valid as long as the WmoLiquid object remains
    alive and unmodified. The internal storage format assumes a grid-based layout
    where each element corresponds to a specific spatial point in the liquid's area.
    The data should be treated as read-only, and any modification attempts may lead
    to undefined behavior or corruption of internal state.
  warnings: Do not attempt to free or delete the returned pointer, as it points to
    internal memory managed by the WmoLiquid object. Accessing elements beyond the
    allocated array bounds will result in memory access violations. Ensure that the
    WmoLiquid instance is properly initialized before calling this method.
  related:
  - GetLiquidType
  - GetArea
  - GetHeight
  - GetWidth
  - GetHeightMap
metadata:
  confidence: 0.95
  generated_at: '2025-11-03T15:33:22.988256'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
