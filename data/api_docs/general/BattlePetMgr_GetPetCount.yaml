api:
  class: BattlePetMgr
  method: GetPetCount
  signature: int BattlePetMgr::GetPetCount(const BattlePetSpeciesEntry * battlePetSpecies,
    int ownerGuid) const
documentation:
  brief: Retrieves the count of battle pets owned by a player for a specific species
  description: The GetPetCount method returns the number of battle pets of a given
    species that are currently owned by a specified player. This method is used in
    the context of World of Warcraft's Battle Pet system, where players can collect
    and manage various battle pet species. The method takes into account the player's
    GUID to identify the correct owner and filters the results based on the provided
    battle pet species entry. It provides a simple count that can be used for UI display,
    inventory management, or game logic decisions related to pet collection.
  parameters:
  - name: battlePetSpecies
    description: Pointer to the BattlePetSpeciesEntry structure defining the species
      of battle pets to count. Must not be null.
  - name: ownerGuid
    description: Integer representing the GUID (Global Unique Identifier) of the player
      who owns the battle pets. Used to filter results to only include pets belonging
      to this specific player.
  returns: An integer representing the number of battle pets of the specified species
    owned by the given player. Returns 0 if no such pets exist or if invalid parameters
    are provided.
  examples:
  - title: Basic Usage Example
    code: "BattlePetSpeciesEntry* species = sBattlePetSpeciesStore.LookupEntry(12345);\n\
      int count = battlePetMgr->GetPetCount(species, playerGuid);\nif (count > 0)\
      \ {\n    // Player has at least one pet of this species\n}"
    language: cpp
  - title: Checking Pet Availability for Trading
    code: "BattlePetSpeciesEntry* rareSpecies = sBattlePetSpeciesStore.LookupEntry(98765);\n\
      int playerCount = battlePetMgr->GetPetCount(rareSpecies, playerGuid);\nint npcCount\
      \ = battlePetMgr->GetPetCount(rareSpecies, npcGuid);\nif (playerCount > 0 &&\
      \ npcCount == 0) {\n    // Player has the rare pet but NPC doesn't\n    // Allow\
      \ trade or exchange\n}"
    language: cpp
  notes: This method likely performs database queries to count battle pets, so frequent
    calls may impact performance. The BattlePetSpeciesEntry parameter must be valid
    and correspond to an existing species in the game data. Implementation details
    may involve caching or optimized database access patterns for performance.
  warnings: Ensure that the battlePetSpecies parameter is not null before calling
    this method, as passing a null pointer could lead to undefined behavior. This
    method should only be called from contexts where player ownership and pet data
    are properly initialized.
  related:
  - GetPetList
  - HasPet
  - AddPet
  - RemovePet
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T17:55:43.829356'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
