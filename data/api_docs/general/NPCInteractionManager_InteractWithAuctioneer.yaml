api:
  class: NPCInteractionManager
  method: InteractWithAuctioneer
  signature: bool NPCInteractionManager::InteractWithAuctioneer(Creature * auctioneer)
documentation:
  brief: Initiates an auction house interaction with the specified auctioneer creature.
  description: The InteractWithAuctioneer method handles the process of a player interacting
    with an auctioneer NPC to access the auction house interface. This method validates
    that the provided creature is indeed an auctioneer, checks if the player has proper
    access permissions, and triggers the appropriate UI display for auction house
    services. The interaction includes opening the auction house window, loading auction
    data, and preparing the player's session for bidding or listing items. It ensures
    that only valid auctioneer NPCs can be interacted with and manages the necessary
    state changes for the auction house functionality.
  parameters:
  - name: auctioneer
    description: Pointer to the Creature object representing the auctioneer NPC. Must
      be a valid creature instance of type NPC_TYPE_AUCTIONEER or similar auction
      house related NPC type.
  returns: Returns true if the interaction was successfully initiated and the auction
    house interface is opened for the player, false otherwise. The method returns
    false if the provided creature is not a valid auctioneer, the player lacks permissions,
    or if there are system errors during the interaction process.
  examples:
  - title: Basic Auctioneer Interaction
    code: "if (player->GetNPCInteractionManager()->InteractWithAuctioneer(auctioneerCreature))\
      \ {\n    // Auction house interface opened successfully\n    sLog->outString(\"\
      Player initiated auction house interaction with %s\", auctioneerCreature->GetName().c_str());\n\
      } else {\n    // Failed to initiate interaction\n    sLog->outError(\"Failed\
      \ to interact with auctioneer %s\", auctioneerCreature->GetName().c_str());\n\
      }"
    language: cpp
  - title: Safe Auctioneer Interaction Check
    code: "Creature* auctioneer = player->GetNPCInteractionManager()->GetNearestAuctioneer();\n\
      if (auctioneer && player->GetNPCInteractionManager()->InteractWithAuctioneer(auctioneer))\
      \ {\n    // Successfully opened auction house\n    player->SendAuctionMenu(auctioneer);\n\
      } else {\n    // No valid auctioneer found or interaction failed\n    player->SendNoAuctionHouse();\n\
      }"
    language: cpp
  notes: This method is typically called internally by the game's interaction system
    when a player right-clicks on an auctioneer NPC. The implementation handles UI
    state management and ensures proper synchronization between client and server
    auction house data. It may also perform checks for player level requirements,
    faction restrictions, or other access controls before allowing the interaction.
  warnings: Ensure that the Creature pointer passed is valid and represents a legitimate
    auctioneer NPC to avoid undefined behavior. This method should not be called directly
    from game logic without proper validation, as it relies on internal state management
    and may cause client-side UI glitches if misused.
  related:
  - GetNearestAuctioneer
  - SendAuctionMenu
  - HasAuctionAccess
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T23:18:12.095478'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
