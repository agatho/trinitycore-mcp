api:
  class: QuestTurnIn
  method: HandleTurnInDialog
  signature: void QuestTurnIn::HandleTurnInDialog(Player * bot, uint32 questId)
documentation:
  brief: Handles the turn-in dialog for a specified quest when a player interacts
    with an NPC.
  description: The HandleTurnInDialog method is responsible for managing the interaction
    between a player and an NPC during the quest turn-in process. It validates whether
    the player has completed the required objectives for the specified quest, checks
    if the quest can be turned in at that moment, and initiates the appropriate dialog
    sequence or reward distribution. This method typically gets invoked when a player
    selects a quest turn-in option from an NPC's interaction menu. The method ensures
    proper state transitions within the quest system and may trigger additional game
    events such as quest completion notifications, experience gain, and item rewards.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the player who is turning
      in the quest. Must not be null.
  - name: questId
    description: Unique identifier of the quest being turned in. Must correspond to
      a valid quest in the game database.
  returns: null
  examples:
  - title: Basic Quest Turn-In Handling
    code: "void MyQuestHandler::ProcessTurnIn(Player* player, uint32 questId)\n{\n\
      \    QuestTurnIn turnIn;\n    turnIn.HandleTurnInDialog(player, questId);\n}"
    language: cpp
  - title: Conditional Quest Turn-In with Validation
    code: "void AdvancedQuestHandler::HandlePlayerQuestTurnIn(Player* player, uint32\
      \ questId)\n{\n    if (!player || !sObjectMgr->GetQuestTemplate(questId))\n\
      \        return;\n\n    // Validate player's ability to turn in the quest\n\
      \    if (player->GetQuestStatus(questId) == QUEST_STATUS_COMPLETE)\n    {\n\
      \        QuestTurnIn turnIn;\n        turnIn.HandleTurnInDialog(player, questId);\n\
      \    }\n}"
    language: cpp
  notes: This method assumes that the player's quest status has already been validated
    and updated. It does not perform checks on quest completion or availability; these
    are expected to be handled before calling this method. The implementation may
    rely on internal state tracking within the QuestTurnIn class, so it should only
    be called after all prerequisite conditions have been met.
  warnings: Do not call this method directly without verifying that the player has
    completed the quest and that the quest is eligible for turn-in. Passing an invalid
    questId or null player pointer may lead to undefined behavior or crashes.
  related:
  - GetQuestStatus
  - CompleteQuest
  - RewardQuest
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T04:29:04.624651'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
