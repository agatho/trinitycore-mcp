api:
  class: ItemTemplate
  method: GetRequiredExpansion
  signature: uint8 ItemTemplate::GetRequiredExpansion() const
documentation:
  brief: Returns the required expansion ID for the item template.
  description: The GetRequiredExpansion method retrieves the expansion ID that determines
    which World of Warcraft expansion is required to use the item. This value corresponds
    to the Expansion field in the ItemTemplate database table and is used by the game
    client and server to enforce expansion restrictions. Items with a required expansion
    of 0 are available to all expansions, while higher values indicate that the player
    must have the corresponding expansion installed and active to equip or use the
    item. The method performs no validation and simply returns the stored value from
    the item template data.
  parameters: []
  returns: 'A uint8 value representing the required expansion ID. Values typically
    correspond to: 0 = All expansions, 1 = Vanilla/WotLK, 2 = The Burning Crusade,
    3 = Wrath of the Lich King, 4 = Cataclysm, 5 = Mists of Pandaria, 6 = Warlords
    of Draenor, 7 = Legion, 8 = Battle for Azeroth, 9 = Shadowlands, 10 = Dragonflight.
    Returns 0 if no expansion is required.'
  examples:
  - title: Basic Usage
    code: "ItemTemplate* itemTemplate = sObjectMgr->GetItemTemplate(12345);\nuint8\
      \ expansion = itemTemplate->GetRequiredExpansion();\nif (expansion > 0)\n{\n\
      \    printf(\"This item requires expansion ID %u\\n\", expansion);\n}"
    language: cpp
  - title: Checking Expansion Requirements
    code: "ItemTemplate* itemTemplate = sObjectMgr->GetItemTemplate(54321);\nuint8\
      \ requiredExpansion = itemTemplate->GetRequiredExpansion();\nif (requiredExpansion\
      \ > 0 && requiredExpansion > sWorld->getIntConfig(CONFIG_EXPANSION))\n{\n  \
      \  // Player doesn't have the required expansion\n    printf(\"Player needs\
      \ expansion %u to use this item\\n\", requiredExpansion);\n}"
    language: cpp
  notes: This method is a simple getter that directly accesses stored data from the
    ItemTemplate structure. It does not perform any runtime checks or dynamic calculations.
    The expansion ID values are defined by the TrinityCore configuration and database
    schema, with each number mapping to a specific expansion version. This method
    is commonly used in item validation logic during character login and item usage.
  warnings: Be aware that this method only returns the stored expansion requirement
    from the database and does not validate against the player's actual expansion
    status. It's important to combine this with additional checks when implementing
    gameplay restrictions. Also note that expansion IDs are not necessarily sequential
    or consistent across different TrinityCore versions or custom configurations.
  related:
  - GetRequiredHonorRank
  - GetRequiredArenaRank
  - GetRequiredLevel
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T02:21:09.467890'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
