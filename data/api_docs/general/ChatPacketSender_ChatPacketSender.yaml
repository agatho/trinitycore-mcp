api:
  class: ChatPacketSender
  method: ChatPacketSender
  signature: void ChatPacketSender::ChatPacketSender(int chatType, int language, const
    WorldObject * sender, const WorldObject * receiver, std::string message, uint32
    achievementId, LocaleConstant locale, uint32 broadcastTextId, uint16 emoteId,
    uint32 soundKitId, int soundKitPlayType, uint32 playerConditionId)
documentation:
  brief: Sends a chat message packet to players with specified parameters including
    type, language, and optional emote/sound data.
  description: The ChatPacketSender method is responsible for constructing and sending
    a chat message packet to one or more players in the game world. It supports various
    chat types such as normal, whisper, guild, and system messages, and allows specifying
    the language, sender and receiver objects, message content, and additional metadata
    like emotes, sounds, and achievements. The method handles the low-level packet
    creation and transmission logic required for in-game communication. This function
    is typically used by game systems or modules that need to broadcast messages to
    players with specific formatting and delivery behavior.
  parameters:
  - name: chatType
    description: The type of chat message to send (e.g., CHAT_MSG_SAY, CHAT_MSG_WHISPER,
      CHAT_MSG_GUILD). Valid values are defined in the TrinityCore chat system constants.
  - name: language
    description: The language ID used for the message. This determines how the message
      is interpreted and displayed to players who speak that language.
  - name: sender
    description: Pointer to the WorldObject that is sending the message (e.g., a Player
      or Creature). Can be null if no specific sender is required.
  - name: receiver
    description: Pointer to the WorldObject that will receive the message (e.g., a
      Player or Group). Can be null for broadcast messages.
  - name: message
    description: The actual text content of the chat message to be sent. This is the
      string that players will see in their chat interface.
  - name: achievementId
    description: Optional achievement ID associated with the message. If non-zero,
      this may trigger achievement progress or notifications for the receiver.
  - name: locale
    description: The locale constant indicating which language version of the message
      should be displayed to players (e.g., LOCALE_en, LOCALE_fr).
  - name: broadcastTextId
    description: Optional ID referencing a broadcast text entry in the database. Used
      for localized or pre-defined messages.
  - name: emoteId
    description: Optional emote ID that will be played alongside the message (e.g.,
      emote 1 for 'wave', 2 for 'hello').
  - name: soundKitId
    description: Optional sound kit ID to play when the message is sent. Used for
      audio feedback with chat messages.
  - name: soundKitPlayType
    description: Specifies how the sound should be played (e.g., 0 for default, 1
      for global, 2 for self-only).
  - name: playerConditionId
    description: Optional player condition ID that determines whether the message
      should be sent based on specific player state or criteria.
  returns: null
  examples:
  - title: Send a whisper to a specific player
    code: 'ChatPacketSender sender;

      sender.ChatPacketSender(CHAT_MSG_WHISPER, LANG_UNIVERSAL, player1, player2,
      "Hello there!", 0, LOCALE_en, 0, 0, 0, 0, 0);'
    language: cpp
  - title: Broadcast a system message to all players in a zone
    code: 'ChatPacketSender sender;

      sender.ChatPacketSender(CHAT_MSG_SYSTEM, LANG_UNIVERSAL, nullptr, nullptr, "Server
      maintenance starting now.", 0, LOCALE_en, 0, 0, 12345, 0, 0);'
    language: cpp
  notes: This method requires proper initialization of the WorldObject pointers and
    valid chat type constants. The message will only be sent if the receiver is a
    valid player object or if broadcast parameters are correctly set. Performance
    may be impacted when sending to large groups or using sound kits.
  warnings: Incorrect chatType values can result in messages not being displayed properly
    or causing client-side errors. Using invalid WorldObject pointers will cause crashes
    or undefined behavior. SoundKitId should reference valid entries in the database
    or it will silently fail.
  related:
  - SendChatMessage
  - BroadcastPacket
  - SendPlayerChat
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T13:04:30.396020'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
