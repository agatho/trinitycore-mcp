api:
  class: Unit
  method: GetSharedVisionList
  signature: const SharedVisionList & Unit::GetSharedVisionList()
documentation:
  brief: Returns the list of units with whom the current unit shares vision.
  description: This method retrieves the SharedVisionList associated with the Unit,
    which contains all units that share vision with this unit. The shared vision list
    typically includes players and creatures that are within the unit's vision range
    and have been flagged as sharing vision. This is commonly used in World of Warcraft
    to determine which units can see each other in the game world, particularly for
    player-controlled units or NPCs that may be affected by vision-based mechanics
    like stealth or invisibility. The method does not modify any state but simply
    returns a reference to an existing list.
  parameters: []
  returns: Returns a const reference to the SharedVisionList which contains all units
    that share vision with this unit. This list is typically populated based on visibility
    conditions and may include players, creatures, or other units depending on the
    context of the unit's vision.
  examples:
  - title: Basic usage example
    code: "const SharedVisionList& visionList = unit->GetSharedVisionList();\nfor\
      \ (auto const& entry : visionList)\n{\n    if (entry->IsInWorld())\n    {\n\
      \        // Do something with the shared vision entries\n    }\n}"
    language: cpp
  notes: The returned SharedVisionList is managed by the Unit class and should not
    be modified directly. The list may change during gameplay depending on visibility
    conditions, such as when units enter or leave the vision range of the current
    unit.
  warnings: Care should be taken when using this method in multi-threaded environments
    as the list might be modified by other threads during execution. Also note that
    this list does not include units that are not visible to the current unit but
    may be visible to others.
  related:
  - GetVisibility
  - SetVisibility
  - IsVisible
metadata:
  confidence: 0.9
  generated_at: '2025-10-30T12:44:29.978901'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
