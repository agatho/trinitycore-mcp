api:
  class: SmartAI
  method: AddEscortState
  signature: void SmartAI::AddEscortState(uint32 escortState)
documentation:
  brief: Adds a specified escort state to the SmartAI instance, enabling conditional
    behavior during quest escort events.
  description: The AddEscortState method is used within the SmartAI framework to register
    a specific escort state flag for an AI-controlled creature. This allows the AI
    to respond differently based on the current escort state, such as when a player
    is guiding an NPC through a quest. The method modifies internal state tracking
    that can be checked by other SmartAI actions and events. It's commonly used in
    conjunction with escort quests where NPCs must follow specific behaviors depending
    on their progress or status during the quest sequence.
  parameters:
  - name: escortState
    description: The escort state flag to add. This is typically a predefined constant
      representing different stages or conditions of an escort quest, such as MOVING,
      FINISHED, or FAILED.
  returns: null
  examples:
  - title: Adding an Escort State for Movement
    code: "void OnQuestAccept(Player* player, Quest const* quest) override\n{\n  \
      \  // Add the MOVING escort state when quest starts\n    AddEscortState(ESCORT_STATE_MOVING);\n\
      }"
    language: cpp
  - title: Adding Multiple Escort States
    code: "void OnCreatureEvent(Creature* creature, uint32 eventId) override\n{\n\
      \    switch (eventId)\n    {\n        case EVENT_COMPLETE_QUEST:\n         \
      \   AddEscortState(ESCORT_STATE_FINISHED);\n            AddEscortState(ESCORT_STATE_COMPLETE);\n\
      \            break;\n        case EVENT_FAIL_QUEST:\n            AddEscortState(ESCORT_STATE_FAILED);\n\
      \            break;\n    }\n}"
    language: cpp
  notes: This method modifies the internal state of the SmartAI instance and should
    be called during appropriate quest events or AI decision points. The escort states
    are typically defined in the SmartAI header file as constants, such as ESCORT_STATE_MOVING,
    ESCORT_STATE_FINISHED, etc.
  warnings: Incorrectly setting escort states may cause the AI to behave unexpectedly
    during quest progression. Ensure that state flags align with expected quest flow
    and don't conflict with other AI behaviors.
  related:
  - HasEscortState
  - RemoveEscortState
  - ClearEscortState
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T02:59:16.975881'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
