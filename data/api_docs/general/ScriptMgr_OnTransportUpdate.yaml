api:
  class: ScriptMgr
  method: OnTransportUpdate
  signature: void ScriptMgr::OnTransportUpdate(Transport * transport, uint32 diff)
documentation:
  brief: Updates transport movement and handles related game logic for a given transport
    object.
  description: The OnTransportUpdate method is invoked periodically to update the
    state of a transport vehicle, such as a boat or zeppelin, within the game world.
    This method is responsible for managing the transport's position, orientation,
    and associated passengers during movement. It ensures that all entities riding
    on the transport are correctly updated and synchronized with the transport's current
    location and velocity. The method is typically called from the core game loop
    and operates on a per-transport basis, processing movement deltas and updating
    passenger positions accordingly.
  parameters:
  - name: transport
    description: Pointer to the Transport object that needs to be updated. This represents
      a vehicle entity like a ship or zeppelin that moves through the game world.
  - name: diff
    description: Time delta in milliseconds since the last update call. Used to calculate
      movement and timing for the transport's current frame.
  returns: null
  examples:
  - title: Basic Transport Update Implementation
    code: "void BasicTransportUpdate(Transport* transport, uint32 diff)\n{\n    //\
      \ This method would typically be called from the core update loop\n    ScriptMgr::OnTransportUpdate(transport,\
      \ diff);\n    // Additional custom logic can be added here if needed\n}"
    language: cpp
  - title: Custom Transport Behavior Override
    code: "class MyTransportScript : public TransportScript\n{\npublic:\n    void\
      \ OnTransportUpdate(Transport* transport, uint32 diff) override\n    {\n   \
      \     // Call base implementation first\n        ScriptMgr::OnTransportUpdate(transport,\
      \ diff);\n        \n        // Add custom behavior like sound effects or visual\
      \ effects\n        if (transport->GetGUID().GetCounter() % 100 == 0)\n     \
      \   {\n            transport->PlayDirectSound(12345);\n        }\n    }\n};"
    language: cpp
  notes: This method is called from the core game update loop and should not block
    or perform heavy computations. It's designed to be lightweight and efficient,
    as it may be called frequently. The transport object passed in will always be
    valid during this call, but its state might change during execution.
  warnings: Do not modify the transport object's core movement properties directly
    within this method unless absolutely necessary, as it can cause synchronization
    issues with passengers and other systems. Avoid performing database operations
    or complex logic that could block the main thread.
  related:
  - OnTransportAddPlayer
  - OnTransportRemovePlayer
  - OnTransportUpdatePosition
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T18:08:38.353395'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
