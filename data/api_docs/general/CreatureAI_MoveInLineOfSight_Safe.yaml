api:
  class: CreatureAI
  method: MoveInLineOfSight_Safe
  signature: void CreatureAI::MoveInLineOfSight_Safe(int * who)
documentation:
  brief: Handles line-of-sight detection for creature AI, safely processing nearby
    units.
  description: The MoveInLineOfSight_Safe method is a protected utility function within
    the CreatureAI class that processes units entering the creature's line of sight.
    It performs safety checks to ensure valid targets before triggering AI behavior
    such as aggro or movement updates. This method is typically invoked internally
    by the core game loop when unit movement or position changes occur, and it ensures
    that the AI does not process invalid or null references. The method handles potential
    race conditions and ensures thread-safe access to creature AI state during line-of-sight
    events.
  parameters:
  - name: who
    description: Pointer to an integer representing the unit ID of the entity entering
      line of sight. This parameter is used internally by the AI system to identify
      which unit triggered the event.
  returns: null
  examples:
  - title: Basic usage in custom creature AI
    code: "class MyCreatureAI : public CreatureAI {\npublic:\n    void MoveInLineOfSight_Safe(int*\
      \ who) override {\n        // Custom logic before calling base implementation\n\
      \        if (who && *who > 0) {\n            // Process the unit entering line\
      \ of sight\n            DoSomethingWithUnit(*who);\n        }\n        // Call\
      \ parent implementation\n        CreatureAI::MoveInLineOfSight_Safe(who);\n\
      \    }\n};"
    language: cpp
  notes: This method is part of the internal AI system and should not be called directly
    from outside the AI framework. It assumes that the 'who' parameter points to a
    valid unit ID within the game world. The implementation includes checks for null
    pointers and invalid IDs to prevent crashes.
  warnings: Do not modify or override this method unless you understand the implications
    of AI behavior changes. Incorrect handling of the 'who' parameter may lead to
    unexpected AI reactions or memory access violations.
  related:
  - MoveInLineOfSight
  - AttackStart
  - UpdateAI
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T16:24:35.779384'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
