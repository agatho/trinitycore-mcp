api:
  class: WorldSession
  method: GetAccountExpansion
  signature: uint8 WorldSession::GetAccountExpansion() const
documentation:
  brief: Returns the expansion level enabled for the account associated with this
    session.
  description: The GetAccountExpansion method retrieves the expansion level that is
    currently enabled for the player's account. This value determines which World
    of Warcraft expansion content the player has access to, such as Classic, The Burning
    Crusade, Wrath of the Lich King, and so on. The returned value corresponds to
    the expansion ID used internally by TrinityCore to manage content availability
    and client version compatibility. This method is typically used during login validation
    and content access checks to ensure players can only access features appropriate
    to their account's expansion level.
  parameters: []
  returns: A uint8 value representing the expansion level for the account. Common
    values include 0 for Classic, 1 for The Burning Crusade, 2 for Wrath of the Lich
    King, and 3 for Cataclysm. Higher values may represent newer expansions depending
    on the TrinityCore version and database configuration.
  examples:
  - title: Checking Account Expansion Level
    code: "void HandleExpansionCheck(WorldSession* session)\n{\n    uint8 expansion\
      \ = session->GetAccountExpansion();\n    switch (expansion)\n    {\n       \
      \ case 0:\n            // Classic\n            break;\n        case 1:\n   \
      \         // TBC\n            break;\n        case 2:\n            // WotLK\n\
      \            break;\n        case 3:\n            // Cataclysm\n           \
      \ break;\n    }\n}"
    language: cpp
  notes: This method likely reads from cached account data or database values that
    are set during login. The expansion level is typically configured in the account
    table of the auth database and may be updated through administrative commands
    or account management tools. The value returned should be consistent throughout
    a session unless the account's expansion status changes.
  warnings: This method should not be used for real-time validation of account permissions
    without checking against current database values, as expansion levels can be changed
    administratively. Ensure that access control logic properly validates this value
    against expected expansion levels before granting access to expansion-specific
    features.
  related:
  - GetPlayer()
  - GetAccountId()
  - HasExpansion()
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T20:04:36.979342'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
