api:
  class: EntityFragmentsHolder
  method: Add
  signature: void EntityFragmentsHolder::Add(EntityFragment fragment, bool update)
documentation:
  brief: Adds an EntityFragment to the holder, optionally triggering an update operation.
  description: The Add method inserts a given EntityFragment into the EntityFragmentsHolder
    collection. This method allows for adding fragments either individually or as
    part of a larger update process. When the 'update' parameter is set to true, it
    may trigger additional logic such as recalculating cached values, notifying observers,
    or synchronizing with related systems. The method does not return any value and
    operates directly on the internal state of the holder. This functionality is commonly
    used in TrinityCore's entity management system where fragments represent partial
    data or components of game objects.
  parameters:
  - name: fragment
    description: The EntityFragment object to be added to the holder. This represents
      a piece of data or component associated with an entity within the game world.
  - name: update
    description: Boolean flag indicating whether to perform an update operation after
      adding the fragment. If true, additional processing such as synchronization
      or recalculations may be triggered.
  returns: null
  examples:
  - title: Basic Usage
    code: 'EntityFragment fragment;

      // ... initialize fragment ...

      holder.Add(fragment, false);'
    language: cpp
  - title: With Update Trigger
    code: 'EntityFragment fragment;

      // ... initialize fragment ...

      holder.Add(fragment, true); // Triggers update logic'
    language: cpp
  notes: The method assumes that the EntityFragment is valid and properly initialized
    before being added. It's recommended to validate the fragment prior to calling
    Add to avoid unexpected behavior. The 'update' flag may cause performance overhead
    if used excessively in tight loops.
  warnings: Calling this method with update=true repeatedly in quick succession can
    lead to performance degradation due to potential repeated synchronization operations.
    Ensure that updates are only triggered when necessary.
  related:
  - Remove
  - GetFragment
  - HasFragment
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T02:15:11.654178'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
