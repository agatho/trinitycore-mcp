api:
  class: ThreatReference
  method: ShouldBeOffline
  signature: bool ThreatReference::ShouldBeOffline() const
documentation:
  brief: Determines whether the threat reference should be considered offline based
    on its current state and conditions.
  description: The ShouldBeOffline method evaluates the internal state of a ThreatReference
    object to determine if it should be treated as offline. This typically involves
    checking if the referenced unit is dead, despawned, or otherwise unavailable for
    threat calculations. The method is used internally by the AI system to manage
    threat lists and ensure that inactive units do not contribute to threat generation
    or targeting decisions. It's particularly relevant in combat scenarios where the
    system needs to accurately track which entities are still active participants
    in the encounter.
  parameters: []
  returns: Returns true if the threat reference should be considered offline (e.g.,
    the referenced unit is dead, despawned, or otherwise inactive), false otherwise.
    This indicates that the reference should not contribute to threat calculations
    or target selection logic.
  examples:
  - title: Basic Usage in AI Logic
    code: "if (threatRef.ShouldBeOffline())\n{\n    // Remove from active threat lists\n\
      \    ai->RemoveThreatReference(threatRef);\n}"
    language: cpp
  - title: Integration with Combat State Management
    code: "void UpdateThreatList()\n{\n    for (auto& ref : threatList)\n    {\n \
      \       if (ref.ShouldBeOffline())\n        {\n            // Mark as inactive\n\
      \            ref.SetInactive();\n        }\n        else\n        {\n      \
      \      // Process normal threat logic\n            ref.UpdateThreat();\n   \
      \     }\n    }\n}"
    language: cpp
  notes: This method likely performs checks against the referenced unit's health status,
    visibility state, and existence in the world. It may also consider time-based
    conditions or specific game mechanics such as stealth or invisibility states that
    could affect threat behavior. The implementation should be efficient since it's
    called frequently during combat updates.
  warnings: Do not rely on this method to determine if a unit is actually dead - use
    proper unit state checks for that. This method specifically addresses the threat
    system's internal logic and may return false for units that are technically dead
    but still considered 'active' in certain threat contexts.
  related:
  - ThreatReference::IsOffline
  - ThreatReference::SetOffline
  - ThreatReference::UpdateThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T23:19:58.624627'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
