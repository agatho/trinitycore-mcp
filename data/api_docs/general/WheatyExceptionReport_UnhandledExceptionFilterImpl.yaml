api:
  class: WheatyExceptionReport
  method: UnhandledExceptionFilterImpl
  signature: LONG WheatyExceptionReport::UnhandledExceptionFilterImpl(PEXCEPTION_POINTERS
    pExceptionInfo)
documentation:
  brief: Handles unhandled exceptions in the TrinityCore server process by logging
    crash information and attempting to generate a detailed crash report.
  description: The UnhandledExceptionFilterImpl method serves as a structured exception
    handler that intercepts unhandled exceptions occurring within the TrinityCore
    server application. It is typically installed as a Windows Structured Exception
    Handler (SEH) to capture critical errors such as access violations, stack overflows,
    or other system-level faults. When invoked, this method logs detailed information
    about the exception including the exception code, address, and thread context.
    It also attempts to generate a comprehensive crash report file that includes memory
    dumps, call stacks, and relevant server state data for debugging purposes. This
    mechanism is essential for maintaining server stability and aiding developers
    in diagnosing issues that could otherwise cause unexpected server termination.
  parameters: []
  returns: Returns EXCEPTION_EXECUTE_HANDLER if the exception should be handled by
    the system's default handler or EXCEPTION_CONTINUE_SEARCH if the exception should
    be passed to other handlers. In most cases, this method will return EXCEPTION_EXECUTE_HANDLER
    to ensure proper crash handling and logging.
  examples:
  - title: Basic Usage in Exception Handling Setup
    code: "#include \"WheatyExceptionReport.h\"\n\nint main()\n{\n    // Install the\
      \ unhandled exception filter\n    SetUnhandledExceptionFilter(WheatyExceptionReport::UnhandledExceptionFilterImpl);\n\
      \    \n    // Server logic here...\n    return 0;\n}"
    language: cpp
  notes: This method is typically called automatically by the Windows OS when an unhandled
    exception occurs. It should be installed early in the application lifecycle, ideally
    before any server threads are created. The generated crash reports may include
    sensitive data such as memory contents and stack traces, so they should be handled
    securely.
  warnings: Do not call this method directly from application code; it is intended
    to be used only as an exception filter callback. Improper handling of exceptions
    in this function can lead to infinite recursion or further crashes. The crash
    reporting mechanism may consume significant system resources during execution.
  related:
  - WheatyExceptionReport::GenerateCrashReport
  - WheatyExceptionReport::Initialize
metadata:
  confidence: 0.9
  generated_at: '2025-11-05T23:49:28.400250'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
