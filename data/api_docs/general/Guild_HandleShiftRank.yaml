api:
  class: Guild
  method: HandleShiftRank
  signature: void Guild::HandleShiftRank(WorldSession * session, GuildRankOrder rankOrder,
    bool shiftUp)
documentation:
  brief: Shifts a guild member's rank up or down within the guild hierarchy.
  description: The HandleShiftRank method processes a request from a guild leader
    or officer to move a guild member's rank either up or down in the guild's rank
    order. This operation modifies the member's position in the guild hierarchy, affecting
    their permissions and privileges. The method validates that the requesting player
    has sufficient authority to perform the rank shift, checks if the target player
    exists within the guild, and ensures the requested rank movement is valid according
    to the guild's current rank structure. It updates internal guild data structures
    and broadcasts relevant notifications to affected guild members.
  parameters:
  - name: session
    description: Pointer to the WorldSession of the player requesting the rank shift
      operation. Used to verify permissions and send responses back to the client.
  - name: rankOrder
    description: The GuildRankOrder structure specifying which member's rank should
      be shifted and their current rank position within the guild hierarchy.
  - name: shiftUp
    description: Boolean flag indicating direction of the rank shift. True shifts
      the member's rank up (higher privilege), false shifts down (lower privilege).
  returns: null
  examples:
  - title: Shift a guild member's rank up by one position
    code: 'GuildRankOrder rankOrder;

      rankOrder.rankId = 2; // Target member''s current rank

      rankOrder.playerGuid = playerGuid;

      // Assuming session is valid and player has permission

      guild->HandleShiftRank(session, rankOrder, true);'
    language: cpp
  - title: Shift a guild member's rank down by one position
    code: 'GuildRankOrder rankOrder;

      rankOrder.rankId = 3; // Target member''s current rank

      rankOrder.playerGuid = playerGuid;

      // Assuming session is valid and player has permission

      guild->HandleShiftRank(session, rankOrder, false);'
    language: cpp
  notes: This method assumes that the calling code has already validated that the
    session belongs to a player with appropriate guild permissions. The actual rank
    shifting logic is typically implemented in internal helper functions that update
    the guild member's data and synchronize changes across the server.
  warnings: Improper validation of session permissions can lead to unauthorized rank
    manipulation. The method does not perform any checks on whether the new rank position
    would violate guild rules or create inconsistencies in the rank hierarchy.
  related:
  - Guild::HandleSetMemberRank
  - Guild::HandleCreateGuild
  - Guild::AddMember
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T00:34:16.970494'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
