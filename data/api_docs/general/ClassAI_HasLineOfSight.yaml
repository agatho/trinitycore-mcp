api:
  class: ClassAI
  method: HasLineOfSight
  signature: bool ClassAI::HasLineOfSight(int * target)
documentation:
  brief: Checks if the AI unit has unobstructed line of sight to a target.
  description: The HasLineOfSight method determines whether the AI-controlled unit
    can see a specified target without any intervening obstacles. This is crucial
    for AI decision-making, particularly in combat scenarios where units need to determine
    if they can attack or cast spells on targets. The method typically performs a
    raycast or line-of-sight check using the game's collision system to verify visibility.
    It returns true if there are no obstructions between the unit and the target,
    and false otherwise. This functionality is essential for realistic NPC behavior
    in World of Warcraft environments.
  parameters:
  - name: target
    description: Pointer to an integer representing the target's identifier or position.
      The exact interpretation depends on the implementation but typically refers
      to a unit GUID or coordinate data.
  returns: Returns true if there is an unobstructed line of sight from the AI unit
    to the target, false otherwise. A return value of false may indicate that the
    target is blocked by terrain, objects, or other units.
  examples:
  - title: Basic Line of Sight Check
    code: "if (aiUnit->HasLineOfSight(&targetGuid)) {\n    // Proceed with attack\
      \ or spell casting\n    aiUnit->Attack(targetGuid);\n} else {\n    // Move toward\
      \ target or find alternative action\n    aiUnit->MoveTo(targetGuid);\n}"
    language: cpp
  - title: Using Line of Sight in Combat Decision
    code: "Unit* target = aiUnit->GetVictim();\nif (target && aiUnit->HasLineOfSight(&target->GetGUID()))\
      \ {\n    // Target is visible, proceed with melee attack\n    aiUnit->CastSpell(target,\
      \ SPELL_MELEE_ATTACK, true);\n} else {\n    // Target not visible, try to move\
      \ into position\n    aiUnit->SetTarget(target);\n    aiUnit->MoveTowards(target);\n\
      }"
    language: cpp
  notes: This method relies on the underlying collision detection system and may be
    affected by map geometry, object placement, and server-side performance optimizations.
    The target parameter should be a valid identifier that the AI can resolve to a
    position in the world space.
  warnings: Ensure that the target pointer is not null or invalid before calling this
    method, as it could lead to undefined behavior or crashes. Additionally, frequent
    calls to this method in tight loops may impact performance in high-traffic areas.
  related:
  - IsInFront
  - IsWithinDist
  - GetDistance
  - CanSee
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T11:30:37.284934'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
