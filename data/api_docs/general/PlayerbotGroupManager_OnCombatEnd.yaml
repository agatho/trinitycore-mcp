api:
  class: PlayerbotGroupManager
  method: OnCombatEnd
  signature: void PlayerbotGroupManager::OnCombatEnd(uint32 groupId)
documentation:
  brief: Handles cleanup and state updates when a player bot group exits combat.
  description: The OnCombatEnd method is invoked to manage the necessary actions and
    state transitions when a player bot group concludes its combat engagement. This
    includes updating group status, resetting combat-related flags, and potentially
    triggering follow-up behaviors such as loot distribution or movement adjustments.
    The method ensures that the group's internal state remains consistent with the
    game world after combat has ended. It is typically called by the core combat system
    upon detection of combat termination for a specific group.
  parameters:
  - name: groupId
    description: The unique identifier of the player bot group that has exited combat.
      This ID corresponds to an active group within the player bot system.
  returns: null
  examples:
  - title: Basic usage in combat handler
    code: "void CombatHandler::HandleCombatEnd(uint32 groupId)\n{\n    PlayerbotGroupManager::instance()->OnCombatEnd(groupId);\n\
      }"
    language: cpp
  - title: Integration with group management system
    code: "class GroupManager\n{\npublic:\n    void EndGroupCombat(uint32 groupId)\n\
      \    {\n        // Perform any pre-combat end logic\n        OnCombatEnd(groupId);\n\
      \        // Perform post-combat cleanup\n    }\n};"
    language: cpp
  notes: This method is part of the internal player bot system and should not be called
    directly from external modules unless explicitly intended. The implementation
    assumes that the group with the specified ID exists and is currently in a combat
    state.
  warnings: Calling this method with an invalid or non-existent groupId may result
    in undefined behavior or crashes. Ensure that the group is confirmed to be in
    combat before invoking this method.
  related:
  - OnCombatStart
  - IsInCombat
  - GetGroupById
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T00:56:20.770775'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
