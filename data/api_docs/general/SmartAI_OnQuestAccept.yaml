api:
  class: SmartAI
  method: OnQuestAccept
  signature: void SmartAI::OnQuestAccept(Player * player, const Quest * quest)
documentation:
  brief: Executes AI behavior when a player accepts a quest in SmartAI.
  description: The OnQuestAccept method is a callback function within the SmartAI
    class that triggers specific artificial intelligence behaviors when a player accepts
    a quest. This method allows NPCs to perform actions such as spawning creatures,
    changing faction, or initiating events upon quest acceptance. It serves as part
    of the broader SmartAI framework which enables dynamic and conditional AI responses
    based on various in-game triggers. The method is invoked automatically by the
    TrinityCore server when a player accepts a quest from an NPC that uses SmartAI.
  parameters:
  - name: player
    description: Pointer to the Player object who accepted the quest. This represents
      the player character initiating the quest acceptance action.
  - name: quest
    description: Pointer to the Quest object that was accepted. Contains all relevant
      quest data including quest ID, objectives, rewards, and trigger conditions.
  returns: null
  examples:
  - title: Basic Quest Accept Handler
    code: "void SmartAI::OnQuestAccept(Player* player, const Quest* quest)\n{\n  \
      \  // Log the quest acceptance\n    sLog->outString(\"Player %s accepted quest\
      \ %u\", player->GetName(), quest->GetQuestId());\n    \n    // Trigger a custom\
      \ event or spawn an NPC\n    if (quest->GetQuestId() == 12345)\n    {\n    \
      \    // Spawn a creature when this specific quest is accepted\n        me->SummonCreature(NPC_ID,\
      \ x, y, z, 0, TEMPSUMMON_TIMED_DESPAWN, 60000);\n    }\n}"
    language: cpp
  - title: Advanced Quest Accept with Conditional Logic
    code: "void SmartAI::OnQuestAccept(Player* player, const Quest* quest)\n{\n  \
      \  uint32 questId = quest->GetQuestId();\n    \n    switch (questId)\n    {\n\
      \        case 1001:\n            // Change faction when this quest is accepted\n\
      \            me->SetFaction(FACTION_HOSTILE);\n            break;\n        case\
      \ 1002:\n            // Set a timer for a future event\n            events.ScheduleEvent(EVENT_CHECK_QUEST_COMPLETE,\
      \ 30000);\n            break;\n        default:\n            break;\n    }\n\
      \    \n    // Send a custom emote or text\n    if (player->GetTeam() == ALLIANCE)\n\
      \        me->MonsterSay(\"Ah, the Alliance has accepted my quest!\", LANG_UNIVERSAL,\
      \ player->GetGUID());\n}"
    language: cpp
  notes: This method is part of the SmartAI system which is designed to provide flexible
    and powerful AI behaviors for NPCs. The method is called during the quest acceptance
    process, so any operations performed should be safe and not block the main game
    thread. It's important to note that this function may be called multiple times
    if a player repeatedly accepts or fails a quest.
  warnings: Avoid performing heavy computations or blocking operations within this
    method as it can impact server performance. Be cautious when modifying player
    or NPC states directly, as improper handling might lead to unexpected behavior
    or game exploits.
  related:
  - OnQuestReward
  - OnQuestCancel
  - OnQuestUpdate
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T02:46:49.739392'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
