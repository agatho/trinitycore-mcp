api:
  class: Spell
  method: CallScriptEmpowerStageCompletedHandlers
  signature: void Spell::CallScriptEmpowerStageCompletedHandlers(int32 completedStagesCount)
documentation:
  brief: Invokes all script handlers registered for empowered spell stage completion
    events.
  description: The CallScriptEmpowerStageCompletedHandlers method is responsible for
    executing all script-defined callbacks that are registered to handle events when
    a spell's empowerment stage has been completed. This method is typically invoked
    during the execution of empowered spells in World of Warcraft, such as those used
    by classes like the Mage or Warlock where spells can be enhanced through stages.
    It allows custom scripts and mods to react to these specific stages of spell progression,
    enabling dynamic gameplay behaviors and effects tied to spell empowerment. The
    method takes a parameter indicating how many empowerment stages have been completed,
    which may influence how handlers are executed or what effects occur.
  parameters:
  - name: completedStagesCount
    description: An integer value representing the number of empowerment stages that
      have been successfully completed for the spell. This count determines how many
      script handlers will be invoked and potentially affects the behavior or outcome
      of those handlers.
  returns: null
  examples:
  - title: Basic Usage in Spell Logic
    code: "void MySpell::HandleEmpowerStageComplete(int32 stages)\n{\n    // Trigger\
      \ script handlers for completed empowerment stages\n    CallScriptEmpowerStageCompletedHandlers(stages);\n\
      }"
    language: cpp
  - title: Integration with Custom Spell System
    code: "class CustomEmpowerSpell : public Spell\n{\npublic:\n    void ApplyEmpowerEffect(int32\
      \ stage)\n    {\n        // Apply effects based on stage\n        if (stage\
      \ >= 3)\n        {\n            CallScriptEmpowerStageCompletedHandlers(stage);\n\
      \        }\n    }\n};"
    language: cpp
  notes: This method is part of the internal spell execution flow and should only
    be called when empowerment stages are actually completed. It is intended for use
    within the core spell processing logic and may not be directly exposed to external
    scripts or mods unless explicitly allowed by the TrinityCore API design.
  warnings: Improper invocation of this method without proper stage completion validation
    can lead to unexpected behavior in spell effects, especially when custom handlers
    rely on accurate stage counts. Ensure that the completedStagesCount parameter
    accurately reflects the actual empowerment stages achieved before calling this
    function.
  related:
  - Spell::CallScriptEffectHandlers
  - Spell::CallScriptTargetHandlers
  - Spell::CallScriptCastStartHandlers
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T09:57:21.189756'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
