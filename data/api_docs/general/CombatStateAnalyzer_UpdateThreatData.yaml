api:
  class: CombatStateAnalyzer
  method: UpdateThreatData
  signature: void CombatStateAnalyzer::UpdateThreatData()
documentation:
  brief: Updates the threat data for all units involved in combat within the analyzer's
    scope.
  description: The UpdateThreatData method recalculates and refreshes the current
    threat levels for all creatures and players participating in active combat. This
    method is typically invoked during combat state updates to ensure that threat
    information remains synchronized with the latest damage dealt, healing received,
    and other combat-related events. It processes the internal threat tables and adjusts
    unit aggro based on the updated combat state. The method does not directly modify
    any external data but rather updates internal tracking structures used by the
    combat system for determining target selection and threat distribution.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Combat Update Loop
    code: "void WorldSession::HandleCombatUpdate()\n{\n    if (m_combatAnalyzer)\n\
      \        m_combatAnalyzer->UpdateThreatData();\n}"
    language: cpp
  notes: This method should be called regularly during combat updates to maintain
    accurate threat tracking. It is generally not thread-safe and should only be invoked
    from the main game thread or within a synchronized context.
  warnings: null
  related:
  - GetThreatList
  - AddThreat
  - ClearThreatList
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T06:14:50.504337'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
