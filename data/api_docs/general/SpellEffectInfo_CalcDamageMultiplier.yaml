api:
  class: SpellEffectInfo
  method: CalcDamageMultiplier
  signature: float SpellEffectInfo::CalcDamageMultiplier(WorldObject * caster, Spell
    * spell) const
documentation:
  brief: Calculates the damage multiplier for a spell effect based on caster and spell
    context.
  description: The CalcDamageMultiplier method computes a floating-point multiplier
    that is applied to the base damage of a spell effect. This multiplier accounts
    for various factors such as spell modifiers, caster attributes, and effect-specific
    calculations within the TrinityCore framework. The result is used during spell
    damage application to determine the final effective damage dealt by the spell.
    The method takes into consideration the caster's state, spell properties, and
    effect parameters to produce an accurate damage scaling factor.
  parameters:
  - name: caster
    description: Pointer to the WorldObject that is casting the spell. This can be
      a Player, Creature, or GameObject depending on the source of the spell.
  - name: spell
    description: Pointer to the Spell object representing the spell being cast. Contains
      all relevant spell data and context for damage calculation.
  returns: A float value representing the damage multiplier. This value is typically
    greater than or equal to zero, where 1.0 represents no modification to base damage,
    values less than 1.0 reduce damage, and values greater than 1.0 increase damage.
  examples:
  - title: Basic Usage in Spell Damage Calculation
    code: 'float multiplier = spellEffect->CalcDamageMultiplier(caster, currentSpell);

      float finalDamage = baseDamage * multiplier;'
    language: cpp
  - title: Using Multiplier to Modify Damage Output
    code: "if (spellEffect->IsEffect(SPELL_EFFECT_SCHOOL_DAMAGE))\n{\n    float damageMultiplier\
      \ = spellEffect->CalcDamageMultiplier(caster, spell);\n    // Apply the multiplier\
      \ to calculated damage\n    damage *= damageMultiplier;\n}"
    language: cpp
  notes: This method is part of the core spell system and should be called during
    the spell's damage calculation phase. It relies on internal spell effect data
    and caster state, so it must be invoked after all relevant spell and caster states
    are properly initialized.
  warnings: Ensure that both the caster and spell parameters are valid pointers before
    calling this method to avoid segmentation faults. The method assumes proper spell
    initialization and may produce unexpected results if called prematurely in the
    spell lifecycle.
  related:
  - SpellEffectInfo::CalculateDamage
  - SpellEffectInfo::GetEffectIndex
  - SpellEffectInfo::IsEffect
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T02:05:48.503098'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
