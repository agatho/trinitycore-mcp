api:
  class: QuestManager
  method: ProcessCompletingPhase
  signature: void QuestManager::ProcessCompletingPhase()
documentation:
  brief: Processes the completion phase for active quests in the quest manager.
  description: The ProcessCompletingPhase method handles the finalization of quests
    that have met their completion criteria. This method iterates through all active
    quests assigned to a player, evaluates whether each quest's objectives have been
    fulfilled, and triggers the appropriate quest completion logic including reward
    distribution, quest flag updates, and potential quest advancement. It ensures
    that completed quests are properly removed from the active quest list and that
    players receive any associated rewards or experience. The method is typically
    invoked during quest update cycles or when specific quest conditions are met within
    the game world.
  parameters: []
  returns: null
  examples:
  - title: Basic Quest Completion Processing
    code: "void Player::UpdateQuests()\n{\n    // ... other quest logic ...\n    m_questManager->ProcessCompletingPhase();\n\
      \    // ... continue with other updates ...\n}"
    language: cpp
  notes: This method should only be called when the player's quest state is stable
    and no concurrent quest modifications are occurring. It internally manages quest
    completion flags and may trigger additional quest-related events that could affect
    other systems. The method does not directly send packets to the client; it prepares
    data for subsequent packet generation.
  warnings: Calling this method during quest modification operations can lead to race
    conditions or inconsistent quest states. Avoid invoking this method from within
    quest event handlers unless absolutely necessary, as it may cause stack corruption
    or infinite recursion in certain scenarios.
  related:
  - QuestManager::AddQuest
  - QuestManager::RemoveQuest
  - QuestManager::UpdateQuest
  - QuestManager::CheckQuestCompletion
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T00:13:25.169497'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
