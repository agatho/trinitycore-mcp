api:
  class: AuraEffect
  method: HandleOverrideSpellPowerByAttackPower
  signature: void AuraEffect::HandleOverrideSpellPowerByAttackPower(const AuraApplication
    * aurApp, uint8 mode, bool apply) const
documentation:
  brief: Applies or removes the spell power override effect based on attack power
    for the aura application.
  description: The HandleOverrideSpellPowerByAttackPower method manages the application
    and removal of an aura effect that modifies spell power in relation to the caster's
    attack power. This method is typically invoked during aura application or removal
    events, adjusting the affected unit's spell power attribute based on their current
    attack power value. The effect is calculated using the aura's base points and
    applied to the target's spell power stat. This mechanism allows for abilities
    that scale spell damage or healing based on physical attack power, which is common
    in certain classes like Rogues or Warriors with specific talents.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura being
      applied or removed. This parameter contains information about the aura's state
      and target.
  - name: mode
    description: The mode of operation for the aura effect, indicating whether it
      is being applied (1) or removed (0). This value determines how the spell power
      override is handled during the aura lifecycle.
  - name: apply
    description: Boolean flag indicating if the effect should be applied (true) or
      removed (false). When true, the spell power override is added to the target;
      when false, it is removed from the target.
  returns: null
  examples:
  - title: Applying Spell Power Override Aura
    code: "void ApplySpellPowerOverride(AuraEffect* auraEffect, Unit* target)\n{\n\
      \    AuraApplication* app = new AuraApplication(target, target, auraEffect->GetAura(),\
      \ 0, 1);\n    auraEffect->HandleOverrideSpellPowerByAttackPower(app, 1, true);\n\
      }"
    language: cpp
  - title: Removing Spell Power Override Effect
    code: "void RemoveSpellPowerOverride(AuraEffect* auraEffect, Unit* target)\n{\n\
      \    AuraApplication* app = new AuraApplication(target, target, auraEffect->GetAura(),\
      \ 0, 0);\n    auraEffect->HandleOverrideSpellPowerByAttackPower(app, 0, false);\n\
      }"
    language: cpp
  notes: This method directly modifies the target's spell power attribute. It should
    only be called during aura application or removal events to maintain proper game
    state consistency. The effect calculation depends on the aura's base points and
    may involve scaling factors based on the caster's attack power.
  warnings: Improper use of this method can lead to incorrect spell power calculations,
    affecting gameplay balance. Ensure that the aura application context is valid
    before calling this method to avoid undefined behavior or inconsistent game state.
  related:
  - AuraEffect::GetAura
  - AuraApplication::GetTarget
  - Unit::GetFloatValue
  - Unit::SetFloatValue
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T12:12:09.972156'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
