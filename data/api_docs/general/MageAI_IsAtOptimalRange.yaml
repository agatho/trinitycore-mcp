api:
  class: MageAI
  method: IsAtOptimalRange
  signature: bool MageAI::IsAtOptimalRange(::Unit * target)
documentation:
  brief: Determines whether the Mage AI is within optimal range of its target for
    spell casting.
  description: The IsAtOptimalRange method evaluates the distance between the Mage
    AI unit and its target to determine if the target is within the optimal range
    for casting spells. This method is crucial for Mage AI behavior, ensuring that
    spells are only cast when the target is at an appropriate distance. The optimal
    range varies depending on the specific spell being considered, but this method
    typically checks against the maximum casting range of the mage's current spell
    selection. It returns true if the target is within the acceptable range, and false
    otherwise. This functionality helps prevent mages from attempting to cast spells
    at targets that are too far away or too close, which would result in failed casts
    or inefficient gameplay.
  parameters:
  - name: target
    description: Pointer to the Unit object representing the target of the Mage AI.
      This parameter must not be null for the method to function correctly.
  returns: Returns true if the Mage AI unit is within the optimal casting range of
    the target, false otherwise. The exact range calculation depends on the current
    spell being considered by the AI.
  examples:
  - title: Basic usage in Mage AI logic
    code: "if (mageAI->IsAtOptimalRange(targetUnit)) {\n    // Cast spell\n    mageAI->CastSpell(targetUnit,\
      \ SPELL_FIREBALL);\n} else {\n    // Move closer to target\n    mageAI->MoveToTarget(targetUnit);\n\
      }"
    language: cpp
  - title: Integration with spell selection logic
    code: "if (mageAI->IsAtOptimalRange(target)) {\n    SpellInfo const* spell = mageAI->GetNextSpellToCast();\n\
      \    if (spell && spell->Id == SPELL_FROST_NOVA) {\n        // Frost Nova is\
      \ cast at optimal range\n        mageAI->CastSpell(target, SPELL_FROST_NOVA);\n\
      \    }\n}"
    language: cpp
  notes: This method likely uses the unit's current spell range data and target distance
    calculations. The implementation may vary based on the specific Mage AI subclass
    or spell selection logic in use. Performance is generally good as it only involves
    distance comparisons, but repeated calls should be optimized in tight loops.
  warnings: Ensure that the target parameter is valid and not null before calling
    this method, as passing a null pointer could lead to undefined behavior or crashes.
    The method may return false even when the target is within range if the AI's current
    spell selection has different range requirements than expected.
  related:
  - CastSpell
  - MoveToTarget
  - GetNextSpellToCast
  - IsInRange
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T12:42:05.758906'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
