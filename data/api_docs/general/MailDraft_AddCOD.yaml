api:
  class: MailDraft
  method: AddCOD
  signature: MailDraft & MailDraft::AddCOD(uint64 COD)
documentation:
  brief: Sets the cash on delivery amount for a mail draft
  description: The AddCOD method assigns a cash on delivery (COD) amount to the mail
    draft, which represents the gold value that must be paid by the recipient upon
    receiving the mail. This functionality is used in World of Warcraft's mail system
    to enable players to send items with a required payment upon delivery. The COD
    amount is stored within the mail draft and will be validated when the mail is
    sent. This method returns a reference to the MailDraft object, allowing for method
    chaining.
  parameters:
  - name: COD
    description: The cash on delivery amount in copper (1 gold = 100 silver = 10000
      copper). Must be a valid non-negative value representing the payment required
      from the recipient upon mail receipt.
  returns: A reference to the MailDraft object, enabling method chaining for additional
    operations on the same mail draft.
  examples:
  - title: Setting COD Amount for Mail
    code: 'MailDraft draft("Your Package", "Please pay upon delivery.");

      draft.AddCOD(50000); // Sets COD to 5g

      // The mail will require 5 gold to be paid by recipient upon receipt'
    language: cpp
  - title: Chaining AddCOD with Other Mail Operations
    code: "MailDraft draft(\"Quest Reward\", \"Your reward for completing the quest.\"\
      );\ndraft.AddItem(12345, 1) // Adds item ID 12345\n    .AddCOD(100000)     \
      \  // Sets COD to 10g\n    .SendMailTo(PlayerLink);\n// Sends mail with item\
      \ and required COD payment"
    language: cpp
  notes: The COD amount is stored in the mail's 'cash_on_delivery' field. This value
    will be validated during mail sending to ensure it does not exceed the maximum
    allowed by the game's economy system. If a player attempts to send mail with a
    COD greater than their available gold, the operation may fail or be adjusted.
  warnings: Setting an invalid COD amount (negative or excessively high) may result
    in mail delivery failure or unexpected behavior. Ensure that the COD value is
    within reasonable bounds for the game's economy system. This method does not validate
    the COD amount against player inventory - validation occurs during mail sending.
  related:
  - MailDraft::AddItem
  - MailDraft::SendMailTo
  - MailDraft::AddMoney
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T08:56:44.029049'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
