api:
  class: WorldSession
  method: HandleQueryPetName
  signature: void WorldSession::HandleQueryPetName(WorldPackets::Query::QueryPetName
    & packet)
documentation:
  brief: Handles a client request to query the name of a pet associated with a given
    GUID.
  description: The HandleQueryPetName method processes incoming packet data from the
    client requesting the name of a pet identified by its unique identifier (GUID).
    This method is part of the WorldSession class and is typically invoked when a
    player interacts with their pet in a way that requires retrieving pet information,
    such as displaying the pet's name in the UI or performing actions based on pet
    identity. The packet contains the GUID of the pet for which the name is being
    requested, and the server responds by sending back the pet's name if it exists
    in the database. This functionality supports core game mechanics related to pet
    management and interaction within World of Warcraft.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in packet handling
    code: "void WorldSession::HandleQueryPetName(WorldPackets::Query::QueryPetName&\
      \ packet)\n{\n    // Extract GUID from packet\n    ObjectGuid petGuid = packet.PetGUID;\n\
      \    \n    // Retrieve pet name from database or cache\n    std::string petName\
      \ = sObjectMgr->GetPetName(petGuid);\n    \n    // Send response back to client\n\
      \    WorldPackets::Query::QueryPetNameResponse response;\n    response.PetGUID\
      \ = petGuid;\n    response.Name = petName;\n    SendPacket(response.Write());\n\
      }"
    language: cpp
  notes: This method assumes that the packet contains a valid GUID for a pet. It is
    expected to be called only when the client has already authenticated and the session
    is active. The implementation may involve database lookups or cached data retrieval
    depending on how pets are managed in the server's architecture.
  warnings: Ensure that the GUID provided in the packet corresponds to an actual pet
    owned by the player; otherwise, incorrect behavior or errors may occur. Avoid
    sending invalid responses to prevent client-side crashes or unexpected UI states.
  related:
  - HandlePetAction
  - HandlePetRename
  - HandlePetAbandon
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:05:50.412091'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
