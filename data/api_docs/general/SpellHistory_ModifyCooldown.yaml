api:
  class: SpellHistory
  method: ModifyCooldown
  signature: void SpellHistory::ModifyCooldown(const SpellInfo * spellInfo, int cooldownMod,
    bool withoutCategoryCooldown)
documentation:
  brief: Modifies the cooldown time of a specified spell by a given modifier value.
  description: The ModifyCooldown method adjusts the cooldown duration of a spell
    based on the provided modifier. This function is typically used to apply temporary
    changes to spell cooldowns, such as those caused by buffs, debuffs, or other game
    effects. The method can optionally exclude category-based cooldowns if specified.
    It directly manipulates the internal cooldown tracking system for the spell, ensuring
    that subsequent uses of the spell respect the modified cooldown period. This functionality
    is essential for implementing game mechanics like haste effects, cooldown reductions,
    or temporary spell restrictions.
  parameters:
  - name: spellInfo
    description: Pointer to the SpellInfo structure defining the spell whose cooldown
      will be modified. Must not be null.
  - name: cooldownMod
    description: Integer value representing the modification to apply to the spell's
      cooldown in milliseconds. Positive values increase cooldown, negative values
      decrease it.
  - name: withoutCategoryCooldown
    description: Boolean flag indicating whether category-based cooldowns should be
      excluded from the modification. If true, only direct spell cooldowns are affected;
      if false, both spell and category cooldowns are modified.
  returns: null
  examples:
  - title: Reduce Cooldown by 2000ms
    code: 'SpellInfo const* spell = sSpellMgr->GetSpellInfo(12345);

      spellHistory->ModifyCooldown(spell, -2000, false);'
    language: cpp
  - title: Apply Haste Effect Without Category Cooldowns
    code: 'SpellInfo const* spell = sSpellMgr->GetSpellInfo(67890);

      spellHistory->ModifyCooldown(spell, -500, true);'
    language: cpp
  notes: This method modifies the internal cooldown state directly. It does not send
    any updates to the client or trigger cooldown events automatically. Developers
    should ensure that any visual feedback for cooldown changes is handled separately.
  warnings: Incorrect use of negative cooldownMod values may result in unexpected
    behavior, such as spells becoming available before their cooldown has fully expired.
    Always validate input parameters and consider potential edge cases where cooldowns
    could become negative or excessively long.
  related:
  - GetSpellCooldown
  - SetSpellCooldown
  - ResetAllCooldowns
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T01:58:57.358429'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
