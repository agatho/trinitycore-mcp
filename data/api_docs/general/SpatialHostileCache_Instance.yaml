api:
  class: SpatialHostileCache
  method: Instance
  signature: SpatialHostileCache & SpatialHostileCache::Instance()
documentation:
  brief: Returns the singleton instance of the SpatialHostileCache class.
  description: The Instance method implements the singleton pattern for the SpatialHostileCache
    class, ensuring that only one instance of this cache exists throughout the application.
    This cache is typically used to store and manage hostile units within a specific
    spatial region or area of interest. The method is thread-safe and guarantees that
    subsequent calls will return the same instance reference. It is commonly utilized
    in AI pathfinding and threat assessment systems where maintaining a consistent
    view of nearby hostile entities is crucial for proper behavior execution.
  parameters: []
  returns: A reference to the single instance of the SpatialHostileCache class. This
    reference can be used directly to access all methods and data members of the cache
    without requiring additional instantiation.
  examples:
  - title: Basic Usage
    code: 'SpatialHostileCache& cache = SpatialHostileCache::Instance();

      // Use cache to retrieve or update hostile unit information

      Unit* target = cache.GetClosestHostile(position);'
    language: cpp
  - title: Integration with AI System
    code: "class EnemyAI {\npublic:\n    void Update() {\n        auto& cache = SpatialHostileCache::Instance();\n\
      \        if (auto* hostile = cache.GetClosestHostile(m_position)) {\n      \
      \      m_target = hostile;\n            // Perform attack logic\n        }\n\
      \    }\n};"
    language: cpp
  notes: The singleton instance is created on first access and persists for the lifetime
    of the application. This method should be used sparingly to avoid tight coupling
    with global state. The cache may automatically update its contents based on spatial
    changes or game events, so direct manipulation of cached data should be avoided
    unless specifically designed for such use.
  warnings: Since this is a singleton, excessive reliance on it can make unit testing
    difficult and introduce hidden dependencies. Be cautious when modifying the cache's
    internal state directly as it may affect other systems that depend on the same
    instance. The method assumes thread safety but individual operations within the
    cache should still be considered carefully in multi-threaded contexts.
  related:
  - GetClosestHostile
  - AddHostile
  - RemoveHostile
  - Clear
metadata:
  confidence: 0.95
  generated_at: '2025-11-08T21:41:49.337651'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
