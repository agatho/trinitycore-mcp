api:
  class: WorldSession
  method: CanSpeak
  signature: bool WorldSession::CanSpeak() const
documentation:
  brief: Determines whether the session's player is allowed to send chat messages
  description: "The CanSpeak method checks if the player associated with this WorldSession\
    \ is permitted to send chat messages. This check considers various game states\
    \ and restrictions such as being muted, having a chat restriction applied, or\
    \ being in a state where communication is disabled. The method returns true if\
    \ the player can speak, and false otherwise. This functionality is crucial for\
    \ maintaining game\u79E9\u5E8F and preventing spam or inappropriate communication\
    \ during gameplay."
  parameters: []
  returns: Returns true if the player associated with this session can send chat messages,
    false if they are restricted from speaking due to game state or restrictions.
  examples:
  - title: Basic usage to check if player can speak
    code: "if (session->CanSpeak()) {\n    // Allow sending chat message\n    session->SendChatMessage(CHAT_MSG_SAY,\
      \ LANG_UNIVERSAL, \"Hello everyone!\");\n} else {\n    // Player cannot speak,\
      \ send error message\n    session->SendNotification(\"You are currently unable\
      \ to speak.\");\n}"
    language: cpp
  notes: This method likely checks internal player state flags and server-side restrictions
    rather than just checking for a mute status. It may also consider the player's
    current zone, game mode, or other contextual factors that affect communication.
  warnings: null
  related:
  - WorldSession::SendChatMessage
  - Player::IsMuted
  - Player::HasChatRestriction
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T20:05:27.239483'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
