api:
  class: CrowdControlManager
  method: GetRecommendedSpell
  signature: uint32 CrowdControlManager::GetRecommendedSpell(Unit * target)
documentation:
  brief: Returns the spell ID of the most appropriate crowd control ability to apply
    to the specified target.
  description: The GetRecommendedSpell method determines and returns the optimal crowd
    control spell ID that should be used against a given target unit. This method
    evaluates various factors such as the target's current state, resistances, and
    the caster's available abilities to select the most effective crowd control option.
    It is typically used in AI decision-making processes for NPCs or player characters
    to determine which crowd control ability will have the highest chance of success
    or impact. The returned spell ID corresponds to a valid spell entry in the game's
    database that can be cast using standard spell casting mechanics.
  parameters: []
  returns: A uint32 representing the spell ID of the recommended crowd control spell.
    Returns 0 if no suitable crowd control spell is available or if the target cannot
    be controlled.
  examples:
  - title: Basic Usage in AI Script
    code: "void ExampleAI::UpdateAI(uint32 diff)\n{\n    if (Unit* target = SelectTarget(SELECT_TARGET_TOPAGGRO))\n\
      \    {\n        uint32 spellId = m_crowdControlManager->GetRecommendedSpell(target);\n\
      \        if (spellId && CanCastSpell(spellId))\n        {\n            CastSpell(target,\
      \ spellId);\n        }\n    }\n}"
    language: cpp
  - title: Checking for Valid Spell Before Casting
    code: "Unit* target = GetVictim();\nif (target)\n{\n    uint32 recommendedSpell\
      \ = CrowdControlManager->GetRecommendedSpell(target);\n    if (recommendedSpell\
      \ != 0)\n    {\n        // Verify spell is known and available\n        if (player->HasSpell(recommendedSpell))\n\
      \        {\n            player->CastSpell(target, recommendedSpell, true);\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method likely considers factors such as target immunity, spell cooldowns,
    mana costs, and the caster's current state when determining the recommendation.
    The implementation may be context-sensitive and could vary based on the specific
    AI or class using the CrowdControlManager.
  warnings: Ensure that the returned spell ID is validated before casting to prevent
    errors. Some crowd control spells might have restrictions or requirements (like
    line of sight, target type) that must be checked prior to use.
  related:
  - GetRecommendedSpellForTarget
  - IsCrowdControlSpell
  - CanApplyCrowdControl
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T14:52:15.473848'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
