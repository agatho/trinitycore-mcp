api:
  class: AzeriteEmpoweredItem
  method: BuildValuesUpdateForPlayerWithMask
  signature: void AzeriteEmpoweredItem::BuildValuesUpdateForPlayerWithMask(int * data,
    const int & requestedObjectMask, const int & requestedItemMask, const int & requestedAzeriteEmpoweredItemMask,
    const int * target) const
documentation:
  brief: Updates player data with Azerite empowered item information based on specified
    masks.
  description: The BuildValuesUpdateForPlayerWithMask method constructs and populates
    update data for a player's Azerite empowered item properties. It uses three mask
    parameters to determine which specific data fields should be included in the update
    packet sent to the client. This method is typically invoked when synchronizing
    Azerite item state between server and client, particularly during login, item
    modifications, or UI refreshes. The method operates on internal data structures
    representing the Azerite empowered item's state and ensures that only relevant
    information is transmitted based on the provided masks.
  parameters:
  - name: data
    description: Pointer to an integer array where the constructed update values will
      be stored. This buffer must be pre-allocated with sufficient space to hold all
      expected data fields.
  - name: requestedObjectMask
    description: Bitmask specifying which object-related properties should be included
      in the update. Each bit represents a different object field in the update packet
      structure.
  - name: requestedItemMask
    description: Bitmask specifying which item-related properties should be included
      in the update. Controls which fields from the base item data are transmitted
      to the client.
  - name: requestedAzeriteEmpoweredItemMask
    description: Bitmask specifying which Azerite empowered item-specific properties
      should be included in the update. Determines which Azerite-related fields (such
      as power levels, relics, etc.) are sent to the player.
  - name: target
    description: Pointer to the target object whose data will be used for constructing
      the update values. This typically points to the AzeriteEmpoweredItem instance
      being processed.
  returns: null
  examples:
  - title: Basic usage example
    code: 'int updateData[100];

      int objectMask = 0x01;

      int itemMask = 0x02;

      int azeriteMask = 0x04;

      AzeriteEmpoweredItem* item = player->GetAzeriteEmpoweredItem();

      item->BuildValuesUpdateForPlayerWithMask(updateData, objectMask, itemMask, azeriteMask,
      &item);'
    language: cpp
  notes: This method is part of the internal update system for Azerite empowered items
    in TrinityCore. It assumes that the provided data buffer is large enough to accommodate
    all requested fields. The method does not perform any validation on the mask values,
    so invalid or overlapping masks may lead to incorrect behavior.
  warnings: Ensure that the target parameter points to a valid AzeriteEmpoweredItem
    instance; otherwise, accessing invalid memory may occur. Also, be cautious with
    mask combinations that might result in excessive data transmission if not properly
    constrained.
  related:
  - GetAzeriteEmpoweredItem
  - UpdateAzeriteEmpoweredItemData
  - SendUpdateToPlayer
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T13:17:14.226388'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
