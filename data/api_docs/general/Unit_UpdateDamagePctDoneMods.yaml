api:
  class: Unit
  method: UpdateDamagePctDoneMods
  signature: void Unit::UpdateDamagePctDoneMods(int attackType)
documentation:
  brief: Updates percentage-based damage modifiers for the specified attack type on
    the unit.
  description: The UpdateDamagePctDoneMods method recalculates and applies all percentage-based
    damage modifiers that affect the unit's damage output for a given attack type.
    This method is typically invoked during combat calculations to ensure that buffs,
    debuffs, and other effects that modify damage percentages are properly accounted
    for. The attackType parameter determines which category of attacks (melee, ranged,
    or spell) the modifiers should be applied to. This method does not directly modify
    damage values but rather updates internal modifier states that influence subsequent
    damage calculations.
  parameters: []
  returns: null
  examples:
  - title: Updating melee damage modifiers
    code: 'Unit* target = ...;

      target->UpdateDamagePctDoneMods(BASE_ATTACK);'
    language: cpp
  - title: Updating ranged damage modifiers after buff application
    code: 'Unit* attacker = ...;

      attacker->UpdateDamagePctDoneMods(OFF_ATTACK);

      // Subsequent attack will use updated percentage modifiers'
    language: cpp
  notes: This method is usually called internally by the combat system when damage
    modifiers change, such as after applying or removing buffs/debuffs. It's important
    to note that this method only updates the internal state of percentage modifiers
    and does not directly affect the actual damage calculation. The method may trigger
    recalculations for dependent systems like threat generation or damage scaling.
  warnings: Calling this method manually outside of combat system contexts might lead
    to inconsistent modifier states. Ensure that any manual invocation is done with
    proper understanding of the combat flow, as incorrect timing could cause unexpected
    behavior in damage calculations.
  related:
  - GetDamagePctDoneMods
  - AddDamagePctDoneMod
  - RemoveDamagePctDoneMod
  - CalculateDamage
metadata:
  confidence: 0.85
  generated_at: '2025-10-29T16:26:58.843397'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
