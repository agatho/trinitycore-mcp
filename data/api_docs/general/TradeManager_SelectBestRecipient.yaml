api:
  class: TradeManager
  method: SelectBestRecipient
  signature: Player * TradeManager::SelectBestRecipient(Item * item, const int & candidates)
    const
documentation:
  brief: Determines the most suitable player recipient for a trade item based on predefined
    criteria.
  description: The SelectBestRecipient method evaluates a list of potential trade
    candidates and selects the optimal player to receive an item in a trade transaction.
    This method considers factors such as inventory space, item value, and player
    relationship status to determine the best match. The selection process ensures
    efficient resource distribution within the game's trading mechanics, preventing
    overflow or inappropriate item transfers. It is typically invoked during trade
    operations when an item needs to be allocated to a specific recipient from among
    multiple possible candidates.
  parameters:
  - name: item
    description: Pointer to the Item object that will be traded. This parameter specifies
      which item is being evaluated for transfer.
  - name: candidates
    description: Reference to an integer representing the number of candidate players
      available for selection. The actual list of candidates should be accessible
      through other means within the TradeManager context.
  returns: Pointer to the Player object that is determined to be the best recipient
    for the specified item, or nullptr if no suitable recipient can be found.
  examples:
  - title: Basic Usage in Trade Context
    code: "Player* bestRecipient = tradeManager->SelectBestRecipient(item, candidateCount);\n\
      if (bestRecipient != nullptr) {\n    // Proceed with the trade to the selected\
      \ recipient\n    item->SetOwner(bestRecipient);\n} else {\n    // Handle case\
      \ where no suitable recipient exists\n    SendTradeError(TRADE_ERROR_NO_TRADE_RECIPENT);\n\
      }"
    language: cpp
  notes: This method assumes that candidate players have been pre-validated and are
    within trading range. The selection algorithm may prioritize players with higher
    reputation, more available inventory space, or those who are currently in a trade
    state with the initiating player.
  warnings: The method does not validate whether the item is actually tradable or
    if the recipient meets all requirements for receiving the item. It is the caller's
    responsibility to ensure proper validation before invoking this function.
  related:
  - GetTradeCandidates
  - ValidateTradeRecipient
  - ProcessTrade
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T23:13:50.889845'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
