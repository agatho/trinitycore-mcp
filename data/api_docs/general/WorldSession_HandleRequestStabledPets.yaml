api:
  class: WorldSession
  method: HandleRequestStabledPets
  signature: void WorldSession::HandleRequestStabledPets(WorldPackets::NPC::RequestStabledPets
    & packet)
documentation:
  brief: Handles a client request to retrieve information about stabled pets.
  description: The HandleRequestStabledPets method processes a packet sent by the
    client when a player interacts with a stable master to view their stabled pets.
    This method retrieves the list of pets currently stored in the player's stable
    and sends them back to the client for display in the stable interface. The method
    ensures that only the owner of the pets can access this information, and it validates
    the player's session before proceeding. It is part of the NPC interaction system
    in TrinityCore, specifically related to pet management functionality.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage
    code: "void WorldSession::HandleRequestStabledPets(WorldPackets::NPC::RequestStabledPets&\
      \ packet)\n{\n    // Validate session and player\n    if (!GetPlayer() || !GetPlayer()->IsInWorld())\n\
      \        return;\n    \n    // Retrieve stabled pets from database\n    // Send\
      \ response packet with pet data to client\n}"
    language: cpp
  notes: This method is typically invoked when a player opens the stable master interface.
    The implementation relies on proper session validation and database queries to
    fetch pet information. It's important to note that this method only handles the
    request processing, not the actual sending of the response packet, which is handled
    separately by the core system.
  warnings: null
  related:
  - HandleStablePet
  - HandleUnstablePet
  - HandleBuyStableSlot
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T20:44:49.388687'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
