api:
  class: RBACData
  method: DenyPermission
  signature: RBACCommandResult RBACData::DenyPermission(uint32 permissionId, int32
    realmId)
documentation:
  brief: Denies a specific permission for a given realm ID in the RBAC system
  description: The DenyPermission method is used to explicitly deny a specified permission
    ID for a particular realm within the Role-Based Access Control (RBAC) framework
    of TrinityCore. This method allows administrators or systems to restrict access
    to certain commands, features, or actions by revoking permissions that might otherwise
    be granted. The operation affects only the specified realm, allowing for fine-grained
    control over permissions across different realms in a multi-realm environment.
    It is typically used in conjunction with other RBAC methods to build comprehensive
    permission policies.
  parameters:
  - name: permissionId
    description: The unique identifier of the permission to be denied. This ID corresponds
      to a specific command or feature within the TrinityCore system that can be controlled
      through RBAC.
  - name: realmId
    description: The realm identifier for which the permission should be denied. A
      value of -1 indicates that the denial applies to all realms, while a positive
      integer specifies a particular realm.
  returns: Returns an RBACCommandResult enum indicating the success or failure of
    the operation. Possible values include RBAC_RESULT_SUCCESS if the permission was
    successfully denied, and other error codes such as RBAC_RESULT_ERROR_INVALID_ID
    if the permission ID is invalid, or RBAC_RESULT_ERROR_NO_PERMISSION if there are
    insufficient privileges to perform the action.
  examples:
  - title: Deny a permission for a specific realm
    code: "RBACData rbacData;\nRBACCommandResult result = rbacData.DenyPermission(1234,\
      \ 5678);\nif (result == RBAC_RESULT_SUCCESS) {\n    // Permission denied successfully\n\
      }"
    language: cpp
  - title: Deny a permission for all realms
    code: "RBACData rbacData;\nRBACCommandResult result = rbacData.DenyPermission(1234,\
      \ -1);\nif (result == RBAC_RESULT_SUCCESS) {\n    // Permission denied for all\
      \ realms\n}"
    language: cpp
  notes: This method modifies the internal RBAC data structure and may require persistence
    to disk or database updates depending on the implementation. The permission ID
    must correspond to a valid permission defined in the TrinityCore permission system.
    This method is part of the core RBAC infrastructure and should be used carefully
    to avoid unintended access restrictions.
  warnings: Using this method with realmId = -1 will affect all realms globally, which
    may have widespread consequences. Ensure that proper validation and testing are
    performed before applying global permission denials. Incorrect usage can lead
    to users being locked out of critical system functionality.
  related:
  - GrantPermission
  - CheckPermission
  - HasPermission
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T23:48:35.877767'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
