api:
  class: WorldSession
  method: HandlePetStopAttack
  signature: void WorldSession::HandlePetStopAttack(WorldPackets::Pet::PetStopAttack
    & packet)
documentation:
  brief: Stops the player's pet from attacking targets
  description: The HandlePetStopAttack method processes a client packet that instructs
    the server to stop the player's currently active pet from attacking any targets.
    This method is part of the WorldSession class and handles communication between
    the game client and server regarding pet combat behavior. When invoked, it ensures
    that the pet's attack state is reset and any ongoing attacks are canceled, allowing
    the player to control their pet's aggression level. The method typically executes
    in response to a user command or UI interaction within the game interface.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in packet handling
    code: "void WorldSession::HandlePetStopAttack(WorldPackets::Pet::PetStopAttack&\
      \ packet)\n{\n    if (Player* player = GetPlayer())\n    {\n        if (Unit*\
      \ pet = player->GetPet())\n        {\n            pet->AttackStop();\n     \
      \   }\n    }\n}"
    language: cpp
  notes: This method assumes that the player has an active pet and that the pet is
    currently in an attacking state. The implementation relies on the underlying Unit::AttackStop()
    functionality to properly terminate any ongoing attacks. This method is typically
    called as part of the packet processing pipeline when a client sends a pet stop
    attack command.
  warnings: null
  related:
  - HandlePetAttack
  - HandlePetStop
  - GetPlayer
  - GetPet
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:14:35.339838'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
