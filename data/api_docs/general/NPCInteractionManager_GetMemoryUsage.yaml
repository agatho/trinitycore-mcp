api:
  class: NPCInteractionManager
  method: GetMemoryUsage
  signature: size_t NPCInteractionManager::GetMemoryUsage() const
documentation:
  brief: Calculates and returns the total memory usage of NPC interaction data managed
    by the NPCInteractionManager.
  description: The GetMemoryUsage method computes the cumulative memory footprint
    of all NPC interaction data currently stored within the NPCInteractionManager
    instance. This includes memory allocated for interaction records, dialogue trees,
    quest associations, and any related metadata. The method is typically used for
    debugging, performance monitoring, or memory management purposes within the TrinityCore
    server environment. It provides a snapshot of how much memory is being consumed
    by NPC interaction systems at any given time. The calculation accounts for all
    dynamically allocated memory structures but excludes overhead from the container
    objects themselves.
  parameters: []
  returns: Returns a size_t value representing the total memory usage in bytes of
    all NPC interaction data managed by this instance. A return value of zero indicates
    either no data exists or an error occurred during calculation.
  examples:
  - title: Basic Memory Usage Check
    code: 'size_t memoryUsed = sNPCInteractionManager->GetMemoryUsage();

      TC_LOG_INFO("npc.interaction", "NPC Interaction Manager is using {} bytes of
      memory.", memoryUsed);'
    language: cpp
  - title: Monitoring Memory Growth Over Time
    code: "uint32 lastCheck = 0;\nvoid UpdateMemoryUsage() {\n    uint32 currentTime\
      \ = GetMSTime();\n    if (currentTime - lastCheck >= 60000) { // Every minute\n\
      \        size_t currentMemory = sNPCInteractionManager->GetMemoryUsage();\n\
      \        TC_LOG_INFO(\"npc.interaction\", \"Current NPC interaction memory usage:\
      \ {} KB\", currentMemory / 1024);\n        lastCheck = currentTime;\n    }\n\
      }"
    language: cpp
  notes: This method performs a full traversal of all managed NPC interaction data
    structures to calculate the total memory footprint. For systems with large numbers
    of NPCs and complex interactions, this operation may have performance implications.
    The returned value reflects only the actual data size and does not include memory
    allocator overhead or internal container overhead.
  warnings: The memory usage calculation might be inaccurate if there are concurrent
    modifications to the NPC interaction data during the calculation process. Additionally,
    this method should not be called frequently in performance-critical code paths
    as it may cause noticeable delays on systems with extensive NPC interaction data.
  related:
  - GetNumInteractions
  - GetInteractionCount
  - ClearMemory
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T12:14:00.719405'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
