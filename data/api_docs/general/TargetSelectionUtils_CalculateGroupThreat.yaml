api:
  class: TargetSelectionUtils
  method: CalculateGroupThreat
  signature: float TargetSelectionUtils::CalculateGroupThreat(Unit * target, const
    int & group)
documentation:
  brief: Calculates and returns the threat value of a target within a specified group.
  description: The CalculateGroupThreat method computes the total threat level that
    a given target has accumulated within a specific group context. This function
    is typically used in AI-based targeting systems to determine which unit should
    be prioritized for attack based on threat levels. The method evaluates the threat
    contributions from all members of the specified group towards the provided target
    and returns a combined float value representing this aggregated threat. It's commonly
    employed in mob AI logic where creatures need to select targets based on who poses
    the greatest threat to the group or individual members.
  parameters:
  - name: target
    description: Pointer to the Unit object representing the target whose threat level
      is being calculated. This parameter must not be null and should point to a valid
      game unit.
  - name: group
    description: Integer identifier representing the group index for which threat
      is being calculated. Valid values are typically non-negative integers corresponding
      to group IDs within the current context.
  returns: A float value representing the total threat level that the specified target
    has accumulated within the given group. Higher values indicate greater threat,
    with zero or negative values indicating no threat or low threat levels.
  examples:
  - title: Basic usage in AI targeting
    code: "Unit* target = ...;\nint groupId = 0;\nfloat threatLevel = TargetSelectionUtils::CalculateGroupThreat(target,\
      \ groupId);\nif (threatLevel > 100.0f) {\n    // Prioritize this target for\
      \ attack\n}"
    language: cpp
  - title: Finding highest threat target in a group
    code: "Unit* highestThreatTarget = nullptr;\nfloat maxThreat = -1.0f;\nfor (int\
      \ i = 0; i < groupCount; ++i) {\n    float threat = TargetSelectionUtils::CalculateGroupThreat(target,\
      \ i);\n    if (threat > maxThreat) {\n        maxThreat = threat;\n        highestThreatTarget\
      \ = target;\n    }\n}\n// Use highestThreatTarget for attack selection"
    language: cpp
  notes: This method assumes that threat data is maintained per-unit and per-group.
    The implementation likely relies on internal threat tables or maps stored within
    the AI system. Performance may be impacted when dealing with large groups or frequent
    calls, so caching results where appropriate is recommended.
  warnings: Ensure that the target parameter points to a valid Unit object; passing
    null can lead to undefined behavior. The group identifier should correspond to
    an existing group in the current context, otherwise the result may be inaccurate
    or meaningless.
  related:
  - GetGroupThreat
  - UpdateGroupThreat
  - AddThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T01:26:24.228518'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
