api:
  class: GridMap
  method: getHeightFromFlat
  signature: float GridMap::getHeightFromFlat(float x, float y) const
documentation:
  brief: Retrieves the height value at the specified coordinates from a flat grid
    map representation.
  description: The getHeightFromFlat method calculates and returns the height value
    at the given (x, y) coordinates within a grid map. This method is typically used
    in World of Warcraft's TrinityCore to determine terrain elevation for object placement,
    collision detection, or pathfinding purposes. The implementation assumes a flat
    grid map representation where height values are precomputed and stored in a grid
    structure. The method does not perform any interpolation or advanced terrain sampling;
    it directly accesses the height data at the specified location. This function
    is commonly used during world object positioning and movement validation to ensure
    proper z-coordinate alignment with the underlying terrain.
  parameters: []
  returns: Returns a float value representing the height at the specified (x, y) coordinates.
    The value typically corresponds to the Z-coordinate of the terrain at that location
    in the game world's coordinate system. Returns 0.0f if the coordinates are outside
    the valid grid boundaries or if no height data is available for the specified
    location.
  examples:
  - title: Basic Height Retrieval
    code: "float height = gridMap.getHeightFromFlat(100.5f, 200.3f);\nif (height >\
      \ 0.0f) {\n    printf(\"Terrain height at (100.5, 200.3): %.2f\\n\", height);\n\
      } else {\n    printf(\"Invalid coordinates or no height data available\\n\"\
      );\n}"
    language: cpp
  - title: Using Height for Object Placement
    code: 'float playerX = 1500.0f;

      float playerY = 2500.0f;

      float groundHeight = gridMap.getHeightFromFlat(playerX, playerY);

      // Position the player at the correct Z coordinate

      player->SetPosition(playerX, playerY, groundHeight + 1.0f); // Add 1 unit for
      character height'
    language: cpp
  notes: This method operates on a precomputed flat grid map structure and does not
    perform real-time terrain sampling. The method is optimized for fast access patterns
    but may return inaccurate results if the underlying grid data is not properly
    initialized or updated. The coordinate system used by this method should match
    the grid map's internal coordinate system to ensure accurate height values.
  warnings: This method will return 0.0f for invalid coordinates, which might be indistinguishable
    from actual terrain at sea level. Always validate that your input coordinates
    are within valid grid boundaries before calling this method. The method does not
    perform bounds checking internally, so calling with out-of-bounds coordinates
    may lead to undefined behavior or incorrect results.
  related:
  - getHeight
  - getAreaHeight
  - isInLineOfSight
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T04:12:16.766833'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
