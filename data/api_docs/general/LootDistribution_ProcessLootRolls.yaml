api:
  class: LootDistribution
  method: ProcessLootRolls
  signature: void LootDistribution::ProcessLootRolls(uint32 rollId)
documentation:
  brief: Processes loot rolls for a given roll ID, determining the final loot distribution
    among players.
  description: The ProcessLootRolls method handles the logic for resolving loot rolls
    in World of Warcraft's loot system. It evaluates all player votes for a specific
    loot item identified by the rollId parameter and determines which player receives
    the item based on the rolling rules (e.g., need before greed, priority systems).
    This method is typically invoked when a loot roll concludes, ensuring that the
    correct player receives the item according to game mechanics and player permissions.
    The method operates within the context of TrinityCore's loot distribution system
    and manages the transition from roll state to awarded state for the corresponding
    loot item.
  parameters:
  - name: rollId
    description: The unique identifier for the loot roll being processed. This ID
      corresponds to a specific loot item and its associated rolling players within
      the game's loot system.
  returns: null
  examples:
  - title: Basic Usage Example
    code: LootDistribution::ProcessLootRolls(12345);
    language: cpp
  - title: Integration with Loot Roll Completion
    code: "void HandleLootRollComplete(uint32 rollId)\n{\n    // Validate roll exists\n\
      \    if (rollId > 0)\n    {\n        LootDistribution::ProcessLootRolls(rollId);\n\
      \    }\n}"
    language: cpp
  notes: This method is part of the core loot distribution system and should only
    be called when a loot roll has completed. It assumes that all player votes have
    been collected and processed before invocation. The method may trigger database
    updates and packet sends to clients to notify players of loot assignments.
  warnings: Calling this method with an invalid or non-existent rollId can lead to
    undefined behavior or crashes. Ensure the rollId is valid and corresponds to an
    active loot roll before invoking this method.
  related:
  - LootDistribution::RollLoot
  - LootDistribution::AddPlayerRoll
  - LootDistribution::RemovePlayerRoll
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T09:26:16.036698'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
