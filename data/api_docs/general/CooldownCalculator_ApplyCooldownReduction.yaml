api:
  class: CooldownCalculator
  method: ApplyCooldownReduction
  signature: uint32 CooldownCalculator::ApplyCooldownReduction(uint32 cooldownMs,
    int * caster, uint32 spellId)
documentation:
  brief: Applies cooldown reduction to a specified spell cooldown duration based on
    caster attributes and spell properties.
  description: The ApplyCooldownReduction method calculates the effective cooldown
    time for a spell by applying various cooldown reduction mechanisms. It takes an
    initial cooldown value in milliseconds, a pointer to the caster's data (which
    may contain reduction modifiers), and the spell identifier to determine how much
    the cooldown should be reduced. This method is commonly used in World of Warcraft's
    TrinityCore to simulate effects like haste, cooldown reduction buffs, or other
    game mechanics that modify spell reuse timers. The result represents the final
    cooldown time after all applicable reductions have been applied.
  parameters:
  - name: cooldownMs
    description: The base cooldown duration in milliseconds that will be reduced.
  - name: caster
    description: Pointer to an integer representing the caster's data, potentially
      containing cooldown reduction modifiers or related attributes. May be null if
      no reduction applies.
  - name: spellId
    description: Unique identifier of the spell for which cooldown reduction is being
      calculated. Used to determine specific spell properties that may affect cooldown
      calculations.
  returns: The resulting cooldown duration in milliseconds after applying all applicable
    reductions. Returns the original cooldown if no reduction is applied or if the
    input parameters are invalid.
  examples:
  - title: Basic Cooldown Reduction
    code: 'uint32 baseCooldown = 3000; // 3 seconds

      int casterData = 10; // 10% cooldown reduction

      uint32 finalCooldown = cooldownCalculator.ApplyCooldownReduction(baseCooldown,
      &casterData, 12345);

      // Final cooldown would be approximately 2700ms (3s - 300ms)'
    language: cpp
  - title: No Reduction Applied
    code: 'uint32 baseCooldown = 5000; // 5 seconds

      int* casterData = nullptr;

      uint32 finalCooldown = cooldownCalculator.ApplyCooldownReduction(baseCooldown,
      casterData, 67890);

      // Final cooldown remains 5000ms since no reduction data provided'
    language: cpp
  notes: This method likely interacts with internal spell and player data structures
    to determine applicable reductions. It may involve calculations based on haste
    percentages, aura effects, or other game mechanics that reduce cooldown times.
    The caster parameter may be used to access player stats or spell-specific modifiers.
  warnings: Ensure the caster pointer is valid before passing it to avoid undefined
    behavior. The spellId must correspond to an existing spell in the database for
    accurate results. Incorrect handling of the caster data could lead to incorrect
    cooldown calculations.
  related:
  - GetSpellCooldown
  - CalculateHaste
  - ApplySpellModifiers
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T16:46:04.638651'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
