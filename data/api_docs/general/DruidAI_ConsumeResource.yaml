api:
  class: DruidAI
  method: ConsumeResource
  signature: void DruidAI::ConsumeResource(int spellId)
documentation:
  brief: Consumes resource costs associated with a druid spell based on its ID.
  description: The ConsumeResource method is responsible for deducting the necessary
    mana, rage, or energy costs from a Druid's resource pool when a spell is cast.
    This method typically handles the logic for checking if the player has sufficient
    resources and then reducing those resources accordingly. It integrates with the
    core TrinityCore spell system to ensure proper resource management during gameplay.
    The method may also trigger visual or auditory feedback related to resource consumption.
  parameters:
  - name: spellId
    description: The unique identifier of the druid spell being cast. This ID is used
      to determine the required resource cost and type (mana, rage, energy) for the
      spell.
  returns: null
  examples:
  - title: Basic Resource Consumption
    code: "void DruidAI::OnSpellCast(int spellId)\n{\n    // Check if player has enough\
      \ resources\n    if (HasSufficientResources(spellId))\n    {\n        // Consume\
      \ the required resources\n        ConsumeResource(spellId);\n        \n    \
      \    // Proceed with spell casting logic\n        CastSpell(spellId);\n    }\n\
      }"
    language: cpp
  - title: Resource Consumption with Error Handling
    code: "void DruidAI::ExecuteSpell(int spellId)\n{\n    if (spellId <= 0)\n   \
      \     return;\n    \n    // Validate the spell exists\n    SpellInfo const*\
      \ spellInfo = sSpellMgr->GetSpellInfo(spellId);\n    if (!spellInfo)\n     \
      \   return;\n    \n    // Consume resources for the spell\n    ConsumeResource(spellId);\n\
      \    \n    // Apply spell effects\n    DoSpellEffects(spellId);\n}"
    language: cpp
  notes: This method is typically called internally by the AI system when a druid
    spell is about to be cast. It assumes that resource validation has already been
    performed and that the spell ID corresponds to a valid druid spell in the game
    database.
  warnings: Improper usage of this method without prior resource validation may lead
    to negative resource values or incorrect gameplay behavior. Ensure that all spell
    IDs passed are valid druid spell identifiers to prevent unexpected errors.
  related:
  - HasSufficientResources
  - CastSpell
  - GetResourceCost
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T14:34:49.258259'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
