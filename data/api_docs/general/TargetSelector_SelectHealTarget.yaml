api:
  class: TargetSelector
  method: SelectHealTarget
  signature: SelectionResult TargetSelector::SelectHealTarget(bool emergencyOnly)
documentation:
  brief: Selects a target for healing based on priority and emergency status.
  description: The SelectHealTarget method identifies and returns the most suitable
    unit to heal within the AI's current targeting scope. It evaluates units based
    on their health percentage, distance, and other relevant factors to determine
    the optimal healing target. When emergencyOnly is set to true, it prioritizes
    targets that are critically low on health or in immediate danger, bypassing normal
    priority rules. This method is typically used by healers in TrinityCore's AI system
    to make intelligent decisions about where to direct healing spells.
  parameters:
  - name: emergencyOnly
    description: If true, only considers targets that are critically low on health
      or in immediate danger. If false, uses standard priority rules for selecting
      healing targets.
  returns: Returns a SelectionResult object containing the selected target unit and
    associated metadata. The result may indicate whether a valid target was found,
    or if no suitable target exists within the current scope.
  examples:
  - title: Basic usage to select a healing target
    code: "SelectionResult result = targetSelector.SelectHealTarget(false);\nif (result.IsValid())\
      \ {\n    Unit* target = result.GetTarget();\n    // Proceed with healing logic\n\
      }"
    language: cpp
  - title: Emergency healing target selection
    code: "SelectionResult result = targetSelector.SelectHealTarget(true);\nif (result.IsValid())\
      \ {\n    Unit* target = result.GetTarget();\n    // Cast emergency heal spell\
      \ on target\n} else {\n    // No urgent targets found, continue with normal\
      \ behavior\n}"
    language: cpp
  notes: This method relies on the AI's internal target priority system and may be
    affected by factors such as threat levels, line of sight, and unit status. The
    SelectionResult object returned should always be checked for validity before using
    the target.
  warnings: Ensure that the target selector is properly initialized and has access
    to valid units in its scope. Using an invalid or null target can lead to crashes
    or undefined behavior. Avoid calling this method outside of AI decision-making
    contexts where it's expected to have valid targets available.
  related:
  - SelectTarget
  - GetNextTarget
  - IsTargetValid
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T01:16:29.205745'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
