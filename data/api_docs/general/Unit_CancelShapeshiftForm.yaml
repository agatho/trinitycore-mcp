api:
  class: Unit
  method: CancelShapeshiftForm
  signature: void Unit::CancelShapeshiftForm(bool onlyTravelShapeshiftForm, int removeMode,
    bool force)
documentation:
  brief: Cancel the shapeshift form of a unit, removing any active shapeshift effects.
  description: This method removes the current shapeshift form applied to a Unit,
    effectively ending any active shapeshift effects such as cat form, bear form,
    or travel form. It is commonly used when a player needs to transition back to
    their normal form after being in a shapeshift state. The method can optionally
    force removal of specific forms based on the parameters provided, and supports
    different removal modes for precise control over which forms are removed.
  parameters:
  - name: onlyTravelShapeshiftForm
    description: When true, only travel shapeshift forms (like druid travel form)
      will be removed. When false, all shapeshift forms will be removed.
  - name: removeMode
    description: Controls the removal mode for shapeshift forms. 0 = remove all forms,
      1 = remove only passive forms, 2 = remove only active forms.
  - name: force
    description: When true, forces removal even if the unit is in a state where shapeshift
      cannot normally be removed (e.g., during combat).
  returns: null
  examples:
  - title: Basic usage example
    code: 'Unit* player = GetPlayer();

      player->CancelShapeshiftForm();'
    language: cpp
  - title: Advanced usage example with parameters
    code: 'Unit* player = GetPlayer();

      player->CancelShapeshiftForm(true, 2, true);'
    language: cpp
  notes: Implementation details include handling of shapeshift effects and their associated
    aura states. The method may not work correctly if the unit is in combat or under
    certain conditions. Performance considerations are minimal but should be noted
    when using force parameter.
  warnings: This method should not be called during combat unless explicitly forced,
    as it can cause unexpected behavior or loss of shapeshift effects. Be cautious
    with the force parameter as it may lead to unintended consequences if used improperly.
  related:
  - Unit::GetShapeshiftForm
  - Unit::SetShapeshiftForm
  - Unit::IsInShapeshift
metadata:
  confidence: 0.85
  generated_at: '2025-10-30T13:41:33.404976'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
