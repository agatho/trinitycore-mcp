api:
  class: AdaptiveBehaviorManager
  method: ShouldEmergencyHeal
  signature: bool AdaptiveBehaviorManager::ShouldEmergencyHeal() const
documentation:
  brief: Determines whether an emergency heal should be performed based on current
    health and threat conditions.
  description: The ShouldEmergencyHeal method evaluates the current state of the AI-controlled
    unit to decide if an immediate healing action is required. This decision is typically
    made when the unit's health drops below a certain threshold or when it is under
    significant threat. The method considers factors such as the unit's current health
    percentage, incoming damage, and proximity to hostile targets. It returns true
    if the conditions warrant an emergency heal, false otherwise. This functionality
    is crucial for AI behavior in scenarios where survival depends on timely healing
    actions.
  parameters: []
  returns: A boolean value indicating whether an emergency heal should be performed.
    Returns true if the unit's health is critically low or under immediate threat,
    and false if no emergency healing is required at this time.
  examples:
  - title: Basic Usage in AI Logic
    code: "if (adaptiveBehaviorManager.ShouldEmergencyHeal()) {\n    // Perform emergency\
      \ heal action\n    unit->CastSpell(unit, EMERGENCY_HEAL_SPELL_ID);\n}"
    language: cpp
  - title: Integration with Health Monitoring
    code: "void UnitAI::UpdateAI() {\n    if (adaptiveBehaviorManager.ShouldEmergencyHeal())\
      \ {\n        // Prioritize healing over other actions\n        DoEmergencyHeal();\n\
      \        return;\n    }\n    // Continue with normal AI behavior\n    PerformNormalActions();\n\
      }"
    language: cpp
  notes: This method is typically called during AI update cycles and may be influenced
    by various factors including unit class, gear, and current combat situation. The
    decision logic might vary depending on the specific implementation within different
    AI modules.
  warnings: Ensure that emergency healing actions are not performed too frequently
    to avoid spamming the spell queue or causing performance issues. Consider cooldowns
    or thresholds to prevent unnecessary healing.
  related:
  - AdaptiveBehaviorManager::ShouldAttack
  - AdaptiveBehaviorManager::ShouldFlee
  - AdaptiveBehaviorManager::ShouldCastSpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T16:24:22.016039'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
