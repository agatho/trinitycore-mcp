api:
  class: WorldSession
  method: HandleCreatureQuery
  signature: void WorldSession::HandleCreatureQuery(WorldPackets::Query::QueryCreature
    & packet)
documentation:
  brief: Processes a creature query packet from the client to retrieve creature information.
  description: The HandleCreatureQuery method is responsible for processing incoming
    QueryCreature packets sent by the client. When a player requests detailed information
    about a specific creature, this method handles the request and retrieves relevant
    data such as creature display ID, name, level, faction, and other attributes.
    It typically responds with a packet containing the creature's database information
    to be displayed in the client interface. This method is part of the WorldSession's
    packet handling system and ensures that players can query creatures for details
    like quest objectives or NPC interactions.
  parameters: []
  returns: null
  examples:
  - title: Basic creature query handling
    code: "void WorldSession::HandleCreatureQuery(WorldPackets::Query::QueryCreature&\
      \ packet)\n{\n    // Process the incoming creature query packet\n    CreatureTemplate\
      \ const* creatureTemplate = sObjectMgr->GetCreatureTemplate(packet.Entry);\n\
      \    if (!creatureTemplate)\n        return;\n\n    // Send response back to\
      \ client with creature data\n    WorldPackets::Query::QueryCreatureResponse\
      \ response;\n    response.Entry = creatureTemplate->Entry;\n    response.Name\
      \ = creatureTemplate->Name;\n    response.SubName = creatureTemplate->SubName;\n\
      \    // ... populate other fields\n    SendPacket(response.Write());\n}"
    language: cpp
  notes: This method is typically invoked during player interaction with creatures,
    such as when a player clicks on an NPC or uses a quest item that references a
    creature. It's important to validate the entry ID against the database before
    processing to prevent invalid queries. The method may be called frequently during
    gameplay and should be optimized for performance.
  warnings: Improper handling of creature entries can lead to crashes or data corruption
    if invalid IDs are not properly validated. Ensure that all creature data is fetched
    from the appropriate database tables to avoid accessing null pointers or invalid
    memory regions.
  related:
  - HandleGameObjectQuery
  - HandleItemQuery
  - HandleQuestQuery
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T22:19:37.132251'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
