api:
  class: StaticMapTree
  method: UnloadMapTile
  signature: void StaticMapTree::UnloadMapTile(uint32 tileX, uint32 tileY, VMapManager2
    * vm)
documentation:
  brief: Unloads a specific map tile from memory, releasing associated VMap data.
  description: The UnloadMapTile method removes a specified map tile from the static
    map tree's memory cache. It is responsible for cleaning up VMap (Virtual Map)
    data structures that were previously loaded for collision detection and line-of-sight
    calculations. This method ensures efficient memory usage by freeing resources
    when a tile is no longer needed, particularly useful during dynamic map loading/unloading
    scenarios in World of Warcraft. The operation typically occurs when players move
    out of a tile's range or when the server needs to free memory for other operations.
  parameters:
  - name: tileX
    description: The X coordinate of the tile to unload, representing the horizontal
      position in the map grid system
  - name: tileY
    description: The Y coordinate of the tile to unload, representing the vertical
      position in the map grid system
  - name: vm
    description: Pointer to the VMapManager2 instance responsible for managing virtual
      map data structures and collision detection
  returns: null
  examples:
  - title: Basic tile unloading
    code: 'StaticMapTree* mapTree = ...;

      VMapManager2* vmapManager = ...;

      mapTree->UnloadMapTile(10, 15, vmapManager);'
    language: cpp
  - title: Unloading multiple tiles in a loop
    code: "StaticMapTree* mapTree = ...;\nVMapManager2* vmapManager = ...;\nfor (uint32\
      \ x = 0; x < 100; ++x)\n{\n    for (uint32 y = 0; y < 100; ++y)\n    {\n   \
      \     mapTree->UnloadMapTile(x, y, vmapManager);\n    }\n}"
    language: cpp
  notes: This method assumes that the tile coordinates are valid and within the map's
    defined boundaries. It should only be called when the tile is no longer needed
    to prevent memory leaks. The VMapManager2 parameter must be a valid pointer to
    ensure proper cleanup of virtual map data structures.
  warnings: Calling this method with invalid tile coordinates may lead to undefined
    behavior or crashes. Ensure that the VMapManager2 pointer is valid before calling
    this method, as passing a null pointer could cause memory corruption or access
    violations.
  related:
  - LoadMapTile
  - IsTileLoaded
  - GetTileData
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T01:46:36.003848'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
