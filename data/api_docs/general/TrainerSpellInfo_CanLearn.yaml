api:
  class: TrainerSpellInfo
  method: CanLearn
  signature: bool TrainerSpellInfo::CanLearn(Player * player) const
documentation:
  brief: Determines whether a player can learn a spell from a trainer.
  description: The CanLearn method evaluates if a given player meets all prerequisites
    to learn a specific spell offered by a trainer. This includes checking class restrictions,
    skill level requirements, spell rank limitations, and other game mechanics that
    govern spell acquisition. The method is typically called when a player attempts
    to learn a spell from a trainer NPC to ensure they are eligible for the training.
  parameters: []
  returns: Returns true if the player can learn the spell, false otherwise. The decision
    is based on various conditions such as class compatibility, skill requirements,
    and spell progression rules.
  examples:
  - title: Basic usage in trainer interaction
    code: "if (trainerSpellInfo->CanLearn(player)) {\n    player->LearnSpell(trainerSpellInfo->GetSpellId());\n\
      } else {\n    player->SendSystemMessage(\"You cannot learn this spell.\");\n\
      }"
    language: cpp
  notes: This method performs multiple checks internally including class validation,
    skill level verification, and spell rank progression. It's commonly used in the
    trainer interaction system to validate player eligibility before allowing spell
    learning.
  warnings: null
  related:
  - GetSpellId
  - GetReqSkill
  - GetReqSkillValue
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T14:23:58.599821'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
