api:
  class: MageAI
  method: HandleLowManaEmergency
  signature: void MageAI::HandleLowManaEmergency()
documentation:
  brief: Handles low mana emergency situations for Mage AI by switching to appropriate
    spells or abilities.
  description: The HandleLowManaEmergency method is responsible for managing the Mage
    AI's behavior when its mana falls below a critical threshold. This method evaluates
    the current spell casting state, checks available mana, and determines the most
    suitable emergency action such as switching to low-mana spells, using mana-saving
    abilities, or reverting to basic attack patterns. The implementation ensures that
    the mage does not waste resources on high-mana spells when mana is critically
    low, thereby maintaining optimal performance during resource-constrained situations.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Mage AI Update Loop
    code: "void MageAI::UpdateAI(const uint32 diff)\n{\n    // ... other logic ...\n\
      \    if (me->GetPower(POWER_MANA) < manaThreshold)\n        HandleLowManaEmergency();\n\
      \    // ... rest of update logic ...\n}"
    language: cpp
  notes: This method should be called periodically during AI updates to ensure timely
    response to low mana conditions. It assumes that the AI has already determined
    that mana is critically low and that appropriate checks have been performed before
    calling this method.
  warnings: Do not call this method without verifying that mana levels are indeed
    critically low, as it may cause unnecessary spell switching or performance overhead.
    Ensure proper synchronization if called from multiple threads.
  related:
  - HandleHighManaEmergency
  - UpdateAI
  - CastSpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T00:53:23.767407'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
