api:
  class: WorldSession
  method: HandleGuildBankQueryTab
  signature: void WorldSession::HandleGuildBankQueryTab(WorldPackets::Guild::GuildBankQueryTab
    & packet)
documentation:
  brief: Processes a client request to query the contents of a guild bank tab
  description: The HandleGuildBankQueryTab method handles incoming packets from players
    requesting to view the contents of a specific guild bank tab. It validates the
    player's permissions and guild membership, then sends back the current items stored
    in the requested tab. This method is part of the guild bank system functionality
    in TrinityCore, allowing guild members with appropriate rights to inspect their
    guild's shared resources. The method ensures that only authorized players can
    access guild bank information and properly handles cases where a player may not
    have permission to view certain tabs.
  parameters: []
  returns: null
  examples:
  - title: Basic Guild Bank Tab Query
    code: "void WorldSession::HandleGuildBankQueryTab(WorldPackets::Guild::GuildBankQueryTab&\
      \ packet)\n{\n    // Validate player is in a guild\n    if (!GetPlayer()->GetGuildId())\n\
      \        return;\n    \n    // Get guild bank information\n    Guild* guild\
      \ = sGuildMgr->GetGuildById(GetPlayer()->GetGuildId());\n    if (!guild)\n \
      \       return;\n    \n    // Process tab query\n    guild->SendGuildBankTabData(this,\
      \ packet.TabId);\n}"
    language: cpp
  notes: This method is typically called when a player clicks on a guild bank tab
    in the UI. The implementation should verify that the requesting player has permission
    to view the specific tab, which may depend on guild rank or configured permissions.
    It's important to note that this method does not modify any data but only reads
    and sends information back to the client.
  warnings: Improper validation of player permissions could lead to unauthorized access
    to guild bank contents. Ensure all guild membership checks are performed before
    sending tab data to prevent security issues. The packet parameter should be validated
    for valid tab IDs to avoid out-of-bounds access.
  related:
  - HandleGuildBankQueryTab
  - HandleGuildBankUpdateTab
  - HandleGuildBankDepositItem
  - HandleGuildBankWithdrawItem
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T22:03:35.680987'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
