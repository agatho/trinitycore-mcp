api:
  class: SmartAI
  method: MoveInLineOfSight
  signature: void SmartAI::MoveInLineOfSight(Unit * who)
documentation:
  brief: Handles the event when a unit enters the AI's line of sight, triggering smart
    AI behavior.
  description: The MoveInLineOfSight method is invoked by the TrinityCore AI system
    when a Unit (such as a player or creature) moves into the line of sight of a SmartAI-controlled
    creature. This method serves as a core event handler that allows the AI to respond
    dynamically to nearby units, potentially initiating combat, movement, or other
    scripted behaviors based on the SmartAI's configuration. It is part of the standard
    AI event system and integrates with the broader SmartScript system for complex
    behavior implementation. The method does not require any specific preconditions
    beyond the AI being properly initialized and the unit being within range.
  parameters:
  - name: who
    description: A pointer to the Unit object that has entered the line of sight of
      this SmartAI-controlled creature. This can be a player, NPC, or any other unit
      type that can trigger the line-of-sight event.
  returns: null
  examples:
  - title: Basic usage in custom AI
    code: "void CustomSmartAI::MoveInLineOfSight(Unit* who)\n{\n    if (who && who->IsPlayer())\n\
      \    {\n        // Trigger a specific behavior when a player enters line of\
      \ sight\n        DoAction(ACTION_PLAYER_ENTERED_SIGHT);\n    }\n    // Call\
      \ base implementation to maintain standard AI behavior\n    SmartAI::MoveInLineOfSight(who);\n\
      }"
    language: cpp
  - title: Advanced usage with conditional logic
    code: "void AdvancedSmartAI::MoveInLineOfSight(Unit* who)\n{\n    if (!who ||\
      \ !who->IsAlive())\n        return;\n\n    // Only react to players or specific\
      \ NPC types\n    if (who->GetTypeId() == TYPEID_PLAYER || who->GetEntry() ==\
      \ ENTRY_TARGET_NPC)\n    {\n        // Set the target and start combat\n   \
      \     AttackStart(who);\n        // Trigger a custom script\n        DoScriptText(SAY_ON_SIGHT,\
      \ me, who);\n    }\n\n    SmartAI::MoveInLineOfSight(who);\n}"
    language: cpp
  notes: This method is typically called automatically by the core AI framework when
    a unit enters the detection range of the SmartAI-controlled creature. Developers
    should be aware that this method may be invoked frequently during gameplay, so
    performance-sensitive logic should be optimized. The implementation relies on
    the underlying SmartScript system to determine how to respond to this event.
  warnings: Do not call this method directly from custom code unless you understand
    the implications; it is intended to be called by the AI framework. Be cautious
    when overriding this method as improper handling may break expected AI behavior
    or cause unexpected combat triggers.
  related:
  - SmartAI::UpdateAI
  - SmartAI::AttackStart
  - SmartAI::EnterEvadeMode
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T02:51:44.680526'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
