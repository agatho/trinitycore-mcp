api:
  class: ScriptMgr
  method: OnInstallAccessory
  signature: void ScriptMgr::OnInstallAccessory(Vehicle * veh, Creature * accessory)
documentation:
  brief: Invoked when a creature is installed as an accessory to a vehicle in the
    game world.
  description: The OnInstallAccessory method is a hook called by the TrinityCore scripting
    system whenever a creature is added as an accessory to a vehicle. This method
    allows custom scripts to execute logic when such an event occurs, enabling developers
    to modify behavior, trigger events, or perform actions based on the installation
    of vehicle accessories. The method is part of the general script management system
    and is typically used in conjunction with vehicle-related AI or quest scripting.
    It provides access to both the vehicle and the accessory creature objects, allowing
    for comprehensive interaction between them.
  parameters:
  - name: veh
    description: Pointer to the Vehicle object that the accessory is being installed
      on. This parameter represents the vehicle entity in the game world.
  - name: accessory
    description: Pointer to the Creature object that is being installed as an accessory.
      This represents the creature that will be attached to the vehicle.
  returns: null
  examples:
  - title: Basic Vehicle Accessory Installation Handler
    code: "class MyScript : public ScriptedAI\n{\npublic:\n    void OnInstallAccessory(Vehicle*\
      \ veh, Creature* accessory) override\n    {\n        // Log when an accessory\
      \ is installed\n        sLog->outString(\"Creature %u installed as accessory\
      \ on vehicle %u\", accessory->GetEntry(), veh->GetVehicleInfo()->GetVehicleId());\n\
      \        \n        // Example: Apply a buff to the accessory when installed\n\
      \        if (accessory->GetEntry() == 12345)\n        {\n            accessory->AddAura(12345,\
      \ accessory);\n        }\n    }\n};"
    language: cpp
  notes: This method is called during the vehicle accessory installation process and
    may be invoked multiple times depending on how many accessories are being added.
    Developers should ensure that any logic within this method does not cause performance
    bottlenecks or infinite loops. The method is part of the AI system, so it's recommended
    to use it in conjunction with proper AI behavior implementations.
  warnings: Be cautious when modifying vehicle or creature properties within this
    hook as it may affect game balance or cause unexpected behavior. Avoid performing
    heavy computations or blocking operations that could impact server performance.
    Also, ensure that the pointers passed are valid and not null before attempting
    to access their members.
  related:
  - OnRemoveAccessory
  - OnVehicleAddPassenger
  - OnVehicleRemovePassenger
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T22:34:16.893166'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
