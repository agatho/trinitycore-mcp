api:
  class: FollowBehaviorUtils
  method: CalculateOptimalFollowDistance
  signature: float FollowBehaviorUtils::CalculateOptimalFollowDistance(Player * bot,
    Player * leader, FollowMode mode)
documentation:
  brief: Calculates the optimal follow distance between a bot and its leader based
    on the specified follow mode.
  description: The CalculateOptimalFollowDistance method determines the appropriate
    distance a bot should maintain from its leader player character when following.
    This calculation takes into account various game mechanics such as movement speed,
    combat readiness, and the specific follow mode (e.g., normal, combat, or defensive).
    The method is used internally by the AI system to ensure that bots maintain a
    safe and effective distance while following their leaders. It considers factors
    like player movement patterns, potential threats, and the overall tactical situation
    to compute an optimal distance that balances responsiveness with safety.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot character that
      will be following the leader.
  - name: leader
    description: Pointer to the Player object representing the leader character that
      the bot will follow.
  - name: mode
    description: The FollowMode enum value specifying the type of follow behavior
      to calculate distance for (e.g., normal, combat, defensive).
  returns: A float value representing the calculated optimal follow distance in yards.
    Returns a positive value indicating the recommended distance; typically zero or
    negative values are not expected but may occur under specific edge cases.
  examples:
  - title: Basic Usage Example
    code: float distance = FollowBehaviorUtils::CalculateOptimalFollowDistance(botPlayer,
      leaderPlayer, FOLLOW_MODE_NORMAL);
    language: cpp
  - title: Combat Mode Distance Calculation
    code: 'float combatDistance = FollowBehaviorUtils::CalculateOptimalFollowDistance(bot,
      leader, FOLLOW_MODE_COMBAT);

      // Use the calculated distance to adjust bot''s movement behavior

      bot->SetFollowDistance(combatDistance);'
    language: cpp
  notes: This method is typically invoked during AI decision-making processes when
    bots need to reposition themselves relative to their leaders. The implementation
    may vary depending on the current game state, such as whether combat is active
    or if the players are in a dangerous area.
  warnings: Ensure that both bot and leader player pointers are valid before calling
    this method to avoid null pointer exceptions. The returned distance value should
    be validated for sanity checks in case of unexpected behavior.
  related:
  - GetFollowDistance
  - SetFollowDistance
  - UpdateFollowBehavior
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T14:15:20.415879'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
