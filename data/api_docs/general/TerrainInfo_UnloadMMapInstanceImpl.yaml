api:
  class: TerrainInfo
  method: UnloadMMapInstanceImpl
  signature: void TerrainInfo::UnloadMMapInstanceImpl(uint32 mapId, uint32 instanceId)
documentation:
  brief: Unloads a specific instance of the navigation mesh for a given map and instance
    ID.
  description: The UnloadMMapInstanceImpl method is responsible for releasing memory
    and resources associated with a particular instance of the navigation mesh (mmap)
    for a specified map. This function is typically invoked when a player leaves an
    instance or when the instance is being destroyed to free up memory used by the
    navigation system. It ensures that the mmap data for the given map and instance
    combination is properly cleared from memory, preventing memory leaks and maintaining
    optimal performance. The method does not return any value but directly modifies
    internal state related to mmap management.
  parameters:
  - name: mapId
    description: The unique identifier of the map for which the navigation mesh instance
      should be unloaded. Valid values are map identifiers defined in the game's database.
  - name: instanceId
    description: The instance identifier of the specific instance to unload. This
      allows multiple instances of the same map to exist simultaneously, and this
      parameter specifies which one to unload.
  returns: null
  examples:
  - title: Unload a specific instance's navigation mesh
    code: "TerrainInfo* terrain = sTerrainMgr->GetTerrainInfo(0, 1234);\nif (terrain)\n\
      {\n    terrain->UnloadMMapInstanceImpl(0, 1234);\n}"
    language: cpp
  notes: This method is part of the internal navigation mesh management system in
    TrinityCore. It should only be called when it's safe to unload the instance data,
    typically during instance cleanup or player logout. The method assumes that the
    mmap data for the specified map and instance exists in memory.
  warnings: Calling this method with invalid mapId or instanceId values may lead to
    undefined behavior or crashes. Ensure that the instance being unloaded is no longer
    in use by any players or game systems before calling this function.
  related:
  - LoadMMapInstanceImpl
  - HasMMapInstance
  - GetMMapInstance
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T18:25:42.681314'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
