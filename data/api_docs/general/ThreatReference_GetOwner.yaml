api:
  class: ThreatReference
  method: GetOwner
  signature: Creature * ThreatReference::GetOwner() const
documentation:
  brief: Returns the Creature object that owns this threat reference.
  description: The GetOwner method retrieves the Creature instance associated with
    this ThreatReference. In the context of World of Warcraft's TrinityCore AI system,
    a ThreatReference typically represents a unit's threat level against a specific
    target. This method allows access to the owning creature, which is essential for
    managing and querying threat data within the AI framework. The returned pointer
    should be used carefully as it may be null if the reference has not been properly
    initialized or if the owning creature has been destroyed.
  parameters: []
  returns: A pointer to the Creature object that owns this threat reference, or nullptr
    if no valid owner exists.
  examples:
  - title: Basic Usage
    code: "Creature* owner = threatRef->GetOwner();\nif (owner)\n{\n    // Use the\
      \ owner creature\n    sLog->outString(\"Threat reference belongs to creature:\
      \ %u\", owner->GetGUID().GetCounter());\n}"
    language: cpp
  - title: Checking Threat Owner Before Access
    code: "ThreatReference* threatRef = unit->GetThreatManager().GetThreatByGuid(targetGuid);\n\
      if (threatRef)\n{\n    Creature* owner = threatRef->GetOwner();\n    if (owner\
      \ && owner->IsAlive())\n    {\n        // Safe to use owner for further processing\n\
      \        owner->AI()->AttackStart(target);\n    }\n}"
    language: cpp
  notes: This method is commonly used in AI scripts and threat management systems.
    The returned Creature pointer should always be validated before use as it can
    be null. This method does not perform any locking or thread safety checks, so
    access should be synchronized if used from multiple threads.
  warnings: Be cautious when storing the returned pointer beyond the scope of the
    current function call, as the owning creature may be destroyed at any time. Always
    validate the return value before dereferencing to avoid null pointer exceptions.
  related:
  - GetThreat
  - SetOwner
  - IsThreatValid
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T16:31:36.297052'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
