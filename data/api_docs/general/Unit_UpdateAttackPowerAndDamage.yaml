api:
  class: Unit
  method: UpdateAttackPowerAndDamage
  signature: void Unit::UpdateAttackPowerAndDamage(bool ranged)
documentation:
  brief: Updates the attack power and damage values for the unit based on current
    stats and equipment.
  description: The UpdateAttackPowerAndDamage method recalculates and updates the
    attack power and damage statistics for a Unit object. This method is typically
    invoked when a unit's equipment changes, stats are modified, or when the unit's
    combat state needs to be refreshed. It handles both melee and ranged attack calculations
    depending on the 'ranged' parameter. The method ensures that all derived combat
    values such as minimum and maximum damage, attack power, and related modifiers
    are accurately computed and applied to the unit.
  parameters:
  - name: ranged
    description: Boolean flag indicating whether to update ranged attack statistics
      (true) or melee attack statistics (false). When true, the method calculates
      ranged attack power and damage; when false, it updates melee attack power and
      damage.
  returns: null
  examples:
  - title: Update Melee Attack Power
    code: 'Unit* player = ...;

      player->UpdateAttackPowerAndDamage(false); // Updates melee attack power and
      damage'
    language: cpp
  - title: Update Ranged Attack Power
    code: 'Unit* player = ...;

      player->UpdateAttackPowerAndDamage(true); // Updates ranged attack power and
      damage'
    language: cpp
  notes: This method is automatically called during combat state changes or when equipment
    is equipped/unequipped. It internally handles stat recalculations, including bonuses
    from buffs, debuffs, and gear. The method may trigger additional updates to the
    unit's combat abilities and visual representations.
  warnings: Avoid calling this method directly in performance-critical code paths
    as it may perform expensive recalculations. Ensure that the unit is in a valid
    state before calling this method to prevent unexpected behavior or crashes.
  related:
  - GetAttackPower
  - GetDamage
  - SetAttackPower
  - UpdateStats
metadata:
  confidence: 0.9
  generated_at: '2025-10-29T16:29:35.223312'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
