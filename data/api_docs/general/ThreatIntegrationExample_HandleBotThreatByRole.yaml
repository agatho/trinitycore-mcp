api:
  class: ThreatIntegrationExample
  method: HandleBotThreatByRole
  signature: void ThreatIntegrationExample::HandleBotThreatByRole(Player * bot, BotThreatManager
    * threatMgr)
documentation:
  brief: Processes threat generation for a bot based on its role within the group.
  description: The HandleBotThreatByRole method manages how a bot generates and applies
    threat to NPCs or targets, taking into account the bot's designated role in the
    group. This function integrates with the ThreatManager to ensure that bots behave
    appropriately according to their assigned responsibilities such as tanking, healing,
    or DPS. It evaluates the bot's current state, role, and target to determine appropriate
    threat generation behavior. The method is typically invoked during combat situations
    where threat management is crucial for maintaining group dynamics and ensuring
    proper mob aggro distribution.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that will generate
      threat. Must be a valid player instance with a valid threat manager.
  - name: threatMgr
    description: Pointer to the BotThreatManager associated with the bot. This manager
      handles all threat-related calculations and state tracking for the bot.
  returns: null
  examples:
  - title: Basic Usage in Combat
    code: "void ExampleCombatHandler(Player* player, BotThreatManager* threatMgr)\n\
      {\n    ThreatIntegrationExample example;\n    example.HandleBotThreatByRole(player,\
      \ threatMgr);\n}"
    language: cpp
  - title: Integration with Group Combat Logic
    code: "void GroupCombatUpdate()\n{\n    for (auto& bot : groupBots)\n    {\n \
      \       if (bot->IsInCombat())\n        {\n            ThreatIntegrationExample\
      \ example;\n            example.HandleBotThreatByRole(bot, bot->GetThreatManager());\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method assumes that the bot and threat manager are properly initialized
    and in a valid state. It relies on the bot's role being correctly set within the
    group configuration. The method does not directly modify target aggro but instead
    influences how threat is calculated and applied through the threat manager.
  warnings: Ensure that both parameters are non-null before calling this method, as
    passing null pointers will result in undefined behavior. This function should
    only be called during active combat scenarios when threat generation is relevant.
  related:
  - BotThreatManager::UpdateThreat
  - BotThreatManager::GetThreatLevel
  - Player::IsInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T21:17:08.812230'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
