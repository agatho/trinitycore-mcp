api:
  class: MultiPersonalPhaseTracker
  method: UnloadGrid
  signature: void MultiPersonalPhaseTracker::UnloadGrid(int & grid)
documentation:
  brief: Unloads a grid from the multi-personal phase tracker, removing its associated
    phase data and cleaning up resources.
  description: The UnloadGrid method removes a specified grid from the MultiPersonalPhaseTracker's
    internal tracking system. This operation typically occurs when a player moves
    out of a grid's range or when the grid is no longer needed for phase management
    purposes. The method ensures that all phase-related data associated with the grid
    is properly cleaned up and that any references to the grid are removed from memory.
    It is an essential part of maintaining efficient memory usage and accurate phase
    tracking in TrinityCore's world management system.
  parameters:
  - name: grid
    description: Reference to an integer representing the grid identifier to be unloaded.
      This value typically corresponds to a grid coordinate or index within the game
      world's grid-based spatial partitioning system.
  returns: null
  examples:
  - title: Basic Grid Unloading
    code: 'int gridId = 1234;

      tracker.UnloadGrid(gridId);

      // The grid with ID 1234 is now unloaded from the phase tracker'
    language: cpp
  - title: Conditional Grid Unloading
    code: "int currentGrid = player->GetCurrentGrid();\nif (currentGrid != -1) {\n\
      \    tracker.UnloadGrid(currentGrid);\n}\n// Safely unloads the grid only if\
      \ it's valid"
    language: cpp
  notes: This method should be called carefully as it may affect phase visibility
    for players in that grid. The implementation likely involves iterating through
    all tracked phases and removing references to the specified grid, which could
    have performance implications during high-traffic scenarios.
  warnings: Calling this method with an invalid or already-unloaded grid ID may result
    in undefined behavior or memory corruption. Always verify that the grid is currently
    loaded before attempting to unload it.
  related:
  - LoadGrid
  - IsGridLoaded
  - GetPhaseForGrid
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T23:33:00.546468'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
