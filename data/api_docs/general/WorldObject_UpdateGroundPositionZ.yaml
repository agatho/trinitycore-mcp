api:
  class: WorldObject
  method: UpdateGroundPositionZ
  signature: void WorldObject::UpdateGroundPositionZ(float x, float y, float & z)
    const
documentation:
  brief: Updates the Z coordinate of a WorldObject to match the ground position at
    the given X and Y coordinates.
  description: The UpdateGroundPositionZ method calculates and updates the vertical
    (Z) position of a WorldObject so that it aligns with the terrain height at the
    specified horizontal coordinates (x, y). This is commonly used in World of Warcraft's
    TrinityCore to ensure objects like creatures or game objects are properly positioned
    on the ground. The method modifies the Z value in-place through the reference
    parameter z. It does not alter the object's actual position in the world, but
    rather adjusts its vertical coordinate to match the terrain. This functionality
    is essential for maintaining realistic positioning of entities within the game
    world's terrain system.
  parameters:
  - name: x
    description: The horizontal X coordinate used to determine the ground height
  - name: y
    description: The horizontal Y coordinate used to determine the ground height
  - name: z
    description: Reference to the Z coordinate that will be updated with the calculated
      ground height
  returns: null
  examples:
  - title: Basic usage for updating a creature's ground position
    code: 'float x = 123.45f;

      float y = 678.90f;

      float z = creature->GetPositionZ();

      creature->UpdateGroundPositionZ(x, y, z);

      // z now contains the updated ground height at (x,y)

      '
    language: cpp
  - title: Using with a game object to align it with terrain
    code: 'float x = player->GetPositionX();

      float y = player->GetPositionY();

      float z = gameObject->GetPositionZ();

      gameObject->UpdateGroundPositionZ(x, y, z);

      gameObject->SetPosition(x, y, z);

      // The game object is now positioned correctly on the ground'
    language: cpp
  notes: This method relies on the underlying terrain system to calculate accurate
    ground heights. It should be called before performing operations that depend on
    precise vertical positioning. The method is typically used internally by TrinityCore's
    movement and positioning systems, but can also be invoked directly when needed
    for custom behavior.
  warnings: The method modifies the Z coordinate in-place through a reference parameter,
    so ensure you have a copy of the original Z value if it needs to be preserved.
    This function does not update the object's actual position in the world; it only
    calculates and updates the Z value itself.
  related:
  - GetPositionZ
  - SetPosition
  - GetMap
metadata:
  confidence: 0.9
  generated_at: '2025-10-29T16:08:42.323376'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
