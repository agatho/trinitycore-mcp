api:
  class: BIH
  method: createNode
  signature: void BIH::createNode(int & tempTree, int nodeIndex, uint32 left, uint32
    right)
documentation:
  brief: Initializes a new node within the BIH (Bounding Interval Hierarchy) tree
    structure for spatial partitioning.
  description: The createNode method is responsible for constructing a new node in
    the Bounding Interval Hierarchy data structure used by TrinityCore for efficient
    spatial queries and collision detection. This method sets up the internal node
    structure with specified left and right child indices, which are typically derived
    from previously computed bounding volumes or spatial partitions. The method operates
    on a temporary tree buffer represented by the tempTree parameter, allowing for
    dynamic construction of the hierarchy during runtime. It is commonly used in conjunction
    with other BIH methods to build complex spatial structures for game objects, terrain,
    or environment interactions.
  parameters:
  - name: tempTree
    description: Reference to an integer representing the temporary tree buffer index
      where the node will be created. This serves as a working storage location during
      the construction phase of the BIH structure.
  - name: nodeIndex
    description: The index position within the BIH node array where the new node will
      be stored. This determines the location in the hierarchical structure.
  - name: left
    description: The index of the left child node in the BIH structure. For leaf nodes,
      this typically represents a valid object index or a special marker indicating
      no children.
  - name: right
    description: The index of the right child node in the BIH structure. For leaf
      nodes, this typically represents a valid object index or a special marker indicating
      no children.
  returns: null
  examples:
  - title: Basic Node Creation
    code: 'int tempTree = 0;

      BIH::createNode(tempTree, 5, 10, 15);

      // Creates a new node at index 5 with left child at index 10 and right child
      at index 15'
    language: cpp
  - title: Building BIH Structure
    code: 'int tempTree = 0;

      // Build root node

      BIH::createNode(tempTree, 0, 1, 2);

      // Build left subtree

      BIH::createNode(tempTree, 1, 3, 4);

      // Build right subtree

      BIH::createNode(tempTree, 2, 5, 6);'
    language: cpp
  notes: This method is part of the internal BIH implementation and should typically
    be called through higher-level APIs or during initialization phases. The tempTree
    parameter allows for multiple concurrent BIH constructions in memory. Node indices
    must be within valid bounds of the allocated node array to prevent memory corruption.
  warnings: Incorrect node indexing can lead to invalid spatial queries or crashes.
    Ensure that left and right child indices refer to valid nodes that have already
    been created or are properly marked as leaf nodes. This method does not perform
    bounds checking on node indices.
  related:
  - BIH::build
  - BIH::query
  - BIH::insert
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T15:50:49.392694'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
