api:
  class: ResourceMonitor
  method: CollectMemoryUsage
  signature: float ResourceMonitor::CollectMemoryUsage()
documentation:
  brief: Collects and returns the current memory usage percentage of the server process
  description: The CollectMemoryUsage method retrieves the current memory consumption
    of the TrinityCore server process as a percentage of total system memory. This
    utility function is primarily used for monitoring server performance and resource
    utilization. The method typically queries system-level APIs to determine the resident
    set size (RSS) of the process and calculates its usage relative to available system
    memory. It's commonly employed in automated monitoring systems, performance logging,
    or diagnostic tools within the World of Warcraft emulator environment.
  parameters: []
  returns: A float value representing the current memory usage as a percentage (0.0
    to 100.0) of total system memory. Values typically range from 0.0 (no memory used)
    to 100.0 (full system memory utilization).
  examples:
  - title: Basic Memory Usage Monitoring
    code: 'ResourceMonitor monitor;

      float memoryUsage = monitor.CollectMemoryUsage();

      printf("Current memory usage: %.2f%%\n", memoryUsage);'
    language: cpp
  - title: Logging Memory Usage for Performance Analysis
    code: "ResourceMonitor monitor;\nwhile (true) {\n    float usage = monitor.CollectMemoryUsage();\n\
      \    if (usage > 80.0f) {\n        sLog->outInfo(LOG_FILTER_SERVER, \"High memory\
      \ usage detected: %.2f%%\", usage);\n    }\n    std::this_thread::sleep_for(std::chrono::minutes(5));\n\
      }"
    language: cpp
  notes: This method may have platform-specific implementations depending on the operating
    system (Windows, Linux, macOS). On some platforms, it might require additional
    permissions or may not be available in all build configurations. The returned
    value represents the percentage of total physical memory used by the process and
    does not include virtual memory or swap usage.
  warnings: The method may cause slight performance overhead when called frequently
    due to system API calls. In high-frequency monitoring scenarios, consider caching
    results or using a sampling interval to avoid excessive system calls.
  related:
  - GetMemoryUsageBytes
  - StartMonitoring
  - StopMonitoring
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T20:46:17.277155'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
