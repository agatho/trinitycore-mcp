api:
  class: MoveSpline
  method: isFalling
  signature: bool MoveSpline::isFalling() const
documentation:
  brief: Determines whether the object is currently in a falling state based on spline
    movement data.
  description: The isFalling method checks the current state of an object's movement
    spline to determine if it is currently falling. This method evaluates the vertical
    velocity and position changes within the spline to ascertain if the object is
    descending. In World of Warcraft's TrinityCore implementation, this is commonly
    used for character movement logic, particularly when handling jump mechanics,
    fall damage calculations, or animation state transitions. The method provides
    a reliable way to detect falling states during dynamic movement scenarios such
    as jumping, falling off ledges, or being affected by gravity.
  parameters: []
  returns: Returns true if the object is currently in a falling state (i.e., moving
    downward with negative vertical velocity), false otherwise. This indicates that
    the spline's vertical component shows a descent trajectory.
  examples:
  - title: Basic Falling State Check
    code: "if (player->GetMoveSpline()->isFalling()) {\n    // Handle falling logic\n\
      \    player->AddAura(SPELL_FALLING_DAMAGE_AURA, player);\n}"
    language: cpp
  - title: Conditional Movement Behavior Based on Falling State
    code: "MoveSpline* spline = player->GetMoveSpline();\nif (spline->isFalling())\
      \ {\n    // Apply falling-specific movement adjustments\n    player->SetWalk(false);\n\
      \    player->SetSpeed(MOVE_RUN, 1.0f, true);\n} else if (!spline->isFalling()\
      \ && player->IsMoving()) {\n    // Handle normal ground movement\n    player->SetSpeed(MOVE_WALK,\
      \ 1.0f, true);\n}"
    language: cpp
  notes: This method relies on the internal state of the MoveSpline object and should
    only be called when the spline is actively updating or has been initialized with
    movement data. The falling detection logic considers both vertical velocity and
    position deltas to accurately determine if an object is in free fall, making it
    suitable for physics-based movement systems.
  warnings: Do not use this method on uninitialized splines as it may return unpredictable
    results. Additionally, the falling state might change rapidly during transitions
    between movement states, so frequent polling should be avoided in performance-critical
    code paths.
  related:
  - isMoving
  - isWalking
  - isFlying
  - GetVerticalVelocity
metadata:
  confidence: 0.92
  generated_at: '2025-11-06T08:26:13.785361'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
