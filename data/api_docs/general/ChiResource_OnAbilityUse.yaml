api:
  class: ChiResource
  method: OnAbilityUse
  signature: void ChiResource::OnAbilityUse(uint32 spellId)
documentation:
  brief: Handles the event when a chi-based ability is used by a player.
  description: The OnAbilityUse method is invoked when a player activates a spell
    or ability that consumes or interacts with chi resources. This method typically
    manages the resource consumption, cooldowns, and any associated game mechanics
    related to chi usage. It may also trigger visual effects, update player state,
    or perform validation checks before allowing the ability to proceed. The method
    is part of the ChiResource class which encapsulates all logic related to chi management
    for players.
  parameters:
  - name: spellId
    description: The unique identifier of the spell being used. This ID determines
      which chi-based ability is activated and how it should be processed within the
      chi resource system.
  returns: null
  examples:
  - title: Basic Usage in Spell Activation
    code: "void Player::HandleChiAbility(uint32 spellId)\n{\n    ChiResource* chi\
      \ = GetChiResource();\n    if (chi)\n    {\n        chi->OnAbilityUse(spellId);\n\
      \    }\n}"
    language: cpp
  - title: Integration with Custom Chi System
    code: "class MyChiSystem : public ChiResource\n{\npublic:\n    void OnAbilityUse(uint32\
      \ spellId) override\n    {\n        // Validate ability can be used\n      \
      \  if (!CanUseSpell(spellId))\n            return;\n        \n        // Consume\
      \ chi resources\n        uint32 cost = GetSpellChiCost(spellId);\n        if\
      \ (GetChi() >= cost)\n        {\n            SpendChi(cost);\n            //\
      \ Apply ability effects\n            ApplyAbilityEffects(spellId);\n       \
      \ }\n    }\n};"
    language: cpp
  notes: This method is typically called from the spell activation system when a chi-based
    ability is triggered. It's important to ensure that the spell ID passed corresponds
    to a valid chi-consuming ability, otherwise unexpected behavior may occur. The
    implementation should handle edge cases such as insufficient chi or invalid spell
    IDs gracefully.
  warnings: Do not call this method directly without verifying that the player has
    sufficient chi resources and the spell is a valid chi-based ability. Calling this
    method with an invalid spellId can lead to undefined behavior or crashes in the
    spell system.
  related:
  - GetChi
  - SpendChi
  - CanUseSpell
  - GetSpellChiCost
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T03:09:09.117131'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
