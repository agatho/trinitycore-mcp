api:
  class: PetitionMgr
  method: AddPetition
  signature: void PetitionMgr::AddPetition(int petitionGuid, int ownerGuid, const
    std::string & name, bool isLoading)
documentation:
  brief: Adds a new petition to the petition manager with the specified GUID, owner,
    and name.
  description: The AddPetition method is responsible for registering a new petition
    within the PetitionMgr system. It takes a petition GUID, the GUID of the player
    who owns the petition, and the petition's name as parameters. The isLoading flag
    indicates whether this petition is being added during server startup or initialization,
    which may affect how it's processed or stored. This method is typically used when
    a player creates a new petition or when petitions are loaded from persistent storage
    during server boot-up.
  parameters:
  - name: petitionGuid
    description: The unique identifier (GUID) assigned to the petition being added.
      Must be a valid, non-zero GUID that uniquely identifies this petition within
      the system.
  - name: ownerGuid
    description: The GUID of the player who owns this petition. This represents the
      creator or owner of the petition and must correspond to a valid player in the
      game world.
  - name: name
    description: A string containing the name/title of the petition. This is typically
      the subject or title that players see when viewing the petition.
  - name: isLoading
    description: Boolean flag indicating whether this petition is being added during
      server loading process (true) or during normal gameplay (false). Affects internal
      processing and persistence behavior.
  returns: null
  examples:
  - title: Adding a new petition during gameplay
    code: PetitionMgr::AddPetition(12345, 67890, "New Guild Petition", false);
    language: cpp
  - title: Loading a petition from database at server startup
    code: PetitionMgr::AddPetition(54321, 98765, "Server Startup Petition", true);
    language: cpp
  notes: This method likely updates internal data structures such as maps or lists
    that track active petitions. The isLoading parameter may influence whether the
    petition is immediately saved to persistent storage or deferred until after initialization
    completes.
  warnings: Ensure that petitionGuid and ownerGuid are valid and unique before calling
    this method, otherwise unexpected behavior or crashes could occur. Incorrect use
    of the isLoading flag can lead to inconsistent state during server startup.
  related:
  - RemovePetition
  - GetPetition
  - HasPetition
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T01:48:59.801116'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
