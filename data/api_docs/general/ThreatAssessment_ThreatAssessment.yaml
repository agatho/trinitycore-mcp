api:
  class: ThreatAssessment
  method: ThreatAssessment
  signature: void ThreatAssessment::ThreatAssessment()
documentation:
  brief: Performs threat assessment calculations for NPC mobs to determine target
    selection and aggro behavior.
  description: The ThreatAssessment method evaluates the current threat levels of
    all units within an NPC's aggro range, determining which targets are most threatening
    and should be prioritized for attack. This method is typically invoked during
    AI update cycles or when a mob receives damage or heals to recalculate its target
    selection. It considers factors such as damage dealt, healing done, and proximity
    to the mob. The method updates internal threat tables used by the mob's AI system
    to make decisions about which unit to attack next.
  parameters: []
  returns: null
  examples:
  - title: Basic Threat Assessment Call
    code: "void MyNPCAI::UpdateAI(uint32 diff)\n{\n    if (me->IsInCombat())\n   \
      \ {\n        threatAssessment.ThreatAssessment();\n    }\n}"
    language: cpp
  notes: This method is part of the core AI threat management system and should not
    be called directly from outside the AI framework. It modifies internal state variables
    that affect mob behavior, so calling it too frequently may cause performance issues.
    The method assumes that the mob has a valid target list and aggro range set up.
  warnings: Calling this method on a non-combat mob or without proper initialization
    can lead to undefined behavior. This method should only be invoked within the
    context of an AI update loop, not standalone.
  related:
  - AddThreat
  - GetThreatList
  - ClearThreatList
  - IsTargetValid
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T10:32:39.932712'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
