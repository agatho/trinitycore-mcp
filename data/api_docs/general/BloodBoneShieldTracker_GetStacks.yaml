api:
  class: BloodBoneShieldTracker
  method: GetStacks
  signature: uint32 BloodBoneShieldTracker::GetStacks() const
documentation:
  brief: Retrieves the current stack count of the Blood Bone Shield buff.
  description: The GetStacks method returns the number of active stacks of the Blood
    Bone Shield ability. This tracker is typically used in conjunction with the Blood
    Presence or similar death knight abilities that apply a damage-absorbing shield.
    The returned value represents how many times the shield has been applied, which
    usually corresponds to the amount of damage the shield can absorb before dissipating.
    The method does not modify any internal state and is safe to call multiple times
    during a single game tick.
  parameters: []
  returns: A uint32 value representing the current stack count of the Blood Bone Shield
    buff. Returns 0 if the shield is not active or has been fully consumed.
  examples:
  - title: Basic Usage
    code: "uint32 stacks = tracker->GetStacks();\nif (stacks > 0)\n{\n    // Apply\
      \ logic based on current shield stacks\n    // e.g., reduce damage taken by\
      \ stacks * 10\n}"
    language: cpp
  - title: Integration with Damage Calculation
    code: "uint32 currentStacks = bloodBoneShieldTracker->GetStacks();\nif (currentStacks\
      \ > 0)\n{\n    uint32 damageReduction = currentStacks * 15; // Example: 15 damage\
      \ reduction per stack\n    damageTaken = std::max(0u, damageTaken - damageReduction);\n\
      }"
    language: cpp
  notes: This method is typically called from within combat calculations or aura update
    handlers. It's important to note that the returned value reflects the current
    state of the shield and may change between calls if other game events occur (e.g.,
    damage absorption, stack reduction). The implementation should be thread-safe
    as it's likely accessed from both main and simulation threads in TrinityCore.
  warnings: Do not assume that a non-zero return value means the shield is still active;
    always verify with additional checks if needed. Also, be aware that calling this
    method during certain aura application phases might return stale data if the stack
    count hasn't been updated yet.
  related:
  - SetStacks
  - AddStacks
  - RemoveStacks
  - IsShieldActive
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T19:52:29.961445'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
