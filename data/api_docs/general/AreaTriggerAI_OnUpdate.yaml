api:
  class: AreaTriggerAI
  method: OnUpdate
  signature: void AreaTriggerAI::OnUpdate(uint32 diff)
documentation:
  brief: Updates the area trigger AI with the elapsed time since last update
  description: The OnUpdate method is called periodically by the TrinityCore framework
    to allow AreaTriggerAI implementations to perform time-based logic and state updates.
    This method receives a time delta (diff) parameter representing milliseconds elapsed
    since the last execution, enabling precise timing for effects, cooldowns, or conditional
    triggers. The method is typically invoked from the game loop's AI update system
    and should handle all necessary processing without blocking or performing heavy
    operations that could impact server performance.
  parameters:
  - name: diff
    description: The time elapsed in milliseconds since the last OnUpdate call. This
      value represents the delta time used for timing-based calculations and should
      be used to update any time-dependent logic within the area trigger AI.
  returns: null
  examples:
  - title: Basic AreaTriggerAI Update Implementation
    code: "class MyAreaTriggerAI : public AreaTriggerAI\n{\npublic:\n    MyAreaTriggerAI(Unit*\
      \ unit) : AreaTriggerAI(unit) {}\n    \n    void OnUpdate(uint32 diff) override\n\
      \    {\n        // Example: Handle a cooldown timer\n        if (cooldownTimer\
      \ > 0)\n        {\n            cooldownTimer -= diff;\n            if (cooldownTimer\
      \ <= 0)\n            {\n                // Trigger effect when cooldown expires\n\
      \                DoTriggerEffect();\n                cooldownTimer = 5000; //\
      \ Reset cooldown\n            }\n        }\n    }\n    \nprivate:\n    uint32\
      \ cooldownTimer = 0;\n};"
    language: cpp
  notes: This method is called from the main game loop's AI update system and must
    be lightweight to avoid performance degradation. The diff parameter provides accurate
    timing information for implementing effects that require precise time-based behavior
    such as spell triggers, periodic damage, or visual effects.
  warnings: Avoid performing blocking operations or heavy computations in OnUpdate
    as it can cause server lag. Do not call methods that modify the game state directly
    from this method without proper synchronization mechanisms.
  related:
  - AreaTriggerAI::OnInitialize
  - AreaTriggerAI::OnEnter
  - AreaTriggerAI::OnLeave
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T14:05:45.728576'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
