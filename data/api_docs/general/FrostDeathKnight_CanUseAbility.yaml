api:
  class: FrostDeathKnight
  method: CanUseAbility
  signature: bool FrostDeathKnight::CanUseAbility(uint32 spellId)
documentation:
  brief: Determines whether a Frost Death Knight can use a specified ability based
    on current state and conditions.
  description: The CanUseAbility method evaluates if a Frost Death Knight character
    is eligible to cast or activate a specific spell or ability. It checks various
    game mechanics such as resource requirements, cooldowns, stance restrictions,
    and other character states that may prevent the use of an ability. This method
    is typically used by the AI system to make decisions about which abilities to
    use during combat. The evaluation considers both immediate prerequisites and broader
    contextual factors like player status, buff/debuff states, and game rules specific
    to the Frost Death Knight specialization.
  parameters:
  - name: spellId
    description: The unique identifier of the spell or ability to check for usability.
      This corresponds to the Spell.dbc entry ID in TrinityCore's database.
  returns: Returns true if the Frost Death Knight can currently use the specified
    ability, false otherwise. The method returns false when the character lacks required
    resources (such as runes, energy, or rage), is under a disabling effect, or when
    the ability is on cooldown.
  examples:
  - title: Basic usage to check if an ability can be used
    code: "if (frostDK->CanUseAbility(49998)) // Death Strike\n{\n    // Execute Death\
      \ Strike\n    frostDK->CastSpell(target, 49998);\n}"
    language: cpp
  - title: Using CanUseAbility in a combat decision loop
    code: "void FrostDeathKnight::DoCombatAI()\n{\n    if (CanUseAbility(50842)) //\
      \ Blood Plague\n    {\n        // Apply Blood Plague to target\n        CastSpell(target,\
      \ 50842);\n    }\n    else if (CanUseAbility(49998)) // Death Strike\n    {\n\
      \        // Use Death Strike for healing\n        CastSpell(self, 49998);\n\
      \    }\n}"
    language: cpp
  notes: This method is integral to the AI decision-making process and should be called
    before attempting to cast any spell. It does not perform actual spell casting
    but only evaluates eligibility. The implementation may vary based on the current
    game state, including whether the player is in combat, has sufficient resources,
    or is affected by certain debuffs.
  warnings: Do not assume that a true return value guarantees successful spell execution;
    additional checks like line of sight and target validity should also be performed.
    Calling this method without proper context may lead to incorrect AI behavior.
  related:
  - FrostDeathKnight::CastSpell
  - FrostDeathKnight::HasRune
  - FrostDeathKnight::IsInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T18:01:46.351649'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
