api:
  class: PositionManager
  method: CalculateEscapeScore
  signature: float PositionManager::CalculateEscapeScore(const int & pos, const MovementContext
    & context)
documentation:
  brief: Calculates an escape score for a given position based on movement context.
  description: The CalculateEscapeScore method evaluates how favorable a specific
    position is for escaping from a threat or engaging in tactical retreat. It takes
    into account various movement-related factors such as distance to nearby obstacles,
    line of sight, and potential escape routes. This function is typically used in
    AI pathfinding and decision-making systems to determine optimal escape positions
    during combat or pursuit scenarios.
  parameters:
  - name: pos
    description: The position index or identifier to evaluate for escape potential.
      This value represents a specific location within the game world that may be
      used as an escape point.
  - name: context
    description: Movement context data containing relevant information about the current
      environment, including nearby obstacles, terrain properties, and threat levels
      that influence escape scoring.
  returns: A float value representing the calculated escape score for the given position.
    Higher scores indicate better escape potential, while lower scores suggest more
    dangerous or unfavorable escape positions.
  examples:
  - title: Basic Escape Score Calculation
    code: "PositionManager posMgr;\nMovementContext context;\nint position = 100;\n\
      float score = posMgr.CalculateEscapeScore(position, context);\nif (score > 0.5f)\
      \ {\n    // Consider this position a viable escape route\n}"
    language: cpp
  - title: Using Escape Score for AI Decision Making
    code: "PositionManager posMgr;\nMovementContext context;\nfloat bestScore = -1.0f;\n\
      int bestPosition = -1;\nfor (int i = 0; i < totalPositions; ++i) {\n    float\
      \ score = posMgr.CalculateEscapeScore(i, context);\n    if (score > bestScore)\
      \ {\n        bestScore = score;\n        bestPosition = i;\n    }\n}\n// Use\
      \ bestPosition as the preferred escape route"
    language: cpp
  notes: This method is likely used in conjunction with other pathfinding or AI decision-making
    functions. The exact scoring algorithm may vary depending on game mechanics and
    environment data. Performance can be impacted by complex context evaluation, especially
    when dealing with large numbers of positions.
  warnings: Ensure that the position index passed is valid to prevent undefined behavior.
    The MovementContext should contain accurate and up-to-date information for meaningful
    results.
  related:
  - GetMovementContext
  - CalculatePathScore
  - EvaluatePositionSafety
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T00:37:58.873313'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
