api:
  class: InstanceScript
  method: UpdatePhasing
  signature: void InstanceScript::UpdatePhasing()
documentation:
  brief: Updates phasing for all players in the instance based on current instance
    state and object interactions.
  description: The UpdatePhasing method is responsible for synchronizing the phasing
    system across all players within an instance. It ensures that players see only
    the appropriate objects and areas based on the current instance state, quest progress,
    or other dynamic conditions. This method typically gets called when significant
    changes occur in the instance that may affect which players should see which objects.
    The phasing system in TrinityCore uses a combination of phase masks, world states,
    and object visibility flags to control what players can see. This method is crucial
    for maintaining proper gameplay experience in instances where certain areas or
    objects need to be hidden or revealed based on player progress or instance events.
  parameters: []
  returns: null
  examples:
  - title: Basic usage after instance event
    code: "void BossAI::JustDied(Unit* who)\n{\n    // ... boss death logic ...\n\
      \    instance->UpdatePhasing();\n}"
    language: cpp
  - title: Usage with conditional phasing update
    code: "void InstanceScript::OnPlayerEnter(Player* player)\n{\n    // ... player\
      \ enter logic ...\n    if (player->GetPhaseMask() != GetPhaseMask())\n    {\n\
      \        UpdatePhasing();\n    }\n}"
    language: cpp
  notes: This method typically iterates through all players in the instance and updates
    their phasing information. It's often called automatically by the core when certain
    events occur, but can also be manually invoked when custom phasing logic needs
    to be applied. The performance impact is generally low as it only affects players
    currently within the instance.
  warnings: Calling UpdatePhasing() too frequently without proper conditions may cause
    unnecessary overhead. It should typically only be called when actual phasing changes
    occur, not on every game tick or minor event.
  related:
  - GetPhaseMask
  - SetPhaseMask
  - SendPhaseUpdate
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T00:08:24.216983'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
