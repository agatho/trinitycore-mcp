api:
  class: ScriptMgr
  method: OnUninstall
  signature: void ScriptMgr::OnUninstall(Vehicle * veh)
documentation:
  brief: Called when a vehicle is uninstalled from the game world
  description: The OnUninstall method is invoked by the TrinityCore script manager
    when a vehicle object is being removed or destroyed from the game world. This
    method serves as a cleanup hook for vehicle-related scripts and allows custom
    code to execute during the vehicle's destruction process. It provides an opportunity
    for scripts to perform necessary cleanup operations, such as removing temporary
    data, notifying other systems, or handling any vehicle-specific resources that
    need to be released before the vehicle object is fully destroyed.
  parameters:
  - name: veh
    description: Pointer to the Vehicle object being uninstalled. This parameter represents
      the vehicle instance that is about to be removed from the game world and may
      contain all relevant vehicle data and state information at the time of uninstallation.
  returns: null
  examples:
  - title: Basic Vehicle Uninstall Handler
    code: "class MyVehicleScript : public VehicleScript\n{\npublic:\n    MyVehicleScript()\
      \ : VehicleScript(\"MyVehicleScript\") {}\n\n    void OnUninstall(Vehicle* veh)\
      \ override\n    {\n        // Perform cleanup operations when vehicle is uninstalled\n\
      \        if (veh)\n        {\n            // Log vehicle uninstallation\n  \
      \          sLog->outInfo(LOG_FILTER_SCRIPTS, \"Vehicle %u is being uninstalled\"\
      , veh->GetGUID().GetCounter());\n            \n            // Remove any custom\
      \ data associated with this vehicle\n            // ...\n        }\n    }\n\
      };"
    language: cpp
  notes: This method is part of the scriptable vehicle system in TrinityCore and is
    typically called during the destruction phase of a vehicle object. Developers
    should be aware that the vehicle pointer may contain incomplete data if the uninstallation
    occurs during an abnormal shutdown or error condition.
  warnings: The vehicle pointer passed to this method may be null or in an inconsistent
    state if the uninstallation occurs during system cleanup or error conditions.
    Always validate the pointer before accessing its members.
  related:
  - OnInstall
  - OnAddPassenger
  - OnRemovePassenger
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T22:02:26.071442'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
