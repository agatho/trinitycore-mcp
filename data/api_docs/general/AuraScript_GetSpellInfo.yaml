api:
  class: AuraScript
  method: GetSpellInfo
  signature: const SpellInfo * AuraScript::GetSpellInfo() const
documentation:
  brief: Retrieves the SpellInfo structure associated with the aura's spell.
  description: The GetSpellInfo method returns a pointer to the SpellInfo structure
    that defines the properties and behavior of the spell which created the aura.
    This structure contains comprehensive data about the spell including its effects,
    duration, casting requirements, and other mechanics. The returned pointer is valid
    for the lifetime of the aura script and should not be modified. This method is
    commonly used within AuraScript implementations to access spell-specific attributes
    during aura application, removal, or update events.
  parameters: []
  returns: A constant pointer to the SpellInfo structure representing the spell that
    created this aura. Returns nullptr if the aura was not created from a spell or
    if the spell information is invalid.
  examples:
  - title: Accessing Spell Duration
    code: "class MyAuraScript : public AuraScript\n{\n    void OnApply(AuraEffect\
      \ const* aurEff, AuraEffectHandleModes mode) override\n    {\n        const\
      \ SpellInfo* spellInfo = GetSpellInfo();\n        if (spellInfo)\n        {\n\
      \            uint32 duration = spellInfo->GetDuration();\n            // Use\
      \ duration for custom logic\n        }\n    }\n};"
    language: cpp
  - title: Checking Spell Effects
    code: "class MyAuraScript : public AuraScript\n{\n    void OnUpdate(uint32 diff)\
      \ override\n    {\n        const SpellInfo* spellInfo = GetSpellInfo();\n  \
      \      if (spellInfo && spellInfo->HasEffect(SPELL_EFFECT_SCHOOL_DAMAGE))\n\
      \        {\n            // Handle aura update for damage spells\n        }\n\
      \    }\n};"
    language: cpp
  notes: The SpellInfo pointer returned by this method is managed by the core and
    should not be deleted or modified. It represents the base spell definition, not
    the instance-specific aura data. This method can be safely called from any AuraScript
    event handler during the aura's lifecycle.
  warnings: Do not assume that the returned SpellInfo pointer will always be valid
    - it may be nullptr in edge cases such as invalid auras or during cleanup phases.
    Always check for null before dereferencing the pointer.
  related:
  - GetAura
  - GetCaster
  - GetSpellId
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T18:15:59.598859'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
