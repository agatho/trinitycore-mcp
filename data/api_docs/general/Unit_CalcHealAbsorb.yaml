api:
  class: Unit
  method: CalcHealAbsorb
  signature: void Unit::CalcHealAbsorb(HealInfo & healInfo)
documentation:
  brief: Calculates heal absorb effects for incoming healing damage
  description: This method processes the healing absorb mechanics for a given HealInfo
    structure, determining how much healing can be absorbed by the target unit's absorb
    effects. It handles the calculation of absorb values that reduce incoming healing,
    typically used in combat situations where targets have absorb abilities like Divine
    Shield or other protective effects. The method ensures proper handling of healing
    absorption based on the target's current absorb state and prevents excessive healing
    from being applied.
  parameters:
  - name: healInfo
    description: The HealInfo structure containing healing information to process
      for absorb calculations
  returns: null
  examples:
  - title: Basic heal absorption calculation
    code: 'Unit* target = player->GetUnit();

      HealInfo healInfo;

      healInfo.HealAmount = 1000;

      healInfo.HealType = HEAL_TYPE;

      target->CalcHealAbsorb(healInfo);

      // After this call, healInfo will have absorb values applied'
    language: cpp
  notes: This method is typically called during healing calculations in combat. It's
    important to note that the method modifies the HealInfo structure directly, which
    means the original heal amount may be reduced after absorption. The implementation
    uses internal absorb mechanics and requires proper initialization of the HealInfo
    structure before calling.
  warnings: The method assumes that the HealInfo structure is properly initialized
    with valid values before calling. If not initialized correctly, it can lead to
    incorrect healing calculations or even crashes. Care should be taken when using
    this method in combat situations where multiple absorb effects may be present
    simultaneously.
  related:
  - CalcHealAbsorb
  - CalcHeal
  - CalcHealCrit
metadata:
  confidence: 0.85
  generated_at: '2025-10-30T21:23:59.698268'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
