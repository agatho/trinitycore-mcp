api:
  class: PaladinAI
  method: GetOptimalPosition
  signature: int PaladinAI::GetOptimalPosition(int * target)
documentation:
  brief: Calculates and returns the optimal position for a paladin to stand relative
    to a target for maximum effectiveness.
  description: The GetOptimalPosition method determines the best location for a Paladin
    AI to position itself in relation to its current target. This calculation considers
    factors such as spell range, line of sight, threat distribution, and combat mechanics
    specific to paladin abilities like Divine Protection, Avenging Wrath, or seal-based
    damage. The method is typically used during combat decision-making to ensure optimal
    positioning for both damage output and survivability. It returns an integer value
    representing a position index or identifier that can be used by the AI to move
    into the calculated optimal spot.
  parameters:
  - name: target
    description: Pointer to the target unit for which the optimal position is calculated.
      This parameter must point to a valid Unit object within the game world.
  returns: Returns an integer representing the optimal position index or identifier.
    A value of 0 typically indicates no optimal position was found, while positive
    values correspond to specific positions in a predefined array or lookup table
    used by the AI system.
  examples:
  - title: Basic usage in combat
    code: "Unit* target = ai->GetTarget();\nint optimalPos = ai->GetOptimalPosition(&target);\n\
      if (optimalPos > 0) {\n    // Move to the calculated optimal position\n    ai->MoveToPosition(optimalPos);\n\
      }"
    language: cpp
  - title: Using with conditional logic
    code: "Unit* target = ai->GetTarget();\nint pos = ai->GetOptimalPosition(&target);\n\
      if (pos > 0 && ai->CanMoveToPosition(pos)) {\n    // Execute movement only if\
      \ position is valid and reachable\n    ai->ExecuteMovement(pos);\n} else {\n\
      \    // Fallback behavior when optimal position cannot be determined\n    ai->Attack(target);\n\
      }"
    language: cpp
  notes: This method may perform complex calculations involving distance checks, line-of-sight
    verification, and threat assessment. It's recommended to cache results if used
    frequently in tight loops to avoid performance degradation. The exact positioning
    algorithm may vary depending on the paladin's current specialization (e.g., Retribution
    vs Holy vs Protection).
  warnings: Ensure that the target pointer passed is valid and not null, as passing
    an invalid pointer will result in undefined behavior. The method assumes the AI
    has access to up-to-date information about the target's position and state.
  related:
  - GetTarget
  - MoveToPosition
  - CanMoveToPosition
  - Attack
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T01:15:21.022577'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
