api:
  class: RestMgr
  method: Update
  signature: void RestMgr::Update(time_t now)
documentation:
  brief: Updates the rest state and related statistics for all players in the realm
  description: The RestMgr::Update method is responsible for processing and maintaining
    the resting state of players within the TrinityCore server. It handles the calculation
    and application of rest bonuses, exhaustion levels, and related gameplay mechanics
    that occur during player rest periods. This method is typically called periodically
    by the game loop to ensure that player rest states are accurately maintained and
    updated in real-time. The implementation likely checks each player's current rest
    status, applies appropriate modifiers to experience gains, skill progression,
    and other rest-related benefits, while also managing exhaustion levels that affect
    gameplay performance.
  parameters: []
  returns: null
  examples:
  - title: Basic Update Call
    code: "void GameLoop()\n{\n    time_t currentTime = time(nullptr);\n    sRestMgr->Update(currentTime);\n\
      }"
    language: cpp
  notes: This method is typically invoked from the main game loop or periodic update
    system. It's important to note that rest management in TrinityCore involves complex
    interactions between player states, server configurations, and gameplay balance
    mechanics. The method may perform database operations to persist rest state changes.
  warnings: Improper handling of rest state updates can lead to incorrect experience
    gain calculations, skill progression issues, or player exhaustion level mismanagement.
    This method should only be called from appropriate game loop contexts to avoid
    race conditions or inconsistent state management.
  related:
  - GetPlayerRestState
  - SetPlayerRestState
  - ApplyRestBonus
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T20:44:01.073034'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
