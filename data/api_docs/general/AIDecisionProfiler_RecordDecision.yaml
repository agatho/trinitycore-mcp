api:
  class: AIDecisionProfiler
  method: RecordDecision
  signature: void AIDecisionProfiler::RecordDecision(const AIDecisionRecord & record)
documentation:
  brief: Records an AI decision made by a creature for profiling and analysis purposes.
  description: The RecordDecision method captures detailed information about a decision
    made by an AI-controlled creature during gameplay. This function is typically
    used in conjunction with TrinityCore's AI system to track and analyze the behavior
    of NPCs, helping developers understand how AI makes choices under various conditions.
    The recorded data includes timing, decision context, and outcome metrics which
    can be used for performance tuning, debugging, or generating reports on AI behavior
    patterns. This method does not return any value but stores the provided record
    internally for later retrieval or processing.
  parameters:
  - name: record
    description: A constant reference to an AIDecisionRecord object containing all
      relevant data about the AI decision that was made. This includes timestamp,
      decision type, involved entities, and any contextual parameters used in making
      the choice.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'AIDecisionRecord record;

      record.timestamp = getGameTime();

      record.decisionType = AIDecisionType::ATTACK;

      record.targetGUID = target->GetGUID();

      profiler.RecordDecision(record);'
    language: cpp
  - title: Advanced Usage with Context
    code: 'AIDecisionRecord record;

      record.timestamp = getGameTime();

      record.decisionType = AIDecisionType::FLEE;

      record.contextData = {"health": creature->GetHealth(), "threatLevel": creature->GetThreatManager()->GetHighestThreat()};

      profiler.RecordDecision(record);'
    language: cpp
  notes: This method is designed to be called from within AI update loops and should
    ideally be lightweight to avoid performance impact. The internal storage mechanism
    may use buffering or asynchronous writes depending on the profiler implementation.
    Developers should ensure that AIDecisionRecord objects passed to this method are
    properly initialized before calling.
  warnings: Calling this method without proper initialization of the AIDecisionRecord
    structure can lead to undefined behavior or incorrect profiling data. Ensure that
    all required fields in the record are populated appropriately before passing it
    to this function.
  related:
  - GetDecisionHistory
  - ClearDecisionRecords
  - EnableProfiling
  - DisableProfiling
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T22:41:28.911298'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
