api:
  class: TradeManager
  method: CanPlayerUseItem
  signature: bool TradeManager::CanPlayerUseItem(Item * item, Player * player) const
documentation:
  brief: Checks whether a player can use a specific item in trade transactions.
  description: The CanPlayerUseItem method evaluates if a given player is permitted
    to use a specified item within the context of trading. This check typically involves
    verifying item restrictions, player requirements, and trade eligibility rules.
    The method ensures that items such as soulbound or quest-specific items are not
    used in trades when they shouldn't be allowed. It's commonly invoked during trade
    operations to validate item usability before allowing a trade to proceed.
  parameters:
  - name: item
    description: Pointer to the Item object that is being evaluated for use in trading.
      Must not be null.
  - name: player
    description: Pointer to the Player object whose permissions and restrictions are
      checked against the item. Must not be null.
  returns: Returns true if the player can use the item in a trade, false otherwise.
    This indicates whether the item passes all necessary trade validation checks.
  examples:
  - title: Basic Usage Check
    code: "if (TradeManager::CanPlayerUseItem(item, player)) {\n    // Proceed with\
      \ trade logic\n    player->AddTradeItem(item);\n} else {\n    // Prevent trade\
      \ or notify user\n    player->SendTradeError(TRADE_ERROR_ITEM_NOT_TRADEABLE);\n\
      }"
    language: cpp
  - title: Integration in Trade Logic
    code: "void Player::HandleTradeItem(Item* item, uint8 slot) {\n    if (!TradeManager::CanPlayerUseItem(item,\
      \ this)) {\n        SendTradeError(TRADE_ERROR_ITEM_NOT_TRADEABLE);\n      \
      \  return;\n    }\n    // Continue with normal trade handling\n}"
    language: cpp
  notes: This method likely performs checks such as item binding status, level requirements,
    and account-bound restrictions. It may also consider faction-specific rules or
    custom server configurations that affect item tradability.
  warnings: Ensure both parameters are valid non-null pointers before calling this
    method to avoid undefined behavior. The method does not perform any modifications
    to the item or player state.
  related:
  - TradeManager::CanPlayerTradeItem
  - Player::CanUseItem
  - Item::IsBound
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T00:45:48.044346'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
