api:
  class: WorldSession
  method: HandlePetSetAction
  signature: void WorldSession::HandlePetSetAction(WorldPackets::Pet::PetSetAction
    & packet)
documentation:
  brief: Processes a packet to set or modify the action state of a player's pet.
  description: The HandlePetSetAction method is responsible for handling client requests
    to configure or update the action behavior of a player's summoned pet. This includes
    setting commands such as attack, follow, stay, or passive modes, which determine
    how the pet interacts with targets and responds to player input. The method typically
    validates the pet's existence and ownership before applying changes to its action
    state. It is part of the core pet management system in TrinityCore and directly
    affects gameplay mechanics related to pet control and AI behavior.
  parameters: []
  returns: null
  examples:
  - title: Setting Pet to Attack Mode
    code: 'WorldPackets::Pet::PetSetAction packet;

      packet.PetGUID = player->GetPet()->GetGUID();

      packet.Action = PET_ACTION_ATTACK;

      player->GetSession()->HandlePetSetAction(packet);'
    language: cpp
  notes: This method assumes that the pet exists and is under the control of the session's
    player. It does not perform direct validation of pet ownership or state, relying
    on prior checks in the calling code or packet handling pipeline.
  warnings: Improper use of this method without verifying pet existence or player
    ownership may lead to undefined behavior or client-side errors. Always ensure
    that the pet is valid and controlled by the current session before invoking this
    handler.
  related:
  - HandlePetAction
  - HandlePetStopAttack
  - HandlePetSetAction
  - GetPlayerPet
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T19:25:57.465425'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
