api:
  class: SmartAI
  method: WaypointReached
  signature: void SmartAI::WaypointReached(uint32 nodeId, uint32 pathId)
documentation:
  brief: Called when a SmartAI waypoint is reached during path movement
  description: The WaypointReached method is invoked by the SmartAI system when a
    creature or NPC successfully reaches a specified waypoint in its assigned path.
    This method serves as a callback mechanism for custom AI behavior when waypoints
    are hit, allowing developers to implement specific actions such as triggering
    events, changing phases, or modifying the creature's state. The method is part
    of the SmartAI framework which provides advanced AI capabilities for World of
    Warcraft NPCs and creatures within TrinityCore. It is automatically called by
    the core during path execution and does not require manual invocation.
  parameters:
  - name: nodeId
    description: The unique identifier of the waypoint node that was reached. This
      corresponds to the node index in the path definition, starting from 0.
  - name: pathId
    description: The identifier of the path that contains the reached waypoint. Multiple
      paths can be assigned to a single creature, and this ID distinguishes between
      them.
  returns: null
  examples:
  - title: Basic Waypoint Reached Implementation
    code: "void SmartAI::WaypointReached(uint32 nodeId, uint32 pathId)\n{\n    if\
      \ (nodeId == 5 && pathId == 100)\n    {\n        // Trigger an event when reaching\
      \ node 5 of path 100\n        DoAction(ACTION_EVENT_TRIGGERED);\n    }\n}"
    language: cpp
  - title: Advanced Waypoint Reached with State Management
    code: "void SmartAI::WaypointReached(uint32 nodeId, uint32 pathId)\n{\n    switch\
      \ (nodeId)\n    {\n        case 0:\n            // Start of path\n         \
      \   SetReactState(REACT_AGGRESSIVE);\n            break;\n        case 10:\n\
      \            // Mid-path waypoint\n            if (pathId == 200)\n        \
      \        Talk(SAY_REACHED_MIDPOINT);\n            break;\n        case 20:\n\
      \            // End of path\n            SetReactState(REACT_PASSIVE);\n   \
      \         break;\n    }\n}"
    language: cpp
  notes: This method is called from the AI thread context and should avoid heavy operations
    that could block path execution. The nodeId and pathId parameters are guaranteed
    to be valid when this method is invoked, as they come directly from the path system's
    internal tracking.
  warnings: Do not modify the creature's movement or path during this callback, as
    it may cause undefined behavior or path corruption. Avoid calling functions that
    alter the AI state in a way that could interfere with ongoing path execution.
  related:
  - GetWaypointId
  - StartPath
  - PauseMovement
  - ResumeMovement
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T02:37:00.634724'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
