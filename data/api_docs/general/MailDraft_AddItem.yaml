api:
  class: MailDraft
  method: AddItem
  signature: MailDraft & MailDraft::AddItem(Item * item)
documentation:
  brief: Adds an item to the mail draft for later sending.
  description: The AddItem method adds a specified Item object to the MailDraft's
    internal list of items that will be included in the mail when it is sent. This
    method allows developers to programmatically attach items such as equipment, currency,
    or consumables to mails sent to players. The item must be valid and properly initialized
    within the game world for this operation to succeed. This method returns a reference
    to the MailDraft object itself, enabling method chaining.
  parameters: []
  returns: A reference to the MailDraft object, allowing for method chaining.
  examples:
  - title: Basic Usage
    code: "MailDraft draft(\"Subject\", \"Body\");\nItem* item = Player->GetItemByEntry(12345);\n\
      if (item)\n{\n    draft.AddItem(item);\n    draft.SendMailTo(MailReceiver(player),\
      \ MailSender(player));\n}"
    language: cpp
  - title: Adding Multiple Items
    code: "MailDraft draft(\"Reward\", \"Here are your rewards.\");\nItem* item1 =\
      \ Player->GetItemByEntry(12345);\nItem* item2 = Player->GetItemByEntry(67890);\n\
      if (item1 && item2)\n{\n    draft.AddItem(item1);\n    draft.AddItem(item2);\n\
      \    draft.SendMailTo(MailReceiver(player), MailSender(player));\n}"
    language: cpp
  notes: This method does not immediately send the mail; it only prepares the item
    for inclusion in a subsequent SendMailTo call. The item's ownership and state
    should be managed properly before calling AddItem to avoid issues with item transfer
    or deletion.
  warnings: Ensure that the Item pointer passed to this method is valid and not already
    deleted or moved elsewhere in memory. Attempting to add an invalid or null item
    may result in undefined behavior or silent failures.
  related:
  - SendMailTo
  - AddItem
  - MailDraft::MailDraft
  - MailDraft::~MailDraft
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T08:56:22.185327'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
