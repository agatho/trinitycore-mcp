api:
  class: VengeanceSoulFragmentManager
  method: ConsumeAllFragments
  signature: bool VengeanceSoulFragmentManager::ConsumeAllFragments()
documentation:
  brief: Consumes all soul fragments from the VengeanceSoulFragmentManager instance
    and returns true if successful.
  description: The ConsumeAllFragments method is responsible for processing and consuming
    all available soul fragments stored within the VengeanceSoulFragmentManager class.
    This method typically represents a core mechanic in World of Warcraft's vengeance
    system, where soul fragments are collected and then consumed to trigger specific
    effects or abilities. The method performs internal validation to ensure that all
    fragments can be properly consumed without conflicts or errors. It is commonly
    used during ability activation sequences or when the player's vengeance state
    needs to be reset or updated. The operation may have side effects such as updating
    internal counters, triggering events, or modifying player state variables.
  parameters: []
  returns: Returns true if all fragments were successfully consumed and processed;
    returns false if the operation failed due to invalid state, missing fragments,
    or other internal errors.
  examples:
  - title: Basic Usage
    code: "if (vengeanceSoulFragmentManager.ConsumeAllFragments()) {\n    // Fragments\
      \ successfully consumed\n    // Trigger vengeance effect or update UI\n}"
    language: cpp
  - title: Integration with Vengeance System
    code: "void Player::ActivateVengeanceAbility() {\n    if (vengeanceSoulFragmentManager.ConsumeAllFragments())\
      \ {\n        // Apply vengeance effects\n        ApplyVengeanceBuff();\n   \
      \     SendVengeanceUpdate();\n    } else {\n        // Log error or notify player\n\
      \        LOG_ERROR(\"player\", \"Failed to consume vengeance fragments for player\
      \ {}\", GetGUID().ToString());\n    }\n}"
    language: cpp
  notes: This method is likely thread-safe if used within the context of TrinityCore's
    main thread or properly synchronized systems. It may internally iterate through
    a collection of soul fragments and perform atomic operations on each. The method
    should not be called repeatedly in rapid succession without checking fragment
    availability, as it may have performance implications when dealing with large
    numbers of fragments.
  warnings: Calling this method when no fragments are available may result in an error
    state or false return value. Ensure proper state management before invoking this
    method to avoid unexpected behavior. The method might not be safe for concurrent
    access from multiple threads without proper synchronization.
  related:
  - GetFragmentCount
  - AddFragment
  - HasFragments
  - ResetFragments
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T17:30:43.197043'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
