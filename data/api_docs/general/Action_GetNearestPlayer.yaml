api:
  class: Action
  method: GetNearestPlayer
  signature: Player * Action::GetNearestPlayer(BotAI * ai, float range) const
documentation:
  brief: Finds and returns the nearest player within a specified range using the provided
    BotAI instance.
  description: The GetNearestPlayer method searches for the closest Player object
    within a given range from the AI's current position. It utilizes the BotAI context
    to determine the positioning and targeting logic. This function is commonly used
    in AI behavior scripts to identify nearby players for interaction, targeting,
    or decision-making purposes. The method will return nullptr if no player is found
    within the specified range or if the provided BotAI instance is invalid.
  parameters:
  - name: ai
    description: Pointer to the BotAI instance that provides context and positioning
      data for finding the nearest player.
  - name: range
    description: Maximum distance within which to search for a player. Players beyond
      this range will be ignored.
  returns: A pointer to the Player object that is closest to the AI's position within
    the specified range. Returns nullptr if no player is found or if an error occurs
    during processing.
  examples:
  - title: Basic Usage
    code: "Player* nearest = action.GetNearestPlayer(ai, 30.0f);\nif (nearest)\n{\n\
      \    // Perform actions with the nearest player\n    ai->SetTarget(nearest);\n\
      }"
    language: cpp
  - title: Check for Nearby Players Before Attacking
    code: "Player* target = action.GetNearestPlayer(ai, 25.0f);\nif (target && target->IsInWorld())\n\
      {\n    // Only attack if a valid player is nearby\n    ai->Attack(target);\n\
      }\nelse\n{\n    // No nearby players, continue with other behavior\n    ai->DoNothing();\n\
      }"
    language: cpp
  notes: This method relies on the BotAI's internal positioning and world state to
    determine player proximity. It may not account for obstacles or line-of-sight
    restrictions unless explicitly implemented in the AI logic. The range parameter
    is typically measured in yards in World of Warcraft.
  warnings: Ensure that the BotAI pointer passed into this function is valid and initialized,
    otherwise the behavior is undefined. Also be aware that returning nullptr does
    not necessarily mean there are no players in the area, only that none were found
    within the specified range.
  related:
  - GetNearestCreature
  - GetNearestGameObject
  - GetTarget
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T06:55:28.807043'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
