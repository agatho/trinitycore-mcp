api:
  class: LOSCache
  method: LOSCache
  signature: void LOSCache::LOSCache(int * map)
documentation:
  brief: Initializes or resets the line-of-sight cache for the specified map.
  description: The LOSCache method is responsible for setting up or clearing the internal
    line-of-sight cache used by the TrinityCore server for collision detection and
    visibility calculations. This method prepares the cache structure for a given
    map ID, ensuring that subsequent LOS queries can be efficiently processed. The
    cache typically stores precomputed data about terrain, objects, and other environmental
    features that affect whether two points have a clear line of sight between them.
    This is crucial for gameplay mechanics such as spell casting, NPC vision, and
    player movement validation.
  parameters: []
  returns: null
  examples:
  - title: Initialize LOS Cache for Map
    code: 'LOSCache* losCache = new LOSCache();

      int mapId = 0; // Eastern Kingdoms

      losCache->LOSCache(&mapId);'
    language: cpp
  notes: This method should be called once per map during server initialization or
    when switching maps to ensure proper cache setup. The cache may consume significant
    memory depending on the complexity of the map and its objects.
  warnings: Calling this method without proper map initialization can lead to undefined
    behavior in LOS queries. Ensure that the map ID passed is valid before invoking
    this function.
  related:
  - LOSCache::GetLosCache
  - LOSCache::IsInLineOfSight
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T16:49:57.695540'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
