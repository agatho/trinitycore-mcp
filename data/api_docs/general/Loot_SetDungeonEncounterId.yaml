api:
  class: Loot
  method: SetDungeonEncounterId
  signature: void Loot::SetDungeonEncounterId(uint32 dungeonEncounterId)
documentation:
  brief: Sets the dungeon encounter ID for this loot instance, associating it with
    a specific encounter in a dungeon or raid.
  description: The SetDungeonEncounterId method assigns a unique identifier to a Loot
    object that corresponds to a specific dungeon encounter. This is used primarily
    in World of Warcraft's loot system to track which boss fight or encounter the
    loot originated from, enabling proper loot distribution and tracking within the
    game's encounter-based content. The dungeon encounter ID helps distinguish between
    different instances of the same loot type based on the context of the encounter.
    This method does not validate the provided ID against existing encounters; it
    simply sets the internal value for later use by the game engine.
  parameters:
  - name: dungeonEncounterId
    description: A unique identifier representing a specific dungeon encounter. This
      ID typically corresponds to entries in the game's encounter database and is
      used to track loot distribution across different encounters within the same
      dungeon or raid instance.
  returns: null
  examples:
  - title: Setting Encounter ID for Loot
    code: 'Loot* loot = new Loot();

      loot->SetDungeonEncounterId(12345);

      // The loot now has encounter ID 12345 associated with it'
    language: cpp
  - title: Setting Encounter ID in a Custom Loot System
    code: "void OnCreatureKilled(Creature* creature, Player* player) {\n    Loot*\
      \ loot = player->GetLoot();\n    uint32 encounterId = GetEncounterIdForCreature(creature);\n\
      \    if (encounterId > 0) {\n        loot->SetDungeonEncounterId(encounterId);\n\
      \    }\n}"
    language: cpp
  notes: This method is typically used internally by the TrinityCore server when processing
    loot drops from creatures that are part of a dungeon encounter. The encounter
    ID is crucial for proper loot distribution in instances where multiple encounters
    occur within the same dungeon. It's recommended to set this value before the loot
    is distributed to players.
  warnings: Setting an invalid or non-existent dungeon encounter ID may cause issues
    with loot tracking and could result in incorrect loot distribution behavior. Ensure
    that the ID corresponds to a valid encounter in the game's database before calling
    this method.
  related:
  - GetDungeonEncounterId
  - Loot::SetLootMode
  - Loot::AddItem
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T01:02:15.673308'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
