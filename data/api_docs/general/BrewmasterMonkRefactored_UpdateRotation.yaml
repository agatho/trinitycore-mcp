api:
  class: BrewmasterMonkRefactored
  method: UpdateRotation
  signature: void BrewmasterMonkRefactored::UpdateRotation(int * target)
documentation:
  brief: Updates the Brewmaster Monk's combat rotation logic based on current target
    and game state
  description: The UpdateRotation method is responsible for managing the core combat
    behavior of a Brewmaster Monk AI. It evaluates the current target, player health,
    mana levels, and available abilities to determine the optimal sequence of actions
    during combat. This method typically handles ability prioritization, cooldown
    management, and resource allocation for maximum damage output or survivability
    depending on the configured playstyle. The method interacts with the TrinityCore
    AI framework to execute decisions and update the monk's current action state.
  parameters:
  - name: target
    description: Pointer to the target unit that the Brewmaster Monk should focus
      on. This parameter is used to determine combat priority, threat generation,
      and ability targeting. The target may be null if no valid enemy exists within
      range.
  returns: None
  examples:
  - title: Basic Usage in Combat AI
    code: "void MyBrewmasterAI::Update()\n{\n    Unit* target = GetVictim();\n   \
      \ if (target)\n        _monk.UpdateRotation(&target);\n    else\n        _monk.UpdateRotation(nullptr);\n\
      }"
    language: cpp
  - title: Integration with Custom Rotation Logic
    code: "void BrewmasterMonkRefactored::UpdateRotation(int* target)\n{\n    if (!target\
      \ || *target == 0) {\n        // No target, return to default stance\n     \
      \   return;\n    }\n    \n    Unit* unitTarget = ObjectAccessor::GetUnit(*this,\
      \ *target);\n    if (!unitTarget || !unitTarget->IsAlive()) {\n        // Target\
      \ is dead or invalid\n        return;\n    }\n    \n    // Core rotation logic\
      \ would go here\n    // e.g., check for cooldowns, health percentages, etc.\n\
      }"
    language: cpp
  notes: This method should be called regularly during combat updates, typically every
    100-200ms depending on AI configuration. The target parameter is expected to be
    a valid pointer to an integer representing the target's GUID. The implementation
    may involve complex state tracking and should consider thread safety if used in
    multi-threaded contexts.
  warnings: The method assumes that the target parameter points to a valid unit GUID.
    Passing invalid or uninitialized pointers can lead to undefined behavior. Ensure
    proper null checking before dereferencing the target pointer. This method modifies
    internal AI state and may affect combat performance if called too frequently without
    proper throttling.
  related:
  - GetVictim
  - IsInCombat
  - CastSpell
  - HasCooldown
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T07:20:27.315663'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
