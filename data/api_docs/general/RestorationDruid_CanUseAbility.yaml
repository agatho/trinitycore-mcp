api:
  class: RestorationDruid
  method: CanUseAbility
  signature: bool RestorationDruid::CanUseAbility(uint32 spellId)
documentation:
  brief: Determines whether a Restoration Druid can use a specified spell ability
    based on class restrictions, resource requirements, and cooldowns.
  description: The CanUseAbility method evaluates if a Restoration Druid character
    is eligible to cast or activate a specific spell ability. It checks various conditions
    including class-specific spell restrictions, mana or rage requirements, global
    cooldown status, and any active cooldowns for the spell. This method is typically
    used in AI decision-making logic to ensure that only valid abilities are attempted
    by the druid during gameplay. The method does not modify any state but returns
    a boolean value indicating usability.
  parameters:
  - name: spellId
    description: The unique identifier of the spell ability to check for usability.
      Must correspond to a valid spell entry in the game's spell database.
  returns: Returns true if the Restoration Druid can use the specified spell, false
    otherwise. This includes cases where the spell is not available due to class restrictions,
    insufficient resources, or active cooldowns.
  examples:
  - title: Basic Usage Check
    code: "if (druid->CanUseAbility(774))) {\n    // Druid can use Rejuvenation\n\
      \    druid->CastSpell(target, 774);\n}"
    language: cpp
  - title: Conditional Ability Usage
    code: "uint32 spellToCast = 8936; // Regrowth\nif (druid->CanUseAbility(spellToCast))\
      \ {\n    druid->CastSpell(target, spellToCast);\n} else {\n    // Try alternative\
      \ ability\n    druid->CastSpell(target, 18562); // Swiftmend\n}"
    language: cpp
  notes: This method is commonly used in AI scripts to prevent invalid spell casts.
    It considers both static class limitations and dynamic conditions such as resource
    availability and cooldowns. The implementation may vary depending on the specific
    version of TrinityCore being used.
  warnings: Ensure that spellId corresponds to a valid spell entry; invalid IDs might
    lead to undefined behavior or incorrect return values. This method should not
    be used for direct spell casting without additional validation in complex scenarios.
  related:
  - CastSpell
  - HasMana
  - IsOnCooldown
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T15:19:19.644990'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
