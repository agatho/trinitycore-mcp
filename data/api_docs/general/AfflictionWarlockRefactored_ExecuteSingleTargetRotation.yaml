api:
  class: AfflictionWarlockRefactored
  method: ExecuteSingleTargetRotation
  signature: void AfflictionWarlockRefactored::ExecuteSingleTargetRotation(int * target)
documentation:
  brief: Executes the affliction warlock's single-target rotation logic for the current
    fight.
  description: The ExecuteSingleTargetRotation method implements the core combat logic
    for an affliction warlock AI when targeting a single enemy. This method evaluates
    the current spell cooldowns, mana levels, and target debuffs to determine the
    optimal sequence of spells to cast. It typically includes handling of DoTs (Damage
    over Time effects), mana-efficient spell usage, and proper rotation timing. The
    method is designed to maximize damage output while maintaining efficient resource
    management during single-target encounters.
  parameters:
  - name: target
    description: Pointer to the target enemy object that the warlock will cast spells
      on. This parameter should point to a valid GameObject or Unit instance representing
      the current target.
  returns: null
  examples:
  - title: Basic usage in combat loop
    code: "void MyWarlockAI::UpdateAI(uint32 diff)\n{\n    if (Unit* target = SelectTarget(SELECT_TARGET_TOPAGGRO))\n\
      \    {\n        ExecuteSingleTargetRotation(&target);\n    }\n}"
    language: cpp
  - title: Integration with custom targeting logic
    code: "void AfflictionWarlockRefactored::ExecuteSingleTargetRotation(int* target)\n\
      {\n    if (!target || *target <= 0)\n        return;\n    \n    Unit* unitTarget\
      \ = ObjectAccessor::GetUnit(*m_owner, *target);\n    if (!unitTarget || !unitTarget->IsAlive())\n\
      \        return;\n    \n    // Core rotation logic here\n    // ... spell casting\
      \ and DoT management\n}"
    language: cpp
  notes: This method assumes that the warlock has a valid target and sufficient mana
    to cast spells. It is typically called from within an AI update loop or combat
    state handler. The method may modify internal state variables such as spell cooldown
    tracking, DoT application flags, and resource management counters.
  warnings: Ensure that the target pointer points to a valid unit object before calling
    this method, otherwise undefined behavior may occur. This method should not be
    called during combat transitions or when the warlock is in an invalid state (e.g.,
    stunned, feared).
  related:
  - ExecuteMultiTargetRotation
  - CheckSpellCooldowns
  - ApplyDoTsToTarget
  - ManageManaResources
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T10:43:58.153719'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
