api:
  class: AdaptiveBehaviorManager
  method: ApplyEmergencyStrategies
  signature: void AdaptiveBehaviorManager::ApplyEmergencyStrategies(const CombatMetrics
    & metrics)
documentation:
  brief: Applies emergency combat strategies based on current combat metrics and enemy
    behavior.
  description: The ApplyEmergencyStrategies method evaluates the provided CombatMetrics
    to determine if emergency actions should be triggered for the AI-controlled unit.
    It assesses factors such as health percentage, threat level, and enemy proximity
    to decide which predefined emergency behaviors to activate. This method is typically
    invoked during high-stress combat scenarios where standard behavior patterns are
    insufficient to ensure survival or successful engagement. The implementation may
    include defensive maneuvers, evasive actions, or tactical retreats depending on
    the specific AI configuration and current battlefield conditions.
  parameters:
  - name: metrics
    description: A const reference to CombatMetrics containing real-time combat data
      including health status, threat levels, distance to enemies, and other relevant
      battle statistics used to evaluate emergency response conditions.
  returns: null
  examples:
  - title: Basic usage in AI update loop
    code: "void MyAI::UpdateAI(const uint32 diff)\n{\n    if (m_combatMetrics.GetHealthPercentage()\
      \ < 30)\n    {\n        m_adaptiveBehaviorManager.ApplyEmergencyStrategies(m_combatMetrics);\n\
      \    }\n}"
    language: cpp
  - title: Integration with custom combat state machine
    code: "void CombatStateMachine::HandleCombatUpdate()\n{\n    if (IsInDangerousSituation())\n\
      \    {\n        m_adaptiveBehaviorManager.ApplyEmergencyStrategies(m_combatMetrics);\n\
      \        // Additional emergency logic here\n    }\n}"
    language: cpp
  notes: This method is designed to be called frequently during combat updates and
    should not block execution for extended periods. It relies on the CombatMetrics
    object being properly updated before invocation. The actual emergency strategies
    applied depend on the AI's configuration and may vary between different NPC types
    or difficulty settings.
  warnings: Ensure that CombatMetrics is consistently updated with accurate data before
    calling this method, as incorrect values may lead to inappropriate emergency responses.
    This method does not perform any validation of input parameters; invalid or stale
    metrics could cause unexpected behavior.
  related:
  - GetCombatMetrics
  - UpdateCombatMetrics
  - ResetEmergencyStrategies
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T06:55:05.691845'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
