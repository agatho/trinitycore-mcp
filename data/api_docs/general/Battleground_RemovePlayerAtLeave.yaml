api:
  class: Battleground
  method: RemovePlayerAtLeave
  signature: void Battleground::RemovePlayerAtLeave(int guid, bool Transport, bool
    SendPacket)
documentation:
  brief: Removes a player from the battleground at leave, handling transport and packet
    sending options.
  description: The RemovePlayerAtLeave method is responsible for removing a player
    from a battleground when they leave, either through disconnecting, zoning out,
    or explicitly leaving. This method manages cleanup of player-related data within
    the battleground context, including updating internal player lists, handling transport
    logic if specified, and optionally sending packets to notify other players or
    systems about the player's departure. The method ensures proper state management
    for the battleground and maintains synchronization between the game world and
    the player's presence in the arena.
  parameters:
  - name: guid
    description: The unique identifier (GUID) of the player to be removed from the
      battleground.
  - name: Transport
    description: A boolean flag indicating whether the player is being removed due
      to transport-related events. If true, special transport handling may be applied
      during removal.
  - name: SendPacket
    description: A boolean flag that determines whether a packet should be sent to
      notify other players or systems about the player's departure from the battleground.
  returns: null
  examples:
  - title: Basic Player Removal
    code: "Battleground* bg = sObjectAccessor->GetBattleground(playerGuid);\nif (bg)\n\
      {\n    bg->RemovePlayerAtLeave(playerGuid, false, true);\n}"
    language: cpp
  - title: Transport-Based Player Removal
    code: "Battleground* bg = sObjectAccessor->GetBattleground(playerGuid);\nif (bg)\n\
      {\n    bg->RemovePlayerAtLeave(playerGuid, true, false);\n}"
    language: cpp
  notes: This method is typically called internally by the battleground system when
    a player leaves. It's important to ensure that the GUID corresponds to an actual
    player currently in the battleground; otherwise, behavior may be undefined. The
    Transport parameter allows for specialized handling of players who are removed
    due to transport mechanics such as those used in certain battlegrounds like Eye
    of the Storm or Alterac Valley.
  warnings: Calling this method with an invalid GUID or on a player not actually present
    in the battleground can lead to undefined behavior or crashes. Ensure proper validation
    before invoking this method. Also, note that SendPacket should only be set to
    true when necessary as it may cause unnecessary network traffic.
  related:
  - AddPlayer
  - PlayerAdded
  - IsPlayerInBattleground
  - GetPlayerCountByTeam
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T02:15:44.549751'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
