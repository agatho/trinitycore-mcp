api:
  class: PositionUtils
  method: IsInOptimalRange
  signature: bool PositionUtils::IsInOptimalRange(Player * bot, Unit * target, PositionType
    type)
documentation:
  brief: Determines whether a target unit is within the optimal range for a bot player
    based on position type.
  description: The IsInOptimalRange method evaluates if a specified target unit is
    within the optimal distance range for the given bot player, considering the defined
    PositionType. This utility function is commonly used in AI logic to determine
    appropriate engagement or movement behaviors. The method takes into account various
    game mechanics such as spell ranges, melee reach, and ranged attack distances
    depending on the position type specified. It returns true if the target is within
    the calculated optimal range, false otherwise. The implementation likely uses
    internal distance calculations and may consider factors like line of sight or
    terrain.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that will be evaluating
      the range. Must not be null.
  - name: target
    description: Pointer to the Unit object representing the target being evaluated
      for range. Must not be null.
  - name: type
    description: PositionType enum value that defines what kind of optimal range calculation
      should be performed (e.g., melee, ranged, spell). Valid values depend on the
      PositionType enumeration defined in the codebase.
  returns: Boolean value indicating whether the target is within the optimal range
    for the bot. Returns true if the distance between bot and target is less than
    or equal to the calculated optimal range for the specified type, false otherwise.
  examples:
  - title: Basic usage checking melee range
    code: "if (PositionUtils::IsInOptimalRange(bot, target, PositionType::MELEE))\
      \ {\n    // Bot can attack target with melee ability\n    bot->Attack(target,\
      \ true);\n}"
    language: cpp
  - title: Advanced usage with different position types
    code: "switch (GetPositionTypeForClass(bot->getClass())) {\n    case PositionType::RANGED:\n\
      \        if (PositionUtils::IsInOptimalRange(bot, target, PositionType::RANGED))\
      \ {\n            bot->CastSpell(target, SPELL_SHOOT);\n        }\n        break;\n\
      \    case PositionType::SPELL:\n        if (PositionUtils::IsInOptimalRange(bot,\
      \ target, PositionType::SPELL)) {\n            bot->CastSpell(target, SPELL_FIREBALL);\n\
      \        }\n        break;\n}"
    language: cpp
  notes: This method likely performs distance calculations using the World of Warcraft's
    internal coordinate system and may utilize cached position data for performance.
    The actual range values are determined by the PositionType enum and corresponding
    game mechanics. It is recommended to cache the result when checking multiple conditions
    to avoid repeated expensive calculations.
  warnings: Ensure that both bot and target pointers are valid before calling this
    method, as passing null pointers will likely cause undefined behavior or crashes.
    The PositionType parameter must be a valid value from the enumeration; invalid
    values may lead to incorrect range calculations or exceptions.
  related:
  - GetPositionTypeForClass
  - CalculateDistance
  - IsInRange
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T21:08:01.143940'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
