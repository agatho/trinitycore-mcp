api:
  class: SocketedGem
  method: WriteCreate
  signature: void SocketedGem::WriteCreate(ByteBuffer & data, const Item * owner,
    const Player * receiver) const
documentation:
  brief: Serializes socketed gem data into a packet buffer for client transmission.
  description: The WriteCreate method serializes the socketed gem's data into a ByteBuffer,
    which is typically used to construct a packet sent to a player's client. This
    method is responsible for encoding the gem's properties, such as its item ID,
    enchantment information, and socket state, into a format suitable for network
    transmission. It is commonly invoked when sending item update packets or initial
    item creation messages to players, particularly in scenarios involving gemmed
    items where socketed gems need to be communicated to the client. The method requires
    both an owner (the item containing the gem) and a receiver (the player who will
    view the gem data).
  parameters:
  - name: data
    description: A reference to a ByteBuffer that will be filled with serialized socketed
      gem data for network transmission.
  - name: owner
    description: A pointer to the Item object that contains this socketed gem. Used
      to retrieve gem properties and item context.
  - name: receiver
    description: A pointer to the Player object who will receive the serialized packet
      data. May be used for conditional serialization or player-specific logic.
  returns: null
  examples:
  - title: Basic Usage in Item Update Packet
    code: 'SocketedGem gem;

      Item* item = player->GetItemByPos(INVENTORY_SLOT_BAG_0, 0);

      ByteBuffer data;

      gem.WriteCreate(data, item, player);

      player->SendDirectMessage(&data);'
    language: cpp
  notes: This method is typically called during item serialization processes within
    the TrinityCore packet system. It assumes that the owner and receiver parameters
    are valid pointers and that the underlying item data is consistent. The method
    does not perform any validation on input parameters beyond basic pointer checks.
  warnings: Incorrect usage of this method with invalid or null pointers can lead
    to memory corruption or client-side crashes. Ensure that both 'owner' and 'receiver'
    are properly initialized before calling WriteCreate.
  related:
  - SocketedGem::ReadCreate
  - SocketedGem::GetGemId
  - SocketedGem::GetEnchantmentId
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T19:00:33.159193'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
