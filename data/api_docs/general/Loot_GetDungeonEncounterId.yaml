api:
  class: Loot
  method: GetDungeonEncounterId
  signature: uint32 Loot::GetDungeonEncounterId() const
documentation:
  brief: Retrieves the dungeon encounter ID associated with this loot object.
  description: The GetDungeonEncounterId method returns the unique identifier for
    the specific dungeon encounter that generated this loot. This ID is used internally
    by TrinityCore to track which boss fight or encounter the loot originated from,
    particularly in dungeon and raid content. The method provides access to encounter-specific
    loot data, allowing for proper loot distribution and tracking based on the encounter
    context. It is commonly used in loot systems where different encounters may have
    different loot tables or modifiers.
  parameters: []
  returns: A uint32 value representing the dungeon encounter ID. This identifier corresponds
    to a specific boss fight or encounter within a dungeon or raid instance. A value
    of 0 typically indicates that no specific encounter is associated with this loot,
    which may occur in general loot drops or when the encounter data is not available.
  examples:
  - title: Basic Usage
    code: "Loot* loot = player->GetLoot();\nuint32 encounterId = loot->GetDungeonEncounterId();\n\
      if (encounterId > 0)\n{\n    sLog->outString(\"Loot from encounter ID: %u\"\
      , encounterId);\n}"
    language: cpp
  - title: Using Encounter ID for Loot Filtering
    code: "void ProcessLootForEncounter(Player* player, uint32 requiredEncounterId)\n\
      {\n    Loot* loot = player->GetLoot();\n    if (loot && loot->GetDungeonEncounterId()\
      \ == requiredEncounterId)\n    {\n        // Apply encounter-specific loot rules\n\
      \        loot->AddItem(...);\n    }\n}"
    language: cpp
  notes: This method is primarily used in dungeon and raid content where encounters
    are tracked. The returned ID may be 0 if the loot was not generated from a specific
    encounter, such as in world drops or general quest rewards. The encounter IDs
    are typically defined in the game's database and correspond to specific boss fights.
  warnings: Be aware that this method returns 0 for loot not associated with a specific
    encounter. Always check the return value before using it in conditional logic
    to avoid unexpected behavior in loot processing systems.
  related:
  - GetLootType
  - GetLootMode
  - GetQuestItemIndex
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T01:06:42.999156'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
