api:
  class: UnitChannel
  method: WriteCreate
  signature: void UnitChannel::WriteCreate(ByteBuffer & data, const Unit * owner,
    const Player * receiver) const
documentation:
  brief: Writes channeling information for a unit to a packet buffer for transmission
    to a player.
  description: The WriteCreate method serializes the channeling state of a Unit object
    into a ByteBuffer, which is typically used when sending update packets to clients.
    This method is part of the TrinityCore's network protocol handling for transmitting
    game state changes related to spell casting or channeling effects. It ensures
    that the client receives accurate information about what a unit is currently channeling,
    including the spell ID and duration. The method requires both an owner (the Unit
    whose channeling data is being written) and a receiver (the Player who will receive
    this data), allowing for proper packet filtering and transmission logic.
  parameters:
  - name: data
    description: Reference to a ByteBuffer where the serialized channeling data will
      be written. This buffer is typically part of an update packet being constructed
      for transmission.
  - name: owner
    description: Pointer to the Unit object whose channeling state is being serialized.
      This represents the entity that is currently channeling a spell or effect.
  - name: receiver
    description: Pointer to the Player object who will receive this channeling data.
      Used for determining proper packet formatting and filtering based on visibility
      rules.
  returns: null
  examples:
  - title: Basic usage in update packet construction
    code: 'ByteBuffer data;

      UnitChannel channel;

      Player* player = ...;

      Unit* unit = ...;

      channel.WriteCreate(data, unit, player);

      // Send data to player''s client'
    language: cpp
  notes: This method is typically called during update packet construction when a
    Unit's channeling state needs to be synchronized with the client. The actual serialization
    logic may depend on the specific spell or effect being channeled, and it's expected
    that the owner unit has valid channeling data set before calling this method.
  warnings: null
  related:
  - UnitChannel::ReadCreate
  - Unit::SetChannelSpell
  - Unit::GetChannelSpell
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T17:57:46.039933'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
