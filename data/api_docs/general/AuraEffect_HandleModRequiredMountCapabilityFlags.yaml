api:
  class: AuraEffect
  method: HandleModRequiredMountCapabilityFlags
  signature: void AuraEffect::HandleModRequiredMountCapabilityFlags(const AuraApplication
    * aurApp, uint8 mode, bool apply) const
documentation:
  brief: Modifies the required mount capability flags for an aura application.
  description: The HandleModRequiredMountCapabilityFlags method adjusts the mount
    capability requirements associated with a specific aura effect. It is invoked
    during aura application or removal to modify the player's ability to use mounts
    based on the aura's flags. This method interacts with the aura application context
    and applies or removes mount-related restrictions depending on the mode and apply
    flag parameters. The functionality is typically used for spells or effects that
    alter a character's mount capabilities, such as enabling flight or restricting
    mount usage in certain zones.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura being
      applied or removed. This parameter provides context about which aura effect
      is being modified.
  - name: mode
    description: The mode of operation, typically indicating whether the effect is
      being applied (1) or removed (0). The exact values may vary based on implementation
      details within TrinityCore's aura system.
  - name: apply
    description: Boolean flag indicating whether to apply (true) or remove (false)
      the mount capability flags. When true, the aura modifies mount requirements;
      when false, it reverts them.
  returns: null
  examples:
  - title: Applying Mount Capability Flags
    code: "void ApplyMountRestriction(AuraApplication* app) {\n    AuraEffect* effect\
      \ = new AuraEffect();\n    effect->HandleModRequiredMountCapabilityFlags(app,\
      \ 1, true);\n}"
    language: cpp
  - title: Removing Mount Capability Flags
    code: "void RemoveMountRestriction(AuraApplication* app) {\n    AuraEffect* effect\
      \ = new AuraEffect();\n    effect->HandleModRequiredMountCapabilityFlags(app,\
      \ 0, false);\n}"
    language: cpp
  notes: This method is part of the aura handling system in TrinityCore and should
    only be called from within the context of aura application or removal logic. The
    mode parameter may have specific expected values depending on how the aura system
    interprets different stages of effect application.
  warnings: Improper use of this method can lead to incorrect mount behavior for players,
    potentially causing them to be unable to fly or use mounts in areas where they
    should be allowed. Ensure that the aurApp and mode parameters are correctly set
    before calling this function.
  related:
  - AuraEffect::HandleEffect
  - AuraApplication::GetAura
  - Unit::SetCanFly
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T12:24:42.996238'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
