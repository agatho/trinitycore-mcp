api:
  class: MarksmanshipCastManager
  method: GetCurrentCast
  signature: uint32 MarksmanshipCastManager::GetCurrentCast() const
documentation:
  brief: Retrieves the identifier of the currently active marksmanship spell cast
    by the player
  description: The GetCurrentCast method returns the unique identifier (GUID) of the
    currently executing marksmanship spell cast by the player. This method is typically
    used within the context of a MarksmanshipCastManager class to track or manage
    ongoing spell casts, particularly for abilities like Aimed Shot, Steady Shot,
    or other auto-shot related spells in the Hunter's marksmanship specialization.
    The returned value represents the spell's entry ID from the game's spell database
    and can be used to determine which specific spell is currently being cast, aiding
    in logic flow control, cooldown management, or interrupt handling.
  parameters: []
  returns: Returns a uint32 value representing the spell identifier (entry ID) of
    the currently active marksmanship cast. If no cast is currently active, the method
    may return 0 or a default invalid spell ID depending on implementation.
  examples:
  - title: Check Current Cast Before Casting New Spell
    code: "if (uint32 currentCast = player->GetSpellHistory()->GetCurrentCast()) {\n\
      \    // Prevent casting new spell if one is already active\n    if (currentCast\
      \ != SPELL_STEADY_SHOT) {\n        // Handle cast interruption or queue logic\n\
      \    }\n}"
    language: cpp
  - title: Log Active Cast for Debugging
    code: "uint32 currentSpellId = marksmanshipManager->GetCurrentCast();\nif (currentSpellId\
      \ != 0) {\n    sLog->outString(\"Player is currently casting spell ID: %u\"\
      , currentSpellId);\n} else {\n    sLog->outString(\"No active cast detected\"\
      );\n}"
    language: cpp
  notes: This method assumes that the MarksmanshipCastManager maintains an internal
    state tracking of active casts. It is recommended to check if a cast exists before
    calling this method to avoid potential undefined behavior or incorrect spell ID
    returns. The returned value should be validated against known spell IDs in the
    game's database for proper functionality.
  warnings: Calling this method during a spell interrupt or while the player is in
    an invalid state (e.g., dead, stunned) may result in unexpected return values.
    Always verify that the player is in a valid casting state before using this value
    in conditional logic.
  related:
  - MarksmanshipCastManager::SetCurrentCast
  - MarksmanshipCastManager::IsCasting
  - MarksmanshipCastManager::ClearCurrentCast
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T12:35:13.629614'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
