api:
  class: LineOfSightManager
  method: FindLineOfSightPositions
  signature: int LineOfSightManager::FindLineOfSightPositions(Unit * target, float
    radius)
documentation:
  brief: Calculates and returns the number of line-of-sight positions between the
    caller and a target unit within a specified radius.
  description: The FindLineOfSightPositions method determines the number of valid
    line-of-sight positions between the calling Unit and a specified target Unit,
    considering a given radius. This method is typically used in pathfinding or targeting
    logic to ensure that an object can see another within a defined spatial boundary.
    It evaluates whether there are clear sight lines from the source unit's position
    to the target unit's position, taking into account obstacles and terrain. The
    result indicates how many discrete positions along the line of sight are valid
    for movement or targeting purposes. This method is crucial in AI behavior systems
    where visibility and pathing decisions must be made accurately.
  parameters:
  - name: target
    description: Pointer to the target Unit for which line-of-sight positions are
      calculated. Must not be null.
  - name: radius
    description: The radius within which to evaluate line-of-sight positions. Defines
      the spatial boundary for visibility checks. Must be a positive value.
  returns: An integer representing the number of valid line-of-sight positions calculated
    between the caller and the target unit. Returns zero if no valid positions exist
    or if parameters are invalid.
  examples:
  - title: Basic usage to check visibility
    code: "Unit* player = ...;\nUnit* npc = ...;\nint positions = player->GetMap()->GetLosManager()->FindLineOfSightPositions(npc,\
      \ 5.0f);\nif (positions > 0)\n{\n    // Player has line of sight to NPC within\
      \ 5 yards\n}"
    language: cpp
  - title: Using result for pathfinding
    code: "Unit* attacker = ...;\nUnit* target = ...;\nfloat radius = 10.0f;\nint\
      \ validPositions = attacker->GetMap()->GetLosManager()->FindLineOfSightPositions(target,\
      \ radius);\nif (validPositions >= 3)\n{\n    // Proceed with attack or movement\n\
      }"
    language: cpp
  notes: This method relies on the underlying map's line-of-sight system and may be
    affected by terrain height differences, object collisions, and other environmental
    factors. Performance can vary depending on map complexity and number of obstacles
    in the path. The method does not modify any state of the units involved; it is
    purely a query operation.
  warnings: Ensure that both the caller and target Units are valid and exist before
    calling this method. Passing null pointers or negative radius values may lead
    to undefined behavior or incorrect results. This method should not be called from
    within a critical section without proper synchronization if used in multi-threaded
    contexts.
  related:
  - GetLineOfSight
  - IsInLineOfSight
  - CalculatePath
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T03:39:06.626992'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
