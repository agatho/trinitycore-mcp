api:
  class: MonkAI
  method: DetermineOptimalForm
  signature: MartialForm MonkAI::DetermineOptimalForm(int * target, const int & enemies)
documentation:
  brief: Determines the optimal martial form for a Monk AI based on target and enemy
    count.
  description: The DetermineOptimalForm method evaluates the current combat situation
    for a Monk AI to select the most effective martial form. It considers factors
    such as the number of enemies present and the target's status to determine whether
    to use Brewmaster, Windwalker, or Mistweaver form. This decision-making process
    is crucial for optimal damage output, survivability, and resource management in
    both single-target and AoE scenarios. The method takes into account the AI's current
    state, available abilities, and strategic combat priorities.
  parameters:
  - name: target
    description: Pointer to an integer representing the target identifier or index.
      Used to determine enemy targeting priority and threat levels.
  - name: enemies
    description: Reference to an integer indicating the total number of enemies in
      the combat area. Influences form selection for optimal AoE or single-target
      performance.
  returns: 'Returns a MartialForm enum value representing the recommended martial
    form: BREWMASTER_FORM, WINDWALKER_FORM, or MISTWEAVER_FORM. The specific form
    returned depends on enemy count and target status.'
  examples:
  - title: Basic usage in combat AI
    code: 'int targetId = 12345;

      int enemyCount = 3;

      MartialForm optimalForm = ai.DetermineOptimalForm(&targetId, enemyCount);

      // Returns appropriate form based on combat situation'
    language: cpp
  - title: Using result to switch forms
    code: "int targetId = player->GetTarget();\nint enemyCount = 0;\nfor (auto& unit\
      \ : player->GetThreatManager().GetThreatList()) {\n    if (unit->IsHostileTo(player))\
      \ enemyCount++;\n}\nMartialForm form = ai.DetermineOptimalForm(&targetId, enemyCount);\n\
      if (form != player->GetMartialForm()) {\n    player->SetMartialForm(form);\n\
      }"
    language: cpp
  notes: This method is part of the Monk AI decision engine and should be called frequently
    during combat to maintain optimal form selection. The implementation likely uses
    internal state tracking, cooldown information, and ability availability to make
    decisions. Performance is critical in real-time combat scenarios.
  warnings: Ensure that target pointer is valid before calling this method; passing
    null or invalid pointers may lead to undefined behavior. The method assumes the
    AI has access to current player stats and abilities for accurate decision making.
  related:
  - GetMartialForm
  - SetMartialForm
  - UpdateCombatState
  - EvaluateThreatLevel
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T00:00:53.353639'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
