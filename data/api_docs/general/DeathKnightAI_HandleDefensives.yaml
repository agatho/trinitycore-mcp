api:
  class: DeathKnightAI
  method: HandleDefensives
  signature: bool DeathKnightAI::HandleDefensives()
documentation:
  brief: Handles defensive ability usage for a Death Knight AI unit
  description: The HandleDefensives method manages the execution of defensive abilities
    and cooldowns for a Death Knight AI-controlled unit. This method evaluates the
    current combat state, checks for available defensive spells or abilities, and
    determines whether to activate them based on health thresholds, threat levels,
    and cooldown status. It integrates with the AI's decision-making system to ensure
    optimal use of defensive mechanics during combat encounters. The method returns
    true if a defensive ability was successfully activated, false otherwise.
  parameters: []
  returns: Returns true if a defensive ability was successfully executed, false if
    no suitable defensive action was available or performed
  examples:
  - title: Basic usage in AI update loop
    code: "void DeathKnightAI::UpdateAI(uint32 diff)\n{\n    if (HandleDefensives())\n\
      \        return;\n    // Continue with other AI logic\n}"
    language: cpp
  - title: Integration with combat state management
    code: "bool DeathKnightAI::HandleDefensives()\n{\n    if (me->GetHealthPct() <\
      \ 30.0f && !me->HasAura(SPELL_DEATH_STRIKE))\n        return DoCast(SPELL_DEATH_STRIKE);\n\
      \    \n    if (me->GetHealthPct() < 50.0f && !me->HasAura(SPELL_ANTIMAGIC_SHELL))\n\
      \        return DoCast(SPELL_ANTIMAGIC_SHELL);\n    \n    return false;\n}"
    language: cpp
  notes: This method should be called regularly during AI update cycles to ensure
    timely defensive action. The implementation typically checks for spell availability,
    cooldowns, and health thresholds before executing any defensive abilities.
  warnings: Ensure that the AI unit has proper access to defensive spells and that
    the method is not called too frequently to avoid spamming defensive actions. Consider
    the timing of defensive ability usage in relation to other AI behaviors.
  related:
  - DoCast
  - HasAura
  - GetHealthPct
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T12:30:04.534679'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
