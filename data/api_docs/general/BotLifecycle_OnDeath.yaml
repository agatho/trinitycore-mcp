api:
  class: BotLifecycle
  method: OnDeath
  signature: void BotLifecycle::OnDeath()
documentation:
  brief: Handles the bot's lifecycle when it dies, performing cleanup and respawn
    logic
  description: The OnDeath method is invoked when a bot character is killed in World
    of Warcraft. This method manages the bot's death state, including removing the
    bot from active gameplay, triggering any necessary cleanup operations, and preparing
    the bot for potential respawn or reassignment. The method ensures proper handling
    of the bot's resources and maintains the integrity of the bot management system
    within TrinityCore. It typically executes after the character's death animation
    and before any respawn mechanics are initiated.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in bot lifecycle management
    code: "void BotLifecycle::OnDeath()\n{\n    // Remove bot from active player list\n\
      \    RemoveBotFromActiveList();\n    \n    // Clear any ongoing AI tasks\n \
      \   ClearCurrentAIState();\n    \n    // Schedule respawn if needed\n    if\
      \ (ShouldRespawn())\n        ScheduleRespawn();\n}"
    language: cpp
  notes: This method is typically called internally by the TrinityCore framework when
    a bot character's health reaches zero. Developers should ensure that any custom
    logic implemented in this method does not block or delay the game loop, as it
    may affect overall server performance.
  warnings: Avoid performing heavy computations or blocking operations within this
    method, as it may cause frame drops or server lag. Also, be careful not to create
    infinite loops when handling respawn logic.
  related:
  - OnRespawn
  - OnEnterCombat
  - OnLeaveCombat
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T19:06:55.516250'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
