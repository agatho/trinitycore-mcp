api:
  class: DB2StorageBase
  method: WriteRecord
  signature: void DB2StorageBase::WriteRecord(uint32 id, LocaleConstant locale, ByteBuffer
    & buffer) const
documentation:
  brief: Writes a record to the database storage with the specified ID and locale
    using the provided buffer.
  description: The WriteRecord method is responsible for serializing and storing a
    record into the DB2 storage system. It takes an identifier, a locale constant,
    and a ByteBuffer containing the record data, then writes this information to the
    appropriate storage location. This method is typically used during data loading
    or update operations within TrinityCore's database management system. The method
    operates on a const object, implying it does not modify the state of the DB2StorageBase
    instance itself but rather performs an operation on its internal data structures.
    It is commonly invoked when processing game data files or updating in-memory representations
    of database records.
  parameters:
  - name: id
    description: The unique identifier for the record being written. This ID typically
      corresponds to a primary key in the associated database table and must be valid
      for successful storage.
  - name: locale
    description: The locale constant indicating which language version of the record
      should be stored. This allows for localization support within the DB2 storage
      system, enabling different data versions per game client locale.
  - name: buffer
    description: A ByteBuffer containing the serialized record data to be written.
      The buffer should already contain properly formatted data matching the expected
      structure of the target DB2 file format.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'uint32 recordId = 12345;

      LocaleConstant locale = LOCALE_en;

      ByteBuffer dataBuffer;

      dataBuffer << uint32(1) << float(3.14f) << std::string("test");

      storage.WriteRecord(recordId, locale, dataBuffer);'
    language: cpp
  notes: This method is part of the DB2 storage abstraction layer in TrinityCore and
    assumes that the underlying storage mechanism has been properly initialized. It
    may perform internal locking or synchronization depending on the implementation
    details of the DB2StorageBase subclass. The buffer passed should be correctly
    populated with data matching the expected schema for the target record type.
  warnings: Ensure that the provided ID is valid and does not conflict with existing
    records in the storage system, as this could lead to data corruption or unexpected
    behavior. Also, verify that the ByteBuffer contains properly formatted data; malformed
    data may cause issues during serialization or retrieval.
  related:
  - Load
  - GetRecord
  - HasRecord
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T16:00:40.518717'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
