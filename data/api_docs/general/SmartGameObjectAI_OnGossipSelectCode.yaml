api:
  class: SmartGameObjectAI
  method: OnGossipSelectCode
  signature: bool SmartGameObjectAI::OnGossipSelectCode(Player * player, uint32 menuId,
    uint32 gossipListId, const char * code)
documentation:
  brief: Handles gossip selection with a code input from the player in SmartGameObjectAI.
  description: The OnGossipSelectCode method is invoked when a player selects a gossip
    option that includes a text input field. This method processes the selected menu
    ID, gossip list ID, and the user-entered code string. It allows game objects to
    respond to player interactions involving custom input fields in their gossip menus.
    The method returns true if the interaction was successfully handled, or false
    if it should proceed with default behavior or further processing.
  parameters:
  - name: player
    description: Pointer to the Player object who selected the gossip option and entered
      the code.
  - name: menuId
    description: Unique identifier of the gossip menu that was displayed to the player.
  - name: gossipListId
    description: Identifier of the specific gossip option selected by the player within
      the menu.
  - name: code
    description: The text string entered by the player in response to a code input
      field, or nullptr if no code was provided.
  returns: Returns true if the gossip selection with code was handled successfully
    and no further processing is required. Returns false if default handling should
    continue or if the interaction failed.
  examples:
  - title: Basic Implementation
    code: "bool SmartGameObjectAI::OnGossipSelectCode(Player* player, uint32 menuId,\
      \ uint32 gossipListId, const char* code)\n{\n    if (menuId == 1001 && gossipListId\
      \ == 1)\n    {\n        if (code && strcmp(code, \"secret\") == 0)\n       \
      \ {\n            // Perform action for correct code\n            player->ADD_GOSSIP_ITEM(GOSSIP_ICON_CHAT,\
      \ \"Correct!\", GOSSIP_SENDER_MAIN, 2);\n            player->SEND_GOSSIP_MENU(907,\
      \ me->GetGUID());\n            return true;\n        }\n    }\n    return false;\n\
      }"
    language: cpp
  notes: This method is part of the SmartAI framework used in TrinityCore for creating
    dynamic and interactive game objects. It's typically called after a player interacts
    with a gossip menu item that has an associated text input field. The code parameter
    may be nullptr if no input was provided or if the selected option does not require
    code input.
  warnings: Ensure that the code string is properly validated to prevent security
    vulnerabilities such as buffer overflows or injection attacks. Always check for
    null pointers before using the code parameter.
  related:
  - OnGossipSelect
  - OnGossipHello
  - ADD_GOSSIP_ITEM
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T02:24:14.987315'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
