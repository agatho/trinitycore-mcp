api:
  class: InstanceEvent
  method: InstanceReset
  signature: InstanceEvent InstanceEvent::InstanceReset(int playerGuid, uint32 mapId)
documentation:
  brief: Resets the instance for a specific player and map, clearing all related event
    data and restoring the instance to its initial state.
  description: The InstanceReset method is responsible for resetting an instance associated
    with a given player GUID and map ID. This operation typically occurs when a player
    leaves an instance or when the instance needs to be cleared for reuse. The method
    ensures that all instance-specific event data, including active quests, spawned
    creatures, and object states, are properly reset. It returns an InstanceEvent
    object representing the reset action, which may contain metadata about the reset
    process. This functionality is crucial for maintaining proper instance lifecycle
    management in TrinityCore's World of Warcraft emulation environment.
  parameters:
  - name: playerGuid
    description: The unique identifier (GUID) of the player whose instance data should
      be reset. Must be a valid player GUID within the game world.
  - name: mapId
    description: The ID of the map (instance) to be reset. Must correspond to a valid
      map entry in the game's database.
  returns: An InstanceEvent object representing the reset operation. This object contains
    information about the instance reset, such as event status, associated data, or
    any error conditions that may have occurred during the reset process.
  examples:
  - title: Basic Instance Reset
    code: 'InstanceEvent event = instanceEvent.InstanceReset(12345, 100);

      // Resets instance 100 for player with GUID 12345'
    language: cpp
  - title: Instance Reset with Error Handling
    code: "InstanceEvent event = instanceEvent.InstanceReset(playerGuid, mapId);\n\
      if (event.IsValid()) {\n    // Process successful reset\n    sLog->outString(\"\
      Instance %u reset for player %u\", mapId, playerGuid);\n} else {\n    // Handle\
      \ error case\n    sLog->outError(\"Failed to reset instance %u for player %u\"\
      , mapId, playerGuid);\n}"
    language: cpp
  notes: This method is typically invoked during player logout, instance expiration,
    or when a player exits an instance. The implementation may involve clearing database
    entries, removing spawned objects from the world, and updating internal instance
    tracking structures. It's important to note that this method does not directly
    handle player movement or teleportation; it only resets the instance data.
  warnings: Calling this method with invalid player GUIDs or map IDs may result in
    undefined behavior or database corruption. Always validate input parameters before
    invoking this method. Additionally, ensure that no active operations are running
    on the target instance before calling InstanceReset to prevent race conditions.
  related:
  - GetInstanceData
  - IsInstanceActive
  - UpdateInstanceEvent
  - ClearInstanceData
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T00:44:29.458455'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
