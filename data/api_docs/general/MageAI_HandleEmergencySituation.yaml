api:
  class: MageAI
  method: HandleEmergencySituation
  signature: void MageAI::HandleEmergencySituation()
documentation:
  brief: Executes emergency spell casting behavior for MageAI when player is in critical
    health state
  description: The HandleEmergencySituation method implements the core emergency response
    logic for MageAI, automatically activating defensive spells and abilities when
    the mage's health drops below a predetermined threshold. This method prioritizes
    survival by casting emergency cooldowns such as Ice Block, Mana Shield, or other
    protective measures based on current mana availability and combat state. The function
    is typically invoked during AI decision-making cycles when health conditions meet
    emergency criteria, ensuring optimal resource usage and player survivability in
    dangerous situations.
  parameters: []
  returns: null
  examples:
  - title: Basic Emergency Situation Trigger
    code: "void MyMageAI::UpdateAI(uint32 diff)\n{\n    if (me->GetHealth() < me->GetMaxHealth()\
      \ * 0.2f)\n    {\n        HandleEmergencySituation();\n    }\n}"
    language: cpp
  notes: This method assumes the AI has access to spell casting capabilities and proper
    mana management. It should only be called when health conditions warrant emergency
    intervention, as excessive use can lead to resource depletion.
  warnings: Calling this method outside of appropriate combat or health thresholds
    may result in unnecessary spell consumption and reduced effectiveness during critical
    moments.
  related:
  - HandleSpellCasting
  - CheckHealthThreshold
  - CastEmergencySpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T00:53:58.079178'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
