api:
  class: MoveSpline
  method: segment_time_elapsed
  signature: int32 MoveSpline::segment_time_elapsed() const
documentation:
  brief: Calculates the elapsed time since the start of the current spline segment
    in milliseconds.
  description: The segment_time_elapsed method returns the amount of time that has
    passed since the beginning of the currently active spline segment. This value
    is typically used to determine progress within a movement animation or path. The
    returned value represents a signed integer indicating milliseconds elapsed, which
    can be positive or negative depending on the internal state of the spline. In
    World of Warcraft's TrinityCore implementation, this method is commonly used in
    conjunction with movement-related systems such as player locomotion, NPC pathfinding,
    and object animations to accurately track temporal progress through movement sequences.
  parameters: []
  returns: An int32 value representing the elapsed time in milliseconds since the
    start of the current spline segment. A positive value indicates time passed after
    the segment began, while a negative value may indicate an uninitialized or invalid
    state.
  examples:
  - title: Basic usage to check movement progress
    code: "MoveSpline* spline = player->movespline;\nint32 elapsed = spline->segment_time_elapsed();\n\
      if (elapsed > 0) {\n    // Movement is in progress, calculate progress percentage\n\
      \    int32 segmentDuration = spline->get_total_time();\n    float progress =\
      \ static_cast<float>(elapsed) / static_cast<float>(segmentDuration);\n}"
    language: cpp
  - title: Using elapsed time for smooth animation interpolation
    code: "MoveSpline* spline = unit->movespline;\nint32 elapsed = spline->segment_time_elapsed();\n\
      if (elapsed >= 0) {\n    float t = static_cast<float>(elapsed) / 1000.0f; //\
      \ Convert to seconds\n    // Use 't' for interpolation calculations in animation\
      \ systems\n}"
    language: cpp
  notes: This method relies on internal timing mechanisms and should only be called
    when the spline is actively animating or has been initialized. The value returned
    may not be meaningful if called before the first segment has started or after
    movement completion. Performance-wise, this method is lightweight as it only accesses
    cached timing data.
  warnings: Do not assume that a positive return value always means movement is in
    progress; verify the spline's active state before relying on this value for logic
    decisions. In some edge cases, particularly with interrupted or invalid splines,
    negative values may be returned indicating an undefined state.
  related:
  - get_total_time
  - get_current_segment_start_time
  - is_finished
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T12:19:35.915278'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
