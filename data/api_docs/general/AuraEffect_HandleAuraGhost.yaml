api:
  class: AuraEffect
  method: HandleAuraGhost
  signature: void AuraEffect::HandleAuraGhost(const AuraApplication * aurApp, uint8
    mode, bool apply) const
documentation:
  brief: Applies or removes the ghost state aura effect on a unit.
  description: The HandleAuraGhost method manages the application and removal of the
    ghost state aura effect, which typically occurs when a player dies and enters
    the ghost form. This method is called by the aura system during aura application
    or removal events. It handles the necessary game state changes such as updating
    the unit's visibility, movement capabilities, and interaction behavior with other
    players and objects. The method ensures that the affected unit behaves appropriately
    according to the ghost state rules in World of Warcraft.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura application
      context. This contains information about which unit is affected and the aura's
      properties.
  - name: mode
    description: The mode of operation for the aura effect, typically indicating how
      the aura is being applied or removed (e.g., 0 for normal application, 1 for
      removal).
  - name: apply
    description: Boolean flag indicating whether to apply (true) or remove (false)
      the ghost state aura effect.
  returns: null
  examples:
  - title: Applying Ghost Aura Effect
    code: 'AuraApplication* app = new AuraApplication(player, aura, EFFECT_0, 0);

      AuraEffect::HandleAuraGhost(app, 0, true);'
    language: cpp
  - title: Removing Ghost Aura Effect
    code: "AuraApplication* app = player->GetAuraApplication(12345);\nif (app)\n{\n\
      \    AuraEffect::HandleAuraGhost(app, 0, false);\n}"
    language: cpp
  notes: This method is part of the aura handling system and is automatically invoked
    by TrinityCore's aura application logic. Developers should not call this method
    directly unless implementing custom aura effects or modifying existing ones. The
    ghost state affects unit visibility, movement, and interaction with other players.
  warnings: Improper handling of ghost state auras can lead to unexpected behavior
    in player movement, visibility, and combat interactions. Ensure that all related
    game mechanics are properly synchronized when modifying this behavior.
  related:
  - AuraEffect::HandleAuraApply
  - AuraEffect::HandleAuraRemove
  - Unit::SetGhost
  - Unit::RemoveGhost
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T13:32:30.976604'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
