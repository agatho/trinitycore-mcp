api:
  class: AuraEffect
  method: HandleAuraModStalked
  signature: void AuraEffect::HandleAuraModStalked(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Applies or removes the stalked aura effect on a target.
  description: The HandleAuraModStalked method manages the application and removal
    of the Stalked aura effect, which is typically used in game mechanics such as
    stealth detection or tracking. This method is invoked during aura application
    or removal events and modifies the target's state accordingly. It integrates with
    the AuraApplication system to control how the stalked status affects the unit's
    behavior, including visibility and movement. The method ensures that the correct
    visual and gameplay effects are applied or removed based on whether the aura is
    being applied or removed.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura application
      context. This parameter provides information about the aura's state, target,
      and application details.
  - name: mode
    description: The mode of operation for the aura effect, typically indicating whether
      it is being applied or removed. Valid values are usually 0 for removal and non-zero
      for application.
  - name: apply
    description: Boolean flag indicating if the aura should be applied (true) or removed
      (false). This determines the direction of the effect modification.
  returns: null
  examples:
  - title: Basic usage in aura application
    code: "void MyAuraHandler::HandleAuraModStalked(const AuraApplication* aurApp,\
      \ uint8 mode, bool apply) const {\n    if (apply) {\n        // Apply stalked\
      \ effect\n        target->SetFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_STALKED);\n  \
      \  } else {\n        // Remove stalked effect\n        target->RemoveFlag(UNIT_FIELD_FLAGS,\
      \ UNIT_FLAG_STALKED);\n    }\n}"
    language: cpp
  notes: This method is part of the aura handling system and should be called only
    from within the context of an aura application or removal process. It modifies
    the target's flags and may trigger additional events related to stealth or tracking
    mechanics.
  warnings: Improper use of this method can lead to incorrect aura states, visual
    inconsistencies, or unexpected behavior in stealth-related gameplay elements.
    Ensure that the aura application context is valid before calling this method.
  related:
  - AuraEffect::HandleAuraApply
  - AuraEffect::HandleAuraRemove
  - Unit::SetFlag
  - Unit::RemoveFlag
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T13:05:52.520352'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
