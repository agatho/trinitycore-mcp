api:
  class: SpellHistory
  method: EraseCooldown
  signature: int SpellHistory::EraseCooldown(int itr)
documentation:
  brief: Removes a cooldown entry from the spell history based on the provided index.
  description: The EraseCooldown method removes a specific cooldown entry from the
    SpellHistory container using the given index. This function is typically used
    to clear or reset cooldowns for spells that have been applied to a player or creature.
    The index parameter refers to the position of the cooldown entry within the internal
    storage structure. It's important to note that this method operates on the spell
    cooldown tracking system, which is crucial for maintaining proper game balance
    and preventing players from spamming abilities. The method returns an integer
    indicating the success or failure of the operation, with typical values being
    0 for success or negative values for errors.
  parameters:
  - name: itr
    description: The index position of the cooldown entry to be removed from the spell
      history container. This is typically an integer representing the position in
      an internal list or map structure.
  returns: Returns 0 on successful removal of the cooldown entry, or a negative value
    if the operation fails (e.g., invalid index, entry not found). The exact meaning
    of negative return values may depend on the internal implementation of the SpellHistory
    class.
  examples:
  - title: Basic cooldown removal
    code: "SpellHistory* history = player->GetSpellHistory();\nint result = history->EraseCooldown(2);\n\
      if (result == 0) {\n    // Cooldown successfully removed\n    sLog->outString(\"\
      Cooldown removed successfully.\");\n} else {\n    // Handle error case\n   \
      \ sLog->outError(\"Failed to remove cooldown: %d\", result);\n}"
    language: cpp
  - title: Safe cooldown removal with bounds checking
    code: "SpellHistory* history = player->GetSpellHistory();\nuint32 cooldownIndex\
      \ = 5;\nif (cooldownIndex < history->GetSize()) {\n    int result = history->EraseCooldown(cooldownIndex);\n\
      \    if (result == 0) {\n        sLog->outString(\"Successfully erased cooldown\
      \ at index %u\", cooldownIndex);\n    } else {\n        sLog->outError(\"Failed\
      \ to erase cooldown at index %u, error code: %d\", cooldownIndex, result);\n\
      \    }\n} else {\n    sLog->outError(\"Invalid cooldown index: %u\", cooldownIndex);\n\
      }"
    language: cpp
  notes: This method is part of the spell cooldown management system in TrinityCore.
    It's important to understand that modifying cooldown entries directly can affect
    gameplay balance and should be done carefully. The internal structure of SpellHistory
    may use different data types for indices, so ensure proper type handling when
    calling this function. This operation might have performance implications if called
    frequently in tight loops.
  warnings: Calling this method with an invalid index can lead to undefined behavior
    or crashes. Always validate the index before calling EraseCooldown. Be aware that
    removing cooldowns directly bypasses normal game mechanics and could potentially
    be exploited by players or scripts. This function should only be used when necessary
    for specific game logic or debugging purposes.
  related:
  - GetCooldown
  - AddCooldown
  - HasCooldown
  - GetSize
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T18:52:04.387614'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
