api:
  class: CombatSpecializationBase
  method: SelectBestTarget
  signature: ::Unit * CombatSpecializationBase::SelectBestTarget()
documentation:
  brief: Selects and returns the most optimal target unit for combat based on current
    AI logic and threat conditions.
  description: The SelectBestTarget method determines the best available target for
    a unit's current combat specialization. It evaluates potential targets based on
    factors such as threat level, distance, health status, and other AI-specific criteria.
    This method is typically used by AI-controlled creatures or players during combat
    to decide which enemy to attack next. The returned Unit pointer represents the
    selected target, or NULL if no suitable target exists within the valid targeting
    range or conditions. The selection process may consider target priority, aggro
    status, and specialization-specific rules.
  parameters: []
  returns: A pointer to the ::Unit that is considered the best combat target, or NULL
    if no valid target is available.
  examples:
  - title: Basic usage in AI behavior
    code: "class MyAI : public CombatSpecializationBase {\npublic:\n    void UpdateAI(uint32\
      \ diff) override {\n        Unit* target = SelectBestTarget();\n        if (target\
      \ && !target->IsDead()) {\n            // Engage the selected target\n     \
      \       AttackStart(target);\n        }\n    }\n};"
    language: cpp
  notes: This method is part of the core AI targeting system in TrinityCore. It's
    designed to be called frequently during combat updates and should not be used
    outside of combat contexts unless specifically needed. The implementation may
    vary depending on the creature's specialization (e.g., melee, ranged, spellcaster).
  warnings: Ensure that the returned Unit pointer is checked for NULL before dereferencing
    to avoid crashes. This method does not perform any action on its own; it only
    selects a target which must then be used by calling methods like AttackStart()
    or SetTarget().
  related:
  - AttackStart
  - SetTarget
  - GetVictim
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T16:58:32.776621'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
