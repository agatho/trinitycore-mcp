api:
  class: ClassAI
  method: OnTargetChanged
  signature: void ClassAI::OnTargetChanged(int * newTarget)
documentation:
  brief: Updates the AI's target reference when the current target changes.
  description: The OnTargetChanged method is invoked by the TrinityCore AI system
    to notify a ClassAI instance that its current target has been updated. This method
    is typically called internally by the core game engine when an AI-controlled creature's
    target is modified, either through combat engagement, threat generation, or other
    game mechanics. The method receives a pointer to the new target and processes
    it accordingly within the AI's behavior logic. It serves as a critical callback
    mechanism for maintaining proper AI state tracking and ensuring that the AI responds
    appropriately to changes in its target.
  parameters:
  - name: newTarget
    description: Pointer to the new target entity. This parameter represents the updated
      target that the AI should now consider. The value may be NULL if no valid target
      exists, or it may point to a valid GameObject, Creature, or Player object depending
      on the context of the AI's behavior.
  returns: null
  examples:
  - title: Basic usage in custom AI implementation
    code: "class MyCustomAI : public ClassAI {\npublic:\n    void OnTargetChanged(int*\
      \ newTarget) override {\n        // Handle target change logic\n        if (newTarget\
      \ != nullptr) {\n            // Process the new target\n            target =\
      \ newTarget;\n        } else {\n            // Clear current target\n      \
      \      target = nullptr;\n        }\n    }\n};"
    language: cpp
  notes: This method is part of the AI callback system and should be overridden in
    custom AI implementations to provide specific behavior when targets change. The
    parameter passed to this method is a raw pointer, so developers must ensure proper
    validation before dereferencing it. This method may be called frequently during
    combat scenarios, so performance considerations are important.
  warnings: Do not assume that the newTarget parameter will always point to a valid
    object. Always check for NULL or invalid pointers before using the target. Improper
    handling of this callback can lead to crashes or unexpected behavior in AI-controlled
    creatures.
  related:
  - GetTarget
  - SetTarget
  - UpdateAI
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T17:20:02.620726'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
