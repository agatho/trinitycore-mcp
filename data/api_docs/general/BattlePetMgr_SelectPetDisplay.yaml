api:
  class: BattlePetMgr
  method: SelectPetDisplay
  signature: int BattlePetMgr::SelectPetDisplay(const BattlePetSpeciesEntry * speciesEntry)
documentation:
  brief: Selects a battle pet display ID based on the provided species entry for use
    in battle pet mechanics.
  description: The SelectPetDisplay method is responsible for determining and returning
    an appropriate display ID for a given battle pet species. This method plays a
    crucial role in the visual representation of battle pets within the game's UI
    and combat system. It typically processes the input species entry to find or generate
    a valid display ID that corresponds to the pet's appearance. The method may involve
    internal logic to handle different pet states, rarity levels, or special variants.
    Precondition for this method is that the provided BattlePetSpeciesEntry must be
    valid and properly initialized. The returned value represents an identifier used
    by the client to render the correct visual model of the battle pet.
  parameters:
  - name: speciesEntry
    description: A pointer to a BattlePetSpeciesEntry structure containing metadata
      about the battle pet species, including its ID, display information, and other
      relevant properties. Must not be null.
  returns: An integer representing the selected display ID for the battle pet. This
    value is used by the client to determine which visual model should be displayed
    for the pet in various game interfaces such as the battle pet journal or combat
    encounters.
  examples:
  - title: Basic Usage Example
    code: 'BattlePetSpeciesEntry* entry = sBattlePetDB->GetSpeciesEntry(12345);

      int displayId = battlePetMgr->SelectPetDisplay(entry);

      // Use displayId to set the pet''s visual model in UI'
    language: cpp
  - title: Usage with Error Checking
    code: "BattlePetSpeciesEntry* entry = sBattlePetDB->GetSpeciesEntry(12345);\n\
      if (entry != nullptr) {\n    int displayId = battlePetMgr->SelectPetDisplay(entry);\n\
      \    if (displayId > 0) {\n        // Proceed with using the display ID\n  \
      \      player->SetBattlePetDisplayId(displayId);\n    }\n}"
    language: cpp
  notes: This method likely interacts with internal battle pet databases and may cache
    results for performance. It's important to ensure that the BattlePetSpeciesEntry
    parameter is valid before calling this method, as passing a null pointer could
    lead to undefined behavior or crashes. The method should be called only when the
    player has access to the specific species or when the pet's data is fully loaded.
  warnings: Do not call this method with a null BattlePetSpeciesEntry pointer; it
    may cause segmentation faults or other runtime errors. Ensure that the entry corresponds
    to an actual existing battle pet species in the game database before invoking
    this function.
  related:
  - GetBattlePetDisplayId
  - SetBattlePetDisplayId
  - ValidateBattlePetSpecies
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T12:53:32.914615'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
