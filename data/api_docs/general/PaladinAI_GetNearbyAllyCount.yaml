api:
  class: PaladinAI
  method: GetNearbyAllyCount
  signature: int PaladinAI::GetNearbyAllyCount(float range) const
documentation:
  brief: Counts the number of nearby allied units within a specified range.
  description: The GetNearbyAllyCount method calculates and returns the total number
    of friendly units (including players and pets) that are within the given range
    of the PaladinAI's owner. This method is typically used by AI logic to determine
    optimal spell casting or defensive positioning. The range parameter defines the
    maximum distance in yards from the AI's owner where allies are considered. The
    method performs a spatial query to identify nearby units, making it useful for
    area-of-effect spell targeting and group coordination strategies.
  parameters: []
  returns: An integer representing the count of allied units found within the specified
    range. Returns 0 if no allies are found or if the range is invalid.
  examples:
  - title: Basic Usage for Spell Targeting
    code: "if (paladinAI->GetNearbyAllyCount(10.0f) > 2)\n{\n    // Cast a healing\
      \ spell on multiple nearby allies\n    paladinAI->CastSpellOnTarget(SPELL_HOLY_LIGHT);\n\
      }"
    language: cpp
  - title: Group Coordination Based on Nearby Allies
    code: "int allyCount = paladinAI->GetNearbyAllyCount(25.0f);\nif (allyCount >=\
      \ 5)\n{\n    // Activate defensive stance for group protection\n    paladinAI->SetCombatStyle(PALADIN_COMBAT_STYLE_DEFENSIVE);\n\
      }\nelse if (allyCount < 3)\n{\n    // Move closer to gather allies\n    paladinAI->MoveToTarget(PLAYER_TARGET);\n\
      }"
    language: cpp
  notes: This method uses the AI's owner as the reference point for distance calculations.
    The range parameter is measured in yards and should be a positive value. Performance
    may be impacted when called frequently in tight loops, especially with large ranges.
    The method accounts for both player characters and their summoned pets or guardians.
  warnings: The method does not account for line-of-sight restrictions; units behind
    obstacles may still be counted if they are within range. Ensure that the range
    value is reasonable to avoid performance degradation from excessive spatial queries.
  related:
  - GetNearbyEnemyCount
  - GetNearbyUnitCount
  - GetTarget
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T11:59:25.459106'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
