api:
  class: MageAI
  method: SelectOptimalTarget
  signature: ::Unit * MageAI::SelectOptimalTarget(const int & enemies)
documentation:
  brief: Selects the most optimal target unit from a list of available enemies based
    on AI priority rules.
  description: The SelectOptimalTarget method is responsible for determining the best
    possible target for a Mage AI to attack. It evaluates the current set of enemy
    units and applies various criteria such as threat level, distance, health, and
    other combat-relevant factors to choose the most effective target. This method
    is typically invoked during the AI's decision-making process when the Mage needs
    to decide which opponent to focus on next. The method assumes that the AI has
    already identified a list of valid enemies within its detection range and prioritizes
    them according to the Mage's tactical behavior.
  parameters: []
  returns: Returns a pointer to the ::Unit object representing the selected optimal
    target. If no suitable target is found, it returns nullptr, indicating that there
    are no valid enemies to attack.
  examples:
  - title: Basic usage in Mage AI logic
    code: "class MageAI : public CreatureAI {\npublic:\n    void UpdateAI(const uint32\
      \ diff) override {\n        if (!UpdateVictim())\n            return;\n\n  \
      \      Unit* target = SelectOptimalTarget(5); // Assuming 5 enemies in range\n\
      \        if (target && target != GetVictim()) {\n            AttackStart(target);\n\
      \        }\n    }\n};"
    language: cpp
  notes: This method is part of the core AI decision-making logic and should be called
    only when there are known enemies present. The selection algorithm may vary depending
    on specific Mage spell usage patterns or class specialization, but generally favors
    targets with higher threat or lower health for burst damage spells.
  warnings: Ensure that the enemy list passed to this method is valid and up-to-date
    before calling it, as outdated or invalid references can lead to undefined behavior.
    Also, be cautious of potential race conditions if multiple threads access or modify
    the target list simultaneously.
  related:
  - UpdateVictim
  - AttackStart
  - GetVictim
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T00:44:27.291327'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
