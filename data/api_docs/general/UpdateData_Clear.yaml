api:
  class: UpdateData
  method: Clear
  signature: void UpdateData::Clear()
documentation:
  brief: Clears all update data from the UpdateData object, resetting its internal
    state to empty.
  description: The Clear method resets the UpdateData object by removing all stored
    update blocks and resetting internal counters and flags. This method is typically
    used when preparing an UpdateData object for reuse or when discarding previously
    accumulated updates. It ensures that subsequent calls to AddUpdateBlock will start
    with a clean slate. The method does not deallocate memory but rather resets the
    object's state, making it ready for new data collection. In the context of TrinityCore's
    packet handling system, this is often called before building a new set of updates
    for a player or group.
  parameters: []
  returns: null
  examples:
  - title: Basic Clear Usage
    code: 'UpdateData updateData;

      // ... add some update blocks ...

      updateData.Clear(); // Reset the object for reuse'
    language: cpp
  - title: Clear Before Building New Updates
    code: 'UpdateData updateData;

      Player* player = ...;

      // Add updates for player''s current state

      updateData.AddUpdateBlock(player->GetGUID(), player->GetUpdateBlock());

      // Clear before building new updates

      updateData.Clear();

      // Build fresh updates

      updateData.AddUpdateBlock(player->GetGUID(), player->GetUpdateBlock());'
    language: cpp
  notes: The Clear method does not free memory associated with update blocks; it merely
    resets internal pointers and counters. This design allows for efficient reuse
    of UpdateData objects without frequent memory allocation/deallocation. The method
    is thread-safe if used on separate instances, but shared instances require external
    synchronization.
  warnings: Calling Clear on an UpdateData object that is currently being processed
    by the game engine may lead to inconsistent update states. Always ensure the object
    is not in use before calling Clear.
  related:
  - AddUpdateBlock
  - BuildPacket
  - GetUpdateBlocks
metadata:
  confidence: 0.95
  generated_at: '2025-11-07T17:53:15.973162'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
