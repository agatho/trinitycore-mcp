api:
  class: AuctionHouseMgr
  method: BuildItemAuctionMailSubject
  signature: int AuctionHouseMgr::BuildItemAuctionMailSubject(AuctionMailType type,
    const AuctionPosting * auction)
documentation:
  brief: Constructs and returns a formatted mail subject string for auction house
    notifications based on the auction type and posting details.
  description: The BuildItemAuctionMailSubject method generates a localized, formatted
    string to be used as the subject line in auction-related emails sent to players.
    It takes an auction type identifier and a pointer to an auction posting object
    to determine the appropriate message format. This method is typically invoked
    when sending notifications about auction outcomes such as successful bids, expired
    auctions, or auction cancellations. The returned integer likely represents the
    length of the constructed string or serves as a status indicator for successful
    construction.
  parameters:
  - name: type
    description: Specifies the type of auction mail to generate. Valid values are
      typically defined by the AuctionMailType enum, indicating whether the mail is
      for a successful bid, auction expired, or auction cancelled.
  - name: auction
    description: Pointer to an AuctionPosting object containing details about the
      specific auction item. This includes information such as item ID, bid amount,
      and auction duration which are used in constructing the subject line.
  returns: Returns an integer representing either the length of the constructed mail
    subject string or a status code indicating success or failure of the operation.
    A negative value may indicate an error during construction.
  examples:
  - title: Basic Usage for Successful Bid Notification
    code: 'AuctionMailType type = AUCTION_MAIL_TYPE_BID_SUCCESS;

      AuctionPosting* auction = sAuctionHouseMgr->GetAuction(12345);

      int subjectLength = sAuctionHouseMgr->BuildItemAuctionMailSubject(type, auction);

      // subjectLength now holds the length of the generated mail subject'
    language: cpp
  - title: Using with Different Auction Types
    code: 'AuctionMailType type1 = AUCTION_MAIL_TYPE_EXPIRED;

      AuctionMailType type2 = AUCTION_MAIL_TYPE_CANCELLED;

      AuctionPosting* auction = sAuctionHouseMgr->GetAuction(67890);

      int expiredLength = sAuctionHouseMgr->BuildItemAuctionMailSubject(type1, auction);

      int cancelledLength = sAuctionHouseMgr->BuildItemAuctionMailSubject(type2, auction);'
    language: cpp
  notes: This method is part of the internal auction house mail system and should
    only be called when preparing to send an auction-related notification. The actual
    mail sending logic is separate from this function. Ensure that the AuctionPosting
    object passed in is valid and not null to avoid undefined behavior.
  warnings: Passing a null pointer for 'auction' will likely result in a crash or
    undefined behavior. Always validate input parameters before calling this method.
    The returned integer may be zero or negative if the subject construction fails,
    so callers should check for such cases.
  related:
  - GetAuction
  - SendAuctionMail
  - BuildItemAuctionMailBody
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T13:43:40.062897'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
