api:
  class: WorldSession
  method: SendPartyResult
  signature: void WorldSession::SendPartyResult(PartyOperation operation, const std::string
    & member, int res, uint32 val)
documentation:
  brief: Sends a party result message to the player's client with information about
    party operations.
  description: The SendPartyResult method is used by the WorldSession class to communicate
    party-related status messages back to the client. It allows the server to inform
    players about the outcome of party operations such as invitations, joins, leaves,
    or kicks. This method handles formatting and sending appropriate error messages
    or success notifications based on the operation type and result code. The method
    is typically called internally by party management systems within TrinityCore
    when processing party-related commands or events.
  parameters:
  - name: operation
    description: The type of party operation being reported. This parameter specifies
      what action was attempted (e.g., invite, join, leave, kick) and determines how
      the client interprets the result.
  - name: member
    description: The name of the player involved in the party operation. This is typically
      the target player's name for operations like invites or kicks.
  - name: res
    description: The result code indicating success or failure of the operation. Values
      typically correspond to predefined party result constants such as PARTY_RESULT_OK,
      PARTY_RESULT_INVITE_FAILED, etc.
  - name: val
    description: An additional value parameter that may contain extra information
      depending on the operation type. For example, it could represent a party ID
      or other relevant data for certain operations.
  returns: null
  examples:
  - title: Sending a successful party invitation result
    code: 'WorldSession* session = player->GetSession();

      session->SendPartyResult(PARTY_OP_INVITE, "TargetPlayer", PARTY_RESULT_OK, 0);'
    language: cpp
  - title: Sending a failed party join result with additional data
    code: 'WorldSession* session = player->GetSession();

      session->SendPartyResult(PARTY_OP_JOIN, "LeaderPlayer", PARTY_RESULT_INVITE_FAILED,
      12345);'
    language: cpp
  notes: This method directly sends network packets to the client and should only
    be called from within the game thread. It's designed to work with TrinityCore's
    internal party system and relies on proper initialization of the session state.
    The method does not perform any validation of input parameters beyond basic type
    checking.
  warnings: Improper use of this method can result in incorrect party UI behavior
    or client-side errors. Ensure that the operation parameter matches valid party
    operation types, and that result codes align with expected values for the given
    operation to avoid confusing users.
  related:
  - SendPartyCommandResult
  - SendPartyMemberStats
  - SendPartyUpdate
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T19:16:18.886615'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
