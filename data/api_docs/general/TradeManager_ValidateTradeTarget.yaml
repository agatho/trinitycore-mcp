api:
  class: TradeManager
  method: ValidateTradeTarget
  signature: bool TradeManager::ValidateTradeTarget(Player * target) const
documentation:
  brief: Validates whether a player can be targeted for a trade in the game.
  description: The ValidateTradeTarget method checks if a given player is eligible
    to participate in a trade transaction. This validation includes ensuring the target
    player is not in a combat state, is within the appropriate distance range, and
    meets other game mechanics requirements such as being in the same map or instance.
    The method returns true if all conditions are met, allowing the trade to proceed,
    or false if any condition fails. This function is typically called before initiating
    a trade to prevent invalid or exploitative trading scenarios.
  parameters: []
  returns: Returns true if the target player can be traded with, false otherwise.
    A return value of false indicates that one or more validation checks failed, preventing
    the trade from being initiated.
  examples:
  - title: Basic Trade Validation Check
    code: "Player* trader = ...; // Get player reference\nPlayer* target = ...; //\
      \ Get target player reference\nif (trader->GetTradeData()->ValidateTradeTarget(target))\
      \ {\n    // Proceed with trade initiation\n    trader->GetSession()->SendTradeStatus(TRADE_STATUS_BEGIN_TRADE);\n\
      } else {\n    // Inform player that trade cannot be initiated\n    trader->GetSession()->SendNotification(\"\
      You cannot trade with this player.\");\n}"
    language: cpp
  notes: This method is part of the core trading system and should be called before
    any trade initiation logic. It performs several checks including combat state,
    distance, map/instance restrictions, and other game-specific conditions to ensure
    fair play.
  warnings: Do not call this method without verifying that both players are valid
    and exist in the world. Calling ValidateTradeTarget on a null player pointer will
    result in undefined behavior or crashes.
  related:
  - Player::GetTradeData
  - WorldSession::SendTradeStatus
  - TradeData::StartTrade
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T20:14:10.688001'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
