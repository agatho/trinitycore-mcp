api:
  class: WorldSession
  method: HandleBattlePetUpdateNotify
  signature: void WorldSession::HandleBattlePetUpdateNotify(WorldPackets::BattlePet::BattlePetUpdateNotify
    & battlePetUpdateNotify)
documentation:
  brief: Processes incoming battle pet update notifications from the client.
  description: The HandleBattlePetUpdateNotify method is responsible for handling
    update notifications sent by the client regarding a player's battle pets. This
    method processes the data contained within the BattlePetUpdateNotify packet, which
    typically includes information about a pet's status, stats, or other attributes
    that may have changed during gameplay. It serves as part of the battle pet system
    integration in TrinityCore, ensuring that server-side pet data remains synchronized
    with client-side updates. The method does not return any value but performs necessary
    internal operations to maintain consistency between the player's battle pet state
    and the game world.
  parameters:
  - name: battlePetUpdateNotify
    description: A reference to a BattlePetUpdateNotify packet containing the data
      related to the updated battle pet. This packet includes details such as pet
      GUID, current stats, health, level, and other relevant attributes that may have
      changed.
  returns: null
  examples:
  - title: Basic Usage in Session Handler
    code: "void WorldSession::HandleBattlePetUpdateNotify(WorldPackets::BattlePet::BattlePetUpdateNotify&\
      \ battlePetUpdateNotify)\n{\n    // Process the update notification\n    if\
      \ (Player* player = GetPlayer())\n    {\n        // Update pet data on server\
      \ side\n        player->GetBattlePetData()->UpdateFromPacket(battlePetUpdateNotify);\n\
      \    }\n}"
    language: cpp
  notes: This method is part of the battle pet subsystem and should only be invoked
    when a valid BattlePetUpdateNotify packet is received from a connected client.
    It assumes that the player object is properly initialized and has active battle
    pet data associated with it.
  warnings: Improper handling of this packet could lead to desynchronization between
    client and server battle pet states, potentially causing incorrect behavior or
    visual glitches in the UI. Ensure all updates are validated before applying them
    to the server-side pet data.
  related:
  - HandleBattlePetSetMaxPets
  - HandleBattlePetRequestJourneys
  - HandleBattlePetRequestUpdate
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T19:25:16.304025'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
