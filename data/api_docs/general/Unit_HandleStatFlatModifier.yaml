api:
  class: Unit
  method: HandleStatFlatModifier
  signature: void Unit::HandleStatFlatModifier(UnitMods unitMod, UnitModifierFlatType
    modifierType, float amount, bool apply)
documentation:
  brief: Applies or removes a flat modifier to a unit's stats.
  description: This method handles the application and removal of flat stat modifiers
    for a given unit. It modifies specific attributes such as strength, agility, intellect,
    stamina, or spirit based on the specified unit mod and modifier type. The method
    is used internally by the game engine to manage stat changes during various gameplay
    events like buffs, debuffs, equipment changes, or player level ups. It ensures
    proper synchronization of stat modifications across all relevant systems.
  parameters:
  - name: unitMod
    description: The unit modifier type that defines which stat is being modified.
      Valid values include UnitMods::UNIT_MOD_STATS, UnitMods::UNIT_MOD_RESISTANCES,
      etc.
  - name: modifierType
    description: The flat modifier type that specifies whether the modification is
      positive or negative. Valid values include UnitModifierFlatType::UNIT_MOD_FLAT_POSITIVE
      or UNIT_MOD_FLAT_NEGATIVE.
  - name: amount
    description: The value of the flat modifier to apply or remove. This can be positive
      or negative depending on the modifier type, and represents the magnitude of
      change.
  - name: apply
    description: Boolean indicating whether to apply (true) or remove (false) the
      modifier from the unit's stats.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'Unit::HandleStatFlatModifier(UnitMods::UNIT_MOD_STATS, UnitModifierFlatType::UNIT_MOD_FLAT_POSITIVE,
      50.0f, true);

      // Applies a +50 flat modifier to the unit''s stats'
    language: cpp
  - title: Advanced Usage Example
    code: 'Unit::HandleStatFlatModifier(UnitMods::UNIT_MOD_RESISTANCES, UnitModifierFlatType::UNIT_MOD_FLAT_NEGATIVE,
      -25.0f, false);

      // Removes a -25 flat modifier from the unit''s resistance stats'
    language: cpp
  notes: This method is typically used internally by TrinityCore to manage stat changes
    during gameplay events. It performs checks on the unit's current state before
    applying modifications, ensuring that stat values remain within valid ranges.
    The method may be called multiple times per frame depending on game mechanics.
  warnings: Improper use of this method can cause incorrect stat calculations and
    lead to visual inconsistencies in player stats. Care must be taken when applying
    modifiers to avoid conflicts with other systems such as equipment or buffs.
  related:
  - Unit::HandleStatPercentageModifier
  - Unit::HandleStatTotalModifier
  - Unit::GetStat
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T21:05:00.921124'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
