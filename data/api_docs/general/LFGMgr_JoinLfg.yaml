api:
  class: LFGMgr
  method: JoinLfg
  signature: void LFGMgr::JoinLfg(Player * player, uint8 roles, LfgDungeonSet & dungeons)
documentation:
  brief: Initiates a player's participation in a Looking for Group (LFG) dungeon finding
    session.
  description: The JoinLfg method is responsible for adding a player to the LFG system,
    allowing them to search for or join groups for dungeons. It takes the player object,
    their desired roles within the group, and a set of dungeons they are interested
    in joining. This method integrates with TrinityCore's LFG framework to manage
    player matchmaking and group formation. The player's role determines how they
    will be matched with other players, while the dungeon set defines which specific
    dungeons they are willing to attempt. This is a core function for enabling player
    interaction within the game's group finding system.
  parameters:
  - name: player
    description: Pointer to the Player object that wishes to join LFG. Must be a valid
      player instance with an active session.
  - name: roles
    description: Bitmask value representing the player's desired roles in a group
      (e.g., tank, healer, damage dealer). Common values include LFG_ROLE_TANK, LFG_ROLE_HEALER,
      LFG_ROLE_DAMAGE, or combinations of these.
  - name: dungeons
    description: Set containing the LFG dungeon IDs that the player is interested
      in joining. This defines the pool of potential dungeons for group formation.
  returns: null
  examples:
  - title: Basic LFG Join Example
    code: 'Player* player = ...; // Valid player instance

      uint8 roles = LFG_ROLE_TANK | LFG_ROLE_DAMAGE;

      LfgDungeonSet dungeons;

      dungeons.insert(123); // Add specific dungeon ID

      dungeons.insert(124);

      LFGMgr::instance()->JoinLfg(player, roles, dungeons);'
    language: cpp
  - title: Advanced LFG Join with Multiple Roles
    code: 'Player* player = ...;

      uint8 roles = LFG_ROLE_HEALER;

      LfgDungeonSet dungeons;

      dungeons.insert(456);

      dungeons.insert(789);

      LFGMgr::instance()->JoinLfg(player, roles, dungeons);'
    language: cpp
  notes: This method is typically called when a player opens the LFG interface and
    selects their preferred roles and dungeons. It does not immediately form a group;
    instead, it registers the player in the LFG queue system where matching algorithms
    will attempt to pair them with other players. The method assumes that the player
    has already been validated and is eligible for LFG activities.
  warnings: Ensure that the player pointer is valid before calling this method, as
    passing a null pointer can lead to crashes or undefined behavior. Also, verify
    that the dungeon IDs in the set are valid and exist within the game's LFG system
    to prevent errors during group formation.
  related:
  - LeaveLfg
  - UpdateLfgDungeons
  - GetLfgStatus
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T04:10:23.975263'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
