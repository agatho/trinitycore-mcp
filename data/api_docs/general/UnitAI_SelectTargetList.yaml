api:
  class: UnitAI
  method: SelectTargetList
  signature: void UnitAI::SelectTargetList(int & targetList, uint32 num, SelectTargetMethod
    targetType, uint32 offset, float dist, bool playerOnly, bool withTank, int32 aura)
documentation:
  brief: Selects a list of targets for the AI based on specified criteria and stores
    them in the provided target list array.
  description: The SelectTargetList method is used by UnitAI to gather a set of valid
    targets for an AI-controlled unit. It evaluates potential targets within a given
    distance, applying filters such as player-only status, aura presence, and tank
    priority. The selected targets are stored in the provided integer array, which
    should be pre-allocated with sufficient space to hold the number of targets requested.
    This method is commonly used in creature AI scripts for targeting logic, particularly
    when implementing multi-target abilities or selecting optimal enemies based on
    combat conditions.
  parameters:
  - name: targetList
    description: Pointer to an integer array where selected target GUIDs will be stored.
      Must be pre-allocated with sufficient space to hold 'num' targets.
  - name: num
    description: Number of targets to select. Specifies how many valid targets should
      be added to the targetList array.
  - name: targetType
    description: Defines the selection method for choosing targets. Valid values include
      methods like SELECT_TARGET_NEAREST, SELECT_TARGET_FARTHEST, SELECT_TARGET_RANDOM,
      etc., depending on the AI implementation.
  - name: offset
    description: Offset value used in target selection logic. May be used to skip
      certain targets or apply additional filtering criteria during selection.
  - name: dist
    description: Maximum distance within which targets are considered for selection.
      Targets beyond this range will be ignored.
  - name: playerOnly
    description: Boolean flag indicating whether only player-controlled units should
      be considered as valid targets. If true, NPC targets are excluded.
  - name: withTank
    description: Boolean flag determining if tank priority is applied during target
      selection. If true, the primary tank may be prioritized over other targets.
  - name: aura
    description: Aura ID to filter targets by. Only targets with the specified aura
      will be included in the result list. A value of -1 indicates no aura filtering
      is applied.
  returns: null
  examples:
  - title: Basic usage for selecting up to 3 nearest players
    code: 'int targetList[3];

      unitAI->SelectTargetList(targetList, 3, SELECT_TARGET_NEAREST, 0, 20.0f, true,
      false, -1);

      // Selects up to 3 nearest player targets within 20 yards'
    language: cpp
  - title: Advanced usage with aura filtering and tank priority
    code: 'int targetList[5];

      unitAI->SelectTargetList(targetList, 5, SELECT_TARGET_RANDOM, 0, 30.0f, true,
      true, 12345);

      // Selects up to 5 random player targets within 30 yards that have aura 12345,
      prioritizing tank'
    language: cpp
  notes: This method modifies the targetList array directly and does not return a
    value. The caller must ensure that the targetList array is large enough to accommodate
    the number of targets requested. The method may perform multiple iterations over
    potential targets, so performance should be considered for high-frequency calls.
  warnings: Ensure that the targetList array is properly initialized before calling
    this method. Passing an uninitialized or too-small array can lead to memory corruption.
    Also note that the exact behavior of targetType depends on the specific implementation
    in the derived AI class.
  related:
  - SelectTarget
  - GetNextTarget
  - AddTargetToList
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T00:12:27.484531'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
