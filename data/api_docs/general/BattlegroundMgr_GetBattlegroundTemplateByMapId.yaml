api:
  class: BattlegroundMgr
  method: GetBattlegroundTemplateByMapId
  signature: const BattlegroundTemplate * BattlegroundMgr::GetBattlegroundTemplateByMapId(uint32
    mapId)
documentation:
  brief: Retrieves the battleground template associated with a specified map ID.
  description: The GetBattlegroundTemplateByMapId method is used to fetch the battleground
    template data for a given map identifier. This function is essential for determining
    the type and properties of a battleground based on its map ID, which is crucial
    for initializing and managing battleground instances in World of Warcraft's TrinityCore
    server. The method performs a lookup in an internal registry of battleground templates
    and returns a pointer to the corresponding template structure if found. If no
    matching battleground template exists for the provided map ID, the function returns
    a null pointer.
  parameters: []
  returns: A pointer to a const BattlegroundTemplate object representing the battleground
    template for the specified map ID, or nullptr if no such template exists.
  examples:
  - title: Basic Usage
    code: "const BattlegroundTemplate* bgTemplate = sBattlegroundMgr->GetBattlegroundTemplateByMapId(489);\n\
      if (bgTemplate)\n{\n    // Process the battleground template\n    sLog->outString(\"\
      Found battleground template for map %u\", bgTemplate->MapID);\n}"
    language: cpp
  - title: Checking for Valid Battleground
    code: "uint32 mapId = 566; // Eye of the Storm\nconst BattlegroundTemplate* bgTemplate\
      \ = sBattlegroundMgr->GetBattlegroundTemplateByMapId(mapId);\nif (bgTemplate\
      \ && bgTemplate->TypeId == BATTLEGROUND_EYE_OF_STORM)\n{\n    sLog->outString(\"\
      Valid Eye of the Storm template found for map %u\", mapId);\n}\nelse\n{\n  \
      \  sLog->outString(\"No valid battleground template found for map %u\", mapId);\n\
      }"
    language: cpp
  notes: This method performs a lookup in an internal container that maps map IDs
    to battleground templates. It is expected to be called frequently during battleground
    initialization and state management. The returned pointer is valid only as long
    as the battleground template remains registered in the manager.
  warnings: The returned pointer may be null if no battleground template exists for
    the given map ID, so always check for null before dereferencing. This method should
    not be used to validate if a map is a battleground; instead, use IsBattlegroundMap()
    or similar methods.
  related:
  - GetBattlegroundTemplateByTypeId
  - GetBattlegroundTemplateById
  - IsBattlegroundMap
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T20:04:30.428386'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
