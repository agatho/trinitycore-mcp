api:
  class: Guild
  method: AddMember
  signature: bool Guild::AddMember(int trans, int guid, int rankId)
documentation:
  brief: Adds a player to the guild with specified rank and transaction handling.
  description: The AddMember method is responsible for enrolling a new member into
    a guild within the TrinityCore framework. It takes a database transaction identifier,
    the player's global unique identifier (GUID), and the rank ID to assign to the
    new member. This method ensures that all necessary guild membership records are
    created and updated in the database using the provided transaction context. The
    operation is typically used during guild creation or when inviting players to
    join an existing guild. It handles validation of the provided GUID and rank ID,
    ensuring they correspond to valid entries in the database before proceeding with
    the addition.
  parameters:
  - name: trans
    description: Database transaction identifier used for atomic operations during
      member addition. This ensures that all related database changes are committed
      together or rolled back if any part fails.
  - name: guid
    description: Global Unique Identifier of the player to be added to the guild.
      Must correspond to a valid player entry in the database.
  - name: rankId
    description: Rank identifier that determines the member's position and permissions
      within the guild. Must reference a valid rank defined for this guild.
  returns: Returns true if the member was successfully added to the guild, false otherwise.
    Failure may occur due to invalid GUID, invalid rank ID, or database transaction
    errors.
  examples:
  - title: Basic Guild Member Addition
    code: "if (guild->AddMember(transactionId, playerGuid, rankId)) {\n    // Member\
      \ successfully added\n    sWorld->SendWorldText(LANG_GUILD_MEMBER_ADDED, playerName);\n\
      } else {\n    // Failed to add member\n    sWorld->SendWorldText(LANG_GUILD_MEMBER_ADD_FAILED);\n\
      }"
    language: cpp
  notes: This method assumes that the provided transaction is valid and properly initialized.
    The method does not perform any validation on whether the player already belongs
    to a guild, which should be checked beforehand by calling code. It's recommended
    to use this method within a database transaction block to ensure data consistency.
  warnings: Ensure that the GUID corresponds to an existing player account; otherwise,
    the operation will fail silently or cause database integrity issues. Also, verify
    that rankId is valid for the current guild before calling this function to avoid
    permission-related problems.
  related:
  - RemoveMember
  - ChangeMemberRank
  - GetMemberCount
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T00:43:55.593216'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
