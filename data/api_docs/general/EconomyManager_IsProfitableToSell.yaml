api:
  class: EconomyManager
  method: IsProfitableToSell
  signature: bool EconomyManager::IsProfitableToSell(uint32 itemId, uint32 price)
    const
documentation:
  brief: Determines whether selling an item at a given price would yield a profit.
  description: The IsProfitableToSell method evaluates if selling an item with the
    specified item ID and price would result in a positive profit. It considers the
    item's value, potential merchant fees, and other economic factors within the TrinityCore
    framework. This method is typically used by NPC vendors or auction house systems
    to determine if an item should be sold or if it would result in a loss. The method
    performs calculations based on internal economy mechanics and returns true if
    the sale would be profitable, false otherwise.
  parameters:
  - name: itemId
    description: The unique identifier of the item to evaluate for profitability.
      Must correspond to a valid item in the game database.
  - name: price
    description: The price at which the item is intended to be sold. Represents the
      selling price in copper coins.
  returns: Returns true if selling the item at the specified price would result in
    a profit after accounting for all relevant costs and fees; otherwise, returns
    false.
  examples:
  - title: Basic Profitability Check
    code: "if (EconomyManager::IsProfitableToSell(12345, 10000)) {\n    // Proceed\
      \ with selling the item\n    printf(\"Item is profitable to sell\\n\");\n} else\
      \ {\n    // Do not sell the item\n    printf(\"Item is not profitable to sell\\\
      n\");\n}"
    language: cpp
  - title: Integration with Vendor Logic
    code: "void Vendor::CheckItemProfitability(uint32 itemId, uint32 sellPrice) {\n\
      \    if (EconomyManager::IsProfitableToSell(itemId, sellPrice)) {\n        //\
      \ Add item to vendor's inventory\n        AddItemToInventory(itemId);\n    }\
      \ else {\n        // Skip adding item due to lack of profitability\n       \
      \ Log(\"Skipping unprofitable item %u\", itemId);\n    }\n}"
    language: cpp
  notes: This method likely relies on internal economy data such as item base value,
    vendor markup settings, and transaction fees. The exact calculation logic may
    vary depending on the specific TrinityCore version and configuration.
  warnings: Ensure that itemId corresponds to an actual item in the database; invalid
    item IDs may cause undefined behavior or errors. This method should not be used
    for real-time calculations without considering performance implications.
  related:
  - GetItemValue
  - CalculateTransactionFee
  - IsItemSellable
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T14:21:35.850713'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
