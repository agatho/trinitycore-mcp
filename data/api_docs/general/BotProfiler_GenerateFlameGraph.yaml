api:
  class: BotProfiler
  method: GenerateFlameGraph
  signature: bool BotProfiler::GenerateFlameGraph(uint64_t sessionId, const std::string
    & outputFile)
documentation:
  brief: Generates a flame graph visualization for bot profiling data associated with
    the specified session ID.
  description: The GenerateFlameGraph method creates a flame graph representation
    of profiling data collected during bot behavior analysis. This method takes a
    session identifier and an output file path to produce a visual profile that helps
    developers understand performance bottlenecks and execution patterns within bot
    AI logic. The generated flame graph is typically used for debugging and optimization
    purposes in TrinityCore's bot system. It requires valid session data to exist
    in the profiler's internal storage and will return false if the session does not
    exist or if file writing fails.
  parameters:
  - name: sessionId
    description: Unique identifier of the profiling session for which the flame graph
      should be generated. Must correspond to an existing session in the BotProfiler
      system.
  - name: outputFile
    description: Path and filename where the resulting flame graph visualization will
      be saved. Should specify a valid writeable location with appropriate file permissions.
  returns: True if the flame graph was successfully generated and written to the specified
    output file, false otherwise. Returns false if the session ID is invalid, data
    is unavailable, or file I/O operations fail.
  examples:
  - title: Basic Flame Graph Generation
    code: "uint64_t sessionId = 12345;\nstd::string outputFile = \"/tmp/bot_profile_flamegraph.svg\"\
      ;\nbool success = profiler.GenerateFlameGraph(sessionId, outputFile);\nif (success)\
      \ {\n    TC_LOG_INFO(\"bot\", \"Flame graph generated successfully at %s\",\
      \ outputFile.c_str());\n} else {\n    TC_LOG_ERROR(\"bot\", \"Failed to generate\
      \ flame graph for session %llu\", sessionId);\n}"
    language: cpp
  notes: The method assumes that profiling data has already been collected and stored
    in memory for the given session. Flame graphs are typically generated using tools
    like Brendan Gregg's stackcollapse.pl and flamegraph.pl scripts, which may need
    to be available on the system for full functionality. Performance impact is minimal
    during generation but depends on the amount of collected profiling data.
  warnings: Ensure that the output file path is valid and writable before calling
    this method. If the session ID does not exist or has no associated profiling data,
    the method will silently fail and return false without throwing exceptions.
  related:
  - BotProfiler::StartSession
  - BotProfiler::StopSession
  - BotProfiler::GetProfileData
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T18:26:06.673831'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
