api:
  class: PhasingHandler
  method: FillPartyMemberPhase
  signature: void PhasingHandler::FillPartyMemberPhase(WorldPackets::Party::PartyMemberPhaseStates
    * partyMemberPhases, const PhaseShift & phaseShift)
documentation:
  brief: Populates party member phase states with the provided phase shift information.
  description: The FillPartyMemberPhase method is responsible for updating a WorldPackets::Party::PartyMemberPhaseStates
    packet with the current phase information from a given PhaseShift object. This
    method ensures that each party member's phase state is accurately reflected in
    the network packet, which is crucial for proper client-side visibility and phasing
    behavior in World of Warcraft. The function iterates through the members of the
    phase shift and populates the corresponding entries in the party member phases
    structure. It is typically invoked during party synchronization or when sending
    phase update packets to players.
  parameters:
  - name: partyMemberPhases
    description: A pointer to a WorldPackets::Party::PartyMemberPhaseStates object
      that will be populated with phase information for each party member.
  - name: phaseShift
    description: A const reference to a PhaseShift object containing the current phase
      information that will be used to fill the party member phases.
  returns: null
  examples:
  - title: Basic Usage in Party Update
    code: "void MyHandler::UpdatePartyPhases(Player* player)\n{\n    WorldPackets::Party::PartyMemberPhaseStates\
      \ packet;\n    PhaseShift phaseShift = player->GetPhaseShift();\n    PhasingHandler::FillPartyMemberPhase(&packet,\
      \ phaseShift);\n    player->SendDirectMessage(&packet);\n}"
    language: cpp
  notes: This method is part of the phasing system in TrinityCore and directly affects
    how players see each other in different phases. It's important to ensure that
    the PhaseShift object passed contains valid phase data, otherwise incorrect visibility
    states may be sent to clients.
  warnings: null
  related:
  - PhasingHandler::UpdatePlayerPhase
  - PhasingHandler::GetPhaseShiftForPlayer
  - PhasingHandler::IsInvisibleToPlayer
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T01:44:31.327206'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
