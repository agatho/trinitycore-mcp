api:
  class: WorldSession
  method: PlayerLogoutWithSave
  signature: bool WorldSession::PlayerLogoutWithSave() const
documentation:
  brief: Initiates the player logout process with save, ensuring character data is
    properly persisted to the database.
  description: The PlayerLogoutWithSave method handles the complete logout sequence
    for a player character, including saving the current state of the player's character
    to the database. This method ensures that all in-game progress, inventory items,
    quest data, and other relevant information are securely written before the session
    is terminated. It typically gets called when a player chooses to log out or when
    the server needs to gracefully disconnect a player. The method returns true if
    the logout process was initiated successfully and false if there were issues during
    the save or logout sequence.
  parameters: []
  returns: Returns true if the logout process was successfully initiated and all data
    was saved correctly; returns false if an error occurred during the save or logout
    procedure, such as database write failures or invalid session states.
  examples:
  - title: Basic Logout Usage
    code: "if (session->PlayerLogoutWithSave()) {\n    // Logout successful\n    sLog->outString(\"\
      Player logged out successfully.\");\n} else {\n    // Handle logout failure\n\
      \    sLog->outError(\"Failed to log player out.\");\n}"
    language: cpp
  notes: This method should only be called from within the context of a valid WorldSession.
    It is typically invoked automatically by the game server when a player logs out
    or when a forced logout is required. The method performs database operations,
    so it may have performance implications during high-traffic periods.
  warnings: Calling this method while the session is already in an invalid state might
    lead to undefined behavior. Ensure that all necessary cleanup has been performed
    before invoking this method. Avoid calling this from asynchronous contexts without
    proper synchronization.
  related:
  - PlayerLogout
  - SaveSession
  - HandleLogoutRequest
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T19:10:25.361934'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
