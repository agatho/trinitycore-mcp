api:
  class: BattlePetManager
  method: CalculateAbilityScore
  signature: uint32 BattlePetManager::CalculateAbilityScore(int * player, uint32 abilityId,
    PetFamily opponentFamily) const
documentation:
  brief: Calculates the effective ability score for a battle pet based on player stats
    and opponent family.
  description: The CalculateAbilityScore method computes the adjusted ability score
    of a battle pet for a given ability ID, taking into account the player's stats
    and the opponent's pet family. This calculation is used in battle mechanics to
    determine how effectively a pet's ability will perform against different types
    of opponents. The method considers various factors including player-level modifiers,
    ability-specific multipliers, and opponent family resistances or vulnerabilities.
    It serves as a core component in determining battle outcomes and ability effectiveness
    within the World of Warcraft Battle Pet system.
  parameters:
  - name: player
    description: Pointer to an array containing player statistics that influence ability
      calculations. Expected to contain at least 3 integer values representing health,
      attack, and speed stats respectively.
  - name: abilityId
    description: Unique identifier for the battle pet ability being evaluated. This
      ID corresponds to predefined abilities in the Battle Pet system with specific
      effects and properties.
  - name: opponentFamily
    description: Enumeration value representing the pet family type of the opponent.
      Determines how the ability score is adjusted based on elemental or species-based
      resistances/vulnerabilities.
  returns: Returns a uint32 value representing the calculated effective ability score.
    This score determines the strength or effectiveness of the ability when used against
    the specified opponent family, with higher values indicating stronger performance.
  examples:
  - title: Basic Usage Example
    code: 'int playerStats[3] = {100, 80, 60}; // health, attack, speed

      uint32 abilityScore = battlePetManager->CalculateAbilityScore(playerStats, 12345,
      PET_FAMILY_CRAB);

      // Calculates ability score for a crab family opponent'
    language: cpp
  - title: Advanced Usage with Dynamic Stats
    code: "int* playerStats = GetPlayerBattlePetStats();\nuint32 finalScore = battlePetManager->CalculateAbilityScore(playerStats,\
      \ GetActiveAbilityId(), GetOpponentFamily());\nif (finalScore > 1000) {\n  \
      \  // Ability is highly effective against opponent\n    ApplyStrongEffect();\n\
      } else {\n    // Ability has limited effectiveness\n    ApplyWeakEffect();\n\
      }"
    language: cpp
  notes: This method performs calculations based on internal battle pet formulas that
    may change with game updates. The player stats array must contain valid integer
    values; invalid data can lead to incorrect results. The opponentFamily parameter
    should be one of the predefined pet family enumerations in the Battle Pet system.
  warnings: The method assumes valid input parameters and does not perform bounds
    checking on the player stats array. Passing NULL or uninitialized pointers will
    result in undefined behavior. The abilityId must correspond to an existing battle
    pet ability; invalid IDs may cause calculation errors or return unexpected values.
  related:
  - GetBattlePetAbility
  - CalculateDamage
  - GetOpponentFamily
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T06:21:48.568707'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
