api:
  class: Unit
  method: CombatStopWithPets
  signature: void Unit::CombatStopWithPets(bool includingCast)
documentation:
  brief: Stops all combat activities for the unit and its pets, including casting.
  description: The CombatStopWithPets method halts all combat-related activities for
    a Unit, including any ongoing casts and melee attacks. It ensures that both the
    unit itself and its summoned pets cease combat behavior. This method is commonly
    used when transitioning a unit from combat to non-combat state, such as during
    movement or when engaging in other gameplay actions. The inclusion of cast is
    controlled by the 'includingCast' parameter, which determines whether ongoing
    casts should be interrupted.
  parameters:
  - name: includingCast
    description: Determines whether to stop casting activities along with combat.
      If true, all ongoing casts are interrupted; if false, only combat state is stopped
      without interrupting casts.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'Unit* unit = player->GetUnit();

      unit->CombatStopWithPets(false);'
    language: cpp
  - title: Advanced Usage Example
    code: 'Unit* unit = player->GetUnit();

      unit->CombatStopWithPets(true);

      // This will stop both combat and casting

      // Useful when switching to non-combat state'
    language: cpp
  notes: This method is typically used in conjunction with other combat-related methods
    to manage unit behavior during gameplay transitions. It may be called from various
    contexts such as movement, spell casting, or when changing states.
  warnings: Improper use of this method can lead to unexpected behavior in combat
    state management. Ensure that the unit is properly transitioned to non-combat
    state after calling this method.
  related:
  - CombatStart
  - CombatStop
  - SetInCombat
  - ClearInCombat
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T21:16:15.151996'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
