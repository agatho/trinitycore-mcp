api:
  class: BattlegroundMapScript
  method: GetBattlegroundScript
  signature: BattlegroundScript * BattlegroundMapScript::GetBattlegroundScript(BattlegroundMap
    * map) const
documentation:
  brief: Retrieves the battleground script associated with a given battleground map.
  description: The GetBattlegroundScript method fetches the BattlegroundScript instance
    that is linked to a specific BattlegroundMap. This method is used internally by
    the TrinityCore framework to access the scripting logic and game state management
    for a particular battleground instance. It ensures that each battleground map
    has a corresponding script object that handles all battleground-specific behaviors,
    events, and logic. The returned pointer can be used to interact with the battleground's
    functionality, such as checking its status, managing players, or triggering events.
  parameters: []
  returns: A pointer to the BattlegroundScript associated with the provided battleground
    map. Returns nullptr if no script is found or if the input map is invalid.
  examples:
  - title: Retrieve and use battleground script
    code: "BattlegroundMap* bgMap = ...; // Assume this is a valid battleground map\n\
      BattlegroundScript* script = BattlegroundMapScript::GetBattlegroundScript(bgMap);\n\
      if (script)\n{\n    // Use the script to check battleground status or trigger\
      \ events\n    script->Update(1000); // Update the battleground logic\n}"
    language: cpp
  notes: This method is typically called during battleground initialization and update
    cycles. It assumes that the BattlegroundMap has already been properly initialized
    with a valid script reference. The returned pointer should not be deleted or modified
    directly as it's managed by the framework.
  warnings: Do not assume the returned pointer is always valid; always check for nullptr
    before using it. Avoid calling this method from contexts where the map might be
    invalid or during destruction phases of the battleground lifecycle.
  related:
  - GetBattleground
  - GetBattlegroundTemplate
  - BattlegroundMap::GetBattleground
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T17:46:11.740564'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
