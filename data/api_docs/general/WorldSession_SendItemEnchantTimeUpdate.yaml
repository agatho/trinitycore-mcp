api:
  class: WorldSession
  method: SendItemEnchantTimeUpdate
  signature: void WorldSession::SendItemEnchantTimeUpdate(int Playerguid, int Itemguid,
    uint32 slot, uint32 Duration)
documentation:
  brief: Sends an enchant time update packet to the client for a specific item.
  description: The SendItemEnchantTimeUpdate method is used to notify the player's
    client about the remaining duration of an enchantment on a specific item. This
    method is typically called when an item's enchantment timer is modified, such
    as when an enchantment is applied, refreshed, or expires. The packet sent contains
    information about the player GUID, item GUID, enchantment slot, and the new duration
    value. This ensures that the client UI accurately reflects the current state of
    enchantments on items in the player's inventory.
  parameters:
  - name: Playerguid
    description: The unique identifier (GUID) of the player who owns the item with
      the enchantment.
  - name: Itemguid
    description: The unique identifier (GUID) of the specific item whose enchantment
      time is being updated.
  - name: slot
    description: The slot number indicating which enchantment slot is being updated
      (e.g., main hand, off hand, etc.).
  - name: Duration
    description: The remaining duration in seconds for the enchantment. A value of
      0 indicates that the enchantment has expired.
  returns: null
  examples:
  - title: Update enchantment time for a weapon
    code: 'WorldSession* session = player->GetSession();

      uint32 playerGuid = player->GetGUID().GetCounter();

      uint32 itemGuid = weapon->GetGUID().GetCounter();

      uint32 slot = 0; // Main hand enchantment

      uint32 duration = 3600; // 1 hour remaining

      session->SendItemEnchantTimeUpdate(playerGuid, itemGuid, slot, duration);'
    language: cpp
  notes: This method directly sends a network packet to the client, so it should only
    be called when necessary to avoid unnecessary network traffic. The enchantment
    duration is typically managed by the server-side enchantment system and may be
    updated periodically or upon specific events like item usage or time-based expiration.
  warnings: null
  related:
  - SendItemEnchantTimeUpdate
  - SendItemUpdate
  - SendEnchantmentLog
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T19:08:54.601890'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
