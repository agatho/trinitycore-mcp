api:
  class: AuraEffect
  method: HandleAuraWaterWalk
  signature: void AuraEffect::HandleAuraWaterWalk(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Applies or removes the water walking aura effect on a unit.
  description: The HandleAuraWaterWalk method manages the application and removal
    of the water walking aura effect, allowing a unit to walk on water surfaces as
    if they were solid ground. This method is invoked during aura application or removal
    events and modifies the unit's movement behavior accordingly. The effect typically
    enables characters to traverse water bodies without sinking or taking damage.
    It handles both the visual and mechanical aspects of the water walking ability
    within the TrinityCore framework.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object that contains information about
      the aura being applied or removed. This parameter provides context about which
      aura is affecting which unit.
  - name: mode
    description: The mode of the aura application, typically indicating whether it's
      being applied (1) or removed (0). This value determines how the effect should
      be processed during the aura lifecycle.
  - name: apply
    description: Boolean flag indicating whether to apply (true) or remove (false)
      the water walking effect. When true, the unit gains ability to walk on water;
      when false, the ability is removed.
  returns: null
  examples:
  - title: Applying Water Walk Aura
    code: "void ApplyWaterWalkAura(Unit* target)\n{\n    if (target)\n    {\n    \
      \    AuraApplication* aurApp = new AuraApplication(target, target, SpellInfo::GetSpellInfo(12345));\n\
      \        AuraEffect* auraEffect = aurApp->GetBase()->GetEffect(0);\n       \
      \ auraEffect->HandleAuraWaterWalk(aurApp, 1, true);\n    }\n}"
    language: cpp
  - title: Removing Water Walk Aura
    code: "void RemoveWaterWalkAura(Unit* target)\n{\n    if (target)\n    {\n   \
      \     AuraApplication* aurApp = new AuraApplication(target, target, SpellInfo::GetSpellInfo(12345));\n\
      \        AuraEffect* auraEffect = aurApp->GetBase()->GetEffect(0);\n       \
      \ auraEffect->HandleAuraWaterWalk(aurApp, 1, false);\n    }\n}"
    language: cpp
  notes: This method is part of the aura handling system in TrinityCore and integrates
    with the movement and collision detection systems. It modifies the unit's movement
    flags to enable water walking behavior. The implementation relies on the underlying
    game state management for proper application of physics-based effects.
  warnings: Improper use of this method may cause units to become stuck or behave
    unexpectedly when traversing water surfaces. Ensure that the aura application
    context is valid and that the target unit exists before calling this method.
  related:
  - HandleAuraEffect
  - AuraApplication::ApplyAura
  - AuraApplication::RemoveAura
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T12:57:16.813601'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
