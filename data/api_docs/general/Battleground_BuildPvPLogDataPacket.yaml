api:
  class: Battleground
  method: BuildPvPLogDataPacket
  signature: void Battleground::BuildPvPLogDataPacket(WorldPackets::Battleground::PVPMatchStatistics
    & pvpLogData) const
documentation:
  brief: Populates a PvP log data packet with statistics for the battleground.
  description: The BuildPvPLogDataPacket method constructs and fills a WorldPackets::Battleground::PVPMatchStatistics
    packet with detailed match statistics for the current battleground instance. This
    packet is typically sent to players at the end of a match to provide them with
    their performance data, including kills, deaths, assists, and other relevant metrics.
    The method gathers data from the battleground's internal state and formats it
    according to the World of Warcraft client's expected packet structure. It is used
    primarily during battleground result processing to ensure players receive accurate
    post-match statistics.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Battleground End Processing
    code: "void Battleground::OnBattlegroundEnd()\n{\n    WorldPackets::Battleground::PVPMatchStatistics\
      \ pvpLogData;\n    BuildPvPLogDataPacket(pvpLogData);\n    // Send packet to\
      \ all players\n    for (auto const& player : GetPlayers())\n        if (player)\n\
      \            player->SendDirectMessage(pvpLogData.Write());\n}"
    language: cpp
  notes: This method is typically called during battleground cleanup and result processing.
    It assumes that all necessary match data has been properly recorded within the
    battleground instance before being invoked. The packet structure may vary depending
    on the specific battleground type (e.g., Warsong Gulch vs. Arathi Basin).
  warnings: null
  related:
  - GetPlayers
  - SendDirectMessage
  - OnBattlegroundEnd
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T02:25:23.557764'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
