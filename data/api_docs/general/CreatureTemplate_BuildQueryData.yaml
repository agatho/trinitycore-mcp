api:
  class: CreatureTemplate
  method: BuildQueryData
  signature: int CreatureTemplate::BuildQueryData(LocaleConstant loc, int difficulty)
    const
documentation:
  brief: Builds and returns a query data structure for the creature template based
    on the specified locale and difficulty.
  description: The BuildQueryData method constructs and initializes a query data structure
    that contains all relevant information about the creature template, including
    its base stats, loot tables, and behavior settings. This method is typically used
    during database queries or when preparing data to be sent to clients for display
    or processing. The method takes into account the specified locale and difficulty
    level to ensure that the correct localized and difficulty-appropriate data is
    returned. It is commonly invoked by the core's database management system when
    loading creature templates from the database.
  parameters:
  - name: loc
    description: The locale constant specifying the language and regional settings
      for localization of the creature template data.
  - name: difficulty
    description: The difficulty level that determines which version of the creature
      template data to retrieve, such as normal, heroic, or mythic difficulty settings.
  returns: Returns an integer representing the success status of the query data construction.
    A return value of 0 typically indicates success, while non-zero values may indicate
    errors or warnings during data processing.
  examples:
  - title: Basic usage with default locale and difficulty
    code: 'CreatureTemplate* template = ...;

      int result = template->BuildQueryData(DEFAULT_LOCALE, DIFFICULTY_NORMAL);'
    language: cpp
  - title: Usage with specific locale and difficulty settings
    code: 'CreatureTemplate* template = ...;

      LocaleConstant loc = LOCALE_ruRU;

      int difficulty = DIFFICULTY_HEROIC;

      int result = template->BuildQueryData(loc, difficulty);'
    language: cpp
  notes: This method is part of the internal database handling mechanism and should
    not typically be called directly by external code. It's designed to work in conjunction
    with TrinityCore's query system and may perform caching or pre-processing operations
    internally.
  warnings: Calling this method without proper initialization of the creature template
    data can lead to undefined behavior or incomplete query results. Ensure that all
    required fields are populated before invoking this method.
  related:
  - GetEntry
  - GetDifficultyEntry
  - GetLocale
  - GetMaxLevel
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T16:07:15.875778'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
