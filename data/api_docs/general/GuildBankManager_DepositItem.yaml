api:
  class: GuildBankManager
  method: DepositItem
  signature: bool GuildBankManager::DepositItem(int * player, uint32 itemGuid, uint32
    tabId, uint32 stackCount)
documentation:
  brief: Deposits an item from a player's inventory into the guild bank.
  description: The DepositItem method transfers a specified item from a player's inventory
    to the guild bank at a given tab location. It handles the necessary checks for
    item validity, player permissions, and guild bank space availability. The method
    supports partial stack deposits by specifying the number of items to move. This
    function is typically invoked when a guild member attempts to store items in the
    guild bank via game interface or commands.
  parameters:
  - name: player
    description: Pointer to the player's object who is depositing the item. Must be
      a valid player instance with access to the guild bank.
  - name: itemGuid
    description: Unique identifier (GUID) of the item being deposited from the player's
      inventory. Must correspond to an existing item in the player's possession.
  - name: tabId
    description: Identifier of the guild bank tab where the item should be placed.
      Must be a valid tab index within the guild's bank configuration.
  - name: stackCount
    description: Number of items to deposit from the stack. If set to 0, the entire
      stack will be deposited. Must not exceed the available quantity in the player's
      inventory.
  returns: Returns true if the item was successfully deposited into the guild bank,
    false otherwise. Failure may occur due to invalid parameters, insufficient permissions,
    lack of space, or invalid item GUID.
  examples:
  - title: Basic Item Deposit
    code: "Player* player = ...; // Valid player instance\nuint32 itemGuid = 123456;\n\
      uint32 tabId = 0;\nuint32 stackCount = 1;\nbool result = guildBankManager->DepositItem(&player,\
      \ itemGuid, tabId, stackCount);\nif (result) {\n    // Item successfully deposited\n\
      }"
    language: cpp
  - title: Partial Stack Deposit
    code: "Player* player = ...; // Valid player instance\nuint32 itemGuid = 789012;\n\
      uint32 tabId = 2;\nuint32 stackCount = 5;\nbool result = guildBankManager->DepositItem(&player,\
      \ itemGuid, tabId, stackCount);\nif (result) {\n    // Partial stack of 5 items\
      \ deposited\n}"
    language: cpp
  notes: This method assumes that the player has already been validated for guild
    membership and bank access permissions. The implementation may perform additional
    checks such as item type restrictions, tab slot availability, and inventory quantity
    validation before proceeding with the deposit operation.
  warnings: Ensure that the player pointer is valid and points to an active player
    object. Passing invalid or null pointers can lead to crashes or undefined behavior.
    Also, verify that the itemGuid corresponds to a real item in the player's inventory;
    otherwise, the method will fail silently or return false.
  related:
  - WithdrawItem
  - MoveItem
  - GetGuildBankTab
  - HasPermission
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T06:17:13.887789'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
