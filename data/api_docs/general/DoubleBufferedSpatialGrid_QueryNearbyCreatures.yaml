api:
  class: DoubleBufferedSpatialGrid
  method: QueryNearbyCreatures
  signature: int DoubleBufferedSpatialGrid::QueryNearbyCreatures(const int & pos,
    float radius) const
documentation:
  brief: Queries and returns the number of nearby creatures within a specified radius
    from a given position.
  description: The QueryNearbyCreatures method performs a spatial query to count how
    many creatures are located within a defined radius around a specific position
    in the game world. This method is typically used for AI behavior, loot distribution,
    or proximity-based interactions. It leverages a double-buffered spatial grid structure
    to efficiently manage and query creature positions without performing expensive
    linear searches. The method takes a position identifier (pos) and a radius value,
    then returns the total count of creatures found within that area. This functionality
    is essential for performance optimization in large-scale game worlds where frequent
    proximity checks are required.
  parameters:
  - name: pos
    description: An integer identifier representing a position in the spatial grid.
      This typically corresponds to a grid cell index or a specific coordinate mapping
      within the DoubleBufferedSpatialGrid structure.
  - name: radius
    description: A floating-point value defining the search radius around the specified
      position. Creatures located within this distance from the center point will
      be counted.
  returns: An integer representing the total number of creatures found within the
    specified radius from the given position. Returns zero if no creatures are found
    or if invalid parameters are provided.
  examples:
  - title: Basic usage to count nearby creatures
    code: int creatureCount = grid.QueryNearbyCreatures(12345, 10.0f); // Count creatures
      within 10 units of position 12345
    language: cpp
  - title: Using result for AI decision making
    code: "int nearby = grid.QueryNearbyCreatures(playerPos, 25.0f);\nif (nearby >\
      \ 5) {\n    // Trigger aggressive behavior\n    creature->SetAggressive(true);\n\
      }"
    language: cpp
  notes: This method is optimized for performance by utilizing a double-buffered spatial
    grid, which allows concurrent reads and updates. It assumes that the position
    identifier refers to a valid cell in the grid structure. The radius parameter
    should be non-negative; negative values may lead to undefined behavior.
  warnings: Ensure that the provided position identifier corresponds to an actual
    grid cell to avoid invalid memory access or incorrect results. This method does
    not validate input parameters beyond basic type checks, so callers must ensure
    valid inputs.
  related:
  - QueryNearbyPlayers
  - QueryNearbyObjects
  - GetCreatureCountInRadius
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T15:35:21.728927'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
