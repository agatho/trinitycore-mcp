api:
  class: Transport
  method: BuildUpdate
  signature: void Transport::BuildUpdate(int & data_map)
documentation:
  brief: Updates transport data for client synchronization
  description: The BuildUpdate method prepares and constructs the update data for
    a transport object, ensuring that all client instances receive synchronized information
    about the transport's current state. This includes position, movement, and any
    relevant transport-specific properties. The method is typically invoked during
    the update cycle to propagate changes to players who are aboard or near the transport.
    It handles internal data preparation and formatting required for network transmission
    to maintain consistency between server and client states.
  parameters:
  - name: data_map
    description: Reference to an integer that represents the data map index used for
      updating the transport's state in the update system.
  returns: null
  examples:
  - title: Basic Usage in Update Loop
    code: "void Transport::Update(uint32 diff)\n{\n    // ... other update logic ...\n\
      \    int data_map = 0;\n    BuildUpdate(data_map);\n    // ... send updates\
      \ to clients ...\n}"
    language: cpp
  notes: This method is part of the core update mechanism for transports in TrinityCore.
    It should only be called during the game loop's update phase, and it modifies
    internal state that affects client synchronization. The data_map parameter is
    used internally to track which portion of the update packet corresponds to this
    transport instance.
  warnings: Improper use of this method outside of the intended update cycle may lead
    to inconsistent client states or network desynchronization. Do not call BuildUpdate
    directly without proper context from the game loop or update manager.
  related:
  - Transport::Update
  - Transport::SendMovementUpdate
  - Transport::BuildCreateUpdate
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T09:40:26.461508'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
