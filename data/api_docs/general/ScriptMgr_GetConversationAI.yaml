api:
  class: ScriptMgr
  method: GetConversationAI
  signature: ConversationAI * ScriptMgr::GetConversationAI(Conversation * conversation)
documentation:
  brief: Retrieves the ConversationAI instance associated with a given conversation
    object.
  description: The GetConversationAI method is used to obtain the ConversationAI object
    that manages the behavior and logic of a specific conversation in TrinityCore.
    This method allows scripts and AI systems to interact with or modify conversation
    states, responses, and triggers. It serves as a bridge between the core conversation
    system and custom AI implementations. The returned pointer can be null if no AI
    is associated with the conversation or if the conversation object itself is invalid.
  parameters:
  - name: conversation
    description: A pointer to the Conversation object for which the associated ConversationAI
      instance is to be retrieved. Must not be null.
  returns: A pointer to the ConversationAI instance managing the specified conversation,
    or nullptr if no AI is assigned or the input conversation is invalid.
  examples:
  - title: Basic usage of GetConversationAI
    code: "Conversation* conv = sObjectMgr->GetConversation(12345);\nif (conv)\n{\n\
      \    ConversationAI* ai = sScriptMgr->GetConversationAI(conv);\n    if (ai)\n\
      \    {\n        // Use the AI to control conversation flow\n        ai->OnGossipHello(player,\
      \ conv);\n    }\n}"
    language: cpp
  notes: This method assumes that the provided Conversation object is valid and properly
    initialized. The returned ConversationAI pointer should not be deleted or managed
    by the caller; it's owned by the core system. Performance-wise, this lookup is
    generally fast as it uses internal maps or caches.
  warnings: Ensure that the conversation parameter is not null before calling this
    method to avoid undefined behavior. Also, be cautious when modifying AI state
    directly through the returned pointer, as improper usage may lead to unexpected
    conversation flow or crashes.
  related:
  - GetConversation
  - RegisterConversationAI
  - CreateConversationAI
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T06:50:26.741565'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
