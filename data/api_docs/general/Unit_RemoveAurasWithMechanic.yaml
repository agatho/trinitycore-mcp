api:
  class: Unit
  method: RemoveAurasWithMechanic
  signature: void Unit::RemoveAurasWithMechanic(uint64 mechanicMaskToRemove, int removeMode,
    uint32 exceptSpellId, bool withEffectMechanics)
documentation:
  brief: Removes all auras from the unit that match a specified mechanic mask, with
    optional exception handling and effect mechanics filtering.
  description: This method removes auras from a Unit that are associated with specific
    mechanical types. It allows for precise control over which auras are removed based
    on their mechanic type, with options to exclude certain spells and filter by effect
    mechanics. The method supports different removal modes (full removal or partial
    removal) and can be used to remove auras that match a given mechanic mask while
    optionally excluding specific spells from removal. This functionality is particularly
    useful for managing debuffs, effects, and mechanics in World of Warcraft combat
    systems.
  parameters:
  - name: mechanicMaskToRemove
    description: A bitmask specifying which mechanical types to remove. Each bit represents
      a different mechanic type (e.g., 0x1 for stun, 0x2 for root, etc.).
  - name: removeMode
    description: 'The removal mode: 0 for full removal, 1 for partial removal (removes
      only the specified mechanics without affecting others).'
  - name: exceptSpellId
    description: An optional spell ID to exclude from removal. If set, this spell
      will not be removed even if it matches the mechanic mask.
  - name: withEffectMechanics
    description: Boolean flag indicating whether to filter by effect mechanics (true)
      or just by aura mechanics (false).
  returns: null
  examples:
  - title: Basic usage example
    code: 'Unit* target = GetTarget();

      Unit::RemoveAurasWithMechanic(0x1, 0, 0, false); // Remove all auras with stun
      mechanic

      Unit::RemoveAurasWithMechanic(0x2, 1, 12345, true); // Remove root mechanics
      but exclude spell 12345'
    language: cpp
  notes: This method is typically used in combat scenarios where specific mechanics
    need to be removed from a unit. It's important to note that the method operates
    on the unit's aura list and may affect multiple auras simultaneously depending
    on the mechanic mask provided.
  warnings: Improper use of this method can lead to unintended removal of critical
    auras, especially if the mechanic mask is incorrectly set or if the exception
    spell ID is not properly handled. It should be used carefully in combat situations
    to avoid removing unwanted effects.
  related:
  - Unit::RemoveAurasWithSpell
  - Unit::RemoveAurasByType
  - Unit::RemoveAuras
metadata:
  confidence: 0.85
  generated_at: '2025-10-30T20:39:08.070663'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
