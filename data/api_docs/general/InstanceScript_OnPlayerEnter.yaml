api:
  class: InstanceScript
  method: OnPlayerEnter
  signature: void InstanceScript::OnPlayerEnter(Player * param0)
documentation:
  brief: Called when a player enters the instance, allowing scripts to execute custom
    logic.
  description: The OnPlayerEnter method is a virtual callback function in the InstanceScript
    class that is invoked whenever a player successfully enters an instance zone.
    This method provides developers with the ability to implement custom behavior
    such as initializing quest states, spawning NPCs, triggering events, or modifying
    player data upon entry. It serves as a key integration point for adding instance-specific
    logic without requiring direct modification of core game systems. The method is
    called once per player entering the instance and occurs after all standard entry
    procedures have been completed.
  parameters:
  - name: param0
    description: Pointer to the Player object representing the player who entered
      the instance.
  returns: null
  examples:
  - title: Basic Implementation
    code: "class MyInstanceScript : public InstanceScript\n{\npublic:\n    void OnPlayerEnter(Player*\
      \ player) override\n    {\n        // Example: Send a welcome message to the\
      \ player\n        player->SendNotification(\"Welcome to the instance!\");\n\
      \    }\n};"
    language: cpp
  - title: Advanced Usage with Quest Initialization
    code: "class MyInstanceScript : public InstanceScript\n{\npublic:\n    void OnPlayerEnter(Player*\
      \ player) override\n    {\n        // Example: Initialize quest state for new\
      \ players\n        if (!player->GetQuestStatus(QUEST_ID) == QUEST_STATUS_COMPLETE)\n\
      \        {\n            player->SetQuestStatus(QUEST_ID, QUEST_STATUS_INCOMPLETE);\n\
      \        }\n        \n        // Spawn a custom NPC on entry\n        if (Creature*\
      \ npc = player->SummonCreature(NPC_ID, player->GetPositionX(), player->GetPositionY(),\
      \ player->GetPositionZ(), 0))\n        {\n            npc->SetFaction(FACTION_HOSTILE);\n\
      \        }\n    }\n};"
    language: cpp
  notes: This method is called on the server-side and executes within the context
    of the instance's script. It should not be used for heavy computations or blocking
    operations as it can impact performance. The player object passed to this function
    is guaranteed to be valid and fully initialized by the time this callback is invoked.
  warnings: Avoid performing operations that may cause the game to hang or crash during
    this method execution. Do not modify the player's position directly in this method,
    as it may interfere with the instance entry process. Be cautious when spawning
    creatures or objects that might affect other players in the same instance.
  related:
  - OnPlayerLeave
  - OnEnter
  - OnUpdate
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T05:22:10.128026'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
