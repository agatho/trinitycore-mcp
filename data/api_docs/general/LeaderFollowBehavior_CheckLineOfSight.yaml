api:
  class: LeaderFollowBehavior
  method: CheckLineOfSight
  signature: bool LeaderFollowBehavior::CheckLineOfSight(Player * bot, Player * leader)
documentation:
  brief: Checks if a bot has unobstructed line of sight to its leader in the game
    world.
  description: The CheckLineOfSight method determines whether a bot player can see
    their leader without any environmental obstructions, such as walls or terrain.
    This functionality is crucial for AI behavior that requires visual awareness,
    like following or engaging in combat. The method evaluates the spatial relationship
    between the bot and leader using TrinityCore's navigation system to ensure accurate
    detection of line-of-sight validity. It typically returns true if there are no
    obstacles blocking the view, and false otherwise. This check is often used in
    conjunction with other movement or targeting behaviors within the LeaderFollowBehavior
    class.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that is checking
      line of sight.
  - name: leader
    description: Pointer to the Player object representing the leader that the bot
      is attempting to maintain line of sight with.
  returns: Returns true if there is an unobstructed line of sight from the bot to
    the leader, otherwise returns false. A return value of false may indicate that
    the bot is blocked by terrain, objects, or other players.
  examples:
  - title: Basic usage in AI logic
    code: "if (leaderFollowBehavior.CheckLineOfSight(bot, leader)) {\n    // Bot can\
      \ see leader, proceed with following behavior\n    bot->MoveTowards(leader);\n\
      } else {\n    // Bot cannot see leader, might need to navigate around obstacles\n\
      \    bot->NavigateTo(leader);\n}"
    language: cpp
  - title: Integration with combat decision making
    code: "if (leaderFollowBehavior.CheckLineOfSight(bot, leader)) {\n    // Bot can\
      \ see leader and potentially engage in combat\n    bot->Attack(leader);\n} else\
      \ {\n    // Leader is out of sight, bot should avoid aggressive actions\n  \
      \  bot->Stay();\n}"
    language: cpp
  notes: This method relies on TrinityCore's underlying navigation mesh and collision
    detection systems. Performance may be impacted if called frequently in tight loops
    without caching results. The method does not account for dynamic changes to the
    environment that occur between calls, so it should be used with caution in rapidly
    changing scenarios.
  warnings: Ensure that both bot and leader pointers are valid before calling this
    method; passing null pointers will likely result in undefined behavior or crashes.
    This function may return false even when a direct visual line exists if the underlying
    navigation system determines an obstruction based on pathfinding data rather than
    precise raycasting.
  related:
  - LeaderFollowBehavior::Update
  - LeaderFollowBehavior::IsFollowing
  - LeaderFollowBehavior::GetDistanceToLeader
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T10:34:59.973791'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
