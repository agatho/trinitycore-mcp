api:
  class: ProtectionWarriorRefactored
  method: HasMaxSunder
  signature: bool ProtectionWarriorRefactored::HasMaxSunder(::Unit * target) const
documentation:
  brief: Checks if the target unit has the maximum allowed number of Sunder effects
    applied.
  description: The HasMaxSunder method determines whether a given target unit already
    has the maximum number of Sunder debuffs active. In World of Warcraft's Protection
    Warrior class, Sunder Armor is a spell that can be applied multiple times to a
    target, but there is a limit to how many stacks can be active simultaneously.
    This method evaluates the current state of the target's debuffs to determine if
    adding another Sunder effect would exceed this limit. The method typically checks
    against game mechanics such as the maximum stack count for Sunder effects, which
    is usually 5 stacks in most versions of the game. It is commonly used by the Protection
    Warrior AI to avoid wasting spell resources on redundant applications.
  parameters: []
  returns: Returns true if the target unit already has the maximum number of Sunder
    effects applied; otherwise returns false.
  examples:
  - title: Basic Usage in Warrior AI
    code: "if (!warrior->HasMaxSunder(target)) {\n    warrior->CastSpell(target, SUNDER_ARMOR_SPELL_ID);\n\
      }"
    language: cpp
  - title: Preventing Redundant Sunder Applications
    code: "if (warrior->HasMaxSunder(target)) {\n    // Log or handle case where no\
      \ more Sunder can be applied\n    warrior->GetAI()->Talk(\"Target already has\
      \ maximum Sunder stacks.\");\n} else {\n    warrior->CastSpell(target, SUNDER_ARMOR_SPELL_ID);\n\
      }"
    language: cpp
  notes: This method is part of the Protection Warrior's combat logic and is typically
    used in spell selection or targeting decisions. The actual maximum stack count
    for Sunder effects may vary depending on game version and balance changes, but
    it generally remains consistent at 5 stacks across most iterations of World of
    Warcraft.
  warnings: Ensure that the target unit pointer passed to this method is valid before
    calling it, as dereferencing a null pointer will cause undefined behavior. Also
    note that this method may not account for different types of Sunder effects (e.g.,
    Sunder Armor vs. Sunder Armor from different sources), so additional checks might
    be necessary in complex scenarios.
  related:
  - GetSunderStacks
  - HasSunder
  - ApplySunder
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T05:04:22.778042'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
