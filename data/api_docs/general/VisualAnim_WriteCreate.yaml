api:
  class: VisualAnim
  method: WriteCreate
  signature: void VisualAnim::WriteCreate(ByteBuffer & data, const AreaTrigger * owner,
    const Player * receiver) const
documentation:
  brief: Serializes visual animation data for creation packet to be sent to a player.
  description: The WriteCreate method prepares and writes visual animation data into
    a ByteBuffer for inclusion in a create packet. This method is typically used when
    sending visual animation information from an AreaTrigger to a specific Player
    client. It ensures that the visual animation's properties are correctly formatted
    and serialized according to the World of Warcraft protocol. The method takes ownership
    of the serialization process, using the provided AreaTrigger as the owner context
    and the Player as the receiver target. This is part of the TrinityCore's network
    packet handling system for sending dynamic visual effects to players.
  parameters:
  - name: data
    description: Reference to a ByteBuffer where the serialized visual animation data
      will be written. This buffer is used to construct the create packet containing
      the animation information.
  - name: owner
    description: Pointer to the AreaTrigger that owns this visual animation. Used
      as context for determining animation properties and positioning within the world.
  - name: receiver
    description: Pointer to the Player who will receive this visual animation data.
      Determines how the animation is formatted for client-specific rendering.
  returns: null
  examples:
  - title: Basic usage in AreaTrigger handling
    code: "void MyAreaTrigger::SendVisualAnimationToPlayer(Player* player)\n{\n  \
      \  ByteBuffer data;\n    VisualAnim anim;\n    anim.WriteCreate(data, this,\
      \ player);\n    // Send data to player\n}"
    language: cpp
  notes: This method is typically called during packet construction for AreaTrigger
    visual effects. The serialization process may involve multiple internal calls
    to write various animation properties like ID, position, scale, and duration.
    It's important to ensure that the ByteBuffer is properly initialized before calling
    this method.
  warnings: Do not call this method with null pointers for owner or receiver parameters
    as it will likely cause undefined behavior. Ensure that the AreaTrigger has valid
    animation data before attempting to serialize it.
  related:
  - VisualAnim::WriteUpdate
  - VisualAnim::WriteDestroy
  - VisualAnim::GetId
  - VisualAnim::SetId
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T17:28:15.923708'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
