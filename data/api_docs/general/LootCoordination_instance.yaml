api:
  class: LootCoordination
  method: instance
  signature: LootCoordination * LootCoordination::instance()
documentation:
  brief: Returns the singleton instance of the LootCoordination class
  description: The instance() method implements the singleton pattern for the LootCoordination
    class, ensuring that only one instance of the loot coordination manager exists
    throughout the game session. This method is typically used to access the global
    loot coordination system that handles distributed loot assignment among group
    members. The returned pointer provides access to all loot coordination functionality
    including loot distribution logic, player participation tracking, and loot item
    management. This method should be called carefully as it relies on proper initialization
    of the singleton instance before being invoked.
  parameters: []
  returns: A pointer to the single global instance of LootCoordination. Returns nullptr
    if the instance has not been properly initialized or if there are memory allocation
    errors during instantiation.
  examples:
  - title: Accessing the loot coordination system
    code: "LootCoordination* lootCoord = LootCoordination::instance();\nif (lootCoord)\n\
      {\n    // Use the loot coordination system\n    lootCoord->AddPlayerToLootGroup(playerGuid);\n\
      }"
    language: cpp
  - title: Checking loot coordination before distributing items
    code: "LootCoordination* coord = LootCoordination::instance();\nif (coord && coord->IsLootInProgress())\n\
      {\n    // Proceed with loot distribution\n    coord->DistributeLoot(lootItem);\n\
      }\nelse\n{\n    // Handle case where no loot is being coordinated\n    SendSystemMessage(\"\
      No active loot coordination.\");\n}"
    language: cpp
  notes: This method follows the singleton pattern, meaning multiple calls will return
    the same instance pointer. The implementation assumes that the singleton instance
    is properly initialized during server startup or when first accessed. This method
    is thread-safe in most TrinityCore implementations, but direct access to shared
    resources should still be protected with appropriate locking mechanisms.
  warnings: Calling this method before the LootCoordination system has been initialized
    may return a null pointer. Ensure proper initialization order in your code. Since
    this is a singleton, avoid creating multiple instances manually as it will break
    the intended behavior and could lead to memory leaks or inconsistent loot distribution.
  related:
  - LootCoordination::Initialize
  - LootCoordination::Cleanup
  - LootCoordination::AddPlayerToLootGroup
  - LootCoordination::RemovePlayerFromLootGroup
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T09:37:41.769777'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
