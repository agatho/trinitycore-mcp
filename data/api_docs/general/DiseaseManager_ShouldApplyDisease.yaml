api:
  class: DiseaseManager
  method: ShouldApplyDisease
  signature: bool DiseaseManager::ShouldApplyDisease(Unit * target, DiseaseType type)
documentation:
  brief: Determines whether a disease should be applied to a target unit based on
    game mechanics and existing conditions.
  description: The ShouldApplyDisease method evaluates if a specific type of disease
    can be applied to a given target unit. This method considers various factors such
    as the target's current disease state, immunity status, and game rules to determine
    applicability. It is typically used during disease application logic to prevent
    duplicate or invalid disease applications. The method ensures that diseases are
    only applied when appropriate according to World of Warcraft's combat and affliction
    mechanics.
  parameters:
  - name: target
    description: Pointer to the Unit object that is being evaluated for disease application.
      Must not be null.
  - name: type
    description: The DiseaseType enum value indicating which specific disease should
      be applied. Defines the nature and effects of the disease being considered.
  returns: Returns true if the disease can be successfully applied to the target unit,
    false otherwise. The method returns false when the target already has the same
    disease active, is immune to the disease type, or other game rules prevent application.
  examples:
  - title: Basic Disease Application Check
    code: "if (diseaseManager->ShouldApplyDisease(targetUnit, DISEASE_TYPE_BLOOD_PLAGUE))\
      \ {\n    // Apply blood plague to target\n    targetUnit->AddAura(19678, targetUnit);\
      \ // Example aura ID for Blood Plague\n}"
    language: cpp
  - title: Conditional Disease Application
    code: "DiseaseType disease = DISEASE_TYPE_FROST_FEVER;\nif (diseaseManager->ShouldApplyDisease(target,\
      \ disease)) {\n    target->AddAura(55095, target); // Apply Frost Fever aura\n\
      } else {\n    // Handle case where disease cannot be applied\n    target->SendSystemMessage(\"\
      Cannot apply disease.\");\n}"
    language: cpp
  notes: This method likely interacts with the unit's existing aura system and disease
    tracking mechanisms. It may perform checks against unit flags, immunity states,
    and current disease stack counts. Developers should be aware that this method
    might be called frequently during combat, so performance considerations are important.
  warnings: Ensure that the target pointer is valid before calling this method to
    avoid crashes. The method assumes proper initialization of disease tracking systems;
    calling it on uninitialized units may lead to undefined behavior.
  related:
  - ApplyDisease
  - HasDisease
  - RemoveDisease
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T14:13:46.168080'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
