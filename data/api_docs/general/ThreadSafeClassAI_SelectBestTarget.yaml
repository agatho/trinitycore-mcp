api:
  class: ThreadSafeClassAI
  method: SelectBestTarget
  signature: Unit * ThreadSafeClassAI::SelectBestTarget() const
documentation:
  brief: Selects and returns the most threatening target from the AI's current threat
    list.
  description: The SelectBestTarget method evaluates the AI's current threat list
    and identifies the unit that poses the greatest immediate danger or provides the
    highest priority for engagement. This method is typically used by AI-controlled
    creatures to determine which target to attack next based on factors such as threat
    level, distance, and target priority. The returned Unit pointer represents the
    selected target, or NULL if no valid target exists within the AI's scope. This
    method is thread-safe and designed to be called from within the AI update loop
    or other game logic contexts where target selection is required.
  parameters: []
  returns: A pointer to the Unit object representing the best target for the AI to
    engage, or NULL if no suitable target is available.
  examples:
  - title: Basic Target Selection
    code: "Unit* target = ai->SelectBestTarget();\nif (target)\n{\n    // Proceed\
      \ with attack logic\n    ai->AttackStart(target);\n}"
    language: cpp
  - title: Using Target in Combat Logic
    code: "void MyAI::UpdateAI(uint32 diff)\n{\n    if (!UpdateVictim())\n    {\n\
      \        Unit* target = SelectBestTarget();\n        if (target && target->IsInWorld())\n\
      \        {\n            AttackStart(target);\n        }\n    }\n}"
    language: cpp
  notes: This method relies on the AI's internal threat management system. It is important
    to note that the returned Unit pointer may become invalid if the target dies or
    leaves the combat zone before the next update cycle. The method does not perform
    any automatic targeting logic beyond selecting from existing threats.
  warnings: Do not assume that the returned Unit pointer will remain valid for extended
    periods. Always verify that the target is still in combat and valid before performing
    actions on it. Calling this method outside of AI update contexts may lead to inconsistent
    results if the threat list has not been properly updated.
  related:
  - UpdateVictim
  - GetVictim
  - AddThreat
  - ModifyThreat
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T07:32:28.127288'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
