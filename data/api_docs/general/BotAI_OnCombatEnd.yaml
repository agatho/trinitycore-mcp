api:
  class: BotAI
  method: OnCombatEnd
  signature: void BotAI::OnCombatEnd()
documentation:
  brief: Handles cleanup and state management when a bot's combat session ends
  description: The OnCombatEnd method is invoked when a bot transitions out of combat
    mode, allowing the AI to perform necessary cleanup operations such as resetting
    internal states, releasing combat-related resources, and preparing for subsequent
    AI behaviors. This method ensures that the bot's AI state remains consistent with
    its current game environment and prevents potential issues arising from stale
    combat data. The method is typically called automatically by the TrinityCore framework
    when the bot's combat status changes, but can also be triggered manually in specific
    scenarios where early termination of combat logic is required.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in custom AI module
    code: "class MyBotAI : public BotAI {\npublic:\n    void OnCombatEnd() override\
      \ {\n        // Custom cleanup logic\n        BotAI::OnCombatEnd();\n      \
      \  // Additional post-combat handling\n    }\n};"
    language: cpp
  notes: This method is part of the core AI lifecycle management and should not be
    called directly unless implementing a custom AI behavior. The base implementation
    handles standard cleanup tasks such as resetting combat flags and clearing temporary
    combat data structures.
  warnings: Avoid calling this method manually unless you understand the implications
    for AI state consistency. Improper handling may lead to inconsistent bot behavior
    or memory leaks in combat-related data structures.
  related:
  - OnCombatStart
  - UpdateAI
  - IsInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T19:39:48.740398'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
