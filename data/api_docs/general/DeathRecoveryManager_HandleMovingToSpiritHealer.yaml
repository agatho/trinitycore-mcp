api:
  class: DeathRecoveryManager
  method: HandleMovingToSpiritHealer
  signature: void DeathRecoveryManager::HandleMovingToSpiritHealer(uint32 diff)
documentation:
  brief: Handles the logic for moving a player to a spirit healer after death in the
    game.
  description: The HandleMovingToSpiritHealer method manages the transition of a player
    character to a spirit healer location following their death. This method is typically
    invoked during the death recovery process within TrinityCore's game mechanics,
    ensuring that players are correctly teleported to the appropriate spirit healer
    based on their faction and current zone. It processes time-based updates and handles
    the movement logic for respawning players at spirit healer locations. The method
    operates as part of a continuous update loop, using the provided diff parameter
    to manage timing and state transitions.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Update Loop
    code: "void GameWorld::Update(uint32 diff)\n{\n    // Other update logic...\n\
      \    _deathRecoveryManager.HandleMovingToSpiritHealer(diff);\n    // Other update\
      \ logic...\n}"
    language: cpp
  notes: This method is typically called from within the main game world update loop.
    It relies on proper player state management and spirit healer location data being
    available in the game world context. The diff parameter should represent the time
    elapsed since last update in milliseconds.
  warnings: Ensure that player death states are properly managed before calling this
    method, as incorrect state handling may result in players being teleported to
    invalid locations or stuck in transition states.
  related:
  - HandlePlayerDeath
  - TeleportToSpiritHealer
  - GetSpiritHealerPosition
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T04:07:13.084038'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
