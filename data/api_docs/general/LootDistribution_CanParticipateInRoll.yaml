api:
  class: LootDistribution
  method: CanParticipateInRoll
  signature: bool LootDistribution::CanParticipateInRoll(Player * player, const LootItem
    & item)
documentation:
  brief: Determines whether a player can participate in a loot roll for a specific
    item.
  description: The CanParticipateInRoll method evaluates if a given player is eligible
    to take part in the rolling process for a particular loot item. This check typically
    considers factors such as the player's proximity to the loot source, their role
    in the group (e.g., main looter or group member), and whether they meet any specific
    requirements defined by the loot rules (such as having the required skill or being
    in the correct phase). The method is used during the loot distribution phase of
    a group encounter to ensure only valid participants can roll for items. It returns
    true if the player meets all conditions for participation, false otherwise.
  parameters:
  - name: player
    description: Pointer to the Player object that is being checked for eligibility
      to participate in the loot roll.
  - name: item
    description: Reference to the LootItem structure representing the item for which
      the roll is taking place.
  returns: Returns true if the player can participate in the roll for the given item,
    false otherwise.
  examples:
  - title: Basic usage in loot processing
    code: "if (lootDistribution->CanParticipateInRoll(player, item)) {\n    // Allow\
      \ player to roll\n    player->SendLootRoll(...);\n} else {\n    // Skip player\
      \ from rolling\n    player->SendLootRollPass();\n}"
    language: cpp
  - title: Using within a loot distribution context
    code: "void HandleLootRoll(Player* player, LootItem& item) {\n    if (lootDistribution->CanParticipateInRoll(player,\
      \ item)) {\n        // Proceed with rolling logic\n        uint32 roll = urand(1,\
      \ 100);\n        player->SendLootRoll(item.lootId, roll);\n    } else {\n  \
      \      // Player not eligible for this roll\n        player->GetSession()->SendNotification(\"\
      You cannot participate in this roll.\");\n    }\n}"
    language: cpp
  notes: This method is typically called during the loot distribution phase when a
    group loots an item. It's important to note that even if a player can participate,
    they might still not win the item based on their roll result or other game mechanics
    like need-before-greed rules.
  warnings: null
  related:
  - LootDistribution::Roll
  - LootDistribution::NotifyPlayers
  - Player::SendLootRoll
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T13:01:41.229682'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
