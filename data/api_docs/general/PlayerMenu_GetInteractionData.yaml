api:
  class: PlayerMenu
  method: GetInteractionData
  signature: InteractionData & PlayerMenu::GetInteractionData()
documentation:
  brief: Returns a reference to the interaction data associated with the player menu.
  description: The GetInteractionData method provides access to the InteractionData
    structure that holds information about the current interaction state of the player
    menu. This data typically includes details such as the active gossip options,
    quest information, vendor items, or other interactive elements the player is currently
    engaged with. The returned reference allows direct modification of the interaction
    data, which can affect how the player menu behaves and what options are presented
    to the user. This method is commonly used during NPC interactions, gossip handling,
    and menu management within the TrinityCore framework.
  parameters: []
  returns: A reference to the InteractionData object associated with the player menu.
    This reference provides direct access to the interaction state and can be used
    to modify or query the current menu interaction details.
  examples:
  - title: Accessing Interaction Data for Gossip Handling
    code: "void HandleGossipSelect(Player* player, uint32 gossipListId)\n{\n    PlayerMenu*\
      \ playerMenu = player->PlayerTalkClass;\n    InteractionData& data = playerMenu->GetInteractionData();\n\
      \    \n    // Modify interaction state based on selected option\n    data.m_gossipOptionId\
      \ = gossipListId;\n    data.m_interactionType = INTERACTION_GOSSIP;\n}"
    language: cpp
  - title: Querying Current Interaction State
    code: "void CheckPlayerInteractionState(Player* player)\n{\n    PlayerMenu* menu\
      \ = player->PlayerTalkClass;\n    InteractionData& interaction = menu->GetInteractionData();\n\
      \    \n    if (interaction.m_interactionType == INTERACTION_VENDOR)\n    {\n\
      \        // Handle vendor-specific logic\n        sLog->outString(\"Player is\
      \ interacting with a vendor.\");\n    }\n    else if (interaction.m_interactionType\
      \ == INTERACTION_GOSSIP)\n    {\n        // Handle gossip-specific logic\n \
      \       sLog->outString(\"Player is in a gossip interaction.\");\n    }\n}"
    language: cpp
  notes: The returned reference points to internal data structures managed by the
    PlayerMenu class. Modifications to this data should be done carefully as they
    directly affect the player's interaction state. The method assumes that a valid
    player menu context exists, and calling it without an active menu may lead to
    undefined behavior. This method is frequently used in conjunction with other PlayerMenu
    methods like SendGossipMenu() and ClearMenus().
  warnings: Modifying the returned InteractionData reference directly can have immediate
    effects on the player's UI state. Be cautious when changing interaction types
    or option IDs, as incorrect values may cause client-side issues or unexpected
    behavior. Avoid storing references to this data across multiple frames or asynchronous
    operations, as the underlying object may be destroyed or replaced.
  related:
  - SendGossipMenu
  - ClearMenus
  - GetGossipText
  - AddGossipItem
metadata:
  confidence: 0.92
  generated_at: '2025-11-03T21:42:21.061830'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
