api:
  class: RetributionPaladinRefactored
  method: ExecutePriorityRotation
  signature: void RetributionPaladinRefactored::ExecutePriorityRotation(int * target)
documentation:
  brief: Executes the priority rotation logic for a Retribution Paladin, determining
    the optimal spell or ability to cast based on current combat state and resource
    levels.
  description: The ExecutePriorityRotation method implements the core decision-making
    logic for a Retribution Paladin's combat behavior. It evaluates the current game
    state including target health, available resources such as Holy Power and Judgment
    charges, and cooldowns to determine the highest-priority action to execute. This
    method is typically called during the AI's update cycle and integrates with TrinityCore's
    combat system to ensure optimal spell usage according to Retribution Paladin gameplay
    mechanics. The method does not directly perform actions but rather determines
    what action should be taken next based on priority rules.
  parameters:
  - name: target
    description: Pointer to the target unit that the paladin is engaging in combat.
      This parameter is used to evaluate target health, debuff status, and other combat-relevant
      properties for rotation decisions.
  returns: null
  examples:
  - title: Basic Usage in AI Update
    code: "void RetributionPaladinAI::UpdateAI(uint32 diff)\n{\n    if (Unit* target\
      \ = SelectTarget(SELECT_TARGET_TOPAGGRO))\n    {\n        ExecutePriorityRotation(&target);\n\
      \    }\n}"
    language: cpp
  - title: Integration with Combat State Management
    code: "void RetributionPaladinRefactored::ExecutePriorityRotation(int* target)\n\
      {\n    if (!target || *target <= 0)\n        return;\n\n    // Evaluate current\
      \ combat state and determine priority action\n    if (HasHolyPower() && CanCastJudgment())\n\
      \        CastJudgment();\n    else if (CanCastConsecration())\n        CastConsecration();\n\
      \    else if (CanCastCrusaderStrike())\n        CastCrusaderStrike();\n    //\
      \ ... additional priority checks\n}"
    language: cpp
  notes: This method is designed to be called from within an AI update loop and should
    not be invoked directly during spell casting or other time-sensitive operations.
    The target parameter must be a valid pointer to a unit object; otherwise, the
    behavior is undefined. Performance considerations include minimizing expensive
    checks like target health evaluation and cooldown calculations.
  warnings: Do not call this method with a null or invalid target pointer as it may
    lead to undefined behavior. Ensure that all necessary combat state checks are
    performed before invoking this method to avoid incorrect rotation decisions.
  related:
  - CanCastJudgment
  - HasHolyPower
  - CastJudgment
  - CastConsecration
  - CastCrusaderStrike
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T07:57:56.000431'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
