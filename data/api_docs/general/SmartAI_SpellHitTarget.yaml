api:
  class: SmartAI
  method: SpellHitTarget
  signature: void SmartAI::SpellHitTarget(WorldObject * target, const SpellInfo *
    spellInfo)
documentation:
  brief: Handles the event when a spell hits a target in SmartAI.
  description: The SpellHitTarget method is invoked by the SmartAI system when a spell
    successfully strikes a target. This method serves as an event handler that allows
    custom AI behavior to be executed upon spell impact. It is typically used within
    the context of creature or game object AI scripts to define reactions or actions
    that occur when a specific spell affects a target. The method provides access
    to both the target object and the spell information, enabling complex conditional
    logic based on spell type, effect, or target properties. This event is part of
    the SmartAI framework's comprehensive system for defining intelligent creature
    behaviors.
  parameters:
  - name: target
    description: Pointer to the WorldObject that was hit by the spell. This can be
      a player, creature, game object, or any other world entity that receives the
      spell effect.
  - name: spellInfo
    description: Pointer to the SpellInfo structure containing detailed information
      about the spell that hit the target. This includes spell ID, effects, duration,
      and other spell properties.
  returns: null
  examples:
  - title: Basic Spell Hit Target Implementation
    code: "void SmartAI::SpellHitTarget(WorldObject* target, const SpellInfo* spellInfo)\n\
      {\n    if (spellInfo->Id == 12345) // Check for specific spell\n    {\n    \
      \    // Perform action when this spell hits target\n        DoCast(target, 67890);\
      \ // Cast another spell\n    }\n}"
    language: cpp
  - title: Advanced Spell Hit Target with Conditional Logic
    code: "void SmartAI::SpellHitTarget(WorldObject* target, const SpellInfo* spellInfo)\n\
      {\n    if (target->GetTypeId() == TYPEID_PLAYER)\n    {\n        Player* player\
      \ = target->ToPlayer();\n        if (player && spellInfo->Effects[0].Effect\
      \ == SPELL_EFFECT_SCHOOL_DAMAGE)\n        {\n            // Trigger special\
      \ behavior for players hit by damage spells\n            Talk(1); // Say something\n\
      \            AddThreat(player, 100.0f); // Increase threat\n        }\n    }\n\
      }"
    language: cpp
  notes: This method is part of the SmartAI event system and is automatically called
    by the core when a spell hits a target. It should not be called manually from
    outside the AI framework. The method may be invoked multiple times during a single
    spell cast if the spell affects multiple targets or has multiple effects.
  warnings: Be cautious when modifying the target object within this method, as it
    might affect the spell's execution flow. Avoid performing heavy operations in
    this method to prevent performance degradation. Ensure that any spell casting
    within this method doesn't create infinite loops or stack overflows.
  related:
  - SpellHit
  - SpellHitTarget
  - EnterCombat
  - JustDied
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T02:40:20.475203'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
