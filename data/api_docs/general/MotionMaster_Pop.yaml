api:
  class: MotionMaster
  method: Pop
  signature: void MotionMaster::Pop(bool active, bool movementInform)
documentation:
  brief: Removes and executes the topmost motion from the motion queue.
  description: The Pop method removes the currently active motion from the MotionMaster's
    queue and executes it. This method is typically used internally by the AI system
    to process queued movements or actions. When called, it will pop the top motion
    off the stack and initiate its execution. The 'active' parameter determines whether
    the motion should be considered as actively running, while the 'movementInform'
    parameter indicates if movement completion should be reported back to the owner
    of the motion.
  parameters:
  - name: active
    description: Boolean flag indicating whether the popped motion should be marked
      as active. If true, the motion is considered currently executing; if false,
      it's treated as inactive.
  - name: movementInform
    description: Boolean flag that specifies whether to send a movement inform message
      upon completion of the popped motion. This is typically used to notify the motion
      owner or associated AI components about motion completion.
  returns: null
  examples:
  - title: Basic usage in AI context
    code: "void ExampleAI::UpdateAI(uint32 diff)\n{\n    if (!me->IsInCombat())\n\
      \    {\n        // Pop the next motion from queue\n        motionMaster.Pop(true,\
      \ true);\n    }\n}"
    language: cpp
  - title: Using Pop with custom movement handling
    code: "void CustomCreature::HandleMovement()\n{\n    if (HasPendingMotion())\n\
      \    {\n        // Execute the top motion in queue\n        motionMaster.Pop(false,\
      \ false);\n    }\n}"
    language: cpp
  notes: This method is part of the core AI motion management system. It directly
    manipulates the motion stack and should only be called when the motion queue has
    valid entries. The method assumes that there's at least one motion in the queue
    to pop, otherwise behavior may be undefined.
  warnings: Calling Pop without ensuring that a motion exists in the queue can lead
    to undefined behavior or crashes. Always verify that motions are queued before
    calling this method. Additionally, improper use of the 'active' and 'movementInform'
    flags can cause incorrect AI state tracking.
  related:
  - Push
  - Clear
  - HasMovement
  - GetMotion
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T10:24:43.379481'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
