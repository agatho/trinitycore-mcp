api:
  class: ShadowDoTTracker
  method: NeedsVampiricTouchRefresh
  signature: bool ShadowDoTTracker::NeedsVampiricTouchRefresh(int guid, uint32 pandemicWindow)
    const
documentation:
  brief: 'Determines whether a Shadow Word: Pain DoT needs to be refreshed with Vampiric
    Touch due to pandemic mechanics.'
  description: 'The NeedsVampiricTouchRefresh method evaluates if a Shadow Word: Pain
    DoT on a target should be replaced by a Vampiric Touch DoT based on the pandemic
    window mechanics. In World of Warcraft''s Shadow Priest gameplay, when a Shadow
    Word: Pain DoT is refreshed before its expiration, it extends the duration by
    a certain percentage (pandemic effect). However, if the DoT is about to expire
    and the player has Vampiric Touch available, it may be more optimal to refresh
    with Vampiric Touch instead of Shadow Word: Pain. This method checks whether the
    current state of the DoT on the specified target meets the conditions for such
    a refresh. The method uses the provided GUID to identify the target and the pandemic
    window duration to determine if the DoT is nearing expiration.'
  parameters:
  - name: guid
    description: The unique identifier (GUID) of the target unit whose DoT status
      is being evaluated.
  - name: pandemicWindow
    description: The time window in milliseconds during which a DoT can be refreshed
      without losing its full duration due to pandemic mechanics.
  returns: 'Returns true if the Shadow Word: Pain DoT on the target needs to be refreshed
    with Vampiric Touch, false otherwise.'
  examples:
  - title: Basic Usage
    code: "if (shadowDotTracker.NeedsVampiricTouchRefresh(targetGuid, 1500)) {\n \
      \   // Refresh with Vampiric Touch\n    DoVampiricTouch(targetGuid);\n}"
    language: cpp
  - title: Integration in a Rotation Logic
    code: "void ShadowPriestAI::UpdateDoTLogic() {\n    for (auto& target : GetTargets())\
      \ {\n        if (shadowDotTracker.NeedsVampiricTouchRefresh(target.GetGUID(),\
      \ 1500)) {\n            CastVampiricTouch(target);\n        }\n    }\n}"
    language: cpp
  notes: This method is typically used in conjunction with other DoT tracking logic
    to optimize spell usage and maximize damage output. The pandemic window value
    may vary depending on the game version or class specialization.
  warnings: Ensure that the GUID passed corresponds to a valid target unit, as invalid
    GUIDs could lead to undefined behavior or incorrect decisions in DoT management.
  related:
  - ShadowDoTTracker::IsDotActive
  - ShadowDoTTracker::GetDotRemainingTime
  - ShadowDoTTracker::RefreshDot
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T22:03:47.097251'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
