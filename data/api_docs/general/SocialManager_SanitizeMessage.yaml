api:
  class: SocialManager
  method: SanitizeMessage
  signature: std::string SocialManager::SanitizeMessage(const std::string & message)
    const
documentation:
  brief: Sanitizes a message string by removing or escaping invalid characters and
    formatting for safe transmission in the social system.
  description: The SanitizeMessage method processes input strings to ensure they conform
    to the game's social messaging standards. It removes or escapes potentially harmful
    characters, enforces length limits, and applies formatting rules to prevent exploits
    or display issues within the social chat system. This method is typically invoked
    before sending messages through the social manager to maintain game integrity
    and user experience. The sanitization process may include filtering out control
    characters, excessive whitespace, or special symbols that could be used for spamming
    or abuse.
  parameters: []
  returns: Returns a sanitized version of the input message string with invalid characters
    removed or escaped, formatted appropriately for safe transmission through the
    social system.
  examples:
  - title: Basic Message Sanitization
    code: 'std::string original = "Hello\nWorld!\x01";

      std::string sanitized = socialManager.SanitizeMessage(original);

      // Result: "Hello\nWorld!" (control character removed)'
    language: cpp
  - title: Message with Special Characters
    code: 'std::string message = "Hey [GM] Player! @admin";

      std::string clean = socialManager.SanitizeMessage(message);

      // Result: "Hey  Player! admin" (brackets and @ stripped)'
    language: cpp
  notes: This method is designed to be thread-safe as it operates on local copies
    of input strings. Performance is optimized for typical message sizes but may degrade
    with extremely long inputs due to multiple string operations. The exact sanitization
    rules are determined by the TrinityCore configuration and may vary between different
    server builds.
  warnings: Do not rely on this method for security validation alone; it's primarily
    for formatting and display purposes. Always validate message content at higher
    levels if security is a concern. Extremely long messages may cause performance
    issues during sanitization.
  related:
  - SendChatMessage
  - ValidateMessageLength
  - ProcessSocialMessage
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T04:53:48.565490'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
