api:
  class: VendorInteraction
  method: AutoBuyReagents
  signature: void VendorInteraction::AutoBuyReagents(Player * player, uint32 vendorGuid)
documentation:
  brief: Automatically purchases required reagents for crafting items from a vendor
    based on the player's current crafting needs.
  description: The AutoBuyReagents method is responsible for automatically purchasing
    necessary reagents from a specified vendor for a given player. It evaluates the
    player's current crafting requirements, checks the vendor's inventory for available
    reagents, and performs transactions to acquire needed materials. This functionality
    is typically used in conjunction with crafting systems where players need to gather
    specific components to create items. The method ensures that only required reagents
    are purchased, avoiding unnecessary spending on items the player does not need.
    It interacts with the vendor's item list and the player's inventory management
    system to maintain consistency between what is needed and what is acquired.
  parameters:
  - name: player
    description: Pointer to the Player object for whom reagents will be purchased.
      Must be a valid player instance with active crafting capabilities.
  - name: vendorGuid
    description: The unique identifier (GUID) of the vendor from which reagents will
      be purchased. This GUID must correspond to a valid vendor in the game world.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'Player* player = ...; // Get player instance

      uint32 vendorGuid = 12345; // Vendor GUID

      VendorInteraction interaction;

      interaction.AutoBuyReagents(player, vendorGuid);'
    language: cpp
  - title: Usage with Error Checking
    code: "Player* player = ...;\nuint32 vendorGuid = 12345;\nif (player && player->IsInWorld())\
      \ {\n    VendorInteraction interaction;\n    interaction.AutoBuyReagents(player,\
      \ vendorGuid);\n}"
    language: cpp
  notes: This method requires that the player has active crafting professions and
    that the vendor supports reagent sales. The method will only purchase reagents
    that are actually required for crafting items the player can currently make. Performance
    is optimized to avoid unnecessary inventory checks, but may still cause minor
    lag during large reagent purchases.
  warnings: Ensure that the vendorGuid parameter points to a valid vendor entity;
    otherwise, the method may fail silently or cause unexpected behavior. The method
    does not validate whether the player has sufficient funds before attempting purchases,
    which could lead to incomplete transactions if the player runs out of gold.
  related:
  - VendorInteraction::GetVendorItems
  - Player::HasEnoughMoney
  - Player::ModifyMoney
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T00:06:25.162356'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
