api:
  class: CooldownManager
  method: UpdateCharges
  signature: void CooldownManager::UpdateCharges(CooldownInfo & cooldown, uint32 diff)
documentation:
  brief: Updates the charges of a cooldown based on the elapsed time.
  description: The UpdateCharges method adjusts the current charge count of a specified
    cooldown based on the time difference provided. It is typically called during
    game loop updates to decrement or reset charges according to cooldown rules. This
    method ensures that abilities with limited uses per cooldown period are properly
    managed and can be used again when their charges replenish. The implementation
    likely checks if the cooldown has expired and updates charge counts accordingly,
    respecting maximum charge limits and recharge rates.
  parameters:
  - name: cooldown
    description: Reference to the CooldownInfo structure that holds information about
      the cooldown state including current charges, maximum charges, and time remaining.
  - name: diff
    description: The time difference in milliseconds since the last update. This value
      determines how much time has passed and affects the charge replenishment calculation.
  returns: null
  examples:
  - title: Basic Usage in Game Loop
    code: "void GameWorld::Update()\n{\n    for (auto& player : players)\n    {\n\
      \        CooldownManager* cm = player.GetCooldownManager();\n        if (cm)\n\
      \        {\n            uint32 diff = sWorld->GetLastUpdateTime();\n       \
      \     cm->UpdateCharges(cooldownInfo, diff);\n        }\n    }\n}"
    language: cpp
  notes: This method is usually invoked within the game's main update loop to ensure
    real-time cooldown management. It's important that the 'diff' parameter accurately
    reflects elapsed time for correct behavior. The method assumes that the CooldownInfo
    structure contains valid charge-related data and that the maximum charges are
    properly initialized.
  warnings: Ensure that the diff value passed is accurate and represents actual game
    time; otherwise, cooldowns may behave unexpectedly. Avoid calling this method
    with zero or negative values as it could lead to incorrect charge calculations.
  related:
  - GetCooldownInfo
  - AddCooldown
  - ResetCharges
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T10:30:58.285084'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
