api:
  class: MonkAI
  method: OnCombatEnd
  signature: void MonkAI::OnCombatEnd()
documentation:
  brief: Performs cleanup and state reset operations when a Monk AI creature exits
    combat mode
  description: The OnCombatEnd method is invoked by the TrinityCore AI system when
    a Monk AI creature transitions out of combat state. This method handles necessary
    cleanup tasks such as resetting combat-related flags, clearing target references,
    stopping ongoing combat abilities, and ensuring the AI returns to its default
    non-combat behavior. The method is typically called automatically by the core
    AI framework when the creature's combat timer expires or when the creature successfully
    defeats all enemies in combat. It ensures proper state management for the Monk
    AI and prevents potential issues with stale data or lingering combat effects.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in custom Monk AI implementation
    code: "class MyMonkAI : public MonkAI {\npublic:\n    void OnCombatEnd() override\
      \ {\n        // Call parent implementation\n        MonkAI::OnCombatEnd();\n\
      \        \n        // Custom cleanup logic\n        ResetSpecialAbilities();\n\
      \        SetMeleeAttack(false);\n    }\n};"
    language: cpp
  notes: This method is automatically called by the TrinityCore AI framework and should
    not be invoked manually. The implementation typically resets internal state variables
    and ensures that combat-specific actions are properly terminated. Developers implementing
    custom Monk AI behavior should call the base class implementation to maintain
    proper AI state consistency.
  warnings: Do not manually invoke this method as it's designed to be called internally
    by the AI framework. Incorrect manual invocation may lead to inconsistent AI state
    or unexpected behavior in combat transitions.
  related:
  - OnCombatStart
  - UpdateAI
  - IsInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T08:34:19.585613'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
