api:
  class: BotActionExtended
  method: FleeFromCombat
  signature: BotActionExtended BotActionExtended::FleeFromCombat(int bot, const int
    & safePosition, uint32 timestamp)
documentation:
  brief: Initiates a flee action for a bot from combat while moving to a specified
    safe position.
  description: The FleeFromCombat method is designed to handle the behavior of a bot
    fleeing from active combat situations. It takes a bot identifier, a safe position
    coordinate, and a timestamp to determine when the flee action should begin. The
    method ensures that the bot moves away from its current combat location toward
    the designated safe position, potentially avoiding further hostile encounters.
    This functionality is crucial for maintaining bot survival in dangerous scenarios
    within the World of Warcraft environment. The method operates under the assumption
    that the bot is currently engaged in combat and needs to escape to a predetermined
    safe zone.
  parameters:
  - name: bot
    description: The unique identifier of the bot that will initiate the flee action.
      This value corresponds to the bot's internal ID within the TrinityCore system.
  - name: safePosition
    description: Reference to an integer representing the coordinate or index of a
      safe position where the bot should flee to. The actual meaning depends on how
      this value is interpreted by the underlying AI system.
  - name: timestamp
    description: A 32-bit unsigned integer timestamp indicating when the flee action
      should commence. This helps synchronize actions with game time and ensures proper
      timing of the flee behavior.
  returns: Returns a BotActionExtended object which encapsulates the state and details
    of the flee action initiated by the bot. This allows for chaining further actions
    or tracking the status of the flee operation.
  examples:
  - title: Basic Flee from Combat Example
    code: BotActionExtended result = botAI->FleeFromCombat(12345, safePos, 1678901234);
    language: cpp
  - title: Advanced Flee with Dynamic Positioning
    code: "int safePosition = GetNearestSafeZone(bot->GetPosition());\nBotActionExtended\
      \ action = botAI->FleeFromCombat(botId, safePosition, GetGameTime());\nif (action.IsValid())\
      \ {\n    // Proceed with additional actions\n}"
    language: cpp
  notes: This method assumes that the bot is already in combat and has valid target
    information. It may not be suitable for use when the bot is not actively fighting
    or when no safe position is defined. The timestamp parameter allows for precise
    control over action timing, which can be essential for complex AI behaviors.
  warnings: Ensure that the provided safePosition corresponds to a valid location
    in the game world; otherwise, the bot may move to an invalid area. Using incorrect
    timestamps could result in actions being executed at inappropriate times, potentially
    leading to unexpected behavior or failure of the flee mechanism.
  related:
  - BotAI::CombatStart
  - BotAI::MoveToPosition
  - BotAI::IsInCombat
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T03:34:27.626067'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
