api:
  class: LootCoordination
  method: HandleSessionCompletion
  signature: void LootCoordination::HandleSessionCompletion(LootSession & session)
documentation:
  brief: Completes a loot coordination session by processing and distributing loot
    to participating players.
  description: The HandleSessionCompletion method finalizes a loot coordination session
    within the TrinityCore framework. It processes all pending loot decisions made
    during the session, ensures proper distribution of items to eligible players based
    on loot rules (such as need-before-greed or round-robin), and cleans up session-related
    data structures. This method is typically invoked when a loot session reaches
    its conclusion, either manually by a group leader or automatically after a timeout
    period. The method handles synchronization between multiple players' loot decisions
    and ensures that no duplicate or invalid loot assignments occur during the distribution
    process.
  parameters: []
  returns: null
  examples:
  - title: Basic Session Completion
    code: 'LootSession session;

      // ... populate session with loot data ...

      lootCoordination.HandleSessionCompletion(session);'
    language: cpp
  notes: This method assumes that all players in the session have made their loot
    decisions and that no further input is expected. It performs internal locking
    to ensure thread safety during loot distribution, which may introduce performance
    overhead for large groups.
  warnings: Calling this method without properly initializing or completing the loot
    session may lead to inconsistent loot states or missing item distributions. Ensure
    all players have submitted their choices before invoking this method.
  related:
  - LootCoordination::StartSession
  - LootCoordination::AddPlayerDecision
  - LootCoordination::HandleLootRoll
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T01:20:28.380178'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
