api:
  class: MageSpellCalculator
  method: ApplyArcanePowerBonus
  signature: uint32 MageSpellCalculator::ApplyArcanePowerBonus(uint32 damage, Player
    * caster)
documentation:
  brief: Applies the Arcane Power bonus to spell damage for a mage caster.
  description: The ApplyArcanePowerBonus method calculates and applies the damage
    increase granted by the Arcane Power buff to a given spell damage value. This
    method is typically used during spell processing to modify damage output when
    the caster has the Arcane Power aura active. The bonus is applied multiplicatively
    to the base damage, increasing it by 10% for each point of Arcane Power stacks.
    The method requires a valid player caster object to determine the current buff
    stack count and apply the appropriate multiplier.
  parameters:
  - name: damage
    description: The base spell damage value to which the Arcane Power bonus will
      be applied. This should be a positive integer representing the raw damage amount
      before any bonuses.
  - name: caster
    description: Pointer to the Player object representing the mage caster who may
      have the Arcane Power buff active. Must not be null and must be a valid player
      with appropriate spell casting capabilities.
  returns: The modified damage value after applying the Arcane Power bonus. Returns
    the original damage value unchanged if the caster does not have the Arcane Power
    buff active or if the caster is invalid.
  examples:
  - title: Basic usage of ApplyArcanePowerBonus
    code: 'uint32 baseDamage = 1000;

      Player* mageCaster = ...; // Valid player with Arcane Power

      uint32 finalDamage = calculator.ApplyArcanePowerBonus(baseDamage, mageCaster);

      // If Arcane Power is active with 2 stacks, finalDamage will be 1200 (1000 *
      1.2)'
    language: cpp
  - title: Checking for valid caster before applying bonus
    code: "uint32 CalculateSpellDamage(Player* caster, uint32 baseDamage) {\n    if\
      \ (!caster || !caster->IsAlive())\n        return baseDamage;\n    \n    MageSpellCalculator\
      \ calculator;\n    return calculator.ApplyArcanePowerBonus(baseDamage, caster);\n\
      }"
    language: cpp
  notes: This method assumes the caster object has proper Arcane Power aura handling
    implemented. The bonus calculation uses a fixed 10% per stack multiplier which
    is standard for the Arcane Power spell in World of Warcraft. Performance is minimal
    as it only involves simple arithmetic operations and aura checking.
  warnings: Ensure that the caster parameter is not null before calling this method
    to prevent undefined behavior. The method does not validate if the caster actually
    has the Arcane Power buff - it's assumed that the caller handles aura state management
    properly.
  related:
  - GetArcanePowerStacks
  - HasArcanePowerBuff
  - CalculateSpellDamage
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T09:02:48.329855'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
