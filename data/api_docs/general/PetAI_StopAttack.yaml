api:
  class: PetAI
  method: StopAttack
  signature: void PetAI::StopAttack()
documentation:
  brief: Stops the pet's current attack action and clears its target.
  description: The StopAttack method terminates any ongoing attack behavior for a
    pet AI instance. It removes the current target from the pet's attack list, resets
    the attack state, and ensures that the pet stops engaging in combat actions. This
    method is typically invoked when the pet needs to cease attacking due to external
    conditions such as owner command, target death, or environmental changes. The
    method does not directly affect the pet's movement or other AI behaviors, but
    it does halt any active attack-related activities.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Pet AI Context
    code: "void SomePetAI::HandleOwnerCommand()\n{\n    if (m_owner->HasUnitState(UNIT_STATE_ROOTED))\n\
      \    {\n        StopAttack(); // Stop attacking when owner is rooted\n    }\n\
      }"
    language: cpp
  notes: This method should only be called on valid PetAI instances. It assumes that
    the pet has an active attack target and will not perform any action if no target
    exists. The method does not trigger any event handlers or callbacks related to
    attack termination.
  warnings: Calling StopAttack() without verifying the existence of a current target
    may lead to unexpected behavior in certain AI states. Ensure that the pet is actually
    attacking before calling this method to avoid unnecessary state changes.
  related:
  - PetAI::AttackStart
  - PetAI::AttackStop
  - PetAI::UpdateAI
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T22:30:03.601765'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
