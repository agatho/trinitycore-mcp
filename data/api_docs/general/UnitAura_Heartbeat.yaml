api:
  class: UnitAura
  method: Heartbeat
  signature: void UnitAura::Heartbeat()
documentation:
  brief: Updates the aura's duration and application state based on time progression
  description: The Heartbeat method is responsible for processing the passage of time
    for auras applied to a Unit. It handles aura expiration, periodic effects such
    as damage over time or healing over time, and updates the aura's internal state
    accordingly. This method is typically called by the core game loop or aura management
    system at regular intervals to ensure proper aura behavior. The method evaluates
    whether an aura should be removed due to duration expiration or triggered effects,
    and manages the application of periodic effects like ticks.
  parameters: []
  returns: null
  examples:
  - title: Basic Aura Heartbeat Execution
    code: "UnitAura* aura = player->GetAura(12345);\nif (aura)\n{\n    aura->Heartbeat();\n\
      }"
    language: cpp
  - title: Aura Heartbeat in Combat Context
    code: "void UpdateCombatAuras(Unit* unit)\n{\n    for (auto& pair : unit->GetAppliedAuras())\n\
      \    {\n        UnitAura* aura = pair.second;\n        if (aura && aura->IsPeriodic())\n\
      \        {\n            aura->Heartbeat();\n        }\n    }\n}"
    language: cpp
  notes: This method is automatically invoked by the TrinityCore aura system during
    game tick processing. Developers should not call this method directly unless implementing
    custom aura behavior. The method may modify aura state, potentially removing auras
    from the unit's aura list during execution.
  warnings: Calling Heartbeat() manually on auras that are already managed by the
    core system can lead to undefined behavior or double removal of auras. This method
    should only be used in very specific circumstances where direct control over aura
    processing is required.
  related:
  - UnitAura::GetDuration
  - UnitAura::SetDuration
  - UnitAura::IsExpired
  - UnitAura::IsPeriodic
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T00:10:35.279947'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
