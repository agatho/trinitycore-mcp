api:
  class: World
  method: GetActiveAndQueuedSessionCount
  signature: uint32 World::GetActiveAndQueuedSessionCount() const
documentation:
  brief: Returns the total count of active and queued user sessions in the world.
  description: The GetActiveAndQueuedSessionCount method retrieves the combined number
    of currently active player sessions and queued sessions waiting to be processed.
    This value represents the total number of connections that are either actively
    playing or pending connection acceptance within the TrinityCore server. The method
    is typically used for monitoring server load, tracking player activity, and managing
    server capacity. It aggregates data from both the active session list and any
    pending connections in the queue.
  parameters: []
  returns: A uint32 value representing the total count of active and queued sessions.
    This number includes all currently connected players as well as any pending connections
    that have not yet been fully established.
  examples:
  - title: Monitor Server Load
    code: "uint32 sessionCount = sWorld->GetActiveAndQueuedSessionCount();\nif (sessionCount\
      \ > sWorld->getIntConfig(CONFIG_MAX_PLAYERS)) {\n    sLog->outString(\"Warning:\
      \ Server approaching maximum player capacity.\");\n}"
    language: cpp
  - title: Display Real-time Player Count
    code: "void SendPlayerCountToAll() {\n    uint32 totalSessions = sWorld->GetActiveAndQueuedSessionCount();\n\
      \    std::string message = \"Current players: \" + std::to_string(totalSessions);\n\
      \    sWorld->SendGlobalMessage(message.c_str());\n}"
    language: cpp
  notes: This method is thread-safe and can be called from any thread context. The
    returned value includes both authenticated and unauthenticated sessions, making
    it useful for comprehensive server monitoring. Performance impact is minimal as
    it only reads internal counters without complex operations.
  warnings: The count returned may include invalid or disconnected sessions temporarily
    if the session cleanup process hasn't completed yet. This method should not be
    used for critical game logic decisions that require precise session state information.
  related:
  - GetActiveSessionCount
  - GetQueuedSessionCount
  - GetPlayerCount
metadata:
  confidence: 0.95
  generated_at: '2025-11-03T15:31:16.274274'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
