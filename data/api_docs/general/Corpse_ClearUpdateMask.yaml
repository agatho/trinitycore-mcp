api:
  class: Corpse
  method: ClearUpdateMask
  signature: void Corpse::ClearUpdateMask(bool remove)
documentation:
  brief: Clears the update mask of the corpse object, optionally removing it from
    updates.
  description: The ClearUpdateMask method resets the internal update mask of a Corpse
    object, which is used by the TrinityCore server to track which fields of the corpse
    have been modified and need to be sent to clients. When remove is set to true,
    the corpse is also removed from the active update system, preventing further updates
    from being sent to players. This method is typically called during corpse cleanup
    or when the corpse is about to be destroyed. The operation ensures that no stale
    or outdated data is transmitted to client players and helps maintain synchronization
    between server state and client views.
  parameters:
  - name: remove
    description: If true, removes the corpse from the update system entirely; if false,
      only clears the update mask without removing it from updates.
  returns: null
  examples:
  - title: Basic Usage to Clear Update Mask
    code: 'Corpse* corpse = ...;

      corpse->ClearUpdateMask(false);'
    language: cpp
  - title: Remove Corpse from Updates After Clearing Mask
    code: 'Corpse* corpse = ...;

      corpse->ClearUpdateMask(true);'
    language: cpp
  notes: This method is part of the core update system in TrinityCore and should be
    used carefully to avoid breaking synchronization between server and client. It's
    typically invoked during cleanup routines or when a corpse is about to be despawned.
  warnings: Improper use of this method may lead to inconsistent client state or missing
    updates for players. Always ensure that the corpse is no longer referenced after
    calling ClearUpdateMask(true).
  related:
  - Corpse::BuildValuesUpdateBlockForPlayer
  - Corpse::BuildOutOfRangeUpdateBlock
  - Corpse::AddToWorld
  - Corpse::RemoveFromWorld
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T16:34:49.463769'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
