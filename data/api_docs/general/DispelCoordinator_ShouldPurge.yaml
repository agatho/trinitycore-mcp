api:
  class: DispelCoordinator
  method: ShouldPurge
  signature: bool DispelCoordinator::ShouldPurge(Unit * enemy, uint32 auraId) const
documentation:
  brief: Determines whether a dispel should be applied to remove an aura from an enemy
    unit.
  description: The ShouldPurge method evaluates if a dispel action is warranted to
    remove a specific aura from an enemy Unit. This method is typically used within
    the context of AI behavior or spell processing logic to decide when to apply dispel
    effects. It considers factors such as the type of aura, its duration, and the
    target's current state. The method returns true if the aura should be removed
    through dispelling, and false otherwise. This functionality is integral to maintaining
    game balance and ensuring proper spell interactions in World of Warcraft-style
    gameplay.
  parameters:
  - name: enemy
    description: Pointer to the Unit object representing the enemy target that may
      have the aura to be dispelled. Must not be null.
  - name: auraId
    description: The unique identifier of the aura type to evaluate for removal. This
      corresponds to the aura's entry in the game's spell database.
  returns: Returns true if the specified aura should be purged from the enemy unit;
    otherwise, returns false.
  examples:
  - title: Basic usage in AI logic
    code: "if (dispelCoordinator->ShouldPurge(targetUnit, 12345)) {\n    // Apply\
      \ dispel effect\n    targetUnit->RemoveAura(12345);\n}"
    language: cpp
  - title: Integration with spell casting logic
    code: "SpellInfo const* spellInfo = sSpellMgr->GetSpellInfo(54321);\nif (spellInfo\
      \ && spellInfo->HasAura(SPELL_AURA_DISPEL)) {\n    if (dispelCoordinator->ShouldPurge(victim,\
      \ 67890)) {\n        // Proceed with dispel logic\n    }\n}"
    language: cpp
  notes: This method likely relies on internal logic that determines aura types eligible
    for dispelling, such as magic or disease effects. It may also consider the caster's
    faction or other contextual factors. The method is expected to be called during
    spell processing or AI decision-making cycles.
  warnings: Ensure that the enemy Unit pointer and auraId are valid before calling
    this method to prevent undefined behavior. Incorrect usage could lead to improper
    dispel application or crashes.
  related:
  - DispelCoordinator::Purge
  - DispelCoordinator::HasDispelType
  - Unit::RemoveAura
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T09:36:47.648799'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
