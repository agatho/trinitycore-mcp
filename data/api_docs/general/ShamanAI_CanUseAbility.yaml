api:
  class: ShamanAI
  method: CanUseAbility
  signature: bool ShamanAI::CanUseAbility(int spellId)
documentation:
  brief: Determines whether a Shaman AI can use a specified spell ability based on
    current game state and resource requirements.
  description: The CanUseAbility method evaluates if a shaman's AI character is capable
    of casting a given spell ability at the current moment. It checks various conditions
    such as mana availability, cooldowns, target validity, and class-specific requirements.
    This method is typically used within the AI decision-making process to ensure
    that only valid abilities are attempted during combat or other gameplay scenarios.
    The function returns true if all prerequisites for casting the specified spell
    are met, otherwise it returns false.
  parameters:
  - name: spellId
    description: The unique identifier of the spell ability to check for usability.
      This corresponds to the Spell ID used in the TrinityCore database and must reference
      a valid shaman spell.
  returns: Returns true if the shaman AI can currently cast the specified spell, considering
    all relevant game state conditions such as mana cost, cooldowns, target status,
    and class restrictions. Returns false if any of these prerequisites are not satisfied.
  examples:
  - title: Basic Usage in AI Logic
    code: "if (shamanAI->CanUseAbility(SPELL_LAVA_BURST)) {\n    shamanAI->CastSpell(SPELL_LAVA_BURST);\n\
      } else {\n    shamanAI->SelectNextAbility();\n}"
    language: cpp
  - title: Checking Multiple Abilities
    code: "if (shamanAI->CanUseAbility(SPELL_EARTH_SHOCK)) {\n    shamanAI->CastSpell(SPELL_EARTH_SHOCK);\n\
      } else if (shamanAI->CanUseAbility(SPELL_LIGHTNING_BOLT)) {\n    shamanAI->CastSpell(SPELL_LIGHTNING_BOLT);\n\
      } else {\n    shamanAI->MoveToTarget();\n}"
    language: cpp
  notes: This method is part of the core AI decision-making logic and should be called
    frequently during AI update cycles. It does not perform actual spell casting but
    only evaluates eligibility. The implementation may vary depending on the specific
    shaman specialization (Elemental, Enhancement, Restoration) as different specs
    have different resource management and ability requirements.
  warnings: Do not assume that a spell will succeed after calling CanUseAbility -
    additional checks like line of sight or target state might still fail during actual
    casting. Also, this method may be called from different threads in multi-threaded
    AI environments, so ensure thread safety when accessing shared resources.
  related:
  - ShamanAI::CastSpell
  - ShamanAI::GetMana
  - ShamanAI::IsCasting
  - ShamanAI::HasCooldown
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T19:05:16.942765'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
