api:
  class: RBACData
  method: SavePermission
  signature: void RBACData::SavePermission(uint32 role, bool granted, int32 realm)
documentation:
  brief: Saves a permission assignment for a role within a specific realm context.
  description: The SavePermission method persists a role-based access control (RBAC)
    permission state to the database. It records whether a specific role has been
    granted or denied a particular permission within the specified realm. This method
    is typically used during runtime when RBAC permissions are modified, ensuring
    that changes are stored and will persist across server restarts. The method operates
    on the RBAC data structure and directly interacts with the underlying database
    to maintain consistency between in-memory and persistent permission states.
  parameters:
  - name: role
    description: The unique identifier of the role to which the permission is assigned.
      This value must correspond to an existing role in the RBAC system.
  - name: granted
    description: Boolean flag indicating whether the permission is granted (true)
      or denied (false) for the specified role.
  - name: realm
    description: The realm identifier where this permission assignment applies. A
      value of -1 typically indicates global scope, while positive values represent
      specific realms.
  returns: null
  examples:
  - title: Grant a Permission to a Role in a Specific Realm
    code: 'RBACData data;

      data.SavePermission(5, true, 1001); // Grant role 5 the permission in realm
      1001'
    language: cpp
  - title: Deny a Permission for a Role Globally
    code: 'RBACData data;

      data.SavePermission(3, false, -1); // Deny role 3 the permission globally'
    language: cpp
  notes: This method likely performs database I/O operations and should be used judiciously
    to avoid performance degradation. It's recommended to batch multiple permission
    changes before calling this method for better efficiency. The method may trigger
    internal validation checks to ensure the role and realm identifiers are valid.
  warnings: Calling this method with invalid role or realm IDs can lead to database
    inconsistencies or errors. Ensure that all parameters are validated before invoking
    this method, especially when dealing with user-provided data. Improper usage could
    result in loss of permission data or unexpected access control behavior.
  related:
  - RBACData::LoadPermissions
  - RBACData::HasPermission
  - RBACData::AddPermission
  - RBACData::RemovePermission
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T19:45:35.747541'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
