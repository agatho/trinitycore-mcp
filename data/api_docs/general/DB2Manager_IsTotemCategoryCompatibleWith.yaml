api:
  class: DB2Manager
  method: IsTotemCategoryCompatibleWith
  signature: bool DB2Manager::IsTotemCategoryCompatibleWith(uint32 itemTotemCategoryId,
    uint32 requiredTotemCategoryId, bool requireAllTotems)
documentation:
  brief: Checks if an item's totem category is compatible with a required totem category.
  description: The IsTotemCategoryCompatibleWith method determines whether a given
    item's totem category is compatible with a required totem category. This functionality
    is used in World of Warcraft to enforce rules about which totems can be used together,
    particularly for items such as totem poles or totem staves. The method supports
    both inclusive and exclusive compatibility modes based on the requireAllTotems
    flag. It leverages internal DB2 data structures that define totem category relationships
    and is typically invoked during item validation or equipment checks.
  parameters:
  - name: itemTotemCategoryId
    description: The ID of the totem category associated with the item being checked.
      This value maps to a totem category defined in the DB2 files.
  - name: requiredTotemCategoryId
    description: The ID of the required totem category that the item must be compatible
      with. This is usually derived from an item's requirements or a player's active
      totems.
  - name: requireAllTotems
    description: When true, all totems in the item's category must match the required
      category. When false, only one matching totem is sufficient for compatibility.
  returns: Returns true if the item's totem category is compatible with the required
    category according to the specified mode; otherwise returns false.
  examples:
  - title: Check Totem Compatibility
    code: "if (sDB2Manager->IsTotemCategoryCompatibleWith(10, 5, false)) {\n    //\
      \ Item with totem category 10 is compatible with required category 5\n    printf(\"\
      Totem compatibility check passed.\\n\");\n}"
    language: cpp
  - title: Enforce All Totems Required
    code: "bool allRequired = sDB2Manager->IsTotemCategoryCompatibleWith(12, 8, true);\n\
      if (allRequired) {\n    // All totems in category 12 must match category 8\n\
      \    printf(\"All totems required and matched.\\n\");\n} else {\n    printf(\"\
      Not all totems matched requirements.\\n\");\n}"
    language: cpp
  notes: This method relies on internal DB2 data structures that define totem category
    relationships. It is commonly used during item validation, particularly when checking
    if a player can equip an item or use it in combination with other totems. The
    implementation may cache results for performance reasons.
  warnings: Ensure the provided totem category IDs are valid and correspond to actual
    entries in the DB2 files; invalid IDs may lead to unexpected behavior or crashes.
    This method should not be used outside of appropriate game logic contexts where
    totem compatibility is required.
  related:
  - GetTotemCategory
  - IsItemTotemCompatible
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T14:29:50.649497'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
