api:
  class: SpellHistory
  method: RestoreCooldownStateAfterDuel
  signature: void SpellHistory::RestoreCooldownStateAfterDuel()
documentation:
  brief: Restores the cooldown state of spells after a duel has ended.
  description: The RestoreCooldownStateAfterDuel method is responsible for restoring
    the cooldown timers and states of all spells that were active or on cooldown when
    a player engaged in a duel. This ensures that players do not retain spell cooldowns
    from the duel environment, which could affect their gameplay once they return
    to normal combat situations. The method typically iterates through the player's
    spell history and resets any cooldown-related information that was modified during
    the duel. It is an internal utility function used by the TrinityCore framework
    to maintain proper game state consistency after duels.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in duel end handler
    code: "void DuelManager::OnDuelEnd(Player* player)\n{\n    player->GetSpellHistory()->RestoreCooldownStateAfterDuel();\n\
      }"
    language: cpp
  notes: This method is automatically invoked during duel cleanup and should not be
    called manually unless implementing custom duel logic. It assumes that the player's
    spell history has been properly initialized and contains valid cooldown data.
  warnings: Do not call this method outside of duel-related contexts, as it may cause
    inconsistent cooldown states or unexpected behavior in spell usage.
  related:
  - SpellHistory::SaveCooldownStateBeforeDuel
  - SpellHistory::GetSpellCooldown
  - SpellHistory::SetSpellCooldown
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T01:55:48.965663'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
