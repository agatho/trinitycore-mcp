api:
  class: EnhancementShamanRefactored
  method: ExecuteSingleTargetRotation
  signature: void EnhancementShamanRefactored::ExecuteSingleTargetRotation(int * target)
documentation:
  brief: Executes the enhancement shaman's single-target rotation logic for the current
    fight.
  description: The ExecuteSingleTargetRotation method implements the core combat logic
    for an Enhancement Shaman class in TrinityCore. This method determines and executes
    the appropriate spell or ability sequence based on the current game state, target
    conditions, and resource management. It typically involves checking for available
    abilities such as Lava Lash, Stormstrike, or Earth Shock, considering cooldowns,
    mana costs, and combat requirements. The method is designed to be called during
    the AI's update cycle to ensure optimal damage output against a single enemy target.
  parameters:
  - name: target
    description: Pointer to the integer identifier of the current target. This value
      represents the GUID or index of the target entity in the game world.
  returns: null
  examples:
  - title: Basic usage within AI update loop
    code: "void EnhancementShamanAI::UpdateAI(uint32 diff)\n{\n    if (Unit* target\
      \ = SelectTarget(SELECT_TARGET_TOPAGGRO))\n    {\n        ExecuteSingleTargetRotation(&target->GetGUID().GetRawValue());\n\
      \    }\n}"
    language: cpp
  - title: Integration with custom combat state management
    code: "void EnhancementShamanRefactored::ExecuteSingleTargetRotation(int* target)\n\
      {\n    if (!target || *target <= 0)\n        return;\n\n    Unit* unitTarget\
      \ = ObjectAccessor::GetUnit(*me, *target);\n    if (!unitTarget || !unitTarget->IsAlive())\n\
      \        return;\n\n    // Core rotation logic here\n    // e.g., check for\
      \ Lava Lash, Stormstrike, etc.\n}"
    language: cpp
  notes: This method assumes that the target is valid and alive before execution.
    It should only be called when the shaman has a valid combat target. The implementation
    may vary depending on the specific version of TrinityCore being used and any custom
    modifications made to the AI system.
  warnings: Ensure that the target pointer passed into this method points to a valid,
    alive Unit object. Passing an invalid or null target can lead to undefined behavior
    or crashes in the game logic.
  related:
  - ExecuteAOORotation
  - ExecuteHealingRotation
  - CheckAndCastSpell
  - GetAvailableSpells
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T12:19:42.117360'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
