api:
  class: ScriptMgr
  method: OnGuildMemberDepositMoney
  signature: void ScriptMgr::OnGuildMemberDepositMoney(Guild * guild, Player * player,
    uint64 & amount)
documentation:
  brief: Invoked when a guild member deposits money into the guild bank.
  description: This method is called whenever a player deposits gold into the guild
    bank. It provides a hook for custom scripts to modify or react to the deposit
    action. The amount parameter can be modified by scripts to adjust the actual deposit
    amount. This method is part of TrinityCore's scripting system that allows developers
    to extend game behavior without modifying core code.
  parameters:
  - name: guild
    description: Pointer to the Guild object representing the guild where the money
      is being deposited.
  - name: player
    description: Pointer to the Player object representing the player who is depositing
      the money.
  - name: amount
    description: Reference to a uint64 value representing the amount of money (in
      copper) being deposited. Scripts can modify this value to change the actual
      deposit amount.
  returns: null
  examples:
  - title: Basic example - Modify deposit amount
    code: "void OnGuildMemberDepositMoney(Guild* guild, Player* player, uint64& amount)\n\
      {\n    // Double the deposit amount\n    amount *= 2;\n}"
    language: cpp
  - title: Advanced example - Conditional deposit handling
    code: "void OnGuildMemberDepositMoney(Guild* guild, Player* player, uint64& amount)\n\
      {\n    // Only allow deposits if player has a specific item\n    if (!player->HasItemWithEntry(12345))\n\
      \        amount = 0; // Prevent deposit\n    \n    // Apply a 10% tax to all\
      \ deposits\n    amount = (amount * 9) / 10;\n}"
    language: cpp
  notes: This method is called from the core guild banking system. Scripts should
    be careful not to cause infinite loops or modify game state in ways that could
    break the guild bank functionality. The amount parameter is passed by reference,
    allowing scripts to modify the actual deposit amount.
  warnings: Modifying the amount parameter can significantly affect game economy and
    guild balance. Ensure any modifications are within reasonable bounds to prevent
    exploits or game-breaking changes.
  related:
  - OnGuildMemberWithdrawMoney
  - OnGuildBankEvent
  - OnGuildCreate
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T22:38:00.521442'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
