api:
  class: Unit
  method: ApplyResilience
  signature: void Unit::ApplyResilience(const Unit * victim, int32 * damage)
documentation:
  brief: Applies resilience mechanics to reduce incoming damage from a victim.
  description: The ApplyResilience method adjusts incoming damage based on the victim's
    resilience, which reduces the effectiveness of critical hits and spell damage.
    This method is typically used in combat calculations where damage reduction due
    to resilience needs to be applied to incoming attacks or spells. It modifies the
    damage value by applying a resilience factor that depends on the victim's resilience
    stat and the attacker's level difference.
  parameters:
  - name: victim
    description: Pointer to the Unit that is applying resilience. This represents
      the target whose resilience is being used to modify incoming damage.
  - name: damage
    description: Pointer to the damage value that will be modified by resilience.
      The method modifies this value in place, reducing it based on the victim's resilience.
  returns: null
  examples:
  - title: Basic usage example
    code: 'Unit* attacker = new Unit();

      Unit* victim = new Unit();

      int32 damage = 100;

      attacker->ApplyResilience(victim, &damage);

      // damage is now reduced by resilience factor'
    language: cpp
  notes: This method is typically used in combat calculations and should be called
    when calculating damage reduction from resilience. The resilience value is calculated
    based on the victim's level and the attacker's level difference, and may involve
    additional factors such as critical hit chance or spell power.
  warnings: Care must be taken when using this method as it modifies the damage value
    in place. If not properly handled, it can lead to incorrect damage calculations
    and potentially cause game balance issues. Ensure that the victim is properly
    initialized before calling this method.
  related:
  - Unit::GetResilience
  - Unit::CalculateResilience
  - Unit::ApplyDamage
metadata:
  confidence: 0.85
  generated_at: '2025-10-30T21:27:23.469676'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
