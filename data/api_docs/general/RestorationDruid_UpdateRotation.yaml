api:
  class: RestorationDruid
  method: UpdateRotation
  signature: void RestorationDruid::UpdateRotation(::Unit * target)
documentation:
  brief: Updates the restoration druid's spell rotation based on current target and
    combat state
  description: The UpdateRotation method determines and executes the optimal sequence
    of spells for a restoration druid character during combat or non-combat situations.
    This method evaluates the target's health, the druid's available mana, and current
    buff/debuff states to select appropriate healing spells such as Rejuvenation,
    Regrowth, or Lifebloom. It also manages the rotation logic for maintaining efficient
    HoT (Heal over Time) applications and handling emergency healing scenarios. The
    method is typically called by the AI system during combat updates or when the
    druid's target changes.
  parameters:
  - name: target
    description: Pointer to the Unit object representing the current target or focus
      target for the restoration druid. This parameter determines which unit will
      receive healing spells and influences rotation decisions.
  returns: null
  examples:
  - title: Basic usage in combat
    code: "void MyRestorationDruidAI::Update()\n{\n    Unit* target = GetVictim();\n\
      \    if (target)\n        UpdateRotation(target);\n}"
    language: cpp
  - title: Updating rotation with focus target
    code: "void RestorationDruid::OnSpellCast(SpellInfo const* spellInfo)\n{\n   \
      \ if (spellInfo->Id == 774) // Rejuvenation\n    {\n        Unit* focusTarget\
      \ = GetFocus();\n        if (focusTarget)\n            UpdateRotation(focusTarget);\n\
      \    }\n}"
    language: cpp
  notes: This method is part of the AI decision-making process and should only be
    called when the druid has a valid target. The implementation may include checks
    for spell cooldowns, mana availability, and target health thresholds before executing
    any rotation logic.
  warnings: Calling this method without a valid target unit may result in undefined
    behavior or failed spell casts. Ensure that the target parameter is properly validated
    before calling to prevent crashes or incorrect AI decisions.
  related:
  - GetVictim
  - GetFocus
  - CastSpell
  - HasAura
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T20:39:56.003522'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
