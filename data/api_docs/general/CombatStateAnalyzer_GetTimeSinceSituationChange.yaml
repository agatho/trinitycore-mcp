api:
  class: CombatStateAnalyzer
  method: GetTimeSinceSituationChange
  signature: uint32 CombatStateAnalyzer::GetTimeSinceSituationChange() const
documentation:
  brief: Returns the time elapsed since the last combat situation change in milliseconds.
  description: The GetTimeSinceSituationChange method calculates and returns the number
    of milliseconds that have passed since the last significant change in the combat
    state of a unit. This includes transitions such as entering combat, leaving combat,
    or any other state modifications that affect the unit's engagement status. The
    value is typically used for timing-based mechanics, such as determining when to
    reset combat timers, triggering cooldowns, or managing AI behavior based on recent
    combat activity. This method relies on an internal timestamp tracking mechanism
    within the CombatStateAnalyzer class.
  parameters: []
  returns: A uint32 value representing the time in milliseconds since the last combat
    situation change occurred. Returns 0 if no combat situation changes have been
    recorded yet.
  examples:
  - title: Basic usage to check recent combat activity
    code: "uint32 timeSinceChange = analyzer.GetTimeSinceSituationChange();\nif (timeSinceChange\
      \ > 5000)\n{\n    // More than 5 seconds since last combat change\n    // Could\
      \ trigger a reset or cooldown logic\n}"
    language: cpp
  - title: Using time since change to manage AI behavior
    code: "uint32 time = analyzer.GetTimeSinceSituationChange();\nif (time < 1000)\n\
      {\n    // Recently entered combat, maintain aggressive stance\n    unit->SetReactState(REACT_AGGRESSIVE);\n\
      }\nelse if (time > 10000)\n{\n    // Long time since combat, consider passive\
      \ behavior\n    unit->SetReactState(REACT_PASSIVE);\n}"
    language: cpp
  notes: This method is typically used in conjunction with other combat state tracking
    methods to build a complete picture of a unit's engagement history. The internal
    timestamp is updated whenever the combat situation changes, making this method
    efficient for real-time combat analysis without requiring additional polling.
  warnings: Be aware that this value resets with each combat state transition, so
    it should not be used as a persistent timer across multiple combat sessions. Also,
    in high-frequency combat scenarios, the returned value may update rapidly and
    should be cached appropriately if used in performance-critical code paths.
  related:
  - SetLastSituationChangeTime
  - GetCombatState
  - IsInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T19:05:53.066124'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
