api:
  class: WorldScript
  method: OnShutdown
  signature: void WorldScript::OnShutdown()
documentation:
  brief: Called when the world server is shutting down to perform cleanup operations
  description: The OnShutdown method is a virtual callback function in the WorldScript
    class that is invoked when the TrinityCore world server begins its shutdown process.
    This method allows custom scripts to execute cleanup routines, save persistent
    data, or perform any necessary finalization before the server terminates. It is
    called during the server's graceful shutdown sequence and provides an opportunity
    for addons or custom modules to release resources, close connections, or persist
    state information. The method does not accept any parameters and does not return
    a value, making it suitable for fire-and-forget cleanup operations.
  parameters: []
  returns: null
  examples:
  - title: Basic Implementation Example
    code: "class MyWorldScript : public WorldScript\n{\npublic:\n    void OnShutdown()\
      \ override\n    {\n        // Log shutdown event\n        sLog->outString(\"\
      Custom world shutdown routine initiated.\");\n        \n        // Perform cleanup\
      \ tasks here\n        // e.g., save custom data, close files, etc.\n    }\n\
      };"
    language: cpp
  notes: This method is executed during the server's shutdown phase and should not
    perform long-running operations as it may delay the shutdown process. It is recommended
    to keep cleanup tasks lightweight and efficient. The method is called from the
    main thread, so thread safety considerations are minimal for most implementations.
  warnings: Avoid performing heavy I/O operations or blocking calls within this method
    as they can significantly delay server shutdown. Do not attempt to access or modify
    global systems that may already be in an unstable state during shutdown.
  related:
  - OnStartup
  - OnUpdate
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T19:26:41.384742'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
