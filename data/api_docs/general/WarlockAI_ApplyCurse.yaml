api:
  class: WarlockAI
  method: ApplyCurse
  signature: bool WarlockAI::ApplyCurse(Unit * target)
documentation:
  brief: Applies a curse to the specified target unit and returns true if successful.
  description: The ApplyCurse method is used by WarlockAI to cast a curse spell on
    a given target unit. This method typically handles the logic for selecting an
    appropriate curse based on the warlock's current state, spell availability, and
    target conditions. It checks whether the curse can be applied (e.g., target is
    valid, not already cursed, spell is available), performs the casting animation
    and effect, and returns true if the curse was successfully applied or false otherwise.
    In the context of TrinityCore's AI system, this method integrates with the warlock's
    decision-making process to optimize spell usage during combat.
  parameters:
  - name: target
    description: Pointer to the Unit object that will receive the curse. Must be a
      valid target within the AI's range and line of sight. Cannot be null or self.
  returns: Returns true if the curse was successfully applied to the target, false
    otherwise. Failure may occur due to invalid target, spell cooldowns, insufficient
    mana, or target already being affected by the same curse.
  examples:
  - title: Basic Curse Application
    code: "if (warlockAI->ApplyCurse(targetUnit))\n{\n    // Curse successfully applied\n\
      \    LOG_DEBUG(\"ai\", \"Curse applied to {}\", targetUnit->GetName());\n}"
    language: cpp
  - title: Conditional Curse Application
    code: "if (targetUnit && !targetUnit->HasAura(SPELL_CURSE_OF_AGONY) && warlockAI->ApplyCurse(targetUnit))\n\
      {\n    // Only apply curse if target doesn't already have it\n    LOG_DEBUG(\"\
      ai\", \"Applied Curse of Agony to {}\", targetUnit->GetName());\n}"
    language: cpp
  notes: This method is part of the WarlockAI class and should only be called from
    within the AI's decision-making loop. The actual spell casting behavior depends
    on the warlock's current spell selection logic, which may vary based on combat
    phase or target type. It is recommended to check for valid target and spell availability
    before calling this method to avoid unnecessary processing.
  warnings: Calling ApplyCurse with a null or invalid target pointer will likely result
    in undefined behavior or crash. Always validate the target before invoking this
    method. Additionally, repeated calls without checking for existing curses may
    lead to inefficient resource usage or spamming of the same curse effect.
  related:
  - WarlockAI::CastSpell
  - WarlockAI::SelectCurse
  - WarlockAI::IsSpellAvailable
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T17:25:32.486675'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
