api:
  class: KitingManager
  method: HandleAttackOpportunity
  signature: void KitingManager::HandleAttackOpportunity()
documentation:
  brief: Processes and handles attack opportunity logic for kiting behavior in the
    AI system
  description: The HandleAttackOpportunity method is responsible for managing the
    decision-making process when a creature or NPC has an opportunity to perform an
    attack during kiting mechanics. This method evaluates the current combat state,
    target position, and movement patterns to determine whether an attack should be
    initiated or deferred. It integrates with the broader kiting manager system to
    ensure proper timing and positioning during combat encounters, particularly in
    scenarios where maintaining distance while dealing damage is crucial. The method
    typically checks for valid attack conditions such as line of sight, target vulnerability,
    and appropriate weapon readiness before executing any attack behavior.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in AI Update Loop
    code: "void CustomCreatureAI::UpdateAI(uint32 diff)\n{\n    if (m_kitingManager)\n\
      \        m_kitingManager->HandleAttackOpportunity();\n    // Other AI logic\n\
      }"
    language: cpp
  notes: This method is typically called within the AI update cycle and should not
    be invoked directly outside of combat or kiting contexts. The implementation relies
    on accurate positioning data from the creature's movement handler and target tracking
    system.
  warnings: Calling this method when not in a valid kiting state may result in unexpected
    behavior or invalid attack attempts. Ensure proper state management before invoking
    this function.
  related:
  - KitingManager::Update
  - KitingManager::IsInKitingMode
  - KitingManager::SetAttackOpportunity
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T02:18:24.317402'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
