api:
  class: TradeStatistics
  method: GetAverageTradeTime
  signature: std::chrono::milliseconds TradeStatistics::GetAverageTradeTime() const
documentation:
  brief: Calculates and returns the average time spent on trades within the system.
  description: The GetAverageTradeTime method computes the average duration of all
    completed trades stored in the TradeStatistics instance. It aggregates the time
    differences between trade initiation and completion for each transaction, then
    calculates the arithmetic mean to determine the overall average trade time. This
    value is expressed as a std::chrono::milliseconds object, representing the average
    trade duration in milliseconds. The method is typically used for performance monitoring,
    player behavior analysis, or game economy balancing purposes within the TrinityCore
    framework.
  parameters: []
  returns: A std::chrono::milliseconds object containing the calculated average trade
    time. If no trades have been recorded, the returned value will be zero milliseconds.
  examples:
  - title: Basic Usage
    code: 'TradeStatistics stats;

      // ... populate stats with trade data ...

      std::chrono::milliseconds avgTime = stats.GetAverageTradeTime();

      LOG_INFO("server", "Average trade time: {} ms", avgTime.count());'
    language: cpp
  - title: Performance Monitoring
    code: "void LogTradeStatistics() {\n    TradeStatistics globalStats;\n    // Assume\
      \ this is populated with all server trade data\n    auto avgTime = globalStats.GetAverageTradeTime();\n\
      \    if (avgTime.count() > 5000) { // 5 seconds\n        LOG_WARN(\"server\"\
      , \"Unusually long average trade time detected: {} ms\", avgTime.count());\n\
      \    }\n}"
    language: cpp
  notes: This method assumes that all trades in the statistics have been properly
    completed and recorded with both start and end timestamps. The calculation is
    performed synchronously and may involve iterating through stored trade records,
    so performance impact should be considered when called frequently. The returned
    value represents a snapshot of current data and will change as new trades are
    added to the system.
  warnings: If no trades have been recorded or if all recorded trades lack valid completion
    timestamps, this method will return zero milliseconds. This may not indicate an
    error but rather a lack of trade data. Ensure that trade statistics are properly
    maintained and updated for accurate results.
  related:
  - GetTotalTradeCount
  - GetTotalTradeTime
  - AddTradeRecord
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T14:24:38.763490'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
