api:
  class: DefensiveManager
  method: Update
  signature: void DefensiveManager::Update(uint32 diff, const CombatMetrics & metrics)
documentation:
  brief: Updates the defensive manager's state based on combat metrics and elapsed
    time.
  description: The Update method is responsible for processing and applying defensive
    behaviors within the game system. It takes in a time delta (diff) representing
    the elapsed milliseconds since last update, along with combat metrics that define
    the current combat state. This method typically handles cooldown management, defensive
    ability activation, and state transitions based on combat conditions. The implementation
    likely integrates with the broader combat system to ensure defensive actions are
    properly timed and executed according to game rules.
  parameters:
  - name: diff
    description: The time elapsed in milliseconds since the last update call. Used
      to calculate time-based effects and cooldowns.
  - name: metrics
    description: Combat metrics structure containing current combat state information
      including damage dealt, received, target status, and other relevant combat data
      for defensive decision making.
  returns: null
  examples:
  - title: Basic Update Call
    code: "void Update(uint32 diff, const CombatMetrics& metrics)\n{\n    // Process\
      \ defensive cooldowns\n    if (defensiveCooldown > 0)\n        defensiveCooldown\
      \ = std::max(0u, defensiveCooldown - diff);\n    \n    // Apply defensive state\
      \ changes based on combat metrics\n    if (metrics.GetDamageTaken() > 0 && defensiveCooldown\
      \ == 0)\n    {\n        ActivateDefensiveAbility();\n        defensiveCooldown\
      \ = DEFENSIVE_COOLDOWN_TIME;\n    }\n}"
    language: cpp
  notes: This method is typically called from the main game loop or combat handler.
    It's important to note that defensive behaviors should be processed in a timely
    manner to maintain game balance and responsiveness.
  warnings: null
  related:
  - ActivateDefensiveAbility
  - ResetCooldowns
  - GetDefensiveState
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T03:59:04.696532'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
