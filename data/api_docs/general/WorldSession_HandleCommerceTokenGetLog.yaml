api:
  class: WorldSession
  method: HandleCommerceTokenGetLog
  signature: void WorldSession::HandleCommerceTokenGetLog(WorldPackets::Token::CommerceTokenGetLog
    & updateListedAuctionableTokens)
documentation:
  brief: Handles the client request to retrieve the commerce token log, including
    transaction history and token usage details.
  description: The HandleCommerceTokenGetLog method processes a client request to
    fetch the player's commerce token transaction log. This functionality is part
    of the in-game token system introduced in World of Warcraft's Battle for Azeroth
    expansion, allowing players to track their purchases and redemptions of tokens
    used for various in-game services such as mounts, pets, and cosmetic items. The
    method typically retrieves a list of recent transactions associated with the player's
    account, including timestamps, token amounts, and corresponding item or service
    details. It ensures that only authenticated and authorized players can access
    their own transaction logs, maintaining data privacy and security within the game's
    economy system.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Session Handler
    code: "void WorldSession::HandleCommerceTokenGetLog(WorldPackets::Token::CommerceTokenGetLog&\
      \ updateListedAuctionableTokens)\n{\n    // Retrieve and send commerce token\
      \ log to client\n    SendCommerceTokenLog();\n}"
    language: cpp
  notes: This method is typically invoked when a player opens the commerce token interface
    or navigates to their transaction history. The implementation should be thread-safe
    as it may be called from different network threads. Performance considerations
    include limiting the number of transactions returned to prevent excessive data
    transfer.
  warnings: Ensure proper authentication checks are performed before sending any transaction
    data to avoid unauthorized access to other players' token logs. The method should
    validate that the requesting player has sufficient permissions to view their own
    commerce token history.
  related:
  - SendCommerceTokenLog
  - HandleCommerceTokenRedeem
  - HandleCommerceTokenBuy
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T19:38:12.029609'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
