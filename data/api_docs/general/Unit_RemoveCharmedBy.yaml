api:
  class: Unit
  method: RemoveCharmedBy
  signature: void Unit::RemoveCharmedBy(Unit * charmer)
documentation:
  brief: Removes a unit from being charmed by another unit, ending the charm relationship.
  description: The RemoveCharmedBy method removes the current unit from being charmed
    by a specified charmer unit. This method is used to break the charm relationship
    between a unit and its charmer, effectively ending the charm state. It typically
    occurs when the charmer dies or when the charmed unit is removed from the game
    world. The method ensures that the charmed unit's state is properly updated to
    reflect the end of the charm relationship, and it may also trigger cleanup of
    related game mechanics such as AI behavior and combat state.
  parameters:
  - name: charmer
    description: The Unit object that is currently charming this unit. This parameter
      must be a valid pointer to a Unit instance, and cannot be nullptr.
  returns: null
  examples:
  - title: Basic usage example
    code: 'Unit* charmer = GetCharmer();

      Unit->RemoveCharmedBy(charmer);'
    language: cpp
  - title: Advanced usage with safety checks
    code: "if (charmer && charmer->IsInWorld()) {\n    Unit->RemoveCharmedBy(charmer);\n\
      }\nelse {\n    // Handle the case where charmer is not valid\n}"
    language: cpp
  notes: This method should only be called when the charmer unit is no longer valid
    or has been removed from the game world. It is typically used in conjunction with
    other methods that handle charm state cleanup, such as RemoveCharmState or UpdateAI.
    The method may also trigger a change in AI behavior for the charmed unit, depending
    on how the charm relationship was established.
  warnings: Calling this method without ensuring the charmer is valid can lead to
    memory access violations or undefined behavior. It is important to verify that
    the charmer unit is still valid before calling this method. Additionally, this
    method does not automatically reset the unit's AI state; it must be handled separately
    if needed.
  related:
  - RemoveCharmState
  - GetCharmer
  - IsCharmed
  - UpdateAI
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T20:37:49.020199'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
