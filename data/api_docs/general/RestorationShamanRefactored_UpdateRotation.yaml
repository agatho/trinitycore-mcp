api:
  class: RestorationShamanRefactored
  method: UpdateRotation
  signature: void RestorationShamanRefactored::UpdateRotation(int * target)
documentation:
  brief: Updates the shaman's spell rotation based on current combat state and target
    conditions.
  description: The UpdateRotation method is responsible for determining and executing
    the optimal sequence of spells for a Restoration Shaman during combat. It evaluates
    the current target's health, player mana levels, and available cooldowns to decide
    which healing or utility spell should be cast next. This method typically integrates
    with the AI decision-making system to ensure efficient resource usage and maximum
    healing output. The method operates on the provided target reference and modifies
    the shaman's casting behavior accordingly.
  parameters:
  - name: target
    description: Pointer to an integer representing the target's current state or
      identifier. This parameter is used to determine which target to prioritize for
      healing spells and rotation decisions.
  returns: null
  examples:
  - title: Basic Usage in Combat AI
    code: "void MyShamanAI::Update()\n{\n    int currentTarget = GetTargetId();\n\
      \    restorationShaman.UpdateRotation(&currentTarget);\n}"
    language: cpp
  - title: Integration with Target Health Monitoring
    code: "void RestorationShamanRefactored::UpdateRotation(int* target)\n{\n    if\
      \ (*target > 0 && IsTargetHealthy())\n        CastHealingWave();\n    else if\
      \ (HasLowMana())\n        CastRiptide();\n    else\n        CastEarthShield();\n\
      }"
    language: cpp
  notes: This method is typically called within the AI update loop and should be invoked
    frequently during active combat. It assumes that the target parameter points to
    a valid target state that can be evaluated for healing priority. The method does
    not directly modify the target object but uses it as input for decision-making
    logic.
  warnings: Ensure that the target pointer is properly initialized before calling
    this method, as dereferencing an uninitialized or null pointer will result in
    undefined behavior. This method should only be called during active combat scenarios
    where spell rotation decisions are relevant.
  related:
  - CastHealingWave
  - CastRiptide
  - CastEarthShield
  - IsTargetHealthy
  - HasLowMana
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T20:36:25.209799'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
