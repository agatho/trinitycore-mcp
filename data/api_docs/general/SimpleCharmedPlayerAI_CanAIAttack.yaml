api:
  class: SimpleCharmedPlayerAI
  method: CanAIAttack
  signature: bool SimpleCharmedPlayerAI::CanAIAttack(const int * who) const
documentation:
  brief: Determines whether the charmed player AI can attack a specified target.
  description: The CanAIAttack method evaluates if the current charmed player AI is
    allowed to perform an attack action against a given target. This method typically
    checks various conditions such as the target's faction, validity of the target,
    and whether the AI is in a state where attacking is permitted. It is used internally
    by the AI system to control the behavior of charmed players, ensuring they follow
    appropriate combat rules and restrictions based on their owner's commands or game
    context.
  parameters:
  - name: who
    description: Pointer to an integer representing the target's identifier (GUID).
      If null, the method may return false or throw an error depending on implementation.
  returns: Returns true if the AI can attack the specified target; otherwise returns
    false. A return value of false typically indicates that the target is invalid,
    inaccessible, or not within the scope of allowed attacks.
  examples:
  - title: Basic usage to check if AI can attack a target
    code: "int targetGuid = 12345;\nif (ai->CanAIAttack(&targetGuid)) {\n    // Proceed\
      \ with attack logic\n    ai->AttackTarget(targetGuid);\n} else {\n    // Handle\
      \ inability to attack\n    ai->Say(\"Cannot attack this target.\");\n}"
    language: cpp
  notes: This method is part of the AI decision-making framework for charmed players
    in TrinityCore. It integrates with the game's faction system and targeting rules,
    ensuring that charmed units behave according to their owner's intentions while
    respecting game balance and mechanics.
  warnings: Ensure that the pointer passed to 'who' is valid and points to a legitimate
    target GUID; otherwise, undefined behavior may occur. Also, be aware that this
    method might not account for all dynamic conditions during combat, such as temporary
    invulnerability or stealth states.
  related:
  - SimpleCharmedPlayerAI::AttackTarget
  - SimpleCharmedPlayerAI::CanAIAttackTarget
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T23:38:21.805719'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
