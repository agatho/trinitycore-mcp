api:
  class: PerformanceProfile
  method: SetStrategy
  signature: void PerformanceProfile::SetStrategy(const OptimizationStrategy & strategy)
documentation:
  brief: Sets the optimization strategy for performance profiling.
  description: The SetStrategy method configures the PerformanceProfile class to use
    a specific OptimizationStrategy for profiling game performance. This allows developers
    to define how performance metrics should be collected and analyzed, such as focusing
    on CPU usage, memory allocation, or specific subsystems. The method updates internal
    state to reflect the new strategy without requiring a restart of the profiling
    system. This is particularly useful in TrinityCore's context where performance
    tuning and optimization are critical for maintaining server stability and responsiveness.
  parameters:
  - name: strategy
    description: The OptimizationStrategy object that defines how performance profiling
      should be conducted. This includes settings for which subsystems to monitor,
      sampling frequency, and data collection methods.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'PerformanceProfile profile;

      OptimizationStrategy strategy;

      strategy.SetCpuProfiling(true);

      profile.SetStrategy(strategy);'
    language: cpp
  - title: Advanced Configuration Example
    code: 'PerformanceProfile profile;

      OptimizationStrategy strategy;

      strategy.SetMemorySamplingFrequency(1000);

      strategy.SetSubsystemMonitoring({"AI", "Movement", "Combat"});

      profile.SetStrategy(strategy);'
    language: cpp
  notes: This method is typically used in conjunction with PerformanceProfile::Start()
    and PerformanceProfile::Stop() to control when profiling occurs. The strategy
    object passed should be fully configured before calling this method, as changes
    to the strategy after setting it may not take effect until the next profiling
    session.
  warnings: Calling SetStrategy while a profiling session is active may lead to inconsistent
    results or undefined behavior. Always ensure that profiling is stopped before
    changing strategies.
  related:
  - PerformanceProfile::GetStrategy
  - PerformanceProfile::Start
  - PerformanceProfile::Stop
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T21:56:52.506702'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
