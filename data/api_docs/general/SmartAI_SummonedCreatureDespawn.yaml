api:
  class: SmartAI
  method: SummonedCreatureDespawn
  signature: void SmartAI::SummonedCreatureDespawn(Creature * unit)
documentation:
  brief: Handles the despawn event of a summoned creature within SmartAI.
  description: The SummonedCreatureDespawn method is invoked when a creature that
    was summoned by SmartAI is removed from the world, either through natural despawn,
    being killed, or manually removed. This method typically performs cleanup operations
    such as resetting AI state, removing references to the summoned unit, and potentially
    triggering other events in the AI script. It ensures proper handling of summoned
    creature lifecycle management within the SmartAI framework.
  parameters:
  - name: unit
    description: Pointer to the Creature object that has been despawned. This represents
      the summoned creature whose despawn event is being handled.
  returns: null
  examples:
  - title: Basic Usage in SmartAI Script
    code: "void SmartAI::SummonedCreatureDespawn(Creature* unit)\n{\n    if (!unit)\n\
      \        return;\n\n    // Perform cleanup operations\n    unit->RemoveAurasDueToSpell(SPELL_SUMMONED_AURA);\n\
      \    // Reset any AI flags or states\n    m_summonedCreature = nullptr;\n}"
    language: cpp
  notes: This method is typically called internally by the SmartAI system when a summoned
    creature leaves the world. Developers should ensure that all references to the
    summoned unit are properly cleared and any associated spells or effects are removed
    to prevent memory leaks or dangling pointers.
  warnings: Ensure that the provided 'unit' pointer is valid before accessing its
    members, as invalid pointers can lead to crashes or undefined behavior. Also,
    be cautious about modifying AI state during despawn events, as this may interfere
    with other ongoing operations.
  related:
  - SummonedCreature
  - SummonCreature
  - GetSummonedCreature
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T21:36:23.534136'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
