api:
  class: Player
  method: UpdateItemDuration
  signature: void Player::UpdateItemDuration(uint32 time, bool realtimeonly)
documentation:
  brief: Updates the duration of items in the player's inventory based on elapsed
    time.
  description: The UpdateItemDuration method processes all items in a player's inventory
    and adjusts their duration timers according to the specified time interval. This
    method is typically invoked during game ticks or when time-based item effects
    need to be refreshed, such as temporary enchantments, consumable buffs, or quest-related
    timed items. It handles both real-time and simulated time updates depending on
    the 'realtimeonly' flag. The method ensures that items with time-based properties
    are properly managed and removed from the inventory when their duration expires.
  parameters:
  - name: time
    description: The amount of time (in milliseconds) to advance item durations. This
      value represents the elapsed time since the last update call.
  - name: realtimeonly
    description: When true, only updates items that are affected by real-time progression.
      When false, updates all time-sensitive items regardless of their time source.
  returns: null
  examples:
  - title: Basic Usage in Game Tick
    code: "void GameTick()\n{\n    // Update item durations for all players every\
      \ second\n    for (auto& player : sObjectAccessor->GetAllPlayers())\n    {\n\
      \        player->UpdateItemDuration(1000, true);\n    }\n}"
    language: cpp
  - title: Manual Duration Update
    code: "void Player::HandleTimeBasedItemEffect()\n{\n    // Manually advance item\
      \ durations by 5 minutes\n    uint32 fiveMinutes = 5 * 60 * 1000;\n    UpdateItemDuration(fiveMinutes,\
      \ false);\n}"
    language: cpp
  notes: This method iterates through all items in the player's inventory and checks
    for time-sensitive properties. It is designed to be called frequently during game
    ticks to maintain accurate item state. Performance may be impacted when a player
    has many time-sensitive items, as each item must be individually processed.
  warnings: Calling this method with incorrect time values can cause unexpected behavior
    in time-sensitive items. The 'realtimeonly' parameter should be carefully considered;
    setting it to false may cause unintended updates for items that shouldn't be affected
    by simulated time progression.
  related:
  - Player::AddItem
  - Player::RemoveItem
  - Player::GetItemCount
  - Item::GetDuration
  - Item::SetDuration
metadata:
  confidence: 0.9
  generated_at: '2025-10-29T18:55:21.886783'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
