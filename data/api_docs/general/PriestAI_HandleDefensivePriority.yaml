api:
  class: PriestAI
  method: HandleDefensivePriority
  signature: bool PriestAI::HandleDefensivePriority()
documentation:
  brief: Determines if the priest should prioritize defensive actions based on current
    combat state and spell availability.
  description: The HandleDefensivePriority method evaluates whether the PriestAI should
    focus on defensive spells or abilities in response to the current threat level,
    player health status, and available mana. It checks for conditions such as low
    health, incoming damage, or specific buff/debuff states that would justify switching
    to a defensive stance. This method is typically called during AI decision-making
    cycles to dynamically adjust spell selection and prioritize survival over damage
    output. The method returns true if defensive actions should be prioritized, false
    otherwise.
  parameters: []
  returns: Returns true if the AI should prioritize defensive spells or abilities;
    returns false if offensive or utility actions are more appropriate at this time.
  examples:
  - title: Basic Usage in AI Loop
    code: "void PriestAI::UpdateAI(const uint32 diff)\n{\n    if (HandleDefensivePriority())\n\
      \    {\n        // Execute defensive spell logic\n        DoCast(SPELL_POWER_WORD_SHIELD);\n\
      \    }\n    else\n    {\n        // Continue with normal AI behavior\n     \
      \   DoCast(SPELL_FLASH_HEAL);\n    }\n}"
    language: cpp
  notes: This method is part of the core AI decision-making process and should be
    called regularly during combat updates. It relies on internal state tracking of
    health, mana, and threat levels to make decisions. The implementation may vary
    depending on the specific priest class specialization (Discipline, Holy, Shadow).
  warnings: Ensure that defensive actions are only executed when appropriate to avoid
    unnecessary resource consumption or breaking gameplay flow. This method should
    not be used in isolation without proper context checking of the current combat
    situation.
  related:
  - HandleOffensivePriority
  - UpdateAI
  - DoCast
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T11:08:22.865281'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
