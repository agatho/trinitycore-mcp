api:
  class: InstanceEvent
  method: InstanceMessageReceived
  signature: InstanceEvent InstanceEvent::InstanceMessageReceived(int playerGuid,
    uint32 mapId, std::string message)
documentation:
  brief: Creates and returns a new InstanceEvent object representing a message received
    in an instance.
  description: The InstanceMessageReceived method is used to construct an InstanceEvent
    object that encapsulates information about a message received within a specific
    instance map. This method takes the player's GUID, the map ID where the event
    occurred, and the actual message content as parameters. The returned InstanceEvent
    can then be used for further processing, such as broadcasting messages to players
    in the same instance or triggering instance-specific events based on the received
    message. This functionality is commonly used in custom instance scripts or event
    systems within TrinityCore-based World of Warcraft servers.
  parameters:
  - name: playerGuid
    description: The unique identifier (GUID) of the player who sent the message.
      Must be a valid player GUID from the database.
  - name: mapId
    description: The ID of the map where the instance event occurred. Should correspond
      to a valid map entry in the game's map database.
  - name: message
    description: The actual message content sent by the player. Can be any string
      value representing the communication.
  returns: Returns a new InstanceEvent object containing the provided player GUID,
    map ID, and message information. The returned object can be used for event handling
    or broadcasting within the instance.
  examples:
  - title: Basic usage of InstanceMessageReceived
    code: 'InstanceEvent event = InstanceEvent::InstanceMessageReceived(12345, 123,
      "Hello everyone!");

      // Process the event further or broadcast it to players in instance 123'
    language: cpp
  - title: Using InstanceMessageReceived with dynamic message handling
    code: 'uint32 playerId = player->GetGUID().GetCounter();

      uint32 mapId = player->GetMapId();

      std::string msg = "Player " + std::to_string(playerId) + " says: Hello!";

      InstanceEvent event = InstanceEvent::InstanceMessageReceived(playerId, mapId,
      msg);

      // Broadcast to all players in the instance

      sWorld->SendGlobalMessage(&event);'
    language: cpp
  notes: This method creates a new InstanceEvent object each time it is called, so
    developers should be mindful of memory usage when processing many events. The
    returned event object may need to be properly managed or destroyed depending on
    the context in which it's used. This method does not perform any validation on
    the input parameters beyond basic type checking.
  warnings: Ensure that playerGuid and mapId are valid before calling this method,
    as invalid values could lead to unexpected behavior in instance event handling.
    Be cautious when using large message strings, as they may impact performance if
    processed frequently.
  related:
  - InstanceEvent::GetInstanceId
  - InstanceEvent::GetPlayerGuid
  - InstanceEvent::GetMessage
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T00:44:56.012713'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
