api:
  class: BotAI
  method: OnQuestEvent
  signature: void BotAI::OnQuestEvent(const QuestEvent & event)
documentation:
  brief: Handles quest-related events for bot AI, processing triggers and updates
    based on quest state changes.
  description: The OnQuestEvent method is a core callback function within the BotAI
    class that processes various quest-related events occurring in the game world.
    It is invoked whenever a bot's quest state changes, such as when a quest is accepted,
    completed, failed, or abandoned. This method ensures that bots respond appropriately
    to quest progression by updating their behavior, objectives, and decision-making
    logic. The event parameter contains detailed information about the specific quest
    event that occurred, including quest ID, player context, and event type. This
    function plays a crucial role in maintaining bot immersion and adherence to quest
    mechanics within TrinityCore's framework.
  parameters:
  - name: event
    description: A constant reference to a QuestEvent object containing details about
      the triggered quest event, including quest ID, player context, and event type
      (accept, complete, fail, abandon).
  returns: null
  examples:
  - title: Basic Quest Event Handling
    code: "void BotAI::OnQuestEvent(const QuestEvent& event) {\n    switch (event.GetType())\
      \ {\n        case QUEST_EVENT_ACCEPT:\n            // Initialize bot behavior\
      \ for new quest\n            break;\n        case QUEST_EVENT_COMPLETE:\n  \
      \          // Reward distribution and next quest logic\n            break;\n\
      \        default:\n            break;\n    }\n}"
    language: cpp
  - title: Advanced Quest State Management
    code: "void BotAI::OnQuestEvent(const QuestEvent& event) {\n    if (event.GetType()\
      \ == QUEST_EVENT_COMPLETE) {\n        uint32 questId = event.GetQuestId();\n\
      \        Player* player = event.GetPlayer();\n        // Update bot's quest\
      \ log\n        m_questLog->RemoveQuest(questId);\n        // Trigger reward\
      \ processing\n        ProcessQuestRewards(player, questId);\n        // Check\
      \ for follow-up quests\n        CheckForNextQuest(player, questId);\n    }\n\
      }"
    language: cpp
  notes: This method is typically called from the core game loop and should not perform
    heavy operations that could block other AI updates. The QuestEvent object passed
    to this method is valid only within the scope of this function call and should
    not be stored or accessed after the function returns. Implementations should be
    thread-safe as this may be invoked from different threads depending on how quest
    events are triggered.
  warnings: Avoid modifying the event object directly as it may cause unexpected behavior.
    Do not perform blocking operations within this method, as it can impact overall
    AI performance and responsiveness. Ensure that all quest-related state changes
    are properly synchronized to prevent race conditions in multi-threaded environments.
  related:
  - BotAI::OnQuestAccept
  - BotAI::OnQuestComplete
  - BotAI::OnQuestFail
  - BotAI::OnQuestAbandon
metadata:
  confidence: 0.92
  generated_at: '2025-11-06T19:35:14.981436'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
