api:
  class: LootEventBus
  method: LogEvent
  signature: void LootEventBus::LogEvent(const LootEvent & event, const std::string
    & action) const
documentation:
  brief: Logs a loot event with associated action details to the event bus.
  description: The LootEventBus::LogEvent method records a loot-related event along
    with an associated action string for tracking and debugging purposes. This method
    is typically used within the TrinityCore framework to maintain a history of loot
    distribution events, such as items dropped by creatures or looted from game objects.
    It allows developers and administrators to monitor loot behavior, troubleshoot
    issues, or analyze gameplay mechanics. The event data is stored in a structured
    format that can be retrieved later for reporting or logging purposes.
  parameters:
  - name: event
    description: The LootEvent object containing details about the loot event, such
      as the item ID, quantity, player involved, and source of the loot.
  - name: action
    description: A string describing the action performed related to the loot event,
      such as 'looted', 'dropped', or 'awarded'. This helps categorize and identify
      the context of the event in logs.
  returns: null
  examples:
  - title: Basic Usage
    code: 'LootEvent event;

      event.itemId = 12345;

      event.quantity = 1;

      event.playerGuid = 67890;

      LootEventBus::Instance()->LogEvent(event, "looted");'
    language: cpp
  - title: Logging a Drop Event
    code: 'LootEvent dropEvent;

      dropEvent.itemId = 98765;

      dropEvent.quantity = 3;

      dropEvent.playerGuid = 0;

      LootEventBus::Instance()->LogEvent(dropEvent, "dropped");'
    language: cpp
  notes: This method is part of a singleton pattern and should be accessed through
    the instance retrieved via LootEventBus::Instance(). The logging mechanism may
    be disabled in certain build configurations or when specific debug flags are not
    enabled.
  warnings: Ensure that the LootEvent object passed to this method contains valid
    data, especially player GUIDs and item IDs. Passing invalid values could lead
    to incorrect log entries or potential crashes if not handled properly by the underlying
    logging system.
  related:
  - LootEventBus::Instance
  - LootEventBus::GetEvents
  - LootEventBus::ClearEvents
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T01:05:12.931249'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
