api:
  class: WorldSession
  method: HandleGuildEventLogQuery
  signature: void WorldSession::HandleGuildEventLogQuery(WorldPackets::Guild::GuildEventLogQuery
    & packet)
documentation:
  brief: Retrieves and sends the guild event log to the player's client
  description: The HandleGuildEventLogQuery method processes a request from the client
    to fetch the guild event log, which contains recent activities such as member
    joins, leaves, promotions, demotions, and other significant guild events. This
    method is part of the WorldSession class and handles communication with the client
    regarding guild-related historical data. The method typically validates the player's
    permissions within the guild before sending the log, ensuring that only authorized
    members can access this information. It uses the WorldPackets::Guild::GuildEventLogQuery
    packet structure to receive the request and constructs a response packet containing
    the event log entries.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Guild Event Log Request
    code: "void WorldSession::HandleGuildEventLogQuery(WorldPackets::Guild::GuildEventLogQuery&\
      \ packet)\n{\n    if (!GetPlayer() || !GetPlayer()->GetGuild())\n        return;\n\
      \n    // Validate guild membership and permissions\n    if (!GetPlayer()->GetGuild()->HasMember(GetPlayer()))\n\
      \        return;\n\n    // Send the event log to the client\n    GetPlayer()->GetGuild()->SendGuildEventLog(this);\n\
      }"
    language: cpp
  notes: This method assumes that the player is currently in a guild and has proper
    permissions. The actual event log data is retrieved from the guild's internal
    event log storage, which may be cached or fetched from the database depending
    on implementation details. Performance considerations include limiting the number
    of events sent to prevent network overhead.
  warnings: Improper handling of guild membership checks can lead to unauthorized
    access to guild event logs. Ensure that all permission validations are properly
    enforced before sending sensitive guild data to the client.
  related:
  - WorldSession::HandleGuildQuery
  - WorldSession::HandleGuildInfo
  - Guild::SendGuildEventLog
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:59:50.842823'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
