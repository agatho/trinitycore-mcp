api:
  class: MapManager
  method: GenerateInstanceId
  signature: uint32 MapManager::GenerateInstanceId()
documentation:
  brief: Generates and returns a unique instance identifier for a map instance
  description: The GenerateInstanceId method is responsible for creating and returning
    a unique 32-bit unsigned integer identifier that represents a specific instance
    of a map within the TrinityCore world. This identifier is used internally by the
    game engine to distinguish between different instances of the same map type, such
    as multiple copies of a dungeon or raid. The method ensures that each generated
    ID is unique within the context of the running server instance and is typically
    used when creating new map instances for player groups or raids. The generated
    IDs are managed in a sequential manner to prevent collisions and maintain consistency
    across the game world.
  parameters: []
  returns: A 32-bit unsigned integer representing the unique instance identifier for
    a newly created map instance. This value is guaranteed to be unique within the
    current server session and can be used to reference the specific map instance
    in subsequent operations.
  examples:
  - title: Basic Instance ID Generation
    code: 'uint32 instanceId = sMapMgr->GenerateInstanceId();

      // Use instanceId to create a new map instance

      Map* instanceMap = sMapMgr->CreateInstance(mapId, instanceId);'
    language: cpp
  - title: Using Instance ID for Player Group
    code: 'uint32 newInstanceId = sMapMgr->GenerateInstanceId();

      PlayerGroup* group = new PlayerGroup();

      group->SetInstanceId(newInstanceId);

      Map* instance = sMapMgr->CreateInstance(dungeonMapId, newInstanceId);'
    language: cpp
  notes: This method is typically called when a new map instance needs to be created
    for player groups or raids. The implementation uses an internal counter that increments
    with each call to ensure uniqueness. The generated IDs are not persistent across
    server restarts and are reset upon server initialization.
  warnings: Do not assume that the returned instance ID will remain valid indefinitely.
    Instance IDs may be reused after instances are destroyed, though this is managed
    by the MapManager's internal tracking system. Always verify the validity of an
    instance ID before using it in operations that require a live map instance.
  related:
  - MapManager::CreateInstance
  - MapManager::FindInstance
  - MapManager::RemoveInstance
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T03:24:23.183767'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
