api:
  class: NPCInteractionManager
  method: GetRepairCost
  signature: uint32 NPCInteractionManager::GetRepairCost() const
documentation:
  brief: Calculates and returns the cost required to repair all damaged items in the
    player's inventory.
  description: The GetRepairCost method computes the total gold amount needed to fully
    repair all currently equipped and inventory items that are damaged. This calculation
    takes into account the item's current durability, maximum durability, and the
    NPC's repair multiplier or service rate. The method is typically invoked when
    a player interacts with a repairable NPC such as a blacksmith or innkeeper who
    offers repair services. It does not actually perform the repair action; it only
    calculates the cost. This value can be used to display the required amount to
    the player before confirming the repair transaction.
  parameters: []
  returns: Returns a uint32 value representing the total gold cost required to repair
    all damaged items in the player's inventory. A return value of zero indicates
    that there are no items requiring repair or that the player has no items equipped
    or in their inventory.
  examples:
  - title: Basic Usage in NPC Interaction
    code: "void HandleRepairInteraction(Player* player, Creature* npc)\n{\n    NPCInteractionManager\
      \ interactionManager(player, npc);\n    uint32 repairCost = interactionManager.GetRepairCost();\n\
      \    if (repairCost > 0)\n    {\n        player->GetSession()->SendNotification(\"\
      Repair cost: %u gold\", repairCost);\n    }\n    else\n    {\n        player->GetSession()->SendNotification(\"\
      No items need repairing.\");\n    }\n}"
    language: cpp
  notes: This method relies on internal item durability tracking and NPC service rates.
    The actual repair process requires a separate call to perform the transaction,
    such as using Player::DurabilityRepair(). The returned cost may vary depending
    on the NPC's reputation modifiers or special deals.
  warnings: Ensure that this method is only called when a valid player-NPC interaction
    context exists. Calling it outside of an appropriate interaction may lead to incorrect
    calculations or undefined behavior due to missing context data like the NPC's
    repair rates.
  related:
  - NPCInteractionManager::RepairItems
  - Player::DurabilityRepair
  - NPCInteractionManager::GetSellPrice
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T12:13:27.935737'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
