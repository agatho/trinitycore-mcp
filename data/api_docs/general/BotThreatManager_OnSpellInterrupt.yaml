api:
  class: BotThreatManager
  method: OnSpellInterrupt
  signature: void BotThreatManager::OnSpellInterrupt(Unit * target)
documentation:
  brief: Handles the event when a bot's spell is interrupted by external factors.
  description: The OnSpellInterrupt method is invoked when a bot's currently cast
    spell is interrupted, typically due to damage, movement, or other hostile actions
    from targets. This method updates the threat table and ensures that the bot's
    AI behavior reflects the interruption of its casting. It plays a crucial role
    in maintaining accurate threat management during combat scenarios where spells
    may be disrupted by enemy actions or environmental factors.
  parameters:
  - name: target
    description: Pointer to the Unit object that caused the spell interruption. This
      can be an enemy unit, environment effect, or any other entity that interrupts
      the bot's casting.
  returns: null
  examples:
  - title: Basic usage in combat interrupt handling
    code: "void MyBotAI::OnSpellInterrupt(Unit* target)\n{\n    BotThreatManager::OnSpellInterrupt(target);\n\
      \    // Additional logic for handling spell interruption\n}"
    language: cpp
  - title: Advanced threat management after spell interruption
    code: "void BotThreatManager::OnSpellInterrupt(Unit* target)\n{\n    if (target\
      \ && target->IsAlive())\n    {\n        AddThreat(target, GetSpellInterruptThreat());\n\
      \        // Reassess combat state\n        UpdateCombatState();\n    }\n}"
    language: cpp
  notes: This method is typically called internally by the TrinityCore AI system when
    a spell interruption event occurs. Developers should ensure that any custom threat
    management logic properly accounts for the interruption and adjusts the bot's
    behavior accordingly.
  warnings: Improper handling of spell interruptions may lead to incorrect threat
    calculations, causing bots to behave unexpectedly in combat situations. Ensure
    all related threat updates are synchronized with the current combat state.
  related:
  - OnSpellCast
  - AddThreat
  - UpdateCombatState
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T10:31:10.539736'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
