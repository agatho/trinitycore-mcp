api:
  class: SmartAI
  method: OnSpellCast
  signature: void SmartAI::OnSpellCast(const SpellInfo * spellInfo)
documentation:
  brief: Handles spell casting events within SmartAI, allowing for custom behavior
    when a creature casts a spell.
  description: The OnSpellCast method is a virtual callback function in the SmartAI
    class that is invoked whenever a creature using SmartAI casts a spell. This method
    allows developers to implement custom logic or override default AI behaviors during
    spell casting. It provides access to the SpellInfo structure which contains detailed
    information about the spell being cast, such as its ID, duration, effects, and
    other properties. The method serves as an entry point for extending or modifying
    how creatures behave when they initiate spell casts within the TrinityCore framework.
  parameters:
  - name: spellInfo
    description: Pointer to the SpellInfo structure containing detailed information
      about the spell being cast. This includes spell ID, duration, effects, casting
      requirements, and other relevant properties.
  returns: null
  examples:
  - title: Basic Override Implementation
    code: "void MyCreatureAI::OnSpellCast(const SpellInfo* spellInfo)\n{\n    if (spellInfo->Id\
      \ == 12345) // Example spell ID\n    {\n        // Custom behavior when specific\
      \ spell is cast\n        DoCast(SPELL_CUSTOM_EFFECT);\n    }\n}"
    language: cpp
  - title: Conditional Spell Handling
    code: "void AdvancedCreatureAI::OnSpellCast(const SpellInfo* spellInfo)\n{\n \
      \   switch (spellInfo->Id)\n    {\n        case SPELL_FIREBALL:\n          \
      \  DoCast(SPELL_FIERY_EXPLOSION);\n            break;\n        case SPELL_HEAL:\n\
      \            if (me->GetHealthPct() < 30.0f)\n                DoCast(SPELL_EMERGENCY_HEAL);\n\
      \            break;\n    }\n}"
    language: cpp
  notes: This method is called from within the AI execution context, so any modifications
    to creature state or spell casting should be done carefully. The SpellInfo pointer
    is valid only during the scope of this function call and should not be stored
    for later use. Consider using this method in conjunction with other SmartAI event
    handlers to create complex AI behaviors.
  warnings: Avoid performing heavy computations or blocking operations within this
    method as it may impact AI responsiveness. Do not modify the spellInfo structure
    directly, as it's read-only. Be cautious when calling DoCast() from within OnSpellCast
    to avoid potential recursion issues.
  related:
  - SmartAI::OnSpellCasted
  - SmartAI::DoCast
  - SmartAI::OnEnterCombat
metadata:
  confidence: 0.92
  generated_at: '2025-11-06T02:45:39.268548'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
