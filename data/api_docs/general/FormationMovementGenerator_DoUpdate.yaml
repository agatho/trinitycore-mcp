api:
  class: FormationMovementGenerator
  method: DoUpdate
  signature: bool FormationMovementGenerator::DoUpdate(Creature * param0, int param1)
documentation:
  brief: Updates the formation movement of a creature based on its current state and
    target position.
  description: The DoUpdate method is responsible for handling the logic that controls
    how a creature moves in formation with other units. It evaluates the creature's
    current position, target location, and formation parameters to determine the next
    movement action. This method is typically called during the AI update cycle to
    ensure creatures maintain their designated formation positions. The method returns
    true if the movement was successfully updated, or false if the creature has reached
    its destination or encountered an error.
  parameters:
  - name: param0
    description: Pointer to the Creature object whose movement is being updated. This
      represents the specific unit in formation that needs to adjust its position.
  - name: param1
    description: Integer value representing the update time delta in milliseconds.
      Used to calculate movement speed and timing for smooth transitions within the
      formation.
  returns: Returns true if the creature's movement was successfully updated according
    to formation rules, or false if the creature has reached its target position or
    an error occurred during the update process.
  examples:
  - title: Basic usage in AI update loop
    code: "bool result = formationMovementGenerator.DoUpdate(creature, deltaTime);\n\
      if (!result)\n{\n    // Handle case where movement is complete or failed\n \
      \   creature->GetMotionMaster()->Clear();\n}"
    language: cpp
  - title: Integration with custom AI behavior
    code: "class MyCreatureAI : public CreatureAI\n{\npublic:\n    void UpdateAI(uint32\
      \ diff) override\n    {\n        if (formationMovementGenerator.DoUpdate(me,\
      \ diff))\n        {\n            // Continue with normal AI logic\n        \
      \    DoMeleeAttackIfReady();\n        }\n        else\n        {\n         \
      \   // Formation movement complete, switch to another behavior\n           \
      \ SetCombatMovement(false);\n        }\n    }\n};"
    language: cpp
  notes: This method is part of the movement generator system in TrinityCore and integrates
    with the creature's motion master. The update frequency depends on the AI tick
    rate, typically set by the game's configuration. Performance considerations include
    avoiding excessive calculations during high-frequency updates.
  warnings: Do not call this method directly outside of the AI update cycle as it
    may cause inconsistent movement states. Ensure that the Creature pointer is valid
    and not null before calling to prevent crashes.
  related:
  - MovementGenerator::Update
  - Creature::GetMotionMaster
  - FormationMovementGenerator::Initialize
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T04:33:32.335680'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
