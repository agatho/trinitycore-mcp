api:
  class: NPCInteractionManager
  method: InteractWithTrainer
  signature: bool NPCInteractionManager::InteractWithTrainer(Creature * trainer)
documentation:
  brief: Initiates interaction with a trainer NPC to display available training options
    and handle player learning.
  description: The InteractWithTrainer method establishes communication between a
    player and a trainer NPC, allowing the player to access training services such
    as skill learning, spell teaching, and talent advancement. This method typically
    triggers the display of a trainer's gossip menu, which presents various training
    options based on the player's current level, class, and available skills. It handles
    the necessary checks for prerequisites like minimum level requirements or required
    items before allowing a player to learn new abilities. The method returns true
    if the interaction was successfully initiated and the trainer menu is displayed;
    otherwise, it returns false if the interaction fails due to invalid parameters
    or other conditions.
  parameters:
  - name: trainer
    description: Pointer to the Creature object representing the trainer NPC with
      which the player wants to interact. Must be a valid pointer to a creature that
      has trainer capabilities enabled.
  returns: Returns true if the interaction with the trainer was successfully initiated
    and the gossip menu is displayed to the player; returns false if the interaction
    fails, such as when the trainer parameter is invalid or the player cannot interact
    with the NPC due to game state restrictions.
  examples:
  - title: Basic Trainer Interaction
    code: "if (player->GetNPCInteractionManager()->InteractWithTrainer(trainerCreature))\
      \ {\n    // Successfully initiated trainer interaction\n    // Player will see\
      \ the trainer's gossip options\n} else {\n    // Failed to initiate interaction\n\
      \    // Log error or handle accordingly\n}"
    language: cpp
  - title: Conditional Trainer Interaction
    code: "if (player->GetNPCInteractionManager() && trainerCreature) {\n    if (player->GetNPCInteractionManager()->InteractWithTrainer(trainerCreature))\
      \ {\n        // Ensure player is within range and not in combat\n        if\
      \ (!player->IsInCombat()) {\n            // Proceed with interaction logic\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method relies on the underlying NPC interaction system and assumes that
    the provided Creature object is properly initialized and has trainer flags set.
    The actual training behavior depends on how the trainer's gossip menu is configured
    in the database or script handlers. Performance-wise, this method should be called
    only when necessary to avoid unnecessary UI updates.
  warnings: Ensure that the trainer pointer is valid before calling this method; passing
    a null pointer may lead to undefined behavior or crashes. Also, make sure that
    the player is within interaction range and not in combat, as these conditions
    can prevent successful interaction.
  related:
  - InteractWithGossip
  - GetNPCInteractionManager
  - SendTrainerList
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T23:16:03.441202'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
