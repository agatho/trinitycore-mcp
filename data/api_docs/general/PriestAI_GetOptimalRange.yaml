api:
  class: PriestAI
  method: GetOptimalRange
  signature: float PriestAI::GetOptimalRange(int * target)
documentation:
  brief: Calculates and returns the optimal combat range for the priest's current
    spell based on target type and spell properties.
  description: The GetOptimalRange method determines the ideal distance at which a
    priest should engage a target for maximum effectiveness of their current spell.
    This calculation takes into account the specific spell being used, the target's
    type (friendly or hostile), and various combat mechanics such as spell range limitations
    and line-of-sight requirements. The method is typically called during AI decision-making
    processes to determine whether a priest should move closer to, move away from,
    or maintain their current position relative to the target. It returns a float
    value representing the distance in yards. This method is crucial for proper spell
    casting behavior and overall AI performance in combat situations.
  parameters:
  - name: target
    description: Pointer to an integer identifier representing the target unit. This
      parameter is used internally by the method to determine the optimal range based
      on target type and spell properties.
  returns: Returns a float value indicating the optimal combat range in yards for
    the current spell. The value represents the distance at which the priest should
    position themselves relative to their target for maximum spell effectiveness.
  examples:
  - title: Basic usage in AI decision making
    code: "void PriestAI::UpdateAI(uint32 diff)\n{\n    if (!UpdateVictim())\n   \
      \     return;\n\n    int target = GetVictim()->GetGUID().GetRawValue();\n  \
      \  float optimalRange = GetOptimalRange(&target);\n    \n    // Use optimal\
      \ range for positioning logic\n    if (me->GetDistance2d(GetVictim()) > optimalRange)\n\
      \    {\n        // Move closer to target\n        me->GetMotionMaster()->MoveChase(GetVictim(),\
      \ optimalRange);\n    }\n}"
    language: cpp
  notes: This method is part of the PriestAI class and relies on internal spell data
    and target information. It should only be called when a valid target exists and
    the priest has an active spell selected for casting. The implementation may vary
    based on the specific priest spell being used, with different spells having different
    optimal ranges.
  warnings: Ensure that the target parameter points to a valid unit before calling
    this method, as invalid pointers can lead to undefined behavior. This method should
    not be called during combat initialization phases when spell data might not be
    fully loaded.
  related:
  - GetSpellInfo
  - IsSpellReady
  - CanCastSpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T00:30:52.746953'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
