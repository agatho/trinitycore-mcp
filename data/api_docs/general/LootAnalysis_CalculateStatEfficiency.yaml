api:
  class: LootAnalysis
  method: CalculateStatEfficiency
  signature: float LootAnalysis::CalculateStatEfficiency(const StatWeights & weights,
    const LootItem & item)
documentation:
  brief: Calculates the stat efficiency of a loot item based on provided stat weights.
  description: The CalculateStatEfficiency method computes a numerical score representing
    how efficiently a given loot item provides stats relative to a set of stat weights.
    This is commonly used in loot analysis systems to determine which items are most
    valuable for specific character builds or roles. The method takes into account
    the item's stat distribution and applies the weight values to produce a normalized
    efficiency score. It serves as a core component in automated loot evaluation systems,
    particularly within the TrinityCore framework where it helps players and addons
    make informed decisions about loot allocation.
  parameters:
  - name: weights
    description: A reference to a StatWeights object containing weight values for
      different stats (e.g., strength, agility, intellect). These weights determine
      the relative importance of each stat in the efficiency calculation.
  - name: item
    description: A reference to a LootItem object representing the specific item being
      analyzed. The method evaluates this item's stat properties against the provided
      weights.
  returns: Returns a float value representing the calculated stat efficiency of the
    loot item. Higher values indicate better efficiency relative to the provided stat
    weights. A value of 0.0 typically indicates no applicable stats or invalid input.
  examples:
  - title: Basic Stat Efficiency Calculation
    code: 'StatWeights weights;

      weights.strength = 1.5f;

      weights.agility = 2.0f;

      weights.intellect = 1.0f;


      LootItem item;

      item.stats[STAT_STRENGTH] = 100;

      item.stats[STAT_AGILITY] = 150;

      item.stats[STAT_INTELLECT] = 75;


      float efficiency = lootAnalysis.CalculateStatEfficiency(weights, item);

      // Returns a normalized efficiency score based on the weights and item stats'
    language: cpp
  - title: Comparing Multiple Items for Efficiency
    code: "StatWeights raidWeights;\nraidWeights.strength = 1.0f;\nraidWeights.agility\
      \ = 1.2f;\nraidWeights.haste = 0.8f;\n\nLootItem item1, item2;\n// Set stats\
      \ for both items\nfloat eff1 = lootAnalysis.CalculateStatEfficiency(raidWeights,\
      \ item1);\nfloat eff2 = lootAnalysis.CalculateStatEfficiency(raidWeights, item2);\n\
      \nif (eff1 > eff2) {\n    // item1 is more efficient for the raid build\n}"
    language: cpp
  notes: This method assumes that the StatWeights and LootItem objects are properly
    initialized with valid data. The efficiency calculation may involve normalization
    or scaling factors depending on the internal implementation. Performance is generally
    good for single item evaluations, but repeated calls should be considered in performance-critical
    contexts.
  warnings: Ensure that stat weights are properly normalized to avoid skewed results.
    Passing uninitialized or invalid LootItem objects can lead to undefined behavior
    or incorrect efficiency scores. The method does not validate input parameters
    beyond basic type checking.
  related:
  - GetLootItemStats
  - CalculateItemValue
  - NormalizeStatWeights
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T01:27:42.207200'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
