api:
  class: WorldSession
  method: HandleQueryScenarioPOI
  signature: void WorldSession::HandleQueryScenarioPOI(WorldPackets::Scenario::QueryScenarioPOI
    & queryScenarioPOI)
documentation:
  brief: Handles client requests for scenario point of interest data in World of Warcraft.
  description: The HandleQueryScenarioPOI method processes incoming queries from the
    client regarding scenario points of interest (POIs). This method is part of the
    TrinityCore server's scenario system, which manages dynamic quest and event content
    that can be triggered based on player progress or world state. When invoked, it
    retrieves relevant scenario POI information for the requesting player and sends
    back a structured response containing all applicable points of interest. The method
    typically handles requests for objectives, rewards, and interactive elements within
    ongoing scenarios such as world events, achievements, or special dungeon encounters.
  parameters: []
  returns: null
  examples:
  - title: Basic scenario POI query handling
    code: "void WorldSession::HandleQueryScenarioPOI(WorldPackets::Scenario::QueryScenarioPOI&\
      \ queryScenarioPOI)\n{\n    // Process the incoming scenario POI query\n   \
      \ // Retrieve relevant scenario data for the player\n    // Send back structured\
      \ response with POI information\n    SendPacket(responsePacket);\n}"
    language: cpp
  notes: This method is typically called automatically by the TrinityCore network
    handler when a client sends a scenario POI query packet. The implementation relies
    on the player's current scenario state and active quests to determine which points
    of interest should be returned. Performance considerations include caching frequently
    accessed scenario data to reduce database lookups.
  warnings: Improper handling of scenario POI queries may result in missing quest
    objectives or incorrect event progression for players. Ensure that all scenario-related
    data is properly synchronized with the player's current state before responding
    to these queries.
  related:
  - HandleScenarioComplete
  - HandleScenarioProgress
  - SendScenarioPOI
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:03:05.445247'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
