api:
  class: Guild
  method: HandleSetEmblem
  signature: void Guild::HandleSetEmblem(WorldSession * session, const EmblemInfo
    & emblemInfo)
documentation:
  brief: Updates the guild's emblem information based on data provided by a WorldSession.
  description: The HandleSetEmblem method processes an emblem update request from
    a player's session, validating and applying new emblem details to the guild. This
    function is typically invoked when a guild leader or officer attempts to change
    their guild's visual emblem through the client interface. The method ensures that
    the provided emblem information adheres to game rules and constraints before updating
    internal guild data structures. It handles synchronization between the client-side
    emblem selection and server-side storage, ensuring consistency across all guild
    members.
  parameters:
  - name: session
    description: Pointer to the WorldSession object representing the player's active
      connection. Used to identify the requesting player and validate their permissions
      within the guild.
  - name: emblemInfo
    description: Structure containing the new emblem details including colors, icon,
      and border information. Must be validated for correctness before application
      to prevent invalid data from corrupting guild state.
  returns: null
  examples:
  - title: Basic Emblem Update Usage
    code: 'WorldSession* session = player->GetSession();

      EmblemInfo newEmblem;

      newEmblem.icon = 12345;

      newEmblem.borderColor = 0xFF00FF00;

      newEmblem.backgroundColor = 0xFFFF0000;

      newEmblem.iconColor = 0xFFFFFFFF;

      guild->HandleSetEmblem(session, newEmblem);'
    language: cpp
  notes: This method assumes the calling session has appropriate guild permissions
    (leader or officer) to modify emblem settings. The implementation likely includes
    checks for valid icon IDs and color values within acceptable ranges. Performance-wise,
    this function should be lightweight as it only updates metadata without heavy
    computations.
  warnings: Improper validation of emblemInfo data could lead to client-side crashes
    or inconsistent visual representation. Ensure that all color values are properly
    formatted hexadecimal codes and that icon IDs reference valid entries in the game's
    emblem database.
  related:
  - GetEmblemInfo
  - SendGuildEmblem
  - IsGuildLeader
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T15:05:38.894250'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
