api:
  class: WorldSession
  method: HandleLfgProposalResultOpcode
  signature: void WorldSession::HandleLfgProposalResultOpcode(WorldPackets::LFG::DFProposalResponse
    & dfProposalResponse)
documentation:
  brief: Processes a player's response to a Looking for Group (LFG) proposal received
    through the Dungeon Finder system.
  description: The HandleLfgProposalResultOpcode method handles the client-side response
    to a Dungeon Finder proposal, which is sent when a player is matched with others
    for a group dungeon or raid. This method processes whether the player accepts
    or declines the proposal, updating internal LFG and group state accordingly. It
    is part of the core LFG system in TrinityCore that manages player matchmaking
    and group formation. The method typically receives a packet containing the proposal
    ID and the player's decision (accept/decline), and it updates the LFG queue status
    and group membership as needed.
  parameters:
  - name: dfProposalResponse
    description: A packet object containing the response to an LFG proposal, including
      the proposal ID and the player's choice (accept or decline).
  returns: null
  examples:
  - title: Basic handling of LFG proposal response
    code: "void WorldSession::HandleLfgProposalResultOpcode(WorldPackets::LFG::DFProposalResponse&\
      \ dfProposalResponse)\n{\n    // Process the player's response to an LFG proposal\n\
      \    if (dfProposalResponse.Accepted)\n        sLFGMgr->AcceptProposal(dfProposalResponse.ProposalId);\n\
      \    else\n        sLFGMgr->DeclineProposal(dfProposalResponse.ProposalId);\n\
      }"
    language: cpp
  notes: This method is integral to the LFG system and must be called on the correct
    session thread. It interacts with the LFG manager to update player status and
    group formation logic. Ensure that the proposal ID exists in the active proposals
    before processing.
  warnings: Improper handling of this opcode can lead to players being stuck in LFG
    queues or unable to join groups. Always validate the proposal ID and ensure proper
    synchronization with the LFG manager.
  related:
  - HandleLfgJoinOpcode
  - HandleLfgLeaveOpcode
  - sLFGMgr->AcceptProposal
  - sLFGMgr->DeclineProposal
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:45:39.548440'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
