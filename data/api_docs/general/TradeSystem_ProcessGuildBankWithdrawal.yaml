api:
  class: TradeSystem
  method: ProcessGuildBankWithdrawal
  signature: void TradeSystem::ProcessGuildBankWithdrawal(Player * player, uint32
    itemId, uint32 count)
documentation:
  brief: Processes a guild bank withdrawal request for a specified item and count.
  description: The ProcessGuildBankWithdrawal method handles the logic for withdrawing
    items from a player's guild bank. It validates that the player has permission
    to access the guild bank, checks if the requested item exists in the guild bank
    with sufficient quantity, and then deducts the specified count from the guild
    bank inventory while adding the items to the player's inventory. This method is
    typically invoked when a player attempts to withdraw items using the guild bank
    interface or related commands.
  parameters:
  - name: player
    description: Pointer to the Player object requesting the guild bank withdrawal.
      Must be a valid player with access to the guild bank.
  - name: itemId
    description: The unique identifier of the item to withdraw from the guild bank.
      Must correspond to a valid item in the game database.
  - name: count
    description: The number of items to withdraw from the guild bank. Must be a positive
      integer and not exceed the available quantity in the guild bank.
  returns: null
  examples:
  - title: Basic Guild Bank Withdrawal
    code: 'Player* player = ...; // Valid player object

      TradeSystem::ProcessGuildBankWithdrawal(player, 12345, 10);

      // Withdraws 10 of item ID 12345 from the guild bank'
    language: cpp
  - title: Withdraw Multiple Items
    code: 'Player* player = ...;

      TradeSystem::ProcessGuildBankWithdrawal(player, 67890, 1);

      TradeSystem::ProcessGuildBankWithdrawal(player, 54321, 5);

      // Withdraws one of item ID 67890 and five of item ID 54321'
    language: cpp
  notes: This method assumes that all preconditions (player permissions, item existence,
    sufficient quantity) have been validated before calling. The implementation may
    involve database updates for inventory changes and should be called within a transaction
    context to ensure data consistency.
  warnings: Improper use of this method without validating player permissions or item
    availability can lead to invalid state or exploits. Ensure that the player object
    is valid and that the item ID corresponds to an actual item in the game database.
  related:
  - ProcessGuildBankDeposit
  - ValidateGuildBankAccess
  - UpdateGuildBankInventory
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T00:28:52.231677'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
