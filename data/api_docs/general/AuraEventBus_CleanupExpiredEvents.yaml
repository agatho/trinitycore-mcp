api:
  class: AuraEventBus
  method: CleanupExpiredEvents
  signature: uint32 AuraEventBus::CleanupExpiredEvents()
documentation:
  brief: Removes all expired aura events from the event bus and returns the count
    of removed events.
  description: The CleanupExpiredEvents method iterates through all registered aura
    events in the AuraEventBus, identifies those that have exceeded their duration
    or are no longer active, and removes them from the internal tracking structure.
    This method is typically invoked during the game loop to maintain performance
    by preventing memory leaks from lingering expired events. It ensures that only
    currently valid aura effects remain in the event bus, allowing for efficient processing
    of active auras. The method does not modify any active aura states directly but
    cleans up the tracking infrastructure.
  parameters: []
  returns: Returns a uint32 value representing the number of expired aura events that
    were successfully removed from the AuraEventBus. A return value of zero indicates
    no expired events were found or removed.
  examples:
  - title: Basic Usage in Game Loop
    code: "void UpdateAuraEvents()\n{\n    AuraEventBus& eventBus = AuraEventBus::Instance();\n\
      \    uint32 cleanedCount = eventBus.CleanupExpiredEvents();\n    if (cleanedCount\
      \ > 0)\n    {\n        // Log cleanup activity\n        sLog->outInfo(LOG_FILTER_GENERAL,\
      \ \"Cleaned up %u expired aura events\", cleanedCount);\n    }\n}"
    language: cpp
  notes: This method is designed to be called periodically during the game's update
    cycle. It performs a full scan of all registered events, so frequent calls may
    impact performance in high-traffic scenarios with many active auras. The cleanup
    process is thread-safe and does not require external synchronization.
  warnings: null
  related:
  - RegisterAuraEvent
  - UnregisterAuraEvent
  - GetActiveAuraEvents
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T08:55:49.159096'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
