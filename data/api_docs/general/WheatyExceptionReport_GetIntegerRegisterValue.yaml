api:
  class: WheatyExceptionReport
  method: GetIntegerRegisterValue
  signature: int WheatyExceptionReport::GetIntegerRegisterValue(PCONTEXT context,
    ULONG registerId)
documentation:
  brief: Retrieves the value of a specified integer register from the given exception
    context.
  description: The GetIntegerRegisterValue method extracts the value of a specific
    integer register from a provided context structure, typically used in exception
    handling or debugging scenarios within the TrinityCore framework. This method
    is commonly employed when analyzing crash dumps or debugging information to retrieve
    register state at the time of an exception. The method requires a valid context
    pointer and a register identifier to fetch the corresponding register value. It's
    part of the WheatyExceptionReport class, which is used for generating detailed
    crash reports in TrinityCore-based servers.
  parameters:
  - name: context
    description: Pointer to a PCONTEXT structure containing the exception context
      information. This structure holds the processor state including register values
      at the time of the exception.
  - name: registerId
    description: Identifier specifying which register value to retrieve. This is typically
      one of the standard x86/x64 register identifiers (e.g., Eax, Ebx, Ecx, Edx,
      Esp, Ebp, Esi, Edi) or their 64-bit equivalents.
  returns: Returns the integer value stored in the specified register at the time
    of the exception. If the register ID is invalid or the context is null, the method
    may return an undefined or zero value, depending on implementation details.
  examples:
  - title: Retrieve EAX Register Value
    code: 'CONTEXT context;

      // ... context initialized with exception data ...

      int eaxValue = report.GetIntegerRegisterValue(&context, 0); // Assuming 0 represents
      EAX

      std::cout << "EAX value: " << eaxValue << std::endl;'
    language: cpp
  - title: Debugging Exception Context
    code: "void DebugException(CONTEXT* context) {\n    int esp = report.GetIntegerRegisterValue(context,\
      \ 12); // ESP register\n    int ebp = report.GetIntegerRegisterValue(context,\
      \ 13); // EBP register\n    std::cout << \"Stack pointer: \" << std::hex <<\
      \ esp << \", Base pointer: \" << ebp << std::endl;\n}"
    language: cpp
  notes: This method is primarily used in crash reporting and debugging scenarios.
    The registerId parameter should match the expected register enumeration values
    for the target architecture (x86 or x64). The context parameter must be properly
    initialized with valid exception data to ensure meaningful results.
  warnings: Ensure that the context pointer is not null before calling this method,
    as dereferencing a null pointer will cause an access violation. Also, verify that
    the registerId corresponds to a valid register for the target platform architecture
    to avoid undefined behavior.
  related:
  - GetFloatRegisterValue
  - GetExceptionAddress
  - GetExceptionCode
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T08:45:27.491604'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
