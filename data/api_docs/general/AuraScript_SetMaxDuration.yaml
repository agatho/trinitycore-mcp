api:
  class: AuraScript
  method: SetMaxDuration
  signature: void AuraScript::SetMaxDuration(int duration)
documentation:
  brief: Sets the maximum duration of the aura in milliseconds.
  description: The SetMaxDuration method configures the maximum lifetime of an aura,
    determining how long it can persist before expiring. This is commonly used in
    custom aura scripts to dynamically adjust aura durations based on various conditions
    or effects. The duration is specified in milliseconds and overrides any default
    duration set by the aura's original spell definition. This method should typically
    be called during aura application or update events to ensure proper behavior.
  parameters:
  - name: duration
    description: The maximum duration of the aura in milliseconds. Must be a non-negative
      integer value. A value of 0 will effectively disable the aura's duration.
  returns: null
  examples:
  - title: Basic Usage in AuraScript
    code: "class MyAuraScript : public AuraScript\n{\npublic:\n    void OnApply(AuraEffect\
      \ const* effect, AuraApplication const* app) override\n    {\n        // Set\
      \ maximum duration to 30 seconds\n        SetMaxDuration(30000);\n    }\n};"
    language: cpp
  - title: Dynamic Duration Based on Target Level
    code: "class LevelBasedAuraScript : public AuraScript\n{\npublic:\n    void OnUpdate(int32\
      \ tick) override\n    {\n        Unit* target = GetTarget();\n        if (target)\n\
      \        {\n            int32 level = target->GetLevel();\n            // Set\
      \ duration based on level (e.g., 5 seconds per level)\n            SetMaxDuration(level\
      \ * 5000);\n        }\n    }\n};"
    language: cpp
  notes: This method directly affects the aura's expiration time and should be used
    carefully to avoid unintended behavior. The duration is applied immediately and
    may override any existing duration settings. It's recommended to call this method
    during appropriate aura events such as OnApply or OnUpdate rather than in constructor
    methods.
  warnings: Setting a very large duration value may cause performance issues or unexpected
    behavior in long-running auras. Setting duration to 0 will effectively remove
    the aura's time-based expiration, which might be unintended. This method should
    not be called during aura removal or destruction phases as it may lead to undefined
    behavior.
  related:
  - GetMaxDuration
  - SetDuration
  - GetDuration
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T18:08:25.396931'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
