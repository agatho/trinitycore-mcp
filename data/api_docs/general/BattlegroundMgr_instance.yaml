api:
  class: BattlegroundMgr
  method: instance
  signature: BattlegroundMgr * BattlegroundMgr::instance()
documentation:
  brief: Returns the singleton instance of the Battleground manager
  description: The instance() method is a static accessor function that provides global
    access to the single BattlegroundMgr object in the TrinityCore server. This method
    implements the singleton pattern, ensuring there is only one instance of the Battleground
    manager throughout the application lifecycle. The returned pointer can be used
    to access all battleground-related functionality including creation, management,
    and lookup of active battleground instances. This is essential for handling battleground
    operations such as player joining, battleground start/stop logic, and cleanup
    procedures.
  parameters: []
  returns: A pointer to the singleton BattlegroundMgr instance. The method never returns
    NULL in normal operation as the singleton is initialized during server startup.
  examples:
  - title: Accessing Battleground Manager
    code: "BattlegroundMgr* bgMgr = BattlegroundMgr::instance();\nif (bgMgr)\n{\n\
      \    // Use the battleground manager\n    bgMgr->Update(1000);\n}"
    language: cpp
  - title: Creating a New Battleground
    code: "BattlegroundMgr* bgMgr = BattlegroundMgr::instance();\nBattleground* bg\
      \ = bgMgr->CreateBattleground(\"Wintergrasp\", 1);\nif (bg)\n{\n    bg->StartBattleground();\n\
      }"
    language: cpp
  notes: This method is thread-safe as it returns a singleton instance that is initialized
    once during server startup. The BattlegroundMgr singleton is typically accessed
    from multiple threads including game update loops, player connection handlers,
    and event processing threads. Developers should not attempt to manually construct
    or destroy the BattlegroundMgr instance.
  warnings: Do not assume the returned pointer will be valid in all contexts - while
    it's safe to call this method during normal server operation, calling it before
    the singleton is initialized may result in undefined behavior. Avoid storing references
    to the BattlegroundMgr instance for extended periods as it's a singleton that
    should only be accessed via this static method.
  related:
  - BattlegroundMgr::CreateBattleground
  - BattlegroundMgr::GetBattleground
  - BattlegroundMgr::Update
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T12:31:02.798501'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
