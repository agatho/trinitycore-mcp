api:
  class: AuraEffect
  method: HandleModResistancePercent
  signature: void AuraEffect::HandleModResistancePercent(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Applies or removes a percentage-based resistance modification aura effect.
  description: The HandleModResistancePercent method is responsible for modifying
    a unit's resistance values by a specified percentage when an aura effect is applied
    or removed. This method is typically invoked during aura application or removal
    events and adjusts the target's magical resistance (such as fire, frost, shadow,
    etc.) based on the aura's properties. The modification is calculated as a percentage
    of the base resistance value and can either increase or decrease the resistance
    depending on whether the aura is being applied or removed. This method is part
    of the core aura handling system in TrinityCore and directly influences combat
    mechanics related to damage mitigation.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura application
      context. Contains information about which unit the aura is applied to, the aura's
      properties, and the application state.
  - name: mode
    description: The mode of operation indicating how the resistance modification
      should be handled. Typically represents different types of resistance (e.g.,
      fire, nature, shadow) or application modes for the aura effect.
  - name: apply
    description: Boolean flag indicating whether to apply (true) or remove (false)
      the resistance modification. When true, the percentage-based resistance change
      is added to the unit's current resistance; when false, it is subtracted.
  returns: null
  examples:
  - title: Applying a Fire Resistance Reduction Aura
    code: "void ApplyFireResistanceAura(Unit* target)\n{\n    AuraApplication* app\
      \ = new AuraApplication(target, target, SpellInfo::GetSpellInfo(12345));\n \
      \   AuraEffect* effect = new AuraEffect(SPELL_AURA_MOD_RESISTANCE_PERCENT);\n\
      \    effect->HandleModResistancePercent(app, SPELL_SCHOOL_FIRE, true);\n}"
    language: cpp
  - title: Removing a Shadow Resistance Boost Aura
    code: "void RemoveShadowResistanceAura(Unit* target)\n{\n    AuraApplication*\
      \ app = new AuraApplication(target, target, SpellInfo::GetSpellInfo(67890));\n\
      \    AuraEffect* effect = new AuraEffect(SPELL_AURA_MOD_RESISTANCE_PERCENT);\n\
      \    effect->HandleModResistancePercent(app, SPELL_SCHOOL_SHADOW, false);\n}"
    language: cpp
  notes: This method is part of the internal aura handling system and should not be
    called directly by external code. The actual resistance modification logic is
    implemented in the core TrinityCore engine and may involve additional calculations
    such as stacking rules, diminishing returns, or specific spell interactions. Performance-wise,
    this method is lightweight but frequently invoked during combat events.
  warnings: Do not call this method directly unless you are implementing a custom
    aura effect. Incorrect usage of the mode parameter can lead to unexpected resistance
    modifications. Ensure that the AuraApplication object passed is valid and properly
    initialized before calling this method.
  related:
  - AuraEffect::HandleModResistance
  - AuraEffect::HandleApply
  - AuraEffect::HandleRemove
metadata:
  confidence: 0.95
  generated_at: '2025-10-31T12:24:12.694992'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
