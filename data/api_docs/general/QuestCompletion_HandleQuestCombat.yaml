api:
  class: QuestCompletion
  method: HandleQuestCombat
  signature: void QuestCompletion::HandleQuestCombat(Player * bot, const QuestObjectiveData
    & objective, Unit * target)
documentation:
  brief: Processes quest completion for combat-related objectives when a player kills
    a target unit.
  description: The HandleQuestCombat method is responsible for managing quest progress
    when a player completes a combat-based objective, such as killing a specific type
    of creature or defeating a boss. This function typically checks if the provided
    target matches the required quest objective and updates the player's quest log
    accordingly. It integrates with the core TrinityCore quest system to ensure proper
    tracking and reward distribution for combat-related quests.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the player who completed
      the combat objective.
  - name: objective
    description: Reference to a QuestObjectiveData structure containing details about
      the specific combat objective that was completed.
  - name: target
    description: Pointer to the Unit object that was killed or defeated, which must
      match the quest's requirements to trigger progress.
  returns: null
  examples:
  - title: Basic usage in combat event handler
    code: "void OnCreatureKilled(Player* player, Creature* target)\n{\n    QuestObjectiveData\
      \ objective;\n    // Assume objective is populated with quest data\n    QuestCompletion::HandleQuestCombat(player,\
      \ objective, target);\n}"
    language: cpp
  - title: Integration with custom quest system
    code: "void CustomQuestSystem::ProcessPlayerKill(Player* player, Unit* target)\n\
      {\n    for (auto& quest : player->GetQuests())\n    {\n        if (quest.IsObjectiveComplete(ObjectiveType::KILL))\n\
      \        {\n            QuestObjectiveData objData = quest.GetObjectiveData();\n\
      \            QuestCompletion::HandleQuestCombat(player, objData, target);\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method assumes that the player and target are valid objects and that
    the objective data is correctly initialized. It should only be called during active
    combat events where a unit has been defeated.
  warnings: Ensure that the target unit passed to this function is actually the one
    required by the quest objective, otherwise incorrect quest progression may occur.
    Also, avoid calling this method outside of combat contexts as it might lead to
    unexpected behavior.
  related:
  - QuestCompletion::HandleQuestObjective
  - Player::UpdateQuestObjective
  - Quest::CheckObjectiveComplete
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T21:43:39.475554'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
