api:
  class: LootRoll
  method: SendLootRollWon
  signature: void LootRoll::SendLootRollWon(const int & targetGuid, int32 rollNumber,
    RollVote rollType)
documentation:
  brief: Sends a loot roll won message to the specified player.
  description: The SendLootRollWon method is responsible for notifying a specific
    player that they have won a loot roll. This method is typically invoked when a
    player's roll for an item in a group loot scenario has been evaluated and determined
    to be the highest or winning roll. The method sends a packet to the client informing
    them of their victory, including details such as the roll number and the type
    of vote cast. It plays a crucial role in the World of Warcraft loot distribution
    system, particularly within the context of group loot mechanics where players
    compete for items using a rolling system.
  parameters:
  - name: targetGuid
    description: The unique identifier (GUID) of the player who won the loot roll.
      This is used to determine which client should receive the notification.
  - name: rollNumber
    description: The roll number that was generated for this specific loot roll. This
      value helps identify which particular roll resulted in a win.
  - name: rollType
    description: The type of vote cast during the roll, such as 'Need', 'Greed', or
      'Pass'. This determines how the winning player's result is interpreted and displayed.
  returns: null
  examples:
  - title: Basic Usage
    code: 'LootRoll* lootRoll = new LootRoll();

      lootRoll->SendLootRollWon(12345, 7, ROLL_GREED);'
    language: cpp
  - title: Integration with Group Loot System
    code: "void HandleLootWinner(Player* player, uint32 rollNumber, RollVote voteType)\n\
      {\n    LootRoll* lootRoll = sObjectMgr->GetLootRoll(rollNumber);\n    if (lootRoll)\n\
      \    {\n        lootRoll->SendLootRollWon(player->GetGUID().GetRawValue(), rollNumber,\
      \ voteType);\n    }\n}"
    language: cpp
  notes: This method assumes that the player GUID is valid and corresponds to an active
    player in the game world. The roll number must match a previously created loot
    roll entry; otherwise, the packet may not be properly interpreted by the client.
    Performance-wise, this method should be called sparingly as it involves sending
    network packets to clients.
  warnings: Ensure that the targetGuid refers to a valid player who is currently online
    and connected to avoid sending invalid messages. Incorrect roll numbers or vote
    types can lead to client-side errors or misinterpretation of loot results.
  related:
  - LootRoll::SendLootRoll
  - LootRoll::UpdatePlayerRoll
  - LootRoll::RollComplete
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T11:38:55.627027'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
