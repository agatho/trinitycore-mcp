api:
  class: LeaderFollowBehavior
  method: CalculateCombatPosition
  signature: int LeaderFollowBehavior::CalculateCombatPosition(Player * bot, Player
    * leader, ::Unit * target)
documentation:
  brief: Calculates and returns the optimal combat position for a bot relative to
    its leader and target in World of Warcraft.
  description: The CalculateCombatPosition method determines the best positioning
    strategy for a bot player during combat, taking into account the bot's current
    location, the leader's position, and the target's location. This method is typically
    used in AI-driven behavior systems where bots need to maintain optimal distance
    and angle from their leader while engaging enemies. The calculation considers
    factors such as attack range, line of sight, and positioning for effective group
    combat. It returns an integer value representing a specific combat stance or position
    type that the bot should adopt.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot character that
      needs to calculate its combat position.
  - name: leader
    description: Pointer to the Player object representing the leader character in
      the group or party.
  - name: target
    description: Pointer to the Unit object representing the enemy target that the
      bot is engaging in combat.
  returns: 'Returns an integer value indicating the calculated combat position type.
    Possible values may include: 0 for default/neutral stance, 1 for aggressive positioning,
    2 for defensive positioning, or other numeric codes based on internal AI logic
    and positioning requirements.'
  examples:
  - title: Basic usage of CalculateCombatPosition
    code: "int position = leaderFollowBehavior.CalculateCombatPosition(botPlayer,\
      \ leaderPlayer, targetUnit);\nif (position == 1) {\n    // Bot should move into\
      \ aggressive stance\n    botPlayer->SetFacingTo(targetUnit);\n} else if (position\
      \ == 2) {\n    // Bot should maintain defensive positioning\n    botPlayer->MoveTo(leaderPlayer->GetPositionX(),\
      \ leaderPlayer->GetPositionY(), leaderPlayer->GetPositionZ());\n}"
    language: cpp
  notes: This method is part of the LeaderFollowBehavior AI system and assumes that
    all input parameters are valid Player and Unit objects. The method may perform
    distance calculations, line-of-sight checks, and combat positioning logic internally.
    It's designed to work within TrinityCore's group AI framework where bots follow
    leaders during combat situations.
  warnings: Ensure that the bot, leader, and target pointers are not null before calling
    this method. Improper handling of these parameters can lead to undefined behavior
    or crashes in the AI system. The return values should be validated against expected
    ranges to avoid incorrect positioning decisions.
  related:
  - GetLeaderPosition
  - CalculateDistanceToTarget
  - SetCombatStance
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T10:37:18.864555'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
