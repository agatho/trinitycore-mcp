api:
  class: BotSpawnEventBus
  method: SubscribeToAll
  signature: HandlerId BotSpawnEventBus::SubscribeToAll(EventHandler handler)
documentation:
  brief: Subscribes a handler to all bot spawn events and returns a unique identifier
    for the subscription.
  description: The SubscribeToAll method registers an event handler to receive notifications
    for all bot spawn events within the TrinityCore server. This allows scripts or
    systems to react to any new bot creation, regardless of the specific type or context
    of the spawn. The method returns a HandlerId that can be used later to unsubscribe
    from the event stream. This is particularly useful in automation systems, AI behavior
    scripting, or logging mechanisms where comprehensive tracking of bot activity
    is required. The subscription remains active until explicitly removed via the
    corresponding Unsubscribe method.
  parameters: []
  returns: Returns a HandlerId value that uniquely identifies this subscription. This
    identifier should be stored for future use when unsubscribing from events to prevent
    memory leaks or unexpected behavior.
  examples:
  - title: Basic Subscription Example
    code: "BotSpawnEventBus& eventBus = BotSpawnEventBus::Instance();\nHandlerId id\
      \ = eventBus.SubscribeToAll([](Bot* bot) {\n    // Handle bot spawn\n    sLog->outString(\"\
      New bot spawned: %s\", bot->GetName().c_str());\n});"
    language: cpp
  - title: Subscription with ID Storage for Later Unsubscription
    code: "BotSpawnEventBus& eventBus = BotSpawnEventBus::Instance();\nHandlerId myHandlerId\
      \ = eventBus.SubscribeToAll([](Bot* bot) {\n    // Process bot spawn\n});\n\
      // Later, to remove subscription:\neventBus.Unsubscribe(myHandlerId);"
    language: cpp
  notes: This method is typically used in conjunction with a singleton pattern for
    BotSpawnEventBus. The event handler function should be lightweight and avoid blocking
    operations to maintain server performance. Multiple subscriptions can be made,
    each with their own HandlerId.
  warnings: Failing to store the returned HandlerId may result in inability to unsubscribe
    from events, leading to potential memory leaks or unintended behavior. Event handlers
    should not modify the event bus state directly to avoid deadlocks or undefined
    behavior.
  related:
  - Unsubscribe
  - SubscribeToType
  - Publish
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T17:55:57.139005'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
