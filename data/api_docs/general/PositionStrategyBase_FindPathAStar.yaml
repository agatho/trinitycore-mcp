api:
  class: PositionStrategyBase
  method: FindPathAStar
  signature: int PositionStrategyBase::FindPathAStar(const int & start, const int
    & end, bool avoidDanger)
documentation:
  brief: Calculates and returns the optimal path between two points using the A* algorithm,
    optionally avoiding dangerous areas.
  description: The FindPathAStar method implements the A* pathfinding algorithm to
    determine the most efficient route from a starting point to an ending point. It
    is commonly used in World of Warcraft's TrinityCore for NPC movement and player
    pathfinding. The method supports an optional parameter to avoid dangerous zones,
    which can be useful for AI behavior that needs to consider environmental hazards.
    This function typically operates on a graph or grid-based representation of the
    game world where nodes represent positions and edges represent possible movements
    between them. The implementation may cache or precompute certain path data depending
    on the specific strategy base class.
  parameters:
  - name: start
    description: The index or identifier of the starting position in the pathfinding
      graph. This value must correspond to a valid node within the navigation mesh
      or grid system.
  - name: end
    description: The index or identifier of the destination position in the pathfinding
      graph. This value must also correspond to a valid node within the navigation
      mesh or grid system.
  - name: avoidDanger
    description: A boolean flag indicating whether the path should avoid dangerous
      areas. When true, the algorithm will attempt to find a path that avoids known
      hazardous zones or threats.
  returns: Returns an integer representing the result of the pathfinding operation.
    A value of 0 typically indicates success and a valid path was found. Negative
    values may indicate errors such as invalid start/end positions, no path available,
    or internal failures during computation. Positive values might represent path
    length or cost depending on implementation details.
  examples:
  - title: Basic Pathfinding Usage
    code: "int result = positionStrategy->FindPathAStar(100, 200, false);\nif (result\
      \ >= 0) {\n    // Path found successfully\n    std::cout << \"Path calculated\
      \ with cost: \" << result << std::endl;\n} else {\n    // No path available\
      \ or error occurred\n    std::cout << \"Failed to find path\" << std::endl;\n\
      }"
    language: cpp
  - title: Pathfinding with Danger Avoidance
    code: "PositionStrategyBase* strategy = GetPositionStrategy();\nint pathCost =\
      \ strategy->FindPathAStar(500, 750, true);\nif (pathCost > 0) {\n    // Successfully\
      \ found a safe path\n    std::cout << \"Safe path cost: \" << pathCost << std::endl;\n\
      } else if (pathCost == 0) {\n    // Path exists but no cost was calculated\n\
      \    std::cout << \"Path found without cost\" << std::endl;\n} else {\n    //\
      \ No safe path available\n    std::cout << \"No safe path to destination\" <<\
      \ std::endl;\n}"
    language: cpp
  notes: This method is part of the navigation system used by AI agents in TrinityCore.
    It relies on precomputed or dynamic graph data structures that represent walkable
    areas and obstacles. The performance can vary based on the complexity of the environment
    and the number of nodes involved in the search. For optimal results, ensure that
    the start and end positions are valid nodes within the navigation mesh.
  warnings: The method assumes that the input node indices (start/end) are valid and
    exist within the current pathfinding graph. Passing invalid indices may lead to
    undefined behavior or crashes. Additionally, if avoidDanger is enabled but no
    safe paths exist, the method might return an error code indicating failure rather
    than returning a suboptimal path.
  related:
  - GetPath
  - CalculatePathCost
  - IsPathValid
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T11:18:39.981030'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
