api:
  class: WorldSession
  method: SendAttackStop
  signature: void WorldSession::SendAttackStop(const Unit * enemy)
documentation:
  brief: Sends an attack stop packet to the client for a specified enemy unit.
  description: The SendAttackStop method is used by the WorldSession class to notify
    the connected client that the player's attack against a specific enemy unit should
    cease. This method is typically invoked when the player's attack is interrupted,
    such as when the target dies, moves out of range, or when the player initiates
    a different action. It ensures that the client's UI and animation state are properly
    synchronized with the server-side combat state. The method does not perform any
    validation on the provided enemy pointer; it is assumed to be valid by the caller.
  parameters:
  - name: enemy
    description: A pointer to the Unit object representing the enemy against which
      the attack should stop. This parameter must not be null, as the method does
      not perform null checks.
  returns: This method returns void and does not provide any meaningful return value.
  examples:
  - title: Stopping Attack on Enemy Unit
    code: "Unit* target = player->GetVictim();\nif (target)\n{\n    session->SendAttackStop(target);\n\
      }"
    language: cpp
  notes: This method is part of the combat synchronization system in TrinityCore.
    It directly sends a packet to the client, so it should only be called from the
    main game thread to avoid potential race conditions. The method assumes that the
    enemy unit is valid and exists in the world.
  warnings: Passing a null pointer as the enemy parameter may lead to undefined behavior
    or crashes. Always validate the enemy pointer before calling this method. Additionally,
    ensure that the enemy unit is still valid when the packet is sent, as stale references
    can cause issues in client-side rendering.
  related:
  - SendAttackStart
  - SendMonsterMove
  - SendPlaySpellVisual
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T19:52:10.338584'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
