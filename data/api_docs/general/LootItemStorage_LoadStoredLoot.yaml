api:
  class: LootItemStorage
  method: LoadStoredLoot
  signature: bool LootItemStorage::LoadStoredLoot(Item * item, Player * player)
documentation:
  brief: Loads stored loot items into a player's inventory from a specified item container.
  description: The LoadStoredLoot method retrieves and transfers all items stored
    within a given Item object (typically a container such as a lootable chest or
    bag) into the inventory of a specified Player. This function is commonly used
    during loot distribution processes in World of Warcraft, particularly when a player
    opens a container that contains previously stored loot. The method ensures proper
    item handling, including updating the database records and notifying the player's
    client about the new items. It returns true if the operation was successful, or
    false if there were issues such as invalid parameters or failed database operations.
  parameters:
  - name: item
    description: Pointer to the Item object that contains stored loot. This is typically
      a container item like a chest, bag, or other lootable object.
  - name: player
    description: Pointer to the Player object whose inventory will receive the stored
      loot items from the specified item container.
  returns: True if all stored loot items were successfully loaded into the player's
    inventory and processed; false otherwise, which may occur due to invalid input
    parameters or database errors.
  examples:
  - title: Basic usage of LoadStoredLoot
    code: "Item* chest = player->GetItemByGuid(chestGuid);\nif (chest)\n{\n    bool\
      \ success = LootItemStorage::LoadStoredLoot(chest, player);\n    if (success)\n\
      \        ChatHandler(player->GetSession()).SendSysMessage(\"Loot loaded successfully.\"\
      );\n    else\n        ChatHandler(player->GetSession()).SendSysMessage(\"Failed\
      \ to load loot.\");\n}"
    language: cpp
  notes: This method is typically invoked during the process of opening a lootable
    container or when transferring items from one inventory to another. It assumes
    that the item passed in has valid stored loot data and that the player's inventory
    has sufficient space for all items being transferred.
  warnings: Ensure that both the Item and Player pointers are valid before calling
    this method, as passing null or invalid pointers can lead to crashes or undefined
    behavior. Also, be aware that this function may cause database writes which could
    impact performance if called frequently in rapid succession.
  related:
  - LootItemStorage::StoreLoot
  - LootItemStorage::RemoveStoredLoot
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T01:03:32.374953'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
