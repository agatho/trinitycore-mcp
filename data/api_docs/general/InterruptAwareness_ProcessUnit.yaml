api:
  class: InterruptAwareness
  method: ProcessUnit
  signature: void InterruptAwareness::ProcessUnit(Unit * unit, SpellScanResult & result)
documentation:
  brief: Processes a unit to determine spell interruption awareness status.
  description: The ProcessUnit method evaluates a given Unit object to assess its
    current state regarding spell interruption awareness. This typically involves
    checking if the unit is currently casting or channeling a spell, and whether it
    should be interrupted by certain events or effects. The method updates the provided
    SpellScanResult structure with relevant information about the unit's spellcasting
    state and potential interruption conditions. This functionality is commonly used
    in AI systems and combat logic to determine when spells should be interrupted
    or when units should respond to interrupting effects.
  parameters:
  - name: unit
    description: Pointer to the Unit object to process for spell interruption awareness.
      Must not be null. The unit should represent a player, creature, or game object
      that may be casting or channeling spells.
  - name: result
    description: Reference to a SpellScanResult structure that will be updated with
      information about the unit's spellcasting state and interruption potential.
      This structure typically contains flags, spell IDs, and other metadata related
      to spell awareness.
  returns: null
  examples:
  - title: Basic Unit Processing
    code: 'Unit* target = player->GetSelectedUnit();

      SpellScanResult scanResult;

      interruptAwareness.ProcessUnit(target, scanResult);'
    language: cpp
  - title: Using ProcessUnit in AI Logic
    code: "void AI::UpdateAI(uint32 diff)\n{\n    if (me->IsNonMeleeSpellCasting())\n\
      \    {\n        SpellScanResult result;\n        interruptAwareness.ProcessUnit(me,\
      \ result);\n        // Use result to determine if spell should be interrupted\n\
      \    }\n}"
    language: cpp
  notes: This method is typically called within AI update loops or combat-related
    systems. The SpellScanResult structure may contain information about the current
    spell being cast, its duration, and potential interruption sources. Performance
    considerations include avoiding frequent calls on units that are not actively
    casting spells.
  warnings: Ensure that the unit pointer passed is valid and not null before calling
    this method. Passing an invalid or destroyed Unit pointer will result in undefined
    behavior. The SpellScanResult structure should be properly initialized before
    passing to avoid garbage data.
  related:
  - GetSpellInterruptFlags
  - IsSpellInterruptible
  - CheckInterruptedSpells
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T02:04:54.784709'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
