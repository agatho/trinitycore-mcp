api:
  class: ScriptMgr
  method: OnGuildEvent
  signature: void ScriptMgr::OnGuildEvent(Guild * guild, uint8 eventType, int playerGuid1,
    int playerGuid2, uint8 newRank)
documentation:
  brief: Triggers a callback when a guild event occurs, providing details about the
    event type and involved players.
  description: The OnGuildEvent method is a scriptable callback function that gets
    invoked whenever a significant guild-related event takes place in the game world.
    This method allows custom scripts to react to various guild activities such as
    player joins, leaves, promotions, or demotions. It provides essential information
    about the guild involved, the type of event, and the players affected by the event.
    The method serves as an extension point for developers to implement custom logic
    that responds to guild events without modifying core TrinityCore code.
  parameters:
  - name: guild
    description: Pointer to the Guild object that triggered the event. This parameter
      represents the guild instance where the event occurred.
  - name: eventType
    description: Numeric identifier indicating the type of guild event that occurred.
      Valid values typically correspond to predefined event types such as player joins,
      leaves, rank changes, etc.
  - name: playerGuid1
    description: GUID of the first player involved in the event. For example, this
      could be the player who joined or was promoted.
  - name: playerGuid2
    description: GUID of the second player involved in the event. This is typically
      used for events involving two players, such as a player being invited or kicked
      by another player.
  - name: newRank
    description: The new rank level assigned to a player during the event. This parameter
      is relevant when the event type involves rank changes and indicates the updated
      rank of the affected player.
  returns: null
  examples:
  - title: Basic Guild Event Handler
    code: "class MyGuildScript : public GuildScript\n{\npublic:\n    MyGuildScript()\
      \ : GuildScript(\"MyGuildScript\") {}\n\n    void OnGuildEvent(Guild* guild,\
      \ uint8 eventType, int playerGuid1, int playerGuid2, uint8 newRank) override\n\
      \    {\n        switch (eventType)\n        {\n            case GUILD_EVENT_PLAYER_JOINED:\n\
      \                sLog->outString(\"Player with GUID %d joined the guild.\",\
      \ playerGuid1);\n                break;\n            case GUILD_EVENT_PLAYER_LEFT:\n\
      \                sLog->outString(\"Player with GUID %d left the guild.\", playerGuid1);\n\
      \                break;\n        }\n    }\n};"
    language: cpp
  notes: This method is part of TrinityCore's scripting system and should be implemented
    within a GuildScript subclass. The event types are defined in the core codebase,
    and developers must ensure compatibility with existing event definitions. The
    method is called from the game loop context and should avoid heavy computations
    or blocking operations to maintain performance.
  warnings: Improper handling of player GUIDs or incorrect interpretation of event
    types may lead to unexpected behavior or crashes. Always validate input parameters
    before using them in critical logic paths.
  related:
  - OnGuildCreate
  - OnGuildDisband
  - OnGuildMemberAdd
  - OnGuildMemberRemove
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T22:40:49.300544'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
