api:
  class: BotProfiler
  method: EnableCallStackProfiling
  signature: void BotProfiler::EnableCallStackProfiling(uint64_t sessionId, bool enable,
    uint32_t maxDepth)
documentation:
  brief: Enables or disables call stack profiling for a specified bot session.
  description: The EnableCallStackProfiling method controls whether detailed call
    stack information is collected for a given bot session. This functionality is
    typically used for debugging and performance analysis of AI behaviors within the
    TrinityCore framework. When enabled, the profiler will track function calls made
    during bot execution up to the specified maximum depth. The profiling data can
    be used to identify bottlenecks or unexpected behavior in bot logic. This method
    does not affect the actual bot behavior; it only toggles the collection of profiling
    data.
  parameters:
  - name: sessionId
    description: A unique identifier for the bot session to enable or disable profiling
      for. This value is typically obtained when creating a new bot instance.
  - name: enable
    description: Boolean flag indicating whether to enable (true) or disable (false)
      call stack profiling for the specified session.
  - name: maxDepth
    description: Maximum depth of the call stack to record. Higher values provide
      more detailed information but may impact performance. Values should be between
      1 and 1000, with typical values ranging from 10-50 for most use cases.
  returns: null
  examples:
  - title: Basic Usage
    code: 'uint64_t sessionId = bot->GetSessionId();

      BotProfiler::EnableCallStackProfiling(sessionId, true, 20);'
    language: cpp
  - title: Disabling Profiling
    code: 'uint64_t sessionId = bot->GetSessionId();

      BotProfiler::EnableCallStackProfiling(sessionId, false, 0);'
    language: cpp
  notes: This method operates on a per-session basis and does not affect global profiling
    settings. Profiling data is only collected when enabled and may be stored in memory
    until explicitly cleared or the session ends. Performance impact is minimal when
    disabled but can become significant with high maxDepth values during active profiling.
  warnings: Enabling profiling with very high maxDepth values (above 100) may cause
    stack overflow issues on heavily recursive bot behaviors. Always disable profiling
    after debugging to prevent unnecessary memory consumption.
  related:
  - BotProfiler::IsCallStackProfilingEnabled
  - BotProfiler::GetCallStackData
  - BotProfiler::ClearCallStackData
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T18:27:43.965505'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
