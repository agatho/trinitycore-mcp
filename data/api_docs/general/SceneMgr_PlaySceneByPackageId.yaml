api:
  class: SceneMgr
  method: PlaySceneByPackageId
  signature: uint32 SceneMgr::PlaySceneByPackageId(uint32 sceneScriptPackageId, int
    playbackflags, const Position * position)
documentation:
  brief: Initiates a scene playback using the specified script package ID and optional
    position.
  description: The PlaySceneByPackageId method triggers the execution of a predefined
    scene script identified by its package ID. This function allows for the playback
    of cinematic sequences, quest events, or other scripted animations within the
    game world. The method accepts an optional position parameter to determine where
    the scene should be played relative to the player's current location. It returns
    a unique identifier for the created scene instance, which can be used later to
    manage or cancel the scene if needed.
  parameters:
  - name: sceneScriptPackageId
    description: The unique identifier of the scene script package to play. This ID
      corresponds to entries in the game's scene script database.
  - name: playbackflags
    description: Flags that control how the scene is played back. These may include
      options such as looping, skipping, or forcing playback regardless of conditions.
  - name: position
    description: Optional pointer to a Position object defining where the scene should
      be played. If null, the scene will play at the player's current location.
  returns: Returns a uint32 identifier representing the newly created scene instance.
    This ID can be used to reference or manipulate the scene later during its playback.
  examples:
  - title: Basic Scene Playback
    code: uint32 sceneId = sSceneMgr->PlaySceneByPackageId(12345, 0, nullptr);
    language: cpp
  - title: Scene Playback at Specific Location
    code: 'Position pos = {100.0f, 200.0f, 300.0f, 0.0f};

      uint32 sceneId = sSceneMgr->PlaySceneByPackageId(12345, SCENE_FLAG_NONE, &pos);'
    language: cpp
  notes: This method is typically used for triggering quest-related cutscenes or world
    events. Scene playback can be canceled using the returned scene ID. The position
    parameter allows for flexible placement of scenes in the game world.
  warnings: Ensure that the provided sceneScriptPackageId corresponds to a valid scene
    script entry, otherwise the method may fail silently or cause unexpected behavior.
    Be cautious with flags as incorrect values might lead to undefined scene behavior.
  related:
  - CancelScene
  - GetSceneById
  - IsScenePlaying
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T23:15:03.245572'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
