api:
  class: EquipmentManager
  method: IsItemUpgrade
  signature: bool EquipmentManager::IsItemUpgrade(int * player, int * item)
documentation:
  brief: Determines whether a player's item is an upgrade compared to their currently
    equipped item in the same slot.
  description: The IsItemUpgrade method evaluates if a given item provides better
    stats or properties than the item currently equipped by the player in the corresponding
    inventory slot. This method is commonly used during item equip operations, loot
    distribution, and character progression checks within TrinityCore's core systems.
    It performs comparisons based on item level, stats, quality, and other relevant
    attributes to determine if an upgrade exists. The method requires valid player
    and item references to function correctly.
  parameters:
  - name: player
    description: Pointer to the Player object representing the character whose equipment
      is being evaluated.
  - name: item
    description: Pointer to the Item object that is being checked for potential upgrade
      status against the player's current equipment.
  returns: Returns true if the item being checked is an upgrade over the currently
    equipped item in the same slot; otherwise returns false.
  examples:
  - title: Basic Usage Example
    code: "Player* player = ...;\nItem* newItem = ...;\nbool isUpgrade = sEquipmentMgr->IsItemUpgrade(&player,\
      \ &newItem);\nif (isUpgrade)\n{\n    // Handle upgrade logic\n}"
    language: cpp
  - title: Integration with Item Equip Logic
    code: "void OnItemEquip(Player* player, Item* item)\n{\n    if (sEquipmentMgr->IsItemUpgrade(&player,\
      \ &item))\n    {\n        // Notify player of upgrade\n        player->SendNotification(\"\
      New upgrade available!\");\n        // Trigger upgrade effects or achievements\n\
      \    }\n}"
    language: cpp
  notes: This method relies on internal item comparison logic that considers multiple
    factors including item level, stat bonuses, enchantments, and gemming. It may
    be called frequently during gameplay operations such as loot roll processing,
    vendor purchases, or quest rewards.
  warnings: Ensure both player and item pointers are valid before calling this method
    to prevent undefined behavior. The method assumes the item is already in the player's
    inventory and not equipped yet when evaluating upgrade status.
  related:
  - GetItemByPos
  - IsEquippedItem
  - CompareItems
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T13:57:49.103149'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
