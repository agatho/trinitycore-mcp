api:
  class: AfflictionDoTTracker
  method: GetDoTTimeRemaining
  signature: uint32 AfflictionDoTTracker::GetDoTTimeRemaining(int targetGuid, uint32
    spellId) const
documentation:
  brief: Retrieves the time remaining for a specific DoT effect on a target.
  description: The GetDoTTimeRemaining method is used to determine how much time is
    left before a DoT (Damage over Time) spell expires on a given target. This method
    is typically part of an affliction-based spell tracking system within the TrinityCore
    framework, allowing for precise timing and management of ongoing damage effects
    such as Corruption, Unstable Affliction, or other similar spells. It returns the
    duration in milliseconds, which can be used to update UI elements, calculate damage
    ticks, or manage spell cooldowns. The method requires both the target's GUID and
    the specific spell ID to accurately retrieve the remaining time for that effect.
  parameters:
  - name: targetGuid
    description: The unique identifier (GUID) of the target unit affected by the DoT
      spell.
  - name: spellId
    description: The numeric ID of the specific DoT spell being queried for its remaining
      duration.
  returns: Returns a uint32 value representing the time in milliseconds remaining
    until the DoT effect expires. If no active DoT is found for the specified target
    and spell, it may return 0 or an undefined value depending on implementation.
  examples:
  - title: Check Remaining Time of Corruption
    code: "uint32 timeLeft = afflictionTracker->GetDoTTimeRemaining(playerGuid, 146739);\
      \ // Corruption spell ID\nif (timeLeft > 0)\n{\n    // Update UI or perform\
      \ action based on remaining time\n    std::cout << \"Corruption has \" << timeLeft\
      \ << \" ms remaining.\" << std::endl;\n}"
    language: cpp
  - title: Manage DoT Effects in a Spell Handler
    code: "void HandleAfflictionSpell(int targetGuid, uint32 spellId)\n{\n    uint32\
      \ remaining = afflictionTracker->GetDoTTimeRemaining(targetGuid, spellId);\n\
      \    if (remaining > 0)\n    {\n        // Extend or refresh the DoT effect\n\
      \        std::cout << \"Extending DoT with \" << remaining << \" ms left.\"\
      \ << std::endl;\n    }\n    else\n    {\n        // Apply new DoT effect\n \
      \       std::cout << \"Applying new DoT effect.\" << std::endl;\n    }\n}"
    language: cpp
  notes: This method assumes that the AfflictionDoTTracker maintains an internal data
    structure mapping target GUIDs and spell IDs to their respective expiration times.
    It is important to ensure that this mapping is properly updated when DoT effects
    are applied, refreshed, or removed. Performance-wise, this method should be efficient
    as it likely uses hash maps or similar fast lookup structures.
  warnings: Ensure that the provided targetGuid and spellId are valid before calling
    this method; otherwise, unexpected behavior or crashes may occur. Also note that
    if multiple DoT effects can exist on a single target, this method might only return
    information for one specific effect depending on how it's implemented.
  related:
  - SetDoTTimeRemaining
  - IsDoTActive
  - RemoveDoT
  - UpdateDoT
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T20:21:38.833152'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
