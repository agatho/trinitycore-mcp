api:
  class: ObjectMgr
  method: GetQuestRelationsFrom
  signature: QuestRelationResult ObjectMgr::GetQuestRelationsFrom(const QuestRelations
    & map, uint32 key, bool onlyActive) const
documentation:
  brief: Retrieves quest relations from a specified map for a given key, optionally
    filtering for active quests only.
  description: The GetQuestRelationsFrom method is used to fetch all quest relations
    associated with a specific key from a provided QuestRelations map. This method
    is typically employed in the context of World of Warcraft's TrinityCore server
    to retrieve quest data related to NPCs, game objects, or other entities. The 'onlyActive'
    parameter allows filtering the results to include only those quests that are currently
    active for the player. This functionality supports core gameplay mechanics such
    as quest tracking, dialogue options, and quest completion checks within the game
    world.
  parameters:
  - name: map
    description: A reference to a QuestRelations map containing quest associations.
      This typically represents a collection of quests linked to a specific entity
      like an NPC or GameObject.
  - name: key
    description: The identifier key used to lookup related quests in the provided
      map. This could be an NPC entry ID, GameObject entry ID, or another relevant
      identifier.
  - name: onlyActive
    description: A boolean flag indicating whether to filter results to include only
      active quests (true) or all available quests (false). Active quests are those
      that can currently be accepted or are in progress by the player.
  returns: Returns a QuestRelationResult which contains the collection of quest relations
    found for the specified key. The result typically includes information about quest
    IDs, their types (quest giver, quest accepter, etc.), and possibly state flags
    indicating whether they are active or completed.
  examples:
  - title: Retrieve all quests related to an NPC
    code: QuestRelationResult relations = sObjectMgr->GetQuestRelationsFrom(sObjectMgr->GetQuestRelations(),
      12345, false);
    language: cpp
  - title: Fetch only active quests for a GameObject
    code: QuestRelationResult activeQuests = sObjectMgr->GetQuestRelationsFrom(sObjectMgr->GetQuestRelations(),
      67890, true);
    language: cpp
  notes: This method is commonly used during quest interaction logic where the server
    needs to determine which quests are available or active for a player based on
    their current location or interaction with game objects. It's important to note
    that QuestRelationResult may contain multiple entries if an entity has multiple
    associated quests, and developers should iterate through the result appropriately.
  warnings: Ensure that the provided map is valid and properly initialized before
    calling this method; otherwise, unexpected behavior or crashes may occur. Also,
    be cautious when using 'onlyActive = true' in scenarios where quest states are
    not fully synchronized with the player's current progress.
  related:
  - GetQuestRelations
  - GetQuestRelationsForNpc
  - GetQuestRelationsForGameObject
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T07:41:03.929828'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
