api:
  class: InstanceCoordination
  method: UpdateInstanceCoordination
  signature: void InstanceCoordination::UpdateInstanceCoordination(Group * group,
    uint32 diff)
documentation:
  brief: Updates instance coordination data for a group based on elapsed time.
  description: The UpdateInstanceCoordination method is responsible for maintaining
    and updating the state of instance coordination within the TrinityCore framework.
    This method processes group-based instance data, typically used in dungeon and
    raid scenarios to synchronize player progress, cooldowns, and other instance-specific
    mechanics. It handles the internal timing and state management for groups that
    are participating in coordinated instances, ensuring proper synchronization between
    players and the server's instance tracking systems. The method is usually called
    periodically by the game loop to maintain up-to-date coordination information.
  parameters:
  - name: group
    description: Pointer to the Group object whose instance coordination data needs
      to be updated. This parameter represents the group of players participating
      in a coordinated instance.
  - name: diff
    description: The time difference (in milliseconds) since the last update call.
      This value is used to calculate elapsed time for instance-related cooldowns
      and state transitions.
  returns: null
  examples:
  - title: Basic Usage in Game Loop
    code: "void Update() {\n    if (Group* group = player->GetGroup()) {\n       \
      \ instanceCoordination.UpdateInstanceCoordination(group, sWorld->getDiff());\n\
      \    }\n}"
    language: cpp
  - title: Updating Coordination for Multiple Groups
    code: "void UpdateAllGroups() {\n    for (auto& pair : sObjectAccessor->GetAllGroups())\
      \ {\n        Group* group = pair.second;\n        if (group && group->IsInInstance())\
      \ {\n            instanceCoordination.UpdateInstanceCoordination(group, diff);\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method is typically invoked from the main game update loop and should
    not be called directly by other systems unless specifically required. The implementation
    relies on accurate timing information provided through the 'diff' parameter to
    maintain proper instance state synchronization.
  warnings: Calling this method with incorrect or zero time differences may cause
    unexpected behavior in instance cooldowns and coordination states. Ensure that
    the group parameter is valid and not null before calling this method.
  related:
  - GetInstanceCoordination
  - IsGroupInInstance
  - UpdateInstanceResetTime
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T05:39:16.320637'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
