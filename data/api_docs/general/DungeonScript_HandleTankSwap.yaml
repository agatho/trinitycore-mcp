api:
  class: DungeonScript
  method: HandleTankSwap
  signature: void DungeonScript::HandleTankSwap(int * player, int * boss)
documentation:
  brief: Handles the swapping of tank roles between players in a dungeon encounter
  description: The HandleTankSwap method manages the logic for transferring the primary
    tank role from one player to another during a dungeon boss fight. This method
    is typically invoked when a player's tanking role needs to be reassigned due to
    death, ability usage, or strategic gameplay decisions. The method operates on
    pointers to player and boss identifiers, updating internal state to reflect the
    new tank assignment. It ensures proper synchronization of tank-related mechanics
    such as threat generation, aggro management, and combat behavior adjustments within
    the dungeon environment.
  parameters:
  - name: player
    description: Pointer to an integer representing the player ID who is losing or
      gaining the tank role
  - name: boss
    description: Pointer to an integer representing the boss ID associated with the
      current encounter
  returns: null
  examples:
  - title: Basic Tank Swap Execution
    code: 'int currentPlayer = 12345;

      int currentBoss = 98765;

      DungeonScript* dungeon = GetDungeonScript();

      dungeon->HandleTankSwap(&currentPlayer, &currentBoss);'
    language: cpp
  - title: Tank Swap with Validation
    code: "int playerID = 12345;\nint bossID = 98765;\nDungeonScript* dungeon = GetDungeonScript();\n\
      if (dungeon && playerID > 0 && bossID > 0)\n{\n    dungeon->HandleTankSwap(&playerID,\
      \ &bossID);\n}"
    language: cpp
  notes: This method should only be called during active dungeon encounters where
    tank swapping is permitted. The implementation assumes that the player and boss
    IDs are valid and correspond to existing entities in the current dungeon instance.
    It's recommended to check for valid encounter state before invoking this method
    to prevent unexpected behavior.
  warnings: Calling HandleTankSwap with invalid or null pointers may result in undefined
    behavior. Ensure that both player and boss identifiers are properly initialized
    and represent active participants in the current dungeon encounter. Improper usage
    can lead to incorrect threat management and potential combat issues.
  related:
  - GetDungeonEncounterState
  - UpdateThreatList
  - ResetTankAssignment
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T08:20:04.899467'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
