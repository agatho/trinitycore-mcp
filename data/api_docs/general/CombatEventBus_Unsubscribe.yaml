api:
  class: CombatEventBus
  method: Unsubscribe
  signature: void CombatEventBus::Unsubscribe(BotAI * subscriber)
documentation:
  brief: Removes a BotAI subscriber from the combat event bus.
  description: The Unsubscribe method removes a specified BotAI instance from the
    combat event bus, effectively disconnecting it from receiving combat-related events.
    This method is typically used when a bot needs to stop listening to combat events,
    such as when the bot is destroyed, deactivated, or when the combat session ends.
    The method ensures that the specified subscriber will no longer receive notifications
    about combat events that are broadcast through the event bus. It's important to
    note that this operation is typically thread-safe and should be called from within
    the context of the AI system or during cleanup operations.
  parameters:
  - name: subscriber
    description: A pointer to the BotAI instance that should be removed from the combat
      event bus. This parameter must not be null, as passing a null pointer could
      lead to undefined behavior or crashes.
  returns: This method does not return any value.
  examples:
  - title: Basic Unsubscribe Usage
    code: 'BotAI* myBot = ...; // Assume this is a valid BotAI instance

      combatEventBus.Unsubscribe(myBot);'
    language: cpp
  - title: Unsubscribe During Bot Cleanup
    code: "void CleanupBot(BotAI* bot)\n{\n    if (bot != nullptr)\n    {\n      \
      \  combatEventBus.Unsubscribe(bot);\n        // Additional cleanup code\n  \
      \  }\n}"
    language: cpp
  notes: The Unsubscribe method is part of a larger event-driven architecture within
    TrinityCore's AI system. It's designed to work in conjunction with the Subscribe
    method and assumes that the BotAI instance was previously registered via Subscribe.
    The internal implementation likely uses a container (such as std::set or std::unordered_set)
    to maintain a collection of active subscribers, and this method removes the specified
    subscriber from that collection.
  warnings: Passing a null pointer to this method can result in undefined behavior.
    Always ensure that the BotAI instance is valid before calling Unsubscribe. Additionally,
    if multiple threads are involved in managing subscriptions, proper synchronization
    mechanisms should be used to prevent race conditions during subscription and unsubscription
    operations.
  related:
  - Subscribe
  - Publish
  - IsSubscribed
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T17:09:00.261331'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
