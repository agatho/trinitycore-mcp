api:
  class: WheatyExceptionReport
  method: printTracesForAllThreads
  signature: void WheatyExceptionReport::printTracesForAllThreads(bool bWriteVariables)
documentation:
  brief: Captures and prints stack traces for all active threads in the application.
  description: The printTracesForAllThreads method is designed to capture the current
    call stack for every thread that is currently running within the TrinityCore application.
    This functionality is typically used for debugging purposes, especially when an
    unhandled exception occurs or when detailed diagnostic information is required.
    The method can optionally include variable values in the trace output if the bWriteVariables
    parameter is set to true. It leverages platform-specific debugging APIs to walk
    through each thread's execution context and logs the resulting stack frames to
    the application's error reporting system.
  parameters:
  - name: bWriteVariables
    description: A boolean flag that determines whether variable values should be
      included in the printed stack traces. When true, additional debugging information
      about local variables is captured and displayed alongside the call stack.
  returns: null
  examples:
  - title: Basic usage to capture all thread traces
    code: 'WheatyExceptionReport report;

      report.printTracesForAllThreads(false);'
    language: cpp
  - title: Usage with variable information included
    code: 'WheatyExceptionReport report;

      report.printTracesForAllThreads(true);'
    language: cpp
  notes: This method is primarily intended for internal debugging and crash reporting
    within TrinityCore. It may have performance implications when called frequently
    or during high-load scenarios due to the overhead of walking thread stacks. The
    implementation relies on OS-specific APIs like Windows' StackWalk64 or Linux's
    libunwind, which might not be available or behave consistently across all platforms.
  warnings: Calling this method from within an exception handler may cause additional
    exceptions if the stack walking process encounters corrupted thread contexts.
    It should only be used in controlled debugging scenarios and never in production
    code without proper safeguards. On some systems, it may require special permissions
    or debug privileges to access all thread information.
  related:
  - WheatyExceptionReport::printStackTrace
  - WheatyExceptionReport::WriteMiniDump
  - WheatyExceptionReport::SetLogPath
metadata:
  confidence: 0.85
  generated_at: '2025-11-05T23:47:37.088535'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
