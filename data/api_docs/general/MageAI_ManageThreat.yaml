api:
  class: MageAI
  method: ManageThreat
  signature: void MageAI::ManageThreat()
documentation:
  brief: Manages threat generation and handling for the Mage AI during combat.
  description: The ManageThreat method is responsible for controlling how a Mage AI
    character generates and manages threat while engaged in combat. It evaluates the
    current target's health, mana levels, and proximity to determine optimal spell
    usage for maintaining aggro. This method ensures that the Mage AI prioritizes
    threat-generating abilities such as Arcane Missiles or Fireball based on situational
    awareness and game mechanics like spell cooldowns and resource management. The
    method integrates with the overall AI decision-making process to maintain consistent
    threat levels without overextending or underperforming in combat scenarios.
  parameters: []
  returns: null
  examples:
  - title: Basic Threat Management Call
    code: "void UpdateAI(uint32 diff) override\n{\n    if (UpdateVictim())\n     \
      \   MageAI::ManageThreat();\n}"
    language: cpp
  notes: This method should be called regularly during combat updates to ensure proper
    threat management. It relies on the AI's target being valid and engaged in combat.
    The implementation may vary depending on the specific Mage specialization (Arcane,
    Fire, Frost) as different specs have different threat generation mechanics.
  warnings: Improper usage of this method without a valid combat target can lead to
    undefined behavior or performance issues. Ensure that the AI has an active victim
    before calling this method to avoid null pointer exceptions.
  related:
  - UpdateAI
  - DoSpellAttack
  - GetThreatLevel
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T00:51:26.224641'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
