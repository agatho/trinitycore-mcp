api:
  class: ThreatCalculator
  method: CalculateDamageThreat
  signature: float ThreatCalculator::CalculateDamageThreat(uint32 damage, float modifier)
documentation:
  brief: Calculates threat generated by a damage event based on damage amount and
    modifier.
  description: The CalculateDamageThreat method computes the threat value generated
    when a creature or player deals damage to a target. This value is used by the
    threat system to determine which units are aggroed and to what degree. The calculation
    takes into account both the raw damage dealt and a modifier that can be applied
    based on spell properties, weapon type, or other factors. Threat values influence
    mob behavior and are crucial for proper combat mechanics in World of Warcraft-style
    gameplay.
  parameters:
  - name: damage
    description: The amount of damage dealt by the attack or spell. Must be a positive
      integer value representing raw damage points.
  - name: modifier
    description: A multiplicative factor applied to the base damage to determine final
      threat. Can be less than 1.0 (reducing threat) or greater than 1.0 (increasing
      threat). Typical values range from 0.5 to 2.0 depending on spell type and weapon.
  returns: Returns a float value representing the calculated threat generated by the
    damage event. This value is used internally by the threat system to update mob
    aggro tables and determine combat behavior.
  examples:
  - title: Basic Damage Threat Calculation
    code: float threat = threatCalculator.CalculateDamageThreat(100, 1.0f); // Base
      damage with normal modifier
    language: cpp
  - title: Critical Strike Threat Calculation
    code: float threat = threatCalculator.CalculateDamageThreat(150, 1.5f); // Critical
      strike with increased threat modifier
    language: cpp
  notes: This method is typically called during combat events when damage is dealt
    to a target. The actual threat calculation may be modified by various factors
    such as spell school, weapon type, or class-specific abilities. The returned value
    should not be directly used for display purposes but rather passed into the threat
    system's update mechanisms.
  warnings: Ensure that both parameters are positive values; negative damage or modifiers
    can lead to unexpected behavior in threat calculations. This method does not account
    for threat reduction effects like armor or mitigation, those are handled separately
    in the threat system.
  related:
  - AddThreat
  - GetThreat
  - UpdateThreat
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T01:03:19.827970'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
