api:
  class: Aura
  method: CallScriptAfterDispel
  signature: void Aura::CallScriptAfterDispel(DispelInfo * dispelInfo)
documentation:
  brief: Calls the script handler after an aura is dispelled.
  description: The CallScriptAfterDispel method is invoked when an aura is removed
    from a unit due to a dispel effect. This method triggers any associated script
    handlers that are designed to execute after a dispel event occurs. It passes the
    DispelInfo object containing details about the dispel, such as the dispeller,
    dispel type, and affected aura. The method ensures that scripted behavior is properly
    executed in response to aura removal through dispelling mechanics.
  parameters:
  - name: dispelInfo
    description: Pointer to a DispelInfo structure containing information about the
      dispel event, including the dispeller unit, dispel type, and affected aura details.
  returns: null
  examples:
  - title: Basic Usage in Aura Script
    code: "void MyAuraScript::AfterDispel(DispelInfo* dispelInfo)\n{\n    // Custom\
      \ logic after aura is dispelled\n    if (dispelInfo->GetDispeller()->GetTypeId()\
      \ == TYPEID_PLAYER)\n    {\n        Player* player = static_cast<Player*>(dispelInfo->GetDispeller());\n\
      \        player->SendNotification(\"Your aura was dispelled!\");\n    }\n}\n\
      \nvoid Aura::CallScriptAfterDispel(DispelInfo* dispelInfo)\n{\n    if (m_script)\n\
      \        m_script->AfterDispel(dispelInfo);\n}"
    language: cpp
  notes: This method is typically called internally by the TrinityCore framework when
    an aura's removal is triggered by a dispel. Developers should ensure that their
    script implementations are thread-safe and do not cause performance bottlenecks,
    as this method may be invoked frequently during combat.
  warnings: Improper handling of the DispelInfo pointer can lead to crashes or undefined
    behavior. Always validate the pointer before using it. Avoid performing heavy
    operations within this method as it may impact game performance.
  related:
  - CallScriptBeforeDispel
  - CallScriptOnRemove
  - GetScript
  - SetScript
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T14:14:57.656802'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
