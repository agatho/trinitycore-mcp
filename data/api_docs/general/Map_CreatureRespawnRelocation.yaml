api:
  class: Map
  method: CreatureRespawnRelocation
  signature: bool Map::CreatureRespawnRelocation(Creature * c, bool diffGridOnly)
documentation:
  brief: Relocates a creature to its respawn position if it has moved outside its
    defined respawn area.
  description: The CreatureRespawnRelocation method is responsible for managing the
    positioning of creatures within a Map when they need to be returned to their original
    spawn location. This typically occurs when a creature has wandered too far from
    its respawn point, either due to AI behavior or player interaction. The method
    checks whether the creature's current position differs significantly from its
    defined respawn location and, if so, attempts to relocate it back. When diffGridOnly
    is set to true, the relocation only occurs if the creature has moved to a different
    grid cell; otherwise, it may relocate even within the same grid. This functionality
    helps maintain proper creature behavior and prevents creatures from becoming stuck
    or lost in unintended locations.
  parameters:
  - name: c
    description: Pointer to the Creature object that needs to be relocated. Must not
      be null.
  - name: diffGridOnly
    description: Boolean flag indicating whether relocation should only occur if the
      creature has moved to a different grid cell. If true, the method will not relocate
      creatures within the same grid; if false, it will relocate regardless of grid
      boundaries.
  returns: Returns true if the creature was successfully relocated or if no relocation
    was needed. Returns false if the relocation failed due to invalid parameters or
    other internal errors.
  examples:
  - title: Basic usage to relocate a creature
    code: "Creature* myCreature = ...; // Assume this is a valid creature pointer\n\
      bool result = map->CreatureRespawnRelocation(myCreature, true);\nif (result)\
      \ {\n    // Creature was relocated or already in correct position\n} else {\n\
      \    // Relocation failed\n}"
    language: cpp
  - title: Using with diffGridOnly set to false for full relocation
    code: "Creature* creature = ...; // Assume this is a valid creature pointer\n\
      bool result = map->CreatureRespawnRelocation(creature, false);\nif (result)\
      \ {\n    // Creature has been relocated regardless of grid boundaries\n}"
    language: cpp
  notes: This method is typically called during regular map updates or when creatures
    are flagged for respawn. It's important to note that the method does not guarantee
    immediate movement; it may schedule a relocation event depending on internal implementation
    details. The diffGridOnly parameter allows fine-grained control over when relocations
    occur, which can be useful for performance optimization in large maps.
  warnings: Calling this method with a null creature pointer will likely result in
    undefined behavior or crashes. Ensure that the Creature pointer is valid before
    calling this method. Additionally, frequent calls to this method on the same creature
    may cause performance issues if not properly managed.
  related:
  - Creature::GetRespawnPosition
  - Map::CreatureRelocation
  - Creature::SetRespawnCoord
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T11:10:57.013244'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
