api:
  class: AuraEffect
  method: HandleProcTriggerSpellWithValueAuraProc
  signature: void AuraEffect::HandleProcTriggerSpellWithValueAuraProc(AuraApplication
    * aurApp, ProcEventInfo & eventInfo)
documentation:
  brief: Triggers a spell proc with value-based effects when an aura's proc condition
    is met.
  description: The HandleProcTriggerSpellWithValueAuraProc method is responsible for
    executing a spell trigger effect when an aura's proc condition occurs. This method
    is typically invoked during combat events or other triggered conditions where
    the aura should initiate a secondary spell effect. It processes the aura application
    and event information to determine whether the proc should be executed, and if
    so, applies the associated spell with value-based parameters. The method integrates
    with TrinityCore's aura system and proc handling framework to ensure proper spell
    activation and effect application.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura that
      triggered the proc. This contains information about the aura's state, target,
      and application context.
  - name: eventInfo
    description: Reference to a ProcEventInfo object containing detailed information
      about the triggering event, including damage type, spell school, and other relevant
      combat data.
  returns: null
  examples:
  - title: Basic usage in aura proc handler
    code: "void MyAura::HandleProcTriggerSpellWithValueAuraProc(AuraApplication* aurApp,\
      \ ProcEventInfo& eventInfo)\n{\n    // Validate aura application\n    if (!aurApp\
      \ || !eventInfo.GetActor())\n        return;\n    \n    // Trigger spell with\
      \ value-based proc\n    if (SpellInfo const* spellInfo = sSpellMgr->GetSpellInfo(GetSpellInfo()->Effects[0].TriggerSpell))\n\
      \    {\n        // Apply the spell trigger with value context\n        eventInfo.GetActor()->CastSpell(eventInfo.GetActionTarget(),\
      \ spellInfo, true);\n    }\n}"
    language: cpp
  notes: This method is part of the aura effect handling system in TrinityCore and
    should only be called from within the proper aura application context. It relies
    on the aura's trigger conditions being properly set up and validated before execution.
  warnings: Improper use of this method can lead to incorrect spell triggering or
    infinite proc loops if not handled carefully with proper condition checks and
    event validation.
  related:
  - AuraEffect::HandleProcTriggerSpell
  - AuraApplication::GetAura
  - ProcEventInfo::GetActor
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T12:01:44.568778'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
