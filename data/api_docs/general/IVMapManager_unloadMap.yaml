api:
  class: IVMapManager
  method: unloadMap
  signature: void IVMapManager::unloadMap(unsigned int pMapId)
documentation:
  brief: Unloads the specified map from memory, freeing resources associated with
    that map instance.
  description: The unloadMap method removes a specific map instance from the virtual
    map manager's memory cache. This function is typically used when a map is no longer
    needed or when transitioning between different areas in the game world. The method
    takes a map identifier and unloads the corresponding map data, which may include
    terrain, objects, and other spatial components. It ensures that resources are
    properly released and prevents memory leaks during gameplay. This operation is
    essential for maintaining optimal performance and memory usage in TrinityCore's
    virtual map system.
  parameters:
  - name: pMapId
    description: The unique identifier of the map to be unloaded. This corresponds
      to the Map ID used internally by TrinityCore to reference specific game maps.
  returns: null
  examples:
  - title: Basic Map Unloading
    code: 'IVMapManager* vmapManager = sVMapMgr;

      vmapManager->unloadMap(1234); // Unloads the map with ID 1234'
    language: cpp
  - title: Conditional Map Unloading
    code: "IVMapManager* vmapManager = sVMapMgr;\nif (player->GetMapId() != 0) {\n\
      \    vmapManager->unloadMap(player->GetMapId());\n}"
    language: cpp
  notes: This method should only be called when it's safe to unload the map, typically
    during zone transitions or when a player leaves an area. The method does not validate
    if the map is currently in use by players or game objects, so care must be taken
    to ensure no active references exist before calling this function.
  warnings: Calling this method on a map that is currently being used by active players
    or game entities may result in undefined behavior or crashes. Always verify that
    the map is not actively in use before unloading it.
  related:
  - loadMap
  - getMap
  - isMapLoaded
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T05:41:25.418276'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
