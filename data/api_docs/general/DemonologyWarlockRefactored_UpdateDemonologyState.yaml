api:
  class: DemonologyWarlockRefactored
  method: UpdateDemonologyState
  signature: void DemonologyWarlockRefactored::UpdateDemonologyState()
documentation:
  brief: Updates the internal demonology state of the warlock, including summoning
    and pet management.
  description: The UpdateDemonologyState method is responsible for managing and updating
    the core demonology mechanics of a Warlock class character. This includes handling
    pet summoning, tracking pet states (active/inactive), managing demonology-specific
    abilities such as Demonic Empowerment and Soulstone Resurrection, and ensuring
    proper synchronization between the player's demonology talents and their current
    in-game state. The method typically runs during the AI update cycle to maintain
    consistent behavior of demonology-related features. It may also handle cooldown
    management for key demonology spells and ensure that summoned demons are properly
    positioned and functioning according to the player's current talent build.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in AI Update
    code: "void DemonologyWarlockAI::Update()\n{\n    // Called every AI tick\n  \
      \  m_warlock->UpdateDemonologyState();\n}"
    language: cpp
  - title: Integration with Custom Warlock Logic
    code: "void CustomDemonologyWarlock::OnPlayerUpdate()\n{\n    // Update demonology\
      \ state before any other logic\n    UpdateDemonologyState();\n    \n    // Continue\
      \ with custom behavior\n    if (HasActivePet())\n        HandlePetBehavior();\n\
      }"
    language: cpp
  notes: This method is typically called from within the AI update loop and should
    not be invoked manually unless implementing custom warlock AI logic. The implementation
    may vary based on the specific version of TrinityCore and the player's current
    demonology talent specialization.
  warnings: Avoid calling this method outside of the standard AI update cycle as it
    may cause synchronization issues with pet states or spell cooldowns. This method
    assumes that the warlock object has valid pet references and should not be called
    when the player is in an invalid state (e.g., dead, zoning).
  related:
  - SummonPet
  - DesummonPet
  - HasActivePet
  - GetPetState
  - UpdatePetCooldowns
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T06:11:59.194053'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
