api:
  class: ThreatManager
  method: RegisterRedirectThreat
  signature: void ThreatManager::RegisterRedirectThreat(uint32 spellId, const int
    & victim, uint32 pct)
documentation:
  brief: Registers a threat redirection for a specified spell and victim with a given
    percentage.
  description: The RegisterRedirectThreat method is used to set up a threat redirection
    rule within the ThreatManager. This allows a spell to redirect a portion of its
    threat generation to a specific target instead of the original victim. The method
    takes a spell ID, a reference to the victim (likely an object or GUID), and a
    percentage value that determines how much threat should be redirected. This functionality
    is commonly used in game mechanics such as taunt abilities, threat redirection
    effects, or special spell behaviors where the attacker's threat should be applied
    to a different target than intended.
  parameters:
  - name: spellId
    description: The unique identifier of the spell that will trigger the threat redirection.
      This ID must correspond to a valid spell in the game database.
  - name: victim
    description: A reference to the target object or GUID that is being redirected.
      This parameter likely represents the intended victim of the spell, but threat
      will be redirected from this target to another.
  - name: pct
    description: The percentage of threat that should be redirected. Valid values
      are typically between 0 and 100, where 0 means no redirection and 100 means
      full redirection.
  returns: null
  examples:
  - title: Basic Threat Redirection Registration
    code: 'ThreatManager* threatMgr = unit->GetThreatManager();

      uint32 spellId = 12345;

      int victimGuid = 67890;

      uint32 redirectPct = 50;


      threatMgr->RegisterRedirectThreat(spellId, victimGuid, redirectPct);'
    language: cpp
  - title: Using with Spell Effect Handling
    code: "void HandleTauntSpell(Unit* caster, Unit* target)\n{\n    ThreatManager*\
      \ threatMgr = caster->GetThreatManager();\n    if (threatMgr)\n    {\n     \
      \   threatMgr->RegisterRedirectThreat(12345, target->GetGUID(), 100);\n    }\n\
      }"
    language: cpp
  notes: This method is typically called during spell effect application or when setting
    up special combat behaviors. It modifies the internal threat management system's
    redirection rules and should be used carefully to avoid unexpected behavior in
    combat mechanics.
  warnings: Incorrect usage of this method may lead to inconsistent threat generation,
    broken taunt mechanics, or unintended targeting behavior. Ensure that the victim
    reference is valid before calling this method, as invalid references could cause
    undefined behavior.
  related:
  - GetThreatRedirect
  - RemoveRedirectThreat
  - ClearAllRedirects
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T09:43:43.949463'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
