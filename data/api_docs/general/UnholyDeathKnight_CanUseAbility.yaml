api:
  class: UnholyDeathKnight
  method: CanUseAbility
  signature: bool UnholyDeathKnight::CanUseAbility(uint32 spellId)
documentation:
  brief: Determines whether a Unholy Death Knight can use a specified ability based
    on current game state and resource requirements.
  description: The CanUseAbility method evaluates if a Unholy Death Knight character
    is capable of casting or using a specific spell or ability. It checks various
    conditions such as mana, rage, energy, cooldowns, and other resource constraints
    that are relevant to the Death Knight's specialization. This method is typically
    used in AI decision-making logic to determine valid actions during combat. The
    method considers the current state of the player's resources, buffs, debuffs,
    and any active restrictions that might prevent the use of the ability.
  parameters:
  - name: spellId
    description: The unique identifier of the spell or ability to check for usability.
      This corresponds to the Spell.dbc entry ID in the game database.
  returns: Returns true if the Unholy Death Knight can currently use the specified
    ability, considering all relevant game state conditions and resource requirements.
    Returns false if any condition prevents the ability from being used, such as insufficient
    resources, active cooldowns, or incompatible buffs/debuffs.
  examples:
  - title: Basic Usage Check
    code: "if (unholyDK->CanUseAbility(49182)) {\n    // Execute Death Coil\n    unholyDK->CastSpell(target,\
      \ 49182);\n}"
    language: cpp
  - title: Combat Decision Making
    code: "if (unholyDK->CanUseAbility(47543) && unholyDK->GetPower(POWER_RUNIC_POWER)\
      \ >= 25) {\n    // Use Death Coil if we have enough runic power\n    unholyDK->CastSpell(target,\
      \ 47543);\n} else if (unholyDK->CanUseAbility(49184)) {\n    // Otherwise use\
      \ Death and Decay\n    unholyDK->CastSpell(target, 49184);\n}"
    language: cpp
  notes: This method is primarily used in AI logic for Unholy Death Knights to make
    intelligent decisions about which abilities to use. The implementation likely
    checks for resource availability (such as runes, runic power, or mana), cooldown
    status, and any temporary restrictions that may apply during combat. It's important
    to note that this method does not actually cast the spell; it only determines
    if casting is possible.
  warnings: This method should be called before attempting to cast a spell to avoid
    errors in gameplay logic. If used incorrectly, it may lead to invalid actions
    being attempted by the AI, potentially causing game state inconsistencies or unexpected
    behavior during combat.
  related:
  - CastSpell
  - GetPower
  - HasAura
  - IsOnCooldown
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T14:14:32.880519'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
