api:
  class: Aura
  method: ModStackAmount
  signature: bool Aura::ModStackAmount(int32 num, AuraRemoveMode removeMode, bool
    resetPeriodicTimer)
documentation:
  brief: Modifies the stack amount of an aura, optionally removing it based on a specified
    remove mode.
  description: The ModStackAmount method adjusts the number of times an aura is applied
    to a unit. It can increase or decrease the stack count and optionally trigger
    removal if the stack count reaches zero. The method supports different removal
    modes which determine how the aura is removed from the target. If resetPeriodicTimer
    is true, any periodic effects associated with the aura will have their timers
    reset. This functionality is commonly used in spell effects that modify aura stacks
    such as stacking debuffs or buffs.
  parameters:
  - name: num
    description: The amount to modify the aura stack by. Positive values increase
      the stack, negative values decrease it.
  - name: removeMode
    description: Specifies how the aura should be removed if the stack count reaches
      zero. Valid values are typically defined in the AuraRemoveMode enum such as
      AURA_REMOVE_BY_STACK, AURA_REMOVE_BY_DEATH, etc.
  - name: resetPeriodicTimer
    description: If true, resets the periodic timer for the aura's periodic effects
      when modifying the stack amount. If false, the timer continues as before.
  returns: Returns true if the modification was successful and the aura remains active
    or was properly removed; returns false if there was an error during processing.
  examples:
  - title: Increase Aura Stack
    code: "Aura* aura = unit->GetAura(12345);\nif (aura)\n{\n    aura->ModStackAmount(1,\
      \ AURA_REMOVE_BY_STACK, false);\n}"
    language: cpp
  - title: Decrease Aura Stack and Reset Timer
    code: "Aura* aura = unit->GetAura(12345);\nif (aura)\n{\n    aura->ModStackAmount(-2,\
      \ AURA_REMOVE_BY_STACK, true);\n}"
    language: cpp
  notes: This method directly manipulates the aura's stack count and may affect periodic
    tick calculations. It should be used carefully to avoid unintended behavior in
    complex aura interactions. The removeMode parameter determines whether the aura
    is removed immediately or delayed based on game logic.
  warnings: Modifying aura stacks can cause unexpected results if not handled properly,
    especially with periodic effects. Ensure that the aura exists and is valid before
    calling this method. Incorrect use of removeMode may lead to premature removal
    of auras that should persist.
  related:
  - GetStackAmount
  - SetStackAmount
  - RemoveAura
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T13:53:44.239447'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
