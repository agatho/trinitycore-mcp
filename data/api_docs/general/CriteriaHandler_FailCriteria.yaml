api:
  class: CriteriaHandler
  method: FailCriteria
  signature: void CriteriaHandler::FailCriteria(int failEvent, uint32 asset)
documentation:
  brief: Marks a criteria as failed for the associated player event and asset.
  description: The FailCriteria method is used to explicitly mark a specific criteria
    as failed within the TrinityCore framework. This method is typically invoked when
    a player's progress toward meeting certain achievement or quest criteria has been
    thwarted, either through failure conditions or by design. It updates internal
    tracking structures to reflect that the specified criteria should no longer be
    considered as met. The method operates on a per-player basis and requires valid
    event and asset identifiers to function correctly.
  parameters:
  - name: failEvent
    description: An integer identifier representing the type of event or condition
      that caused the criteria to fail. This value usually corresponds to predefined
      constants within the game's criteria system.
  - name: asset
    description: A unique identifier for the specific asset related to the criteria,
      such as an achievement ID, quest ID, or item ID. This parameter determines which
      criteria entry is affected by the failure.
  returns: null
  examples:
  - title: Marking Achievement Criteria as Failed
    code: 'CriteriaHandler handler;

      handler.FailCriteria(1001, 54321);

      // Marks achievement with ID 54321 as failed due to event 1001.'
    language: cpp
  - title: Handling Player Death Event
    code: "void OnPlayerDeath(Player* player) {\n    CriteriaHandler* handler = player->GetCriteriaHandler();\n\
      \    handler->FailCriteria(CRITERIA_EVENT_DEATH, 12345);\n}\n// Fails criteria\
      \ related to death event for a specific achievement."
    language: cpp
  notes: This method is part of the internal criteria management system and should
    only be called when necessary. It does not directly trigger any visual feedback
    to the player; instead, it updates the underlying data structures that may later
    be used for UI rendering or progression tracking.
  warnings: Calling this method without proper validation of event and asset IDs can
    lead to undefined behavior or incorrect criteria state. Ensure these values are
    valid before invoking the function.
  related:
  - CriteriaHandler::CompleteCriteria
  - CriteriaHandler::UpdateCriteria
  - CriteriaHandler::HasCriteria
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T09:00:01.075838'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
