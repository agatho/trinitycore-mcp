api:
  class: SpatialQueryMetrics
  method: GetAverageQueryTimeUs
  signature: uint32 SpatialQueryMetrics::GetAverageQueryTimeUs() const
documentation:
  brief: Calculates and returns the average time spent on spatial queries in microseconds.
  description: The GetAverageQueryTimeUs method computes the average duration, in
    microseconds, that has been spent processing spatial queries within the system.
    This metric is typically used for performance monitoring and optimization of spatial
    query operations such as those involved in collision detection, area triggering,
    or object visibility checks. The value reflects accumulated query times divided
    by the number of executed queries since the last reset or initialization. It is
    important to note that this method provides a snapshot of current performance
    metrics and may not account for real-time fluctuations unless updated regularly.
  parameters: []
  returns: A uint32 value representing the average time in microseconds (us) taken
    to execute spatial queries. Returns zero if no queries have been executed or if
    internal counters are uninitialized.
  examples:
  - title: Basic Usage Example
    code: 'SpatialQueryMetrics metrics;

      uint32 avgTime = metrics.GetAverageQueryTimeUs();

      std::cout << "Average query time: " << avgTime << " microseconds" << std::endl;'
    language: cpp
  - title: Performance Monitoring Example
    code: "void LogSpatialQueryPerformance(SpatialQueryMetrics& metrics) {\n    uint32\
      \ avgTime = metrics.GetAverageQueryTimeUs();\n    if (avgTime > 1000) {\n  \
      \      // Log high latency warning\n        sLog->outError(\"High spatial query\
      \ latency detected: %u us\", avgTime);\n    }\n}"
    language: cpp
  notes: This method relies on internal timing mechanisms and assumes that query durations
    are accurately tracked. The returned value is only meaningful when the system
    has processed a sufficient number of queries to provide a statistically relevant
    average. It's recommended to call this method periodically or after significant
    query activity for accurate performance insights.
  warnings: Do not assume that the returned value represents real-time query latency;
    it reflects an averaged historical metric. If spatial queries are infrequently
    executed, the result may be misleadingly low or zero.
  related:
  - GetTotalQueryCount
  - GetTotalQueryTimeUs
  - ResetMetrics
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T14:47:41.225055'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
