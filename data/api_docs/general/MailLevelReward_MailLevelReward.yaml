api:
  class: MailLevelReward
  method: MailLevelReward
  signature: void MailLevelReward::MailLevelReward(int _raceMask, uint32 _mailTemplateId,
    uint32 _senderEntry)
documentation:
  brief: Initializes a mail level reward with specified race mask, mail template ID,
    and sender entry.
  description: The MailLevelReward constructor initializes a mail reward system that
    sends a predefined mail message to players based on their level. This method sets
    up internal parameters for the mail delivery, including which races can receive
    the reward, what mail template to use, and who the sender of the mail should be.
    The mail reward system is typically used in conjunction with level-up rewards
    or achievement-based mail distributions within the TrinityCore framework. It does
    not send the mail directly but prepares the necessary data structures for later
    execution.
  parameters:
  - name: _raceMask
    description: A bitmask representing which races can receive this mail reward.
      Each bit corresponds to a specific race in the game. Valid values are combinations
      of race flags defined in the TrinityCore constants.
  - name: _mailTemplateId
    description: The ID of the mail template to be used for sending the reward mail.
      This must correspond to an existing mail template in the database, otherwise
      the mail will not be sent properly.
  - name: _senderEntry
    description: The entry ID of the creature or game object that will act as the
      sender of the mail. This is typically a NPC entry from the creature_template
      table.
  returns: null
  examples:
  - title: Initialize Mail Level Reward for All Races
    code: 'MailLevelReward reward(0xFFFFFFFF, 12345, 10001);

      // This initializes a mail reward that can be sent to all races

      // using mail template ID 12345 and sender entry 10001 (e.g., an NPC)'
    language: cpp
  - title: Initialize Mail Level Reward for Specific Race
    code: '#include "Define.h"

      MailLevelReward reward(RACE_HUMAN | RACE_DWARF, 12346, 10002);

      // This initializes a mail reward that can be sent to Human and Dwarf races

      // using mail template ID 12346 and sender entry 10002'
    language: cpp
  notes: This method is part of the mail system implementation in TrinityCore. It
    should only be called during server initialization or when setting up level-based
    rewards. The actual sending of the mail must be triggered separately using appropriate
    methods like SendMailToPlayer(). Ensure that the provided mail template ID exists
    in the database to avoid silent failures.
  warnings: Incorrect race mask values may result in no players receiving the reward.
    Using a non-existent mail template ID will cause the mail delivery to fail silently.
    This constructor does not validate input parameters, so it's the caller's responsibility
    to ensure valid values are passed.
  related:
  - SendMailToPlayer
  - GetRaceMask
  - GetMailTemplateId
  - GetSenderEntry
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T11:54:55.144805'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
