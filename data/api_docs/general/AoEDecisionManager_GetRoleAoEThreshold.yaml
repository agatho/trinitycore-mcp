api:
  class: AoEDecisionManager
  method: GetRoleAoEThreshold
  signature: uint32 AoEDecisionManager::GetRoleAoEThreshold() const
documentation:
  brief: Retrieves the threshold value used for determining role-based area-of-effect
    spell casting decisions.
  description: The GetRoleAoEThreshold method returns a uint32 value that represents
    the minimum number of targets required within an area-of-effect spell's range
    before the AI will consider casting the spell. This threshold is crucial for balancing
    spell usage in AI decision-making, ensuring that AoE abilities are not cast unnecessarily
    when few or no enemies are present. The returned value typically corresponds to
    a configuration setting or hardcoded value based on the creature's role (e.g.,
    tank, healer, damage dealer) and difficulty level. This method is part of the
    AoEDecisionManager class which handles all area-of-effect spell decision logic
    for AI-controlled creatures in TrinityCore.
  parameters: []
  returns: A uint32 value representing the minimum target count threshold required
    for an AI to consider casting an area-of-effect spell. A value of 0 typically
    indicates that no threshold is enforced, while higher values indicate stricter
    requirements for AoE usage.
  examples:
  - title: Basic Usage Example
    code: "uint32 threshold = ai->GetRoleAoEThreshold();\nif (threshold > 0)\n{\n\
      \    // Use threshold to determine if AoE spell should be cast\n    if (targetCount\
      \ >= threshold)\n        DoCastAOESpell();\n}"
    language: cpp
  - title: Integration with AI Decision Logic
    code: "class MyAI : public ScriptedAI\n{\npublic:\n    void UpdateAI(uint32 diff)\
      \ override\n    {\n        uint32 threshold = aiDecisionManager->GetRoleAoEThreshold();\n\
      \        if (me->IsWithinMeleeRange(target) && targetCount >= threshold)\n \
      \       {\n            // Cast AoE ability based on role threshold\n       \
      \     DoCastAOESpell();\n        }\n    }\n};"
    language: cpp
  notes: This method is typically called during AI decision-making cycles and should
    be cached if used frequently to avoid repeated lookups. The returned value may
    vary based on creature type, difficulty settings, or role-specific configurations.
    Implementation details suggest this value might be loaded from database configuration
    tables or hardcoded values per creature template.
  warnings: Ensure that the threshold value is properly validated against target counts
    before making spell casting decisions. Using an incorrect threshold can lead to
    either overuse or underuse of AoE spells, affecting both gameplay balance and
    AI behavior. This method should not be called in performance-critical sections
    without proper caching.
  related:
  - SetRoleAoEThreshold
  - GetRoleAoEDamageMultiplier
  - GetRoleAoERange
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T22:16:42.913805'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
