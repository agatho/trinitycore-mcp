api:
  class: InteractionManager
  method: GetGossipOptions
  signature: int InteractionManager::GetGossipOptions(Player * bot, Creature * npc)
    const
documentation:
  brief: Retrieves the gossip options available for a bot player interacting with
    a creature in World of Warcraft.
  description: The GetGossipOptions method is used within the TrinityCore framework
    to determine what interaction options are presented to a bot player when they
    engage with a specific creature. This method typically retrieves and processes
    the gossip menu entries associated with the NPC, considering factors such as quest
    availability, faction status, and player level. It serves as a core component
    in AI-driven bot behavior for handling NPC interactions. The method returns an
    integer representing the number of valid gossip options available for selection
    by the bot.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot character that
      is initiating the interaction with the creature.
  - name: npc
    description: Pointer to the Creature object representing the non-player character
      with which the bot is interacting.
  returns: An integer value indicating the number of valid gossip options available
    for the bot to choose from when interacting with the specified creature. Returns
    zero if no options are available or if an error occurs during processing.
  examples:
  - title: Basic Usage in Bot AI Logic
    code: "int options = interactionManager.GetGossipOptions(botPlayer, npcCreature);\n\
      if (options > 0) {\n    // Proceed with selecting a gossip option\n    botPlayer->GetSession()->SendGossipMenu(12345,\
      \ npcCreature->GetGUID());\n}"
    language: cpp
  - title: Handling Gossip Options in Bot Decision Making
    code: "int numOptions = interactionManager.GetGossipOptions(botPlayer, targetNpc);\n\
      switch (numOptions) {\n    case 0:\n        // No options available, move on\n\
      \        break;\n    case 1:\n        // Select the only option\n        botPlayer->PlayerTalkClass->GetGossipMenu().AddMenuItem(0,\
      \ 0, \"Accept Quest\");\n        break;\n    default:\n        // Multiple options,\
      \ choose based on conditions\n        break;\n}"
    language: cpp
  notes: This method is part of the interaction management system used by AI bots
    in TrinityCore. It relies on internal gossip menu data structures and should be
    called after ensuring that both player and creature objects are valid. The returned
    integer does not represent specific option IDs but rather the count of available
    choices.
  warnings: Ensure that both 'bot' and 'npc' parameters are non-null before calling
    this method, as dereferencing null pointers will cause a crash. This method may
    not account for dynamic conditions such as quest state changes during runtime
    unless explicitly re-evaluated.
  related:
  - GetGossipMenu
  - SendGossipMenu
  - PlayerTalkClass::GetGossipMenu
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T13:32:53.415710'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
