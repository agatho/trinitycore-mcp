api:
  class: MountManager
  method: IsIndoors
  signature: bool MountManager::IsIndoors(int * player) const
documentation:
  brief: Determines whether a player is currently indoors or in an outdoor environment.
  description: The IsIndoors method checks the current environmental state of a player
    to determine if they are located indoors, such as inside a building or dungeon,
    versus outdoors in an open world area. This functionality is essential for various
    game mechanics including mount behavior, spell effects, and quest conditions that
    vary based on indoor/outdoor status. The method evaluates the player's current
    map and zone data to make this determination. It is commonly used by the game
    engine to enforce rules specific to indoor environments, such as preventing certain
    mounts from being used inside buildings or adjusting visibility for spells.
  parameters:
  - name: player
    description: Pointer to an integer representing the player's unique identifier
      (GUID). This parameter is expected to be a valid pointer to a player's GUID
      value.
  returns: Returns true if the player is currently indoors, false if the player is
    outdoors. The method does not return null or error codes as it operates on a valid
    player reference.
  examples:
  - title: Basic usage to check indoor status
    code: "int playerGUID = 12345;\nbool isIndoor = mountManager.IsIndoors(&playerGUID);\n\
      if (isIndoor)\n{\n    // Player is indoors\n    printf(\"Player is inside a\
      \ building\\n\");\n}\nelse\n{\n    // Player is outdoors\n    printf(\"Player\
      \ is in an open area\\n\");\n}"
    language: cpp
  - title: Using indoor status for mount restriction logic
    code: "int playerGUID = 12345;\nif (mountManager.IsIndoors(&playerGUID))\n{\n\
      \    // Prevent flying mounts in indoor areas\n    player->SetCanFly(false);\n\
      \    player->SendNotification(\"Flying is not allowed indoors.\");\n}\nelse\n\
      {\n    // Allow flying mounts in outdoor areas\n    player->SetCanFly(true);\n\
      }"
    language: cpp
  notes: This method relies on the TrinityCore's internal zone and map system to determine
    indoor/outdoor status. The implementation may vary depending on the specific map
    and zone definitions, including custom content or expansions. Performance is generally
    fast as it uses cached zone data rather than complex spatial calculations.
  warnings: The player parameter must be a valid pointer to a player GUID; passing
    null or invalid pointers could lead to undefined behavior. Additionally, this
    method may not account for all edge cases like partially indoor areas or custom
    indoor environments that don't conform to standard zone definitions.
  related:
  - IsOutdoor
  - GetPlayerZone
  - IsInDungeon
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T08:30:40.231620'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
