api:
  class: CombatStateAnalyzer
  method: UpdateMetrics
  signature: void CombatStateAnalyzer::UpdateMetrics(uint32 diff)
documentation:
  brief: Updates combat-related metrics based on the elapsed time since last update
  description: The UpdateMetrics method is responsible for maintaining and recalculating
    various combat state statistics and performance indicators within the CombatStateAnalyzer
    class. It processes the time difference (diff) parameter to determine how much
    real-time has passed since the last metric update, allowing it to adjust combat-related
    data such as damage dealt, healing done, threat generation, and other combat performance
    metrics. This method is typically called during the game loop's update cycle to
    ensure that combat statistics remain accurate and up-to-date with the current
    combat state. The method does not require any specific preconditions but assumes
    that the CombatStateAnalyzer instance has been properly initialized with valid
    combat data.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Game Loop
    code: "void GameWorld::Update(uint32 diff)\n{\n    // ... other update logic ...\n\
      \    combatAnalyzer.UpdateMetrics(diff);\n    // ... continue with other updates\
      \ ...\n}"
    language: cpp
  - title: Integration with Combat System
    code: "void Player::UpdateCombatState(uint32 diff)\n{\n    if (IsInCombat())\n\
      \    {\n        combatAnalyzer.UpdateMetrics(diff);\n        // Process updated\
      \ combat metrics\n        uint32 damageDealt = combatAnalyzer.GetTotalDamageDealt();\n\
      \        uint32 threatGenerated = combatAnalyzer.GetThreatGenerated();\n   \
      \ }\n}"
    language: cpp
  notes: This method should be called regularly during the game loop to maintain accurate
    combat statistics. The diff parameter represents milliseconds elapsed since last
    update, which is crucial for time-based calculations. The implementation likely
    uses this time delta to normalize combat metrics and prevent artificial inflation
    of values due to frame rate variations.
  warnings: Ensure that UpdateMetrics is called consistently with the same time delta
    values to maintain metric accuracy. Avoid calling this method outside of the main
    game update loop as it may cause inconsistent combat state tracking.
  related:
  - GetTotalDamageDealt
  - GetThreatGenerated
  - ResetMetrics
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T06:15:26.775475'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
