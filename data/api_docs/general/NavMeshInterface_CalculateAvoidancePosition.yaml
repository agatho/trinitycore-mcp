api:
  class: NavMeshInterface
  method: CalculateAvoidancePosition
  signature: bool NavMeshInterface::CalculateAvoidancePosition(Map * map, const int
    & position, const int & avoidPos, float avoidRadius, int & result) const
documentation:
  brief: Calculates a position that avoids a specified area within a given radius.
  description: The CalculateAvoidancePosition method determines a new position that
    is at least the specified avoidance radius away from a given point. It is used
    in navigation and pathfinding to ensure units do not occupy or approach dangerous
    areas, such as traps, enemies, or other obstacles. The method operates on the
    NavMesh of the provided map and attempts to find a valid location that satisfies
    the avoidance criteria. This function is commonly used for AI behavior where entities
    need to move away from certain points while maintaining navigability.
  parameters:
  - name: map
    description: Pointer to the Map object on which the avoidance calculation is performed.
      Must be a valid map instance with an active NavMesh.
  - name: position
    description: The starting position from which the avoidance calculation begins.
      Represented as an integer, likely a coordinate or index within the map's navigation
      system.
  - name: avoidPos
    description: The position to avoid. This is the center point of the area that
      should be avoided. Represented as an integer, likely a coordinate or index.
  - name: avoidRadius
    description: The radius around avoidPos within which the result position must
      not enter. Must be a positive float value representing distance units.
  - name: result
    description: Output parameter that will contain the calculated avoidance position
      if the method succeeds. The result is returned as an integer, likely a coordinate
      or index.
  returns: Returns true if a valid avoidance position was successfully calculated
    and stored in the result parameter; otherwise returns false if no suitable position
    could be found.
  examples:
  - title: Basic usage of CalculateAvoidancePosition
    code: "Map* map = ...;\nint position = 100;\nint avoidPos = 200;\nfloat avoidRadius\
      \ = 5.0f;\nint result;\n\nif (navMeshInterface.CalculateAvoidancePosition(map,\
      \ position, avoidPos, avoidRadius, result)) {\n    // Use the calculated result\
      \ position\n    printf(\"Avoidance position: %d\\n\", result);\n} else {\n \
      \   // Handle case where no valid avoidance position was found\n    printf(\"\
      No valid avoidance position found.\\n\");\n}"
    language: cpp
  notes: This method relies on the underlying NavMesh to perform spatial calculations
    and find valid positions. Performance may be affected by complex terrain or dense
    navigation data. The method assumes that all inputs are valid, including non-null
    map pointers and positive radius values.
  warnings: Ensure that the input map has an active NavMesh before calling this method;
    otherwise, the behavior is undefined. Also, avoid using very large avoidance radii
    relative to the map size as it might lead to performance degradation or failure
    to find a valid position.
  related:
  - CalculatePath
  - FindNearestPoint
  - IsInLineOfSight
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T08:00:16.773774'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
