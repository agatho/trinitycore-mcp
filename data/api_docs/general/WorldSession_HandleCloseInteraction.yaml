api:
  class: WorldSession
  method: HandleCloseInteraction
  signature: void WorldSession::HandleCloseInteraction(WorldPackets::Misc::CloseInteraction
    & closeInteraction)
documentation:
  brief: Closes an interaction with a game object or NPC, typically sent when a player
    finishes interacting with an object.
  description: The HandleCloseInteraction method processes incoming packets from players
    indicating they have finished interacting with a game object such as a quest giver,
    vendor, or mailbox. This method is part of the WorldSession class and handles
    cleanup related to ongoing interactions. It ensures that any temporary state associated
    with the interaction is properly reset and that the player's session is updated
    accordingly. The method typically gets called when a player closes an interaction
    window or walks away from an interactable object without completing the interaction.
  parameters:
  - name: closeInteraction
    description: A packet containing information about the interaction being closed,
      including the GUID of the object being interacted with and any relevant flags
      or data.
  returns: null
  examples:
  - title: Basic usage in a session handler
    code: "void WorldSession::HandleCloseInteraction(WorldPackets::Misc::CloseInteraction&\
      \ closeInteraction)\n{\n    // Process the interaction close event\n    if (Player*\
      \ player = GetPlayer())\n    {\n        // Clear any active interaction state\n\
      \        player->GetSession()->ClearInteraction();\n    }\n}"
    language: cpp
  notes: This method is typically invoked automatically by the packet handling system
    when a CloseInteraction packet is received. Developers should ensure that any
    custom interaction logic properly cleans up resources when this method is called.
  warnings: null
  related:
  - HandleGameObjectUse
  - HandleNpcTextQuery
  - HandleQuestGiverStatusQuery
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T22:24:33.809847'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
