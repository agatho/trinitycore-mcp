api:
  class: DB2Manager
  method: Map2ZoneCoordinates
  signature: void DB2Manager::Map2ZoneCoordinates(uint32 areaId, float & x, float
    & y) const
documentation:
  brief: Converts area coordinates to zone coordinates for a given area ID.
  description: The Map2ZoneCoordinates method performs a coordinate transformation
    from area-specific coordinates to zone-based coordinates. This is commonly used
    in World of Warcraft's TrinityCore to translate positions within a specific area
    (such as a dungeon or instance) into the corresponding zone coordinates that are
    used for global world positioning and mapping. The method modifies the provided
    x and y float references in-place, converting them from local area space to the
    standard zone coordinate system. This functionality is essential for proper positioning
    of game objects, NPCs, and player movements when dealing with area-specific coordinate
    systems.
  parameters:
  - name: areaId
    description: The unique identifier of the area for which coordinates need to be
      converted. This ID corresponds to entries in the AreaTable.db2 file and represents
      a specific geographic region or instance within the game world.
  - name: x
    description: Reference to a float value representing the X coordinate in area
      space that will be converted to zone coordinates.
  - name: y
    description: Reference to a float value representing the Y coordinate in area
      space that will be converted to zone coordinates.
  returns: null
  examples:
  - title: Convert Area Coordinates to Zone Coordinates
    code: 'uint32 areaId = 1234;

      float x = 50.0f;

      float y = 75.0f;

      DB2Manager::Map2ZoneCoordinates(areaId, x, y);

      // x and y now contain the converted zone coordinates'
    language: cpp
  - title: Using with Player Positioning
    code: 'Player* player = ...;

      uint32 currentArea = player->GetAreaId();

      float playerX = player->GetPositionX();

      float playerY = player->GetPositionY();

      DB2Manager::Map2ZoneCoordinates(currentArea, playerX, playerY);

      // Now playerX and playerY represent zone coordinates for the current area'
    language: cpp
  notes: This method relies on internal DB2 data structures and assumes that the provided
    areaId exists in the database. The conversion is performed in-place, modifying
    the original x and y values. It's important to ensure that the areaId corresponds
    to a valid area entry for correct results.
  warnings: Ensure that the areaId parameter is valid and corresponds to an existing
    area in the AreaTable.db2 file. Using invalid area IDs may result in incorrect
    coordinate transformations or undefined behavior. The method modifies input parameters
    directly, so be cautious when using it with variables that need to preserve their
    original values.
  related:
  - GetAreaIdByAreaNumber
  - GetZoneCoordinates
  - Map2AreaCoordinates
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T08:53:31.511765'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
