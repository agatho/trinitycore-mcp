api:
  class: FormulaScript
  method: OnHonorCalculation
  signature: void FormulaScript::OnHonorCalculation(float & honor, uint8 level, float
    multiplier)
documentation:
  brief: Modifies the honor amount calculation based on player level and multiplier
  description: The OnHonorCalculation method is a hook point in TrinityCore's FormulaScript
    system that allows custom modifications to how honor points are calculated for
    players. This method is invoked during honor gain computations and provides an
    opportunity for scripters to adjust the base honor amount using the provided level
    and multiplier parameters. The method receives a reference to the honor value,
    allowing direct modification of the calculation result. It is typically used in
    custom scripts or expansions to alter game mechanics such as honor scaling with
    player levels or applying special multipliers for achievements.
  parameters:
  - name: honor
    description: Reference to the base honor amount that will be modified by the script.
      This value can be directly altered to change the final honor gain.
  - name: level
    description: The level of the player who earned the honor. Used to determine scaling
      factors or level-based adjustments to honor calculations.
  - name: multiplier
    description: A floating-point multiplier that affects the honor calculation. This
      can represent various game modifiers such as PvP bonuses, achievements, or special
      events.
  returns: null
  examples:
  - title: Basic Honor Multiplier Adjustment
    code: "class MyFormulaScript : public FormulaScript\n{\npublic:\n    void OnHonorCalculation(float&\
      \ honor, uint8 level, float multiplier) override\n    {\n        // Double the\
      \ honor for players above level 70\n        if (level > 70)\n            honor\
      \ *= 2.0f;\n        else\n            honor *= multiplier;\n    }\n};"
    language: cpp
  - title: Conditional Honor Scaling Based on Level
    code: "class MyFormulaScript : public FormulaScript\n{\npublic:\n    void OnHonorCalculation(float&\
      \ honor, uint8 level, float multiplier) override\n    {\n        // Apply different\
      \ multipliers based on player level\n        if (level >= 70)\n            honor\
      \ *= 1.5f;\n        else if (level >= 60)\n            honor *= 1.2f;\n    \
      \    else\n            honor *= multiplier;\n    }\n};"
    language: cpp
  notes: This method is called during the honor calculation process, so any modifications
    made to the honor parameter will directly affect the final honor amount awarded
    to the player. The method should be implemented carefully to avoid unintended
    side effects or performance issues. It's recommended to keep calculations lightweight
    as this hook may be invoked frequently during PvP activities.
  warnings: Modifying the honor value directly can lead to unexpected behavior in
    the game's honor system if not handled properly. Ensure that modifications are
    within reasonable bounds to prevent exploitation or game balance issues. Avoid
    complex operations or database calls within this method as it might impact performance
    during active PvP scenarios.
  related:
  - OnHonorCalculation
  - OnXPChange
  - OnKillReward
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T07:23:08.867413'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
