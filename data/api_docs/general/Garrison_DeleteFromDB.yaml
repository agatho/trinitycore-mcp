api:
  class: Garrison
  method: DeleteFromDB
  signature: void Garrison::DeleteFromDB(int ownerGuid, int trans)
documentation:
  brief: Deletes a garrison from the database for the specified owner GUID
  description: The DeleteFromDB method removes all garrison-related data associated
    with a specific player from the database. This includes all structures, buildings,
    and garrison information linked to the given owner GUID. The operation is performed
    within the context of a database transaction identified by the trans parameter,
    ensuring data consistency. This method is typically invoked when a player's garrison
    is being completely removed or reset, such as during character deletion or garrison
    destruction events.
  parameters:
  - name: ownerGuid
    description: The unique identifier (GUID) of the player whose garrison data should
      be deleted from the database
  - name: trans
    description: Database transaction handle used to ensure atomicity of the deletion
      operation across multiple related tables
  returns: null
  examples:
  - title: Delete a player's garrison data
    code: 'Garrison garrison;

      garrison.DeleteFromDB(12345, transaction);'
    language: cpp
  notes: This method assumes that all related garrison data is properly linked to
    the owner GUID and that the provided transaction is valid. It should only be called
    when it's safe to remove all garrison data for a specific player.
  warnings: Calling this method without proper transaction handling may result in
    inconsistent database state. Ensure that all dependent data is also cleaned up
    appropriately before calling this method.
  related:
  - Garrison::SaveToDB
  - Garrison::LoadFromDB
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T13:45:46.747342'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
