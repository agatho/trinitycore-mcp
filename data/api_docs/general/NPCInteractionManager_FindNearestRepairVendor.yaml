api:
  class: NPCInteractionManager
  method: FindNearestRepairVendor
  signature: Creature * NPCInteractionManager::FindNearestRepairVendor() const
documentation:
  brief: Finds and returns the nearest creature that serves as a repair vendor within
    the NPC's interaction range.
  description: The FindNearestRepairVendor method searches for the closest Creature
    object in the vicinity of the NPC that has repair capabilities. It typically scans
    through nearby NPCs to locate one that can provide item repair services, such
    as a blacksmith or general merchant. This method is commonly used during NPC interaction
    logic to determine which vendor should be approached for repairs. The search considers
    both proximity and the creature's ability to act as a repair vendor, making it
    an essential utility for implementing proper NPC interaction behavior in TrinityCore-based
    servers.
  parameters: []
  returns: A pointer to a Creature object representing the nearest repair vendor,
    or nullptr if no suitable vendor is found within the search range.
  examples:
  - title: Basic Usage in NPC Interaction
    code: "void MyNPC::OnGossipHello(Player* player)\n{\n    Creature* repairVendor\
      \ = sNPCInteractionManager->FindNearestRepairVendor();\n    if (repairVendor)\n\
      \    {\n        // Proceed with interaction\n        player->ADD_GOSSIP_ITEM(GOSSIP_ICON_CHAT,\
      \ \"Repair Items\", GOSSIP_SENDER_MAIN, 1);\n    }\n    else\n    {\n      \
      \  // No repair vendor found\n        player->SendNoMoney();\n    }\n    player->SEND_GOGGIP_MENU(1,\
      \ player->GetGUID());\n}"
    language: cpp
  notes: This method performs a spatial search within the NPC's current map and may
    be affected by performance considerations if many NPCs are present. The implementation
    likely uses spatial partitioning or bounding box checks to optimize the search
    process.
  warnings: The returned Creature pointer should always be checked for null before
    use, as there might not be any repair vendors in range. Additionally, this method
    only finds vendors that have repair capabilities enabled in their AI or database
    configuration.
  related:
  - FindNearestVendor
  - FindNearestTrainer
  - FindNearestBanker
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T23:20:58.204339'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
