api:
  class: InstanceMap
  method: CreateInstanceLockForPlayer
  signature: void InstanceMap::CreateInstanceLockForPlayer(Player * player)
documentation:
  brief: Creates an instance lock for the specified player, preventing them from entering
    the same instance multiple times.
  description: The CreateInstanceLockForPlayer method is responsible for establishing
    a lock on an instance map for a given player. This mechanism ensures that players
    cannot enter the same instance multiple times simultaneously, which is crucial
    for maintaining game balance and preventing exploits such as stacking or duplicate
    loot collection. The lock typically prevents the player from entering the instance
    again until their current session ends or the lock is explicitly removed. This
    method is generally called when a player enters an instance map for the first
    time, and it may also be used in conjunction with other instance management systems
    to track player participation.
  parameters: []
  returns: null
  examples:
  - title: Basic usage example
    code: "void HandlePlayerEnterInstance(Player* player)\n{\n    if (player && player->GetMap()\
      \ && player->GetMap()->IsDungeon())\n    {\n        InstanceMap* instanceMap\
      \ = static_cast<InstanceMap*>(player->GetMap());\n        instanceMap->CreateInstanceLockForPlayer(player);\n\
      \    }\n}"
    language: cpp
  notes: This method likely interacts with internal tracking systems to monitor player
    instance usage. It may also be tied to the instance's save/load system and could
    affect how the instance handles subsequent player entries.
  warnings: null
  related:
  - GetInstanceLockForPlayer
  - RemoveInstanceLockForPlayer
  - IsPlayerLockedInInstance
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T05:35:03.808335'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
