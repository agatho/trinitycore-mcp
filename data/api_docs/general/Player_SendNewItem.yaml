api:
  class: Player
  method: SendNewItem
  signature: void Player::SendNewItem(Item * item, uint32 quantity, bool received,
    bool created, bool broadcast, uint32 dungeonEncounterId)
documentation:
  brief: Sends a new item notification to the player's client, including item details
    and optionally broadcasting to nearby players.
  description: The SendNewItem method is used to notify a player's client about a
    newly obtained item, including its quality, enchantments, and other relevant properties.
    It can optionally broadcast the item to nearby players in the same group or instance,
    making it useful for handling loot distribution or quest rewards. The method handles
    both received and created items, allowing developers to control whether the item
    is marked as having been received or created by the player.
  parameters:
  - name: item
    description: Pointer to the Item object that is being sent to the player. This
      must be a valid item instance with proper item data.
  - name: quantity
    description: The quantity of items being sent, typically used for stackable items.
      Must be greater than 0.
  - name: received
    description: Boolean indicating whether the item was received by the player (true)
      or created (false). Controls item display behavior in client UI.
  - name: created
    description: Boolean indicating whether the item was created by the player (true)
      or received from another source (false). Affects item creation behavior and
      display.
  - name: broadcast
    description: Boolean indicating whether to broadcast the item to nearby players.
      When true, other players in the same group/instance will see the item notification.
  - name: dungeonEncounterId
    description: Optional parameter specifying the encounter ID for dungeon loot tracking.
      Used for tracking which encounter the item came from, if applicable.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'Player* player = ...;

      Item* item = ...;

      player->SendNewItem(item, 1, true, false, true, 0);'
    language: cpp
  - title: Advanced Usage with Dungeon Encounter ID
    code: 'Player* player = ...;

      Item* item = ...;

      player->SendNewItem(item, 1, true, false, true, 1234);

      // This sends the item to player and broadcasts it to nearby players

      // while tracking the encounter ID for dungeon loot.'
    language: cpp
  notes: This method is typically used in conjunction with item creation or loot distribution
    logic. It must be called after the item has been properly initialized and assigned
    to the player. The method handles client-side notifications, so it should not
    be used for server-side item processing. Performance considerations include avoiding
    frequent calls when multiple players are involved.
  warnings: Be cautious when using broadcast flag as it may cause performance issues
    in large groups or instances. Ensure that item pointer is valid and not null before
    calling this method. The quantity parameter must be greater than zero to avoid
    client-side display issues.
  related:
  - Player::SendItemPushResult
  - Player::AddItemToInventory
  - Player::ItemAdded
  - Player::SendUpdateWorld
  - Player::SendPacket
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T23:41:03.612326'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
