api:
  class: BehaviorCluster
  method: AssignToClusters
  signature: void BehaviorCluster::AssignToClusters()
documentation:
  brief: Assigns behavior cluster members to their respective clusters based on proximity
    and group criteria.
  description: The AssignToClusters method is responsible for organizing AI-controlled
    entities into behavior clusters within the TrinityCore framework. This method
    evaluates the current state of nearby units and groups them into logical clusters
    based on factors such as distance, faction, and behavioral patterns. It typically
    runs during AI update cycles to ensure that mobs or NPCs are grouped appropriately
    for coordinated behavior, such as swarm attacks or synchronized movement. The
    assignment process considers both individual unit properties and collective group
    dynamics to form effective tactical clusters.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in AI update loop
    code: "void MyAI::UpdateAI(uint32 diff)\n{\n    // ... other AI logic ...\n  \
      \  if (m_behaviorCluster)\n        m_behaviorCluster->AssignToClusters();\n\
      \    // ... rest of AI logic ...\n}"
    language: cpp
  notes: This method is typically invoked during AI update cycles and may have performance
    implications when dealing with large numbers of units. It relies on accurate positioning
    data and should be called after unit positions are updated to ensure correct clustering.
  warnings: Calling this method outside of the proper AI update context may lead to
    inconsistent behavior or incorrect cluster assignments. Ensure that all involved
    units have valid positions before invoking this method.
  related:
  - GetClusterMembers
  - ClearClusters
  - IsInCluster
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T08:38:28.359418'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
