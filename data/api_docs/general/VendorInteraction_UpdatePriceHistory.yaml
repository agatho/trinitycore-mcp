api:
  class: VendorInteraction
  method: UpdatePriceHistory
  signature: void VendorInteraction::UpdatePriceHistory(uint32 vendorGuid, uint32
    itemId, uint32 price)
documentation:
  brief: Updates the price history record for a specific item sold by a vendor in
    the game.
  description: The UpdatePriceHistory method maintains and updates historical pricing
    data for items sold through vendors within the TrinityCore framework. This function
    is typically invoked when a vendor sells an item to a player, recording the transaction
    price for future reference or analysis. It ensures that price fluctuations and
    vendor-specific pricing behavior are tracked over time, which can be used for
    features like market monitoring, economic simulation, or debugging pricing issues.
    The method likely interacts with internal databases or caches to store this information
    efficiently.
  parameters:
  - name: vendorGuid
    description: The unique identifier (GUID) of the vendor who is selling the item.
      This value must correspond to a valid GameObject of type VENDOR in the game
      world.
  - name: itemId
    description: The unique identifier of the item being sold by the vendor. This
      should match an entry in the item template database.
  - name: price
    description: The current selling price of the item as set by the vendor. This
      value represents the amount of gold or currency the player pays for the item.
  returns: null
  examples:
  - title: Basic Usage Example
    code: VendorInteraction::UpdatePriceHistory(12345, 67890, 5000);
    language: cpp
  - title: Integration with Vendor Transaction Logic
    code: "void OnVendorSell(Player* player, uint32 vendorGuid, uint32 itemId, uint32\
      \ price)\n{\n    // Perform transaction logic here\n    // ...\n    VendorInteraction::UpdatePriceHistory(vendorGuid,\
      \ itemId, price);\n}"
    language: cpp
  notes: This method may be called frequently during gameplay when vendors sell items.
    It's recommended that implementations are optimized to avoid performance bottlenecks,
    especially in high-traffic scenarios with many vendors and items. The internal
    storage mechanism for price history might involve caching or database writes depending
    on the server configuration.
  warnings: Ensure that vendorGuid and itemId parameters refer to valid entities in
    the game world; invalid GUIDs or item IDs may lead to undefined behavior or data
    corruption. This method should not be called outside of legitimate vendor transaction
    contexts to maintain data integrity.
  related:
  - GetPriceHistory
  - ResetPriceHistory
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T22:59:47.977854'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
