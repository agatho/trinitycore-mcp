api:
  class: Guild
  method: OnPlayerStatusChange
  signature: void Guild::OnPlayerStatusChange(Player * player, uint32 flag, bool state)
documentation:
  brief: Handles changes to a player's guild status flags, updating internal state
    and notifying relevant systems.
  description: The OnPlayerStatusChange method is invoked when a player's guild-related
    status flags are modified. This includes changes such as online/offline status,
    guild permissions, or other flag-based states that affect how the player interacts
    with the guild system. The method updates internal tracking of the player's status
    within the guild and may trigger notifications or synchronization events to maintain
    consistency across the game world. It serves as a core part of the guild management
    system, ensuring that all components are aware of player status changes in real-time.
  parameters:
  - name: player
    description: Pointer to the Player object whose guild status is being changed.
      Must not be null.
  - name: flag
    description: The specific guild status flag that has changed. This typically represents
      a bitfield value indicating which aspect of the player's status has been modified
      (e.g., online status, permissions).
  - name: state
    description: Boolean value indicating the new state of the specified flag. True
      means the flag is now active, false means it is inactive.
  returns: null
  examples:
  - title: Updating a player's online status in guild
    code: "void UpdatePlayerOnlineStatus(Player* player, bool isOnline)\n{\n    uint32\
      \ flag = GUILD_MEMBER_FLAG_ONLINE;\n    guild->OnPlayerStatusChange(player,\
      \ flag, isOnline);\n}"
    language: cpp
  - title: Handling multiple status changes for a player
    code: "void HandlePlayerGuildStatusChange(Player* player)\n{\n    // Set online\
      \ status\n    guild->OnPlayerStatusChange(player, GUILD_MEMBER_FLAG_ONLINE,\
      \ true);\n    \n    // Set officer status\n    guild->OnPlayerStatusChange(player,\
      \ GUILD_MEMBER_FLAG_OFFICER, false);\n}"
    language: cpp
  notes: This method is typically called internally by the TrinityCore framework when
    player status changes occur. Developers should not directly invoke this method
    unless implementing custom guild behavior or extending the core functionality.
    The implementation may involve updating internal data structures, sending packets
    to clients, and triggering other related events.
  warnings: Passing a null player pointer will likely result in undefined behavior
    or crashes. Ensure that the flag value is valid and corresponds to known guild
    status flags to avoid unexpected side effects. This method modifies internal state,
    so calling it without proper synchronization may cause race conditions in multi-threaded
    environments.
  related:
  - Guild::AddMember
  - Guild::RemoveMember
  - Guild::GetMember
  - Guild::SendPacketToAll
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T00:33:19.211238'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
