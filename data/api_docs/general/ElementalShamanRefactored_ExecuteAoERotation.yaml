api:
  class: ElementalShamanRefactored
  method: ExecuteAoERotation
  signature: void ElementalShamanRefactored::ExecuteAoERotation(int * target, uint32
    enemyCount)
documentation:
  brief: Executes the elemental shaman's AoE rotation logic based on target and enemy
    count.
  description: The ExecuteAoERotation method implements the core logic for an elemental
    shaman's area-of-effect combat rotation. It evaluates the current combat situation,
    including the number of enemies present and the target selection, to determine
    the optimal sequence of spells and abilities to cast. This method typically prioritizes
    high-damage AoE spells such as Lava Burst or Chain Lightning when multiple enemies
    are present, while also considering resource management like mana and spell cooldowns.
    The method is designed to be called during the AI update cycle in TrinityCore's
    combat system.
  parameters:
  - name: target
    description: Pointer to an integer representing the index or identifier of the
      primary target. This value may be used to determine targeting priority or to
      fetch specific enemy data from the game world.
  - name: enemyCount
    description: Unsigned 32-bit integer indicating the number of enemies currently
      within the shaman's attack range. Used to decide whether to use single-target
      or AoE spells, and to determine spell effectiveness.
  returns: null
  examples:
  - title: Basic Usage in Combat AI
    code: "void ElementalShamanAI::UpdateAI(uint32 diff)\n{\n    if (!UpdateVictim())\n\
      \        return;\n\n    int targetIndex = GetTargetIndex();\n    uint32 enemiesInRange\
      \ = GetEnemiesInRange();\n    \n    if (enemiesInRange > 1)\n        m_elementalShaman.ExecuteAoERotation(&targetIndex,\
      \ enemiesInRange);\n}"
    language: cpp
  notes: This method assumes that the shaman has valid target data and sufficient
    resources to execute AoE spells. It should be called only when in combat and when
    the AI is active. The implementation may vary depending on the specific version
    of TrinityCore being used.
  warnings: Ensure that the target pointer is valid before passing it to this method,
    as dereferencing an invalid pointer can cause a crash. Also, be cautious about
    calling this method too frequently without proper cooldown checks, which could
    lead to performance issues or spell spamming.
  related:
  - ExecuteSingleTargetRotation
  - GetEnemiesInRange
  - IsSpellReady
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T12:20:48.619821'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
