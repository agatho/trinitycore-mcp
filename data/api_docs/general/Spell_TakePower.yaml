api:
  class: Spell
  method: TakePower
  signature: void Spell::TakePower()
documentation:
  brief: Takes power from the caster when a spell is cast
  description: The TakePower method handles the removal of power (mana, rage, focus,
    or energy) from the spell caster during spell execution. This method is typically
    invoked when a spell requires power to be consumed, such as when casting a spell
    that uses mana or other resource types. It ensures that the caster's power levels
    are properly reduced according to the spell's requirements and game mechanics.
  parameters: []
  returns: null
  examples:
  - title: Basic Spell Power Consumption Example
    code: "void Spell::TakePower()\n{\n    if (IsSpellWithPower())\n    {\n      \
      \  // Remove power from caster\n        caster->ModifyPowerTypeValue(PowerType::MANA,\
      \ -spell->GetPowerCost());\n    }\n}\n"
    language: cpp
  notes: This method should be called after spell validation and before the spell
    is actually cast. It ensures that power is correctly deducted from the caster's
    resource pool, which is essential for maintaining game balance and preventing
    exploits.
  warnings: Improper handling of power consumption can lead to resource overflow or
    underflow, potentially causing game imbalance or player exploit. Always verify
    that the spell has sufficient power before calling this method.
  related:
  - Spell::GetPowerCost
  - Spell::IsSpellWithPower
  - Spell::CastSpell
metadata:
  confidence: 0.85
  generated_at: '2025-10-30T21:46:43.540669'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
