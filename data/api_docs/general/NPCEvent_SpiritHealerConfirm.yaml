api:
  class: NPCEvent
  method: SpiritHealerConfirm
  signature: NPCEvent NPCEvent::SpiritHealerConfirm(int playerGuid, int npcGuid)
documentation:
  brief: Handles the confirmation process for a spirit healer NPC event, returning
    an NPCEvent object representing the confirmed interaction.
  description: The SpiritHealerConfirm method is used to finalize and process a player's
    interaction with a spirit healer NPC in World of Warcraft's TrinityCore environment.
    This method typically occurs after a player has selected to be resurrected or
    healed by a spirit healer, and it transitions the NPC event state accordingly.
    It ensures proper handling of the resurrection or healing mechanics, including
    updating the player's status and potentially triggering related quest or achievement
    events. The method returns an NPCEvent object that encapsulates the confirmed
    interaction for further processing within the game's AI or event system.
  parameters:
  - name: playerGuid
    description: The unique identifier (GUID) of the player who is confirming the
      spirit healer interaction. Must be a valid player GUID in the TrinityCore database.
  - name: npcGuid
    description: The unique identifier (GUID) of the spirit healer NPC that the player
      is interacting with. Must correspond to an existing spirit healer NPC in the
      game world.
  returns: An NPCEvent object representing the confirmed spirit healer interaction.
    This object contains all relevant data and state information about the event,
    which can be used for further processing or event handling within the TrinityCore
    framework.
  examples:
  - title: Basic Spirit Healer Confirmation
    code: "NPCEvent event = SpiritHealerConfirm(playerGuid, npcGuid);\n// Process\
      \ the returned NPCEvent to handle resurrection logic\nif (event.IsValid()) {\n\
      \    // Proceed with spirit healer confirmation logic\n}"
    language: cpp
  - title: Advanced Spirit Healer Event Handling
    code: "uint64 playerGUID = 123456;\nuint64 npcGUID = 789012;\nNPCEvent event =\
      \ SpiritHealerConfirm(playerGUID, npcGUID);\n\nif (event.GetEventType() == NPC_EVENT_SPIRIT_HEAL)\
      \ {\n    Player* player = ObjectAccessor::FindPlayer(playerGUID);\n    if (player)\
      \ {\n        player->ResurrectPlayer(1.0f); // Full health resurrection\n  \
      \      player->SpawnCorpseBones();\n        // Trigger related quest or achievement\
      \ events\n    }\n}"
    language: cpp
  notes: This method assumes that the player and NPC GUIDs are valid and correspond
    to existing entities in the game world. The method should only be called after
    verifying that the player is eligible for spirit healer services (e.g., is dead
    or in need of healing). Implementation may involve database updates and synchronization
    with the player's current status.
  warnings: Calling this method without proper validation of player and NPC GUIDs
    can result in undefined behavior or crashes. Ensure that the player is actually
    in a state where spirit healer interaction is appropriate, such as being dead
    or requiring resurrection. Improper use may lead to incorrect quest progression
    or game state inconsistencies.
  related:
  - SpiritHealerInit
  - SpiritHealerCancel
  - GetPlayerStatus
  - ResurrectPlayer
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T23:29:01.030740'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
