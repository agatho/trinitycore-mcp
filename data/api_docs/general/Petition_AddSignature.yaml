api:
  class: Petition
  method: AddSignature
  signature: void Petition::AddSignature(uint32 accountId, int playerGuid, bool isLoading)
documentation:
  brief: Adds a signature to a petition for the specified account and player.
  description: The AddSignature method is used to register a player's signature on
    a petition. It associates the provided account ID and player GUID with the petition,
    allowing the system to track which players have signed. This method may be called
    during petition creation or when adding new signatures to an existing petition.
    The isLoading parameter indicates whether this operation is part of initial data
    loading or a live interaction.
  parameters:
  - name: accountId
    description: The unique identifier of the account that owns the player signing
      the petition. Must be a valid, non-zero account ID.
  - name: playerGuid
    description: The global unique identifier (GUID) of the player who is signing
      the petition. A negative value indicates an invalid or unassigned GUID.
  - name: isLoading
    description: Boolean flag indicating if this signature is being added during initial
      data loading (true) or as a live action (false). Controls internal state management
      and validation behavior.
  returns: null
  examples:
  - title: Adding a Signature to a Petition
    code: "Petition* petition = sObjectMgr->GetPetition(12345);\nif (petition)\n{\n\
      \    petition->AddSignature(98765, -123456789, false);\n}"
    language: cpp
  - title: Loading Signature During Server Startup
    code: "Petition* petition = sObjectMgr->GetPetition(54321);\nif (petition)\n{\n\
      \    petition->AddSignature(111222, -987654321, true);\n}"
    language: cpp
  notes: This method likely updates internal data structures to reflect the new signature
    and may trigger validation or state change events. The isLoading flag affects
    how the system handles duplicate checks and persistence logic.
  warnings: Passing an invalid playerGuid (e.g., zero or negative) can lead to unexpected
    behavior or errors in petition processing. Ensure accountId is valid before calling
    this method.
  related:
  - GetSignatureCount
  - HasSignature
  - RemoveSignature
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T23:02:20.256842'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
