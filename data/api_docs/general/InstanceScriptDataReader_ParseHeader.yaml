api:
  class: InstanceScriptDataReader
  method: ParseHeader
  signature: Result InstanceScriptDataReader::ParseHeader()
documentation:
  brief: Parses the header of an instance script data file to extract metadata and
    validate format compatibility.
  description: The ParseHeader method reads and validates the header section of an
    instance script data file, ensuring that the file is compatible with the current
    TrinityCore version. It extracts essential metadata such as version numbers, instance
    identifiers, and data structure layouts. This method typically runs during the
    initialization phase of instance loading to verify that the saved data matches
    expected formats before proceeding with full data parsing. The method performs
    basic integrity checks on the header fields and returns a Result indicating success
    or failure of the parsing operation.
  parameters: []
  returns: A Result object indicating whether the header parsing was successful. On
    success, the result contains valid metadata extracted from the header. On failure,
    it provides an error code or message describing why parsing failed.
  examples:
  - title: Basic Header Parsing
    code: "InstanceScriptDataReader reader;\nResult result = reader.ParseHeader();\n\
      if (result.IsSuccess()) {\n    // Proceed with full data parsing\n    reader.ParseData();\n\
      } else {\n    // Handle parsing error\n    TC_LOG_ERROR(\"sql.sql\", \"Failed\
      \ to parse instance script header: %s\", result.GetError().c_str());\n}"
    language: cpp
  notes: This method should be called before any data parsing operations. The header
    format is typically defined by the TrinityCore instance script system and may
    vary between different patch versions. Ensure that the input stream or file is
    properly opened and accessible before calling this method.
  warnings: Calling ParseHeader without proper initialization of the underlying data
    source may lead to undefined behavior or crashes. Always verify that the data
    source is valid and contains readable header information before invoking this
    method.
  related:
  - ParseData
  - GetVersion
  - GetInstanceId
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T05:30:30.447505'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
