api:
  class: AuraEffect
  method: HandleProcTriggerSpellAuraProc
  signature: void AuraEffect::HandleProcTriggerSpellAuraProc(AuraApplication * aurApp,
    ProcEventInfo & eventInfo)
documentation:
  brief: Handles the proc trigger spell aura effect when a proc event occurs.
  description: The HandleProcTriggerSpellAuraProc method is responsible for executing
    the logic associated with an aura that triggers another spell when certain conditions
    are met during a proc event. This method is typically invoked as part of the aura's
    application lifecycle, specifically in response to combat events or other triggers
    that activate the aura's effect. It processes the proc event information and determines
    whether to cast the associated spell based on the aura's properties and the event
    context. The method operates within the TrinityCore's aura system and integrates
    with the broader spell and combat handling framework.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura application
      that triggered the proc. This parameter provides access to the aura's state,
      caster, target, and other relevant context information needed for processing
      the proc.
  - name: eventInfo
    description: Reference to a ProcEventInfo structure containing detailed information
      about the proc event that occurred. This includes data such as the type of event,
      affected spells, damage dealt, or other combat-related details that influence
      how the aura's spell trigger should be processed.
  returns: null
  examples:
  - title: Basic usage in a custom aura handler
    code: "void MyCustomAura::HandleProcTriggerSpellAuraProc(AuraApplication* aurApp,\
      \ ProcEventInfo& eventInfo)\n{\n    // Check if the proc is valid\n    if (!eventInfo.GetProcTarget())\n\
      \        return;\n\n    // Trigger the spell defined by the aura\n    aurApp->GetTarget()->CastSpell(eventInfo.GetProcTarget(),\
      \ GetSpellInfo()->Effects[0].TriggerSpell, true);\n}"
    language: cpp
  notes: This method is part of the TrinityCore's aura processing system and is called
    automatically by the core when a proc event matches the conditions defined for
    the aura. Developers should ensure that any spell triggers are properly validated
    to prevent infinite loops or unintended behavior. The method assumes valid inputs
    and does not perform input validation.
  warnings: Improper handling of this method can lead to crashes or unexpected spell
    behavior, especially if the aura's spell trigger is not correctly configured.
    Be cautious when modifying the eventInfo data as it might affect other systems
    relying on the proc event details.
  related:
  - AuraEffect::HandleProcTriggerSpell
  - AuraApplication::GetTarget
  - ProcEventInfo::GetProcTarget
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T12:02:12.423333'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
