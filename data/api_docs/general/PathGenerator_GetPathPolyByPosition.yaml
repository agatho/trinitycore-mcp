api:
  class: PathGenerator
  method: GetPathPolyByPosition
  signature: int PathGenerator::GetPathPolyByPosition(const int * polyPath, int polyPathSize,
    const float * Point, float * Distance) const
documentation:
  brief: Finds the polygon index in a path that is closest to a specified position.
  description: The GetPathPolyByPosition method determines which polygon in a given
    path is nearest to a specified point in 3D space. It calculates the distance from
    the point to each polygon in the path and returns the index of the polygon with
    the smallest distance. This functionality is commonly used in navigation systems
    to identify the current or relevant polygon for an object's position during pathfinding
    operations. The method requires a valid polygon path array, its size, and a 3D
    coordinate point as inputs. It modifies the Distance parameter to store the calculated
    shortest distance to the identified polygon.
  parameters:
  - name: polyPath
    description: Pointer to an array of integers representing polygon identifiers
      in the path. Each integer corresponds to a unique polygon index in the navigation
      mesh.
  - name: polyPathSize
    description: Integer specifying the number of polygons in the polyPath array.
      Must be a positive value and not exceed the allocated size of the polyPath array.
  - name: Point
    description: Pointer to an array of three floats representing the 3D coordinates
      (x, y, z) of the point for which the closest polygon is to be found.
  - name: Distance
    description: Pointer to a float that will be updated with the shortest distance
      from the specified Point to the identified polygon in the path.
  returns: Returns an integer representing the index of the polygon in the polyPath
    array that is closest to the specified Point. If no valid polygon is found or
    if inputs are invalid, it may return -1 or a negative value indicating failure.
  examples:
  - title: Find Closest Polygon to Position
    code: "#include <iostream>\n\nint main() {\n    int polyPath[] = {0, 1, 2, 3,\
      \ 4};\n    int polyPathSize = 5;\n    float point[3] = {10.0f, 20.0f, 30.0f};\n\
      \    float distance;\n    \n    PathGenerator pathGen;\n    int result = pathGen.GetPathPolyByPosition(polyPath,\
      \ polyPathSize, point, &distance);\n    \n    if (result >= 0) {\n        std::cout\
      \ << \"Closest polygon index: \" << result << \" with distance: \" << distance\
      \ << std::endl;\n    } else {\n        std::cout << \"Failed to find closest\
      \ polygon.\" << std::endl;\n    }\n    \n    return 0;\n}"
    language: cpp
  notes: This method assumes that the input polyPath array contains valid polygon
    indices and that Point represents a valid 3D coordinate. It is typically used
    in conjunction with other pathfinding or navigation mesh utilities within TrinityCore's
    AI and movement systems. Performance may degrade if the polyPath array is very
    large due to linear search behavior.
  warnings: Ensure that the polyPath array and its size are consistent; passing an
    invalid or oversized polyPathSize can lead to undefined behavior. The Point parameter
    must be a valid 3D coordinate, otherwise the result will be unreliable. This method
    does not validate input parameters beyond basic type checks.
  related:
  - GetPathPolyByPosition
  - GetPath
  - FindNearestPoly
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T11:53:48.872047'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
