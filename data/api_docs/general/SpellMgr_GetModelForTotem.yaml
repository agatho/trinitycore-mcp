api:
  class: SpellMgr
  method: GetModelForTotem
  signature: uint32 SpellMgr::GetModelForTotem(uint32 spellId, uint8 race) const
documentation:
  brief: Retrieves the model ID for a totem associated with a specific spell and racial
    variant.
  description: The GetModelForTotem method is used to determine the appropriate visual
    model ID for a totem that is summoned by a given spell, taking into account the
    player's race. This function is primarily utilized in the context of shamanic
    totems within World of Warcraft's TrinityCore emulation. It allows the game engine
    to correctly display the right totem model based on both the spell being cast
    and the racial characteristics of the caster. The method serves as a lookup mechanism
    that maps spell identifiers and race values to corresponding model IDs stored
    in the game's database or configuration files.
  parameters:
  - name: spellId
    description: The unique identifier of the spell that summons the totem. This value
      typically corresponds to a specific totem summoning spell such as 'Totem of
      Air', 'Totem of Earth', etc.
  - name: race
    description: The racial identifier of the player casting the spell. This determines
      which variant of the totem model should be displayed, as different races may
      have different visual representations for the same totem type.
  returns: Returns a uint32 representing the model ID of the totem associated with
    the specified spell and race. If no matching model is found for the given parameters,
    the method may return 0 or another default value indicating an invalid or missing
    model.
  examples:
  - title: Retrieve Totem Model ID for Shaman's Air Totem
    code: uint32 modelId = sSpellMgr->GetModelForTotem(8177, RACE_ORC); // Retrieves
      the model ID for an Orcish Air Totem
    language: cpp
  - title: Use in Totem Summoning Logic
    code: "uint32 totemModel = sSpellMgr->GetModelForTotem(spellId, playerRace);\n\
      if (totemModel != 0)\n{\n    // Proceed with summoning the totem using the retrieved\
      \ model\n    // ... summon logic here ...\n}"
    language: cpp
  notes: This method likely relies on internal data structures or database entries
    that map spell IDs and race combinations to specific model IDs. Developers should
    ensure that all valid spell IDs and race values are properly supported in the
    game's configuration. The implementation may involve caching for performance reasons,
    especially since totem summoning can occur frequently during gameplay.
  warnings: Incorrect spellId or race values could lead to invalid model IDs being
    returned, potentially causing visual glitches or missing totems in-game. Ensure
    that only valid spell and race identifiers are passed to this function.
  related:
  - GetSpellInfo
  - GetTotemCategory
  - GetTotemModelForRace
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T06:26:26.305439'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
