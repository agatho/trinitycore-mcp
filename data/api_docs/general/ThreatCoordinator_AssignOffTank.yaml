api:
  class: ThreatCoordinator
  method: AssignOffTank
  signature: bool ThreatCoordinator::AssignOffTank(int botGuid)
documentation:
  brief: Assigns a bot as the off-tank for threat management in a group or raid.
  description: The AssignOffTank method is responsible for designating a specific
    bot character as the off-tank within the ThreatCoordinator system. This functionality
    is crucial for managing threat distribution among group members, particularly
    in encounters where multiple enemies are present and require controlled aggro
    management. The method ensures that the designated off-tank receives appropriate
    threat handling logic to prevent primary tank from being overwhelmed by enemy
    attacks. It typically integrates with the overall threat calculation and management
    system to maintain balanced combat dynamics.
  parameters:
  - name: botGuid
    description: The unique identifier (GUID) of the bot character that will be assigned
      as the off-tank. This value must correspond to a valid bot entity within the
      current group or raid context.
  returns: Returns true if the bot was successfully assigned as the off-tank, false
    otherwise. The assignment may fail if the bot does not exist, is not in the same
    group/raid, or if the system is already managing an off-tank for the current encounter.
  examples:
  - title: Basic Off-Tank Assignment
    code: "if (threatCoordinator.AssignOffTank(12345)) {\n    // Successfully assigned\
      \ bot with GUID 12345 as off-tank\n    LOG_INFO(\"ai\", \"Bot assigned as off-tank\
      \ successfully.\");\n} else {\n    // Failed to assign the bot as off-tank\n\
      \    LOG_ERROR(\"ai\", \"Failed to assign bot as off-tank.\");\n}"
    language: cpp
  notes: This method should only be called when the group or raid is in combat and
    threat management is active. The assigned bot must be a valid member of the current
    group or raid for the assignment to succeed.
  warnings: Calling this method without proper context (e.g., outside of combat) may
    result in undefined behavior. Ensure that the bot GUID corresponds to an actual
    bot character and not a player character, as mixing them can cause unexpected
    threat management issues.
  related:
  - GetOffTank
  - ClearOffTank
  - UpdateThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T00:59:39.170314'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
