api:
  class: SpawnPriorityQueue
  method: GetMetrics
  signature: QueueMetrics SpawnPriorityQueue::GetMetrics() const
documentation:
  brief: Retrieves queue metrics including spawn counts and priority levels for the
    SpawnPriorityQueue.
  description: The GetMetrics method returns a QueueMetrics object containing detailed
    information about the current state of the SpawnPriorityQueue. This includes statistics
    such as total spawn count, active spawns, pending spawns, and priority level distributions.
    The method is typically used for monitoring and debugging purposes to understand
    how the queue is managing creature or game object spawns based on their assigned
    priorities. The returned metrics provide insights into system performance and
    resource allocation within the TrinityCore server's spawning mechanisms.
  parameters: []
  returns: A QueueMetrics object containing structured data about the spawn queue
    state, including spawn counts, priority distributions, and queue status information.
  examples:
  - title: Basic Usage Example
    code: 'SpawnPriorityQueue queue;

      // ... populate queue with spawns ...

      QueueMetrics metrics = queue.GetMetrics();

      std::cout << "Total spawns: " << metrics.totalSpawns << std::endl;'
    language: cpp
  - title: Monitoring Spawn Queue Performance
    code: "SpawnPriorityQueue* spawnQueue = sObjectMgr->GetSpawnQueue();\nif (spawnQueue)\n\
      {\n    QueueMetrics metrics = spawnQueue->GetMetrics();\n    if (metrics.totalSpawns\
      \ > 1000)\n    {\n        // Log high spawn count for performance monitoring\n\
      \        sLog->outInfo(LOG_FILTER_GENERAL, \"High spawn queue load: %u total\
      \ spawns\", metrics.totalSpawns);\n    }\n}"
    language: cpp
  notes: This method performs a read-only operation on the queue state and is thread-safe
    for concurrent access. The returned QueueMetrics object should be treated as immutable
    after retrieval, as it represents a snapshot of the queue's state at the time
    of the call.
  warnings: The metrics returned by this method are snapshots and may not reflect
    real-time changes in the queue. If used for performance monitoring, consider sampling
    intervals to avoid excessive overhead.
  related:
  - SpawnPriorityQueue::AddSpawn
  - SpawnPriorityQueue::RemoveSpawn
  - SpawnPriorityQueue::ProcessNext
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T18:36:12.403862'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
