api:
  class: PositionStrategyBase
  method: CalculatePath
  signature: int PositionStrategyBase::CalculatePath(const int & start, const int
    & end, bool avoidDanger)
documentation:
  brief: Calculates the optimal path between two positions in the game world, optionally
    avoiding dangerous areas.
  description: The CalculatePath method computes a navigable route from a starting
    position to an ending position within the World of Warcraft environment. It utilizes
    the TrinityCore's navigation system to determine waypoints that avoid obstacles
    and terrain features. When the avoidDanger parameter is set to true, the method
    will attempt to bypass areas marked as dangerous or hostile, such as zones with
    active combat or environmental hazards. The method returns a status code indicating
    success or failure of the path calculation, which can be used to determine whether
    movement instructions should be generated for the entity using this pathfinding
    logic.
  parameters:
  - name: start
    description: The starting position identifier or index within the navigation system.
      This typically corresponds to a node or waypoint in the game world's pathfinding
      grid.
  - name: end
    description: The destination position identifier or index within the navigation
      system. This represents the target node or waypoint where the path should lead.
  - name: avoidDanger
    description: A boolean flag that determines whether the calculated path should
      avoid dangerous areas. If true, the algorithm will attempt to route around hostile
      zones or hazardous terrain.
  returns: Returns an integer representing the status of the path calculation. A value
    of 0 typically indicates success, while negative values may indicate errors such
    as invalid start/end positions, inability to find a valid path, or system failures.
  examples:
  - title: Basic Path Calculation
    code: "int result = positionStrategy.CalculatePath(100, 200, false);\nif (result\
      \ == 0) {\n    // Path was successfully calculated\n    // Proceed with movement\
      \ logic\n}"
    language: cpp
  - title: Path Calculation Avoiding Danger
    code: "int result = positionStrategy.CalculatePath(150, 300, true);\nif (result\
      \ == 0) {\n    // Path calculated avoiding dangerous zones\n    // Move the\
      \ unit along the generated path\n} else {\n    // Handle pathfinding failure\n\
      \    // Log error or fallback to alternative movement\n}"
    language: cpp
  notes: This method relies on the underlying navigation mesh and waypoint system
    of TrinityCore. The performance of this function can be affected by the complexity
    of the world geometry and the density of pathfinding nodes in the area. For optimal
    performance, ensure that start and end positions are valid nodes within the navigation
    system.
  warnings: The method may return a failure code even when the start and end points
    appear valid if there is no navigable path between them due to obstacles or terrain.
    Always check the return value before attempting to use the calculated path for
    movement.
  related:
  - GetPath
  - IsPathValid
  - UpdatePosition
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T05:42:36.491536'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
