api:
  class: DB2Manager
  method: GetHotfixOptionalData
  signature: const int * DB2Manager::GetHotfixOptionalData(uint32 tableHash, int32
    recordId, LocaleConstant locale) const
documentation:
  brief: Retrieves optional hotfix data for a specified DB2 table record and locale.
  description: The GetHotfixOptionalData method fetches optional data associated with
    a specific record in a DB2 table, based on the provided table hash and record
    ID. It is used to retrieve localized or modified data entries that may have been
    overridden through hotfixes. The method operates within the context of TrinityCore's
    database management system where hotfixes allow for runtime modifications to game
    data without requiring a full server restart. This function specifically targets
    optional data fields, which are typically used for locale-specific content or
    dynamic adjustments.
  parameters:
  - name: tableHash
    description: A unique hash identifier representing the DB2 table structure. This
      value is typically derived from the table name and serves as a key to identify
      which table's data should be accessed.
  - name: recordId
    description: The unique identifier of the record within the specified DB2 table.
      This corresponds to the primary key of the record being queried.
  - name: locale
    description: The locale constant specifying which localized version of the data
      should be returned. This determines the language or regional variant of the
      optional data.
  returns: A pointer to an array of integers representing the optional hotfix data
    for the specified record and locale. Returns NULL if no matching data is found
    or if the parameters are invalid.
  examples:
  - title: Retrieve localized hotfix data for a specific record
    code: "const int* data = db2Manager->GetHotfixOptionalData(0x12345678, 42, LOCALE_enUS);\n\
      if (data != nullptr) {\n    // Process the retrieved optional data\n    printf(\"\
      Data: %d, %d, %d\\n\", data[0], data[1], data[2]);\n} else {\n    printf(\"\
      No hotfix data found.\\n\");\n}"
    language: cpp
  notes: This method is part of TrinityCore's hotfix system, which allows administrators
    to modify game content dynamically. The returned integer array may contain multiple
    values depending on the structure of the optional data in the DB2 table. Ensure
    that the locale constant passed matches one of the supported locales in the server
    configuration.
  warnings: The returned pointer is only valid until the next call to GetHotfixOptionalData
    or until the DB2Manager instance is destroyed. Do not store or cache the returned
    pointer for extended periods. Also, be cautious when using invalid tableHash or
    recordId values as they may lead to undefined behavior or crashes.
  related:
  - GetHotfixData
  - LoadHotfixes
  - HasHotfixData
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T15:01:27.375609'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
