api:
  class: MageAI
  method: UseDefensiveAbilities
  signature: void MageAI::UseDefensiveAbilities()
documentation:
  brief: Evaluates and applies appropriate defensive abilities for the Mage AI during
    combat.
  description: The UseDefensiveAbilities method is responsible for determining when
    and which defensive spells or abilities should be cast by a Mage AI character.
    This includes assessing the current threat level, health status, and enemy proximity
    to decide whether to use abilities such as Ice Block, Mana Shield, or other defensive
    cooldowns. The method typically integrates with the AI's decision-making loop
    to ensure optimal resource management and survivability during encounters. It
    is designed to be called periodically during combat updates to maintain proactive
    defense.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Combat Loop
    code: "void MageAI::UpdateAI(const uint32 diff)\n{\n    if (me->IsInCombat())\n\
      \    {\n        UseDefensiveAbilities();\n        // Other AI logic\n    }\n\
      }"
    language: cpp
  notes: This method should only be invoked when the Mage is in combat to avoid unnecessary
    spell casting. It relies on internal state tracking of cooldowns and health percentages,
    so it's important that the AI has accurate information about its own status.
  warnings: Calling this method outside of a combat context may lead to incorrect
    behavior or failed spell casts due to improper cooldown checks or lack of threat
    assessment.
  related:
  - UpdateAI
  - DoCastSpellIfCan
  - GetThreat
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T00:38:29.921414'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
