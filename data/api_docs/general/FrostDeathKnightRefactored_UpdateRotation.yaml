api:
  class: FrostDeathKnightRefactored
  method: UpdateRotation
  signature: void FrostDeathKnightRefactored::UpdateRotation(int * target)
documentation:
  brief: Updates the frost death knight's rotation behavior based on current target
    and combat state
  description: The UpdateRotation method controls the core AI logic for a frost death
    knight, determining which abilities to cast next based on the target's status,
    resource levels, and combat conditions. This method orchestrates the spell selection
    and execution sequence for the frost specialization, ensuring optimal use of abilities
    like Howling Blast, Frost Strike, and Obliterate while managing rune regeneration
    and cooldowns. It evaluates the current target's health, distance, and debuff
    states to make tactical decisions about ability usage. The method is typically
    called during the AI update cycle and integrates with the broader combat system
    to maintain effective rotation performance.
  parameters:
  - name: target
    description: Pointer to the target unit that the death knight is currently engaging
      in combat. This parameter determines which abilities are selected and executed
      based on the target's current state, health percentage, and applicable debuffs.
  returns: null
  examples:
  - title: Basic usage in AI update loop
    code: "void FrostDeathKnightAI::UpdateAI(uint32 diff)\n{\n    if (Unit* target\
      \ = SelectTarget(SELECT_TARGET_TOPAGGRO))\n    {\n        m_frostDK->UpdateRotation(&target);\n\
      \    }\n}"
    language: cpp
  - title: Integration with custom combat logic
    code: "void FrostDeathKnightRefactored::UpdateRotation(int* target)\n{\n    if\
      \ (!target || *target <= 0)\n        return;\n    \n    Unit* unitTarget = ObjectAccessor::GetUnit(*m_owner,\
      \ *target);\n    if (!unitTarget || !unitTarget->IsAlive())\n        return;\n\
      \    \n    // Core rotation logic here\n    // ... implementation details\n}"
    language: cpp
  notes: This method is part of the core AI framework and should be called regularly
    during combat updates. The target parameter must point to a valid unit ID; otherwise,
    undefined behavior may occur. Performance considerations include minimizing unnecessary
    calculations when no valid target exists.
  warnings: Do not call this method with a null or invalid target pointer as it may
    cause crashes or unexpected behavior. Ensure that the target remains valid throughout
    the duration of the rotation update cycle.
  related:
  - FrostDeathKnightRefactored::Initialize
  - FrostDeathKnightRefactored::ExecuteSpell
  - FrostDeathKnightRefactored::CheckRuneAvailability
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T04:30:56.476277'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
