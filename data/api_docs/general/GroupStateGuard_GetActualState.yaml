api:
  class: GroupStateGuard
  method: GetActualState
  signature: GroupState GroupStateGuard::GetActualState() const
documentation:
  brief: Retrieves the current group state of the player's party or raid
  description: The GetActualState method returns the GroupState enum value representing
    the current state of the player's group. This state indicates whether the player
    is in a normal party, a raid group, or has no group at all. The method provides
    essential information for determining how to handle group-related actions, such
    as loot distribution, instance locking, or quest progression. It reflects the
    actual group membership status at the time of the call and can be used to make
    decisions about group operations or UI state updates.
  parameters: []
  returns: 'A GroupState enum value indicating the current group state: GROUP_STATE_NONE
    (player not in a group), GROUP_STATE_PARTY (player in a normal party), or GROUP_STATE_RAID
    (player in a raid group).'
  examples:
  - title: Check if player is in a raid group
    code: "if (GroupStateGuard::GetActualState() == GROUP_STATE_RAID)\n{\n    // Player\
      \ is in a raid group\n    SendRaidWarning(\"Raid encounter starting soon!\"\
      );\n}"
    language: cpp
  - title: Handle different group states for loot distribution
    code: "GroupState state = GroupStateGuard::GetActualState();\nswitch (state)\n\
      {\n    case GROUP_STATE_NONE:\n        // Handle solo player\n        break;\n\
      \    case GROUP_STATE_PARTY:\n        // Handle party loot rules\n        break;\n\
      \    case GROUP_STATE_RAID:\n        // Handle raid loot rules\n        break;\n\
      }"
    language: cpp
  notes: This method should be called frequently to ensure accurate group state tracking,
    especially in systems that depend on group membership for functionality. The returned
    value is cached internally and may not reflect real-time changes immediately if
    the group structure has recently changed.
  warnings: Do not rely on this method's return value for critical game logic without
    verifying the player's actual group membership status, as there might be race
    conditions in group transitions during instance loading or player disconnections.
  related:
  - IsInGroup
  - GetGroup
  - GetGroupType
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T04:00:17.633360'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
