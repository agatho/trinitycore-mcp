api:
  class: AuraEffect
  method: HandleAuraModWeaponCritPercent
  signature: void AuraEffect::HandleAuraModWeaponCritPercent(const AuraApplication
    * aurApp, uint8 mode, bool apply) const
documentation:
  brief: Modifies the weapon critical strike chance for the affected unit.
  description: The HandleAuraModWeaponCritPercent method adjusts the critical strike
    percentage of a unit's weapon based on the aura application and whether the effect
    is being applied or removed. This method is typically invoked during aura application
    or removal events to modify the character's combat statistics, specifically their
    chance to land critical strikes with weapons. The modification can either increase
    or decrease the base critical strike chance depending on the aura's properties
    and the mode of operation. It integrates with the game's combat system to dynamically
    alter player or creature performance in battle.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object that contains information about
      how the aura is applied to the target, including the target unit and aura properties.
  - name: mode
    description: Indicates the mode of operation for the aura effect, typically representing
      whether it's being applied (1) or removed (0), though exact values may vary
      based on internal implementation.
  - name: apply
    description: Boolean flag indicating if the aura is being applied (true) or removed
      (false). This determines whether to add or subtract the modifier from the weapon's
      critical strike chance.
  returns: null
  examples:
  - title: Applying a Weapon Crit Aura
    code: 'AuraEffect* auraEff = ...; // Assume this is initialized

      AuraApplication* app = ...;

      auraEff->HandleAuraModWeaponCritPercent(app, 1, true);'
    language: cpp
  - title: Removing a Weapon Crit Aura
    code: 'AuraEffect* auraEff = ...; // Assume this is initialized

      AuraApplication* app = ...;

      auraEff->HandleAuraModWeaponCritPercent(app, 0, false);'
    language: cpp
  notes: This method directly manipulates combat statistics and should only be called
    during appropriate aura application or removal events. It is part of the core
    aura handling system in TrinityCore and interacts with the unit's weapon crit
    chance calculation logic.
  warnings: Improper use of this method can lead to incorrect combat behavior, such
    as unexpected critical strike chances. Ensure that the aura application context
    is valid before calling this method.
  related:
  - AuraEffect::HandleAuraModCritPercent
  - AuraEffect::HandleAuraModWeaponDamage
  - AuraApplication::GetTarget
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T13:02:01.462039'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
