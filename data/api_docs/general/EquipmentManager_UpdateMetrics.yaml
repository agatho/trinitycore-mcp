api:
  class: EquipmentManager
  method: UpdateMetrics
  signature: void EquipmentManager::UpdateMetrics(uint32 playerGuid, bool wasEquipped,
    bool wasUpgrade, uint32 goldValue)
documentation:
  brief: Updates equipment metrics for a player when an item is equipped, unequipped,
    or upgraded.
  description: The UpdateMetrics method is responsible for maintaining and updating
    various equipment-related statistics and performance metrics for a player in the
    TrinityCore framework. This method is typically invoked when a player equips,
    unequips, or upgrades an item, ensuring that the game's internal tracking systems
    reflect the current state of the player's inventory and gear. It handles calculations
    related to item value, performance bonuses, and other relevant metrics that affect
    gameplay balance and character progression. The method operates within the EquipmentManager
    class and is crucial for maintaining accurate data during dynamic gameplay events
    such as looting, upgrading, or swapping equipment.
  parameters:
  - name: playerGuid
    description: The unique identifier (GUID) of the player whose equipment metrics
      are being updated. This value must be a valid player GUID within the TrinityCore
      database.
  - name: wasEquipped
    description: Boolean flag indicating whether the item was previously equipped.
      True if the item was equipped before the update, false otherwise.
  - name: wasUpgrade
    description: Boolean flag indicating whether the item represents an upgrade from
      a previous item. True if the current item is better than the previously equipped
      item, false otherwise.
  - name: goldValue
    description: The gold value of the item being processed. This value is used to
      track monetary changes and may be used in calculations for item worth or player
      wealth tracking.
  returns: null
  examples:
  - title: Basic Equipment Update
    code: EquipmentManager::UpdateMetrics(12345, true, false, 5000);
    language: cpp
  - title: Item Upgrade Tracking
    code: EquipmentManager::UpdateMetrics(playerGuid, false, true, item->GetSellPrice());
    language: cpp
  notes: This method likely interacts with database systems to persist updated metrics
    and may trigger additional events or notifications within the TrinityCore framework.
    Developers should ensure that playerGuid is valid before calling this method to
    prevent potential errors or data inconsistencies.
  warnings: Improper use of this method, particularly with invalid player GUIDs or
    incorrect boolean flags, could lead to inconsistent game state or unexpected behavior
    in player equipment tracking systems.
  related:
  - GetPlayerEquipment
  - UpdateItemStats
  - CalculateGearScore
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T08:52:04.317063'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
