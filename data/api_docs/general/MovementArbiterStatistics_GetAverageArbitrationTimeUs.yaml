api:
  class: MovementArbiterStatistics
  method: GetAverageArbitrationTimeUs
  signature: double MovementArbiterStatistics::GetAverageArbitrationTimeUs() const
documentation:
  brief: Calculates and returns the average arbitration time in microseconds for movement
    decisions.
  description: The GetAverageArbitrationTimeUs method computes the average time, measured
    in microseconds, that the MovementArbiter takes to resolve movement conflicts
    or make decisions for units. This statistic is typically used for performance
    monitoring and optimization of the AI movement system within TrinityCore. The
    value reflects how long it takes on average for the arbiter to process a single
    arbitration event, which can help identify potential bottlenecks in unit movement
    logic. This method is thread-safe and provides a snapshot of current performance
    metrics without modifying internal state.
  parameters: []
  returns: A double-precision floating-point number representing the average arbitration
    time in microseconds (us). Returns zero if no arbitration events have occurred
    yet or if statistics are not initialized.
  examples:
  - title: Basic Usage to Monitor Performance
    code: "double avgTime = movementArbiterStats.GetAverageArbitrationTimeUs();\n\
      if (avgTime > 100.0)\n{\n    // Log warning about high arbitration latency\n\
      \    sLog->outString(\"High movement arbitration time detected: %.2f us\", avgTime);\n\
      }"
    language: cpp
  - title: Integrating with Performance Logging System
    code: "class MovementPerformanceMonitor\n{\npublic:\n    void LogMovementStats()\n\
      \    {\n        double avgTime = sObjectMgr->GetMovementArbiterStatistics().GetAverageArbitrationTimeUs();\n\
      \        sLog->outString(\"Movement Arbiter Avg Time: %.2f us\", avgTime);\n\
      \    }\n};"
    language: cpp
  notes: This method relies on internal timing mechanisms and may not be accurate
    if called before any arbitration events have occurred. The value is updated incrementally
    as new arbitration events are processed, making it suitable for real-time performance
    monitoring.
  warnings: Do not assume this value represents absolute performance; it's a statistical
    average and may vary significantly based on server load and the number of active
    units requiring movement arbitration.
  related:
  - GetTotalArbitrationCount
  - GetMaxArbitrationTimeUs
  - ResetStatistics
metadata:
  confidence: 0.92
  generated_at: '2025-11-08T16:13:27.789221'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
