api:
  class: AELootResult
  method: Add
  signature: void AELootResult::Add(Item * item, uint8 count, LootType lootType, uint32
    dungeonEncounterId)
documentation:
  brief: Adds an item to the loot result with specified count, loot type, and dungeon
    encounter ID
  description: The Add method in the AELootResult class is used to include a specific
    item in the loot result set. It takes an Item pointer, a count indicating how
    many of that item are being added, a LootType enum value defining the type of
    loot (e.g., normal, heroic, etc.), and a dungeonEncounterId which identifies the
    specific encounter or instance where the loot was obtained. This method is typically
    used during loot generation processes in World of Warcraft's TrinityCore framework
    to build up the final loot distribution for players or groups. The method does
    not return any value, as it directly modifies the internal state of the AELootResult
    object.
  parameters:
  - name: item
    description: Pointer to the Item object that is being added to the loot result.
      Must be a valid item instance or nullptr.
  - name: count
    description: Number of items to add to the loot result. Should be a positive integer
      value, typically 1 for single items.
  - name: lootType
    description: LootType enum value indicating the type of loot being added (e.g.,
      normal, heroic, raid). Defines how the item should be distributed or displayed
      in the loot window.
  - name: dungeonEncounterId
    description: Unique identifier for the dungeon encounter or instance where this
      loot was generated. Used for tracking and proper loot distribution in specific
      encounters.
  returns: null
  examples:
  - title: Basic Usage Adding a Single Item
    code: 'Item* item = player->GetItemByEntry(12345);

      AELootResult lootResult;

      lootResult.Add(item, 1, LOOT_TYPE_NORMAL, 67890);'
    language: cpp
  - title: Adding Multiple Items with Different Loot Types
    code: 'Item* armor = player->GetItemByEntry(54321);

      Item* weapon = player->GetItemByEntry(98765);

      AELootResult lootResult;

      lootResult.Add(armor, 1, LOOT_TYPE_HEROIC, 11111);

      lootResult.Add(weapon, 2, LOOT_TYPE_RAID, 22222);'
    language: cpp
  notes: This method is part of the loot system in TrinityCore and should only be
    called when building a loot result set. The item parameter must point to a valid
    Item object that exists in memory; passing nullptr may lead to undefined behavior
    or crashes. The dungeonEncounterId is crucial for proper loot tracking and should
    match the encounter ID from the database or instance.
  warnings: Do not call this method with invalid or null item pointers as it could
    cause segmentation faults or memory corruption. Ensure that the LootType enum
    value passed is valid for the context in which the loot is being generated. Incorrect
    dungeonEncounterId values may result in improper loot tracking and distribution
    issues.
  related:
  - AELootResult::Clear
  - AELootResult::GetLootItems
  - AELootResult::HasItem
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T22:49:09.411703'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
