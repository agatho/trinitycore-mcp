api:
  class: AuraEffect
  method: HandleModDamageDone
  signature: void AuraEffect::HandleModDamageDone(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Modifies the damage done by the caster of an aura effect based on application
    state and mode.
  description: The HandleModDamageDone method is responsible for adjusting the amount
    of damage that a caster can deal when an aura effect is applied or removed. This
    method is typically invoked during aura application or removal events to dynamically
    modify damage calculations. It takes into account the aura application context,
    the mode of operation (such as whether it's being applied or removed), and whether
    the effect should be active or inactive. The method adjusts the damage done by
    the caster based on the aura's properties and the specified mode. This functionality
    is crucial for implementing effects like damage buffs, debuffs, or conditional
    damage modifiers in World of Warcraft mechanics.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the application
      state of the aura. This parameter determines which aura is being modified and
      provides context for the modification.
  - name: mode
    description: An unsigned 8-bit integer indicating the mode of operation. This
      value typically defines whether the effect is being applied (1) or removed (0),
      though specific values may vary based on implementation details in TrinityCore.
  - name: apply
    description: A boolean flag indicating whether to apply or remove the damage modification.
      When true, the damage modifier is applied; when false, it's removed.
  returns: null
  examples:
  - title: Applying a Damage Modifier Aura Effect
    code: "void ApplyDamageMod(AuraEffect* auraEffect, Unit* target) {\n    AuraApplication*\
      \ app = new AuraApplication(target, target, auraEffect);\n    auraEffect->HandleModDamageDone(app,\
      \ 1, true);\n}"
    language: cpp
  - title: Removing a Damage Modifier Aura Effect
    code: "void RemoveDamageMod(AuraEffect* auraEffect, Unit* target) {\n    AuraApplication*\
      \ app = new AuraApplication(target, target, auraEffect);\n    auraEffect->HandleModDamageDone(app,\
      \ 0, false);\n}"
    language: cpp
  notes: This method is part of the core aura handling system in TrinityCore and is
    generally called internally by the framework when aura applications are processed.
    It should not be invoked directly unless implementing custom aura effects or modifying
    existing ones. The mode parameter's interpretation may vary depending on how the
    aura effect was defined in the spell database.
  warnings: Incorrect usage of this method can lead to unexpected behavior in damage
    calculations, potentially causing game balance issues or client-server desynchronization.
    Developers should ensure that the AuraApplication object passed is valid and properly
    initialized before calling this method.
  related:
  - AuraEffect::HandleModDamagePercentDone
  - AuraEffect::HandleModHealingDone
  - AuraEffect::ApplyAura
  - AuraEffect::RemoveAura
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T12:39:55.780399'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
