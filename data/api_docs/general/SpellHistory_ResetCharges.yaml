api:
  class: SpellHistory
  method: ResetCharges
  signature: void SpellHistory::ResetCharges(int chargeCategoryId)
documentation:
  brief: Resets the charges for a specified spell charge category.
  description: The ResetCharges method clears all accumulated charges for a given
    spell charge category, effectively restoring the category to its initial state.
    This functionality is commonly used in World of Warcraft's TrinityCore to manage
    cooldowns and usage limits for abilities that have charge-based mechanics. The
    method operates on the internal charge tracking system within the SpellHistory
    class, ensuring that subsequent spell usages will start with the default number
    of charges as defined by the spell's properties.
  parameters:
  - name: chargeCategoryId
    description: The unique identifier for the spell charge category to reset. This
      ID corresponds to a specific set of charges managed by the SpellHistory system,
      typically derived from spell definitions or charge group configurations.
  returns: null
  examples:
  - title: Resetting Charges for a Specific Category
    code: 'SpellHistory* spellHistory = player->GetSpellHistory();

      spellHistory->ResetCharges(12345); // Resets charges for category ID 12345'
    language: cpp
  - title: Resetting Charges Before Spell Reapplication
    code: "void OnPlayerSpellCast(Player* player, uint32 spellId)\n{\n    if (spellId\
      \ == 98765) // Example spell with charges\n    {\n        SpellHistory* history\
      \ = player->GetSpellHistory();\n        history->ResetCharges(54321); // Reset\
      \ charge category before reapplying\n    }\n}"
    language: cpp
  notes: This method directly manipulates internal state within the SpellHistory class
    and should be used carefully to avoid unintended side effects in spell cooldown
    or charge management. It is typically called during spell reset conditions, such
    as when a player logs in, changes zones, or when specific game events occur that
    require charge restoration.
  warnings: Calling ResetCharges with an invalid or non-existent chargeCategoryId
    may lead to undefined behavior or inconsistencies in the spell charge tracking
    system. Always ensure that the categoryId corresponds to a valid charge group
    before invoking this method.
  related:
  - GetChargeCount
  - AddCharge
  - HasCharge
  - GetChargeCooldown
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T01:56:49.166896'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
