api:
  class: QuestEventBus
  method: CleanupExpiredEvents
  signature: uint32 QuestEventBus::CleanupExpiredEvents()
documentation:
  brief: Removes all expired quest events from the event bus and returns the count
    of removed events.
  description: The CleanupExpiredEvents method iterates through all registered quest
    events in the QuestEventBus, identifies those that have exceeded their valid time
    window or have been completed, and removes them from the internal tracking structure.
    This method ensures that the event bus does not accumulate stale or obsolete quest-related
    events that could impact performance or cause unexpected behavior. It is typically
    invoked periodically by the game loop or during specific cleanup phases to maintain
    optimal system state. The method performs no external operations beyond internal
    bookkeeping and event removal.
  parameters: []
  returns: Returns a uint32 value representing the number of expired quest events
    that were successfully removed from the event bus. A return value of zero indicates
    no expired events were found or removed.
  examples:
  - title: Basic Usage in Game Loop
    code: "void GameWorld::Update()\n{\n    // ... other update logic ...\n    uint32\
      \ cleanedEvents = sQuestEventBus->CleanupExpiredEvents();\n    if (cleanedEvents\
      \ > 0)\n    {\n        TC_LOG_DEBUG(LOG_FILTER_GENERAL, \"Cleaned up %u expired\
      \ quest events\", cleanedEvents);\n    }\n}"
    language: cpp
  notes: This method is designed to be called regularly as part of the game's maintenance
    cycle. It is safe to call from any thread context where the QuestEventBus is accessible,
    though it may not be thread-safe if concurrent modifications occur during execution.
    The cleanup process does not involve database operations or network calls; it
    only manages in-memory event tracking.
  warnings: null
  related:
  - QuestEventBus::AddEvent
  - QuestEventBus::GetActiveEvents
  - QuestEventBus::HasEvent
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T21:39:22.805384'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
