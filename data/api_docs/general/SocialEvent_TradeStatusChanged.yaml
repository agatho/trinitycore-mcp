api:
  class: SocialEvent
  method: TradeStatusChanged
  signature: SocialEvent SocialEvent::TradeStatusChanged(int partner, int player,
    uint8 status)
documentation:
  brief: Creates and returns a social event object indicating a trade status change
    for a player.
  description: The TradeStatusChanged method generates a SocialEvent object that represents
    a change in the trading status of a player within the game. This method is typically
    used to notify other players or systems about updates to a trade session, such
    as when a player accepts, declines, or cancels a trade offer. The event encapsulates
    information about which player initiated the change and what the new trade status
    is. It's part of the social event system in TrinityCore that handles various player
    interaction events including trades, friendships, and guild activities.
  parameters:
  - name: partner
    description: The identifier of the trading partner involved in the trade status
      change. This typically represents the GUID or unique identifier of the other
      player participating in the trade.
  - name: player
    description: The identifier of the player whose trade status is changing. This
      usually refers to the GUID or unique identifier of the player who initiated
      or responded to the trade action.
  - name: status
    description: The new trade status value indicating the state of the trade session.
      Common values include 0 (no trade), 1 (trade accepted), 2 (trade declined),
      3 (trade canceled), and other game-specific status codes.
  returns: A SocialEvent object containing the details of the trade status change,
    including the involved players and the new status. This event can be used to broadcast
    updates to other players or systems in the game.
  examples:
  - title: Basic Trade Status Change
    code: 'SocialEvent event = SocialEvent::TradeStatusChanged(12345, 67890, 1);

      // Creates a trade event where player 67890 accepted a trade with partner 12345'
    language: cpp
  - title: Trade Cancellation Event
    code: 'SocialEvent cancelEvent = SocialEvent::TradeStatusChanged(playerGUID, partnerGUID,
      3);

      // Creates an event indicating that a trade was canceled by the player'
    language: cpp
  notes: This method is part of TrinityCore's social interaction system and relies
    on proper GUID management for tracking players. The status parameter should be
    validated against expected values to prevent invalid trade states. The returned
    SocialEvent object can be queued for broadcast to other players in the vicinity
    or stored for logging purposes.
  warnings: Ensure that player identifiers (partner and player) are valid before calling
    this method to avoid undefined behavior. Incorrect status values may cause inconsistencies
    in the trading system. This method should not be called during critical sections
    of trade processing where race conditions might occur.
  related:
  - SocialEvent::TradeStarted
  - SocialEvent::TradeCancelled
  - SocialEvent::TradeAccepted
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T21:54:16.121229'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
