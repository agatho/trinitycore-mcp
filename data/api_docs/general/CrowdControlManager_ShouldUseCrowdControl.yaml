api:
  class: CrowdControlManager
  method: ShouldUseCrowdControl
  signature: bool CrowdControlManager::ShouldUseCrowdControl()
documentation:
  brief: Determines whether crowd control abilities should be used based on current
    combat conditions and target state.
  description: The ShouldUseCrowdControl method evaluates various factors including
    target threat level, player class abilities, available mana, and encounter context
    to decide if using a crowd control ability is beneficial. This method is typically
    called during AI decision-making processes for NPC mobs or player characters with
    AI behavior. It considers whether the target is currently engaged in combat, the
    player's current resource levels, and the effectiveness of crowd control mechanics
    against the specific target type. The method returns true when it determines that
    applying a crowd control effect would improve tactical positioning or combat efficiency.
  parameters: []
  returns: Returns true if the conditions are favorable for using a crowd control
    ability; otherwise returns false. A return value of true indicates that the AI
    or player should proceed with executing a crowd control spell or ability at this
    moment.
  examples:
  - title: Basic usage in AI decision making
    code: "if (crowdControlManager->ShouldUseCrowdControl())\n{\n    // Execute crowd\
      \ control ability\n    unit->CastSpell(target, SPELL_ID_CROWD_CONTROL, true);\n\
      }"
    language: cpp
  - title: Integration with combat state evaluation
    code: "if (player->GetAI()->IsInCombat() && crowdControlManager->ShouldUseCrowdControl())\n\
      {\n    // Check if target is a high threat unit\n    if (target->GetThreatManager().GetThreat(player)\
      \ > 1000)\n    {\n        player->CastSpell(target, SPELL_ID_SILENCE, true);\n\
      \    }\n}"
    language: cpp
  notes: This method likely integrates with TrinityCore's threat system and class-specific
    cooldown tracking. It may also consider the presence of other players or NPCs
    in the area that could be affected by crowd control effects. The implementation
    might vary depending on whether it's called for player characters or AI-controlled
    creatures.
  warnings: Do not call this method outside of combat situations as it may return
    unexpected results when evaluating targets that are not actively engaged in combat.
    The method may have internal caching mechanisms that could cause stale decisions
    if called too frequently without proper state updates.
  related:
  - IsCrowdControlAvailable
  - GetCrowdControlCooldown
  - CanUseCrowdControlOnTarget
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T14:51:50.329384'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
