api:
  class: TargetSelectionUtils
  method: GetOptimalRange
  signature: float TargetSelectionUtils::GetOptimalRange(Player * bot, Unit * target)
documentation:
  brief: Calculates and returns the optimal attack range for a bot player targeting
    a specific unit.
  description: The GetOptimalRange method determines the ideal distance at which a
    bot player should engage a target unit for maximum effectiveness. This calculation
    takes into account the bot's current weapon range, spell range capabilities, and
    other relevant combat mechanics. The returned float value represents the distance
    in yards. This utility is commonly used by AI systems to determine when to move
    closer to or farther from a target during combat.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot character that
      will be performing the action
  - name: target
    description: Pointer to the Unit object representing the target unit being evaluated
      for optimal range
  returns: A float value representing the optimal attack range in yards. Returns 0.0f
    if either parameter is invalid or if no valid range can be determined.
  examples:
  - title: Basic usage to determine optimal combat range
    code: "Player* bot = ...;\nUnit* target = ...;\nfloat optimalRange = TargetSelectionUtils::GetOptimalRange(bot,\
      \ target);\nif (optimalRange > 0.0f)\n{\n    // Use the calculated range for\
      \ positioning\n    bot->SetFacingToObject(target);\n    bot->MonsterMove(target->GetPositionX(),\
      \ target->GetPositionY(), target->GetPositionZ(), MOVE_RUN_FLAG);\n}"
    language: cpp
  - title: Using optimal range in AI decision making
    code: "Player* bot = ...;\nUnit* target = ...;\nfloat currentDistance = bot->GetDistance(target);\n\
      float optimalRange = TargetSelectionUtils::GetOptimalRange(bot, target);\n\n\
      if (currentDistance > optimalRange)\n{\n    // Move closer to target\n    bot->MonsterMove(target->GetPositionX(),\
      \ target->GetPositionY(), target->GetPositionZ());\n}\nelse if (currentDistance\
      \ < optimalRange * 0.8f)\n{\n    // Move away from target\n    Position pos;\n\
      \    target->GetNearPosition(pos, optimalRange * 1.2f, bot->GetAngle(target));\n\
      \    bot->MonsterMove(pos.m_positionX, pos.m_positionY, pos.m_positionZ);\n}"
    language: cpp
  notes: This method likely considers the bot's weapon type, spell range, and combat
    stance to determine the most effective engagement distance. The implementation
    may vary based on the bot's class and specialization. Performance is generally
    good as it only performs calculations when needed during combat decisions.
  warnings: Ensure both bot and target pointers are valid before calling this method
    to avoid undefined behavior. The returned range value should not be used directly
    for movement without considering terrain and obstacles that might affect actual
    positioning.
  related:
  - GetAttackDistance
  - GetSpellRange
  - GetMaxRange
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T17:24:00.088053'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
