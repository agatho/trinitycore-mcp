api:
  class: WorldSession
  method: SendCancelTrade
  signature: void WorldSession::SendCancelTrade()
documentation:
  brief: Sends a trade cancellation message to the client.
  description: The SendCancelTrade method is used by the WorldSession class to notify
    the connected client that a trade has been cancelled. This method sends an appropriate
    network packet to the player's client, informing them that their ongoing trade
    session should be terminated and any pending trade items or gold should be returned
    to their respective inventories. The method does not perform any validation or
    state management itself; it simply transmits the cancellation signal over the
    network.
  parameters: []
  returns: null
  examples:
  - title: Canceling a Trade Session
    code: "void SomeTradeHandler(WorldSession* session)\n{\n    // Cancel the current\
      \ trade\n    session->SendCancelTrade();\n}"
    language: cpp
  notes: This method is typically called when a player cancels a trade, either manually
    or due to game conditions such as zoning, disconnecting, or trading with an invalid
    target. It's important to note that this method only sends the cancellation message;
    actual cleanup of trade state should be handled separately by the calling code.
  warnings: null
  related:
  - SendTradeStatus
  - SendUpdateTrade
  - HandleTradeCancel
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T19:06:27.940499'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
