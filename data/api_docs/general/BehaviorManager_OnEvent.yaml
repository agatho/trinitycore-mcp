api:
  class: BehaviorManager
  method: OnEvent
  signature: void BehaviorManager::OnEvent(const int & event)
documentation:
  brief: Processes and handles incoming events within the behavior manager system
  description: The OnEvent method serves as the primary event handler for the BehaviorManager
    class, receiving and processing various game events that influence NPC or creature
    behavior. This method is typically invoked by the core game loop or event system
    when specific conditions are met, such as combat triggers, player interactions,
    or timed events. It acts as a central dispatch point where different event types
    are evaluated and appropriate behavioral responses are executed. The method does
    not return any value but may modify internal state variables or trigger other
    methods within the behavior manager.
  parameters:
  - name: event
    description: An integer identifier representing the type of event being processed.
      This value typically corresponds to predefined event constants defined within
      the BehaviorManager or related AI systems, such as EVENT_COMBAT_START, EVENT_PLAYER_ENTERED_RANGE,
      or EVENT_TIMER_EXPIRED.
  returns: null
  examples:
  - title: Basic Event Handling
    code: "void MyBehavior::OnEvent(const int& event)\n{\n    switch (event)\n   \
      \ {\n        case EVENT_COMBAT_START:\n            // Initiate combat behavior\n\
      \            StartCombat();\n            break;\n        case EVENT_PLAYER_ENTERED_RANGE:\n\
      \            // React to player proximity\n            TalkToPlayer();\n   \
      \         break;\n        default:\n            // Handle unknown events\n \
      \           break;\n    }\n}"
    language: cpp
  - title: Advanced Event Processing with State Management
    code: "void AdvancedBehavior::OnEvent(const int& event)\n{\n    switch (event)\n\
      \    {\n        case EVENT_TIMER_EXPIRED:\n            if (m_currentState ==\
      \ STATE_IDLE)\n            {\n                m_currentState = STATE_WANDER;\n\
      \                StartWandering();\n            }\n            break;\n    \
      \    case EVENT_DAMAGE_TAKEN:\n            if (m_health < 30)\n            {\n\
      \                m_currentState = STATE_FLEE;\n                FleeFromCombat();\n\
      \            }\n            break;\n    }\n}"
    language: cpp
  notes: This method is expected to be called from the main game thread and should
    avoid long-running operations that could block the game loop. The event parameter
    should always be validated against known constants to prevent unexpected behavior
    or crashes. Consider using a lookup table or map for complex event handling scenarios
    to improve performance.
  warnings: Do not modify the event parameter directly within this method as it may
    cause inconsistencies in event processing. Avoid performing heavy computations
    or blocking operations inside OnEvent as it can lead to game lag or freezes. Ensure
    all internal state changes are thread-safe if this method might be called from
    multiple threads.
  related:
  - BehaviorManager::RegisterEvent
  - BehaviorManager::UnregisterEvent
  - BehaviorManager::GetEventId
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T12:19:32.860966'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
