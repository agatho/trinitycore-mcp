api:
  class: Trainer
  method: TeachSpell
  signature: void Trainer::TeachSpell(const Creature * npc, Player * player, uint32
    spellId) const
documentation:
  brief: Teaches a spell to a player from a trainer NPC.
  description: The TeachSpell method is responsible for granting a specific spell
    to a player character when they interact with a trainer NPC in World of Warcraft.
    This method handles the core logic of spell learning, including checking prerequisites
    such as spell availability, player level requirements, and whether the spell has
    already been learned. It ensures that the spell is properly added to the player's
    spell book and updates the trainer's state accordingly. The method operates within
    the TrinityCore framework and integrates with the game's spell system and player
    progression mechanics.
  parameters:
  - name: npc
    description: Pointer to the Creature object representing the trainer NPC who is
      teaching the spell. Must not be null.
  - name: player
    description: Pointer to the Player object who will receive the spell. Must not
      be null.
  - name: spellId
    description: The unique identifier of the spell to be taught. Must correspond
      to a valid spell in the game's database.
  returns: None. This method performs an action and does not return any value.
  examples:
  - title: Basic usage of TeachSpell
    code: 'Trainer trainer;

      Creature* npc = player->GetNPC();

      Player* targetPlayer = player;

      uint32 spellId = 12345;

      trainer.TeachSpell(npc, targetPlayer, spellId);'
    language: cpp
  - title: Teaching a spell with error handling
    code: "if (npc && player) {\n    uint32 spellToLearn = 67890;\n    if (player->HasSpell(spellToLearn))\
      \ {\n        // Spell already known\n        return;\n    }\n    trainer.TeachSpell(npc,\
      \ player, spellToLearn);\n}"
    language: cpp
  notes: This method is typically invoked during interaction with a trainer NPC. It
    assumes that all prerequisites for teaching the spell have been validated by the
    calling code. The actual spell learning process includes updating the player's
    spell book, checking for skill requirements, and potentially modifying the trainer's
    learned spells list.
  warnings: Ensure that the provided spellId is valid and corresponds to an actual
    spell in the game database. Passing invalid or non-existent spell IDs may result
    in undefined behavior or errors. The method does not perform validation on the
    NPC or player pointers; callers must ensure these are valid before invoking this
    method.
  related:
  - Trainer::CanTeachSpell
  - Player::LearnSpell
  - Creature::GetTrainerSpells
metadata:
  confidence: 0.95
  generated_at: '2025-11-08T21:13:00.647021'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
