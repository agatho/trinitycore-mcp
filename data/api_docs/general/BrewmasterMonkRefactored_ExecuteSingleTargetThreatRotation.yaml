api:
  class: BrewmasterMonkRefactored
  method: ExecuteSingleTargetThreatRotation
  signature: void BrewmasterMonkRefactored::ExecuteSingleTargetThreatRotation(int
    * target)
documentation:
  brief: Executes the Brewmaster Monk's single-target threat rotation logic for the
    specified target.
  description: The ExecuteSingleTargetThreatRotation method implements the core combat
    behavior for a Brewmaster Monk AI in single-target scenarios. It evaluates the
    current combat state, manages resource usage (such as Chi and Stagger), and selects
    appropriate abilities to maintain optimal threat generation while ensuring survivability.
    This method is typically invoked during combat updates and handles the decision-making
    process for ability selection based on target health, player buffs/debuffs, and
    resource availability. The method assumes that a valid target exists and that
    the AI has been properly initialized with necessary combat parameters.
  parameters:
  - name: target
    description: Pointer to an integer representing the target's identifier or index
      within the combat system. Must point to a valid target entity in the current
      combat context.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'int targetId = 12345;

      BrewmasterMonkRefactored monk;

      monk.ExecuteSingleTargetThreatRotation(&targetId);'
    language: cpp
  - title: Integration with Combat Loop
    code: "void UpdateAI(uint32 diff) {\n    if (UpdateVictim()) {\n        int targetId\
      \ = GetVictim()->GetGUID().GetRawValue();\n        ExecuteSingleTargetThreatRotation(&targetId);\n\
      \    }\n}"
    language: cpp
  notes: This method relies on internal state tracking of the monk's resources and
    combat status. It should only be called when a valid target is present and the
    AI is in an active combat state. The method does not perform any direct spell
    casting but rather determines which abilities should be executed next based on
    current conditions.
  warnings: Calling this method without a valid target pointer may result in undefined
    behavior or crashes. Ensure that the target parameter points to a valid entity
    before invocation. This method modifies internal AI state and should not be called
    concurrently from multiple threads.
  related:
  - ExecuteAOETargetThreatRotation
  - UpdateCombatState
  - CheckResourceRequirements
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T10:04:47.823084'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
