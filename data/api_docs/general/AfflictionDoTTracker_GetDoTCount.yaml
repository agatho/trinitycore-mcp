api:
  class: AfflictionDoTTracker
  method: GetDoTCount
  signature: uint32 AfflictionDoTTracker::GetDoTCount(int targetGuid) const
documentation:
  brief: Retrieves the count of active Affliction DoTs on a specified target.
  description: The GetDoTCount method returns the number of active Affliction-type
    damage-over-time effects currently applied to a given target. This method is typically
    used in Warlock class mechanics to track the number of DoTs such as Unstable Affliction
    or Haunt that are affecting a single enemy. The method takes a target's GUID as
    input and provides a count of all active affliction DoTs on that specific target.
    It does not modify any state and is read-only in nature. This functionality is
    crucial for class-specific spell calculations, combo point generation, and ability
    cooldown management.
  parameters:
  - name: targetGuid
    description: The unique identifier (GUID) of the target unit to check for active
      Affliction DoTs. Must be a valid GameObject or Creature GUID.
  returns: Returns a uint32 value representing the number of active Affliction DoTs
    currently affecting the specified target. Returns 0 if no such DoTs are active
    on the target.
  examples:
  - title: Checking Affliction DoT Count on Target
    code: "Unit* target = ...; // some target unit\nuint32 dotCount = afflictionTracker->GetDoTCount(target->GetGUID().GetRawValue());\n\
      if (dotCount > 0)\n{\n    // Target has active Affliction DoTs\n    // Can be\
      \ used to determine if certain abilities can be cast\n}"
    language: cpp
  - title: Using DoT Count for Spell Logic
    code: "uint32 targetGuid = player->GetTarget()->GetGUID().GetRawValue();\nuint32\
      \ currentDots = afflictionTracker->GetDoTCount(targetGuid);\nif (currentDots\
      \ < 5)\n{\n    // Cast another Affliction DoT if less than maximum allowed\n\
      \    player->CastSpell(target, SPELL_UNSTABLE_AFFLICTION, true);\n}"
    language: cpp
  notes: This method assumes that the AfflictionDoTTracker maintains an internal data
    structure to track active DoTs per target. The implementation likely uses a map
    or similar container with GUIDs as keys and counts as values. It's important to
    note that this count reflects only Affliction-specific DoTs, not all possible
    DoTs in the game.
  warnings: Ensure that the targetGuid parameter is valid before calling this method;
    passing an invalid or uninitialized GUID may lead to undefined behavior or incorrect
    results. Also, be aware that this method returns a snapshot of the current state
    and may not reflect real-time changes during combat processing.
  related:
  - GetDoTList
  - IsTargetAffectedByAfflictionDot
  - AddAfflictionDot
  - RemoveAfflictionDot
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T20:22:04.355978'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
