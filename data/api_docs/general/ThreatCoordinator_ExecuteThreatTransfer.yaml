api:
  class: ThreatCoordinator
  method: ExecuteThreatTransfer
  signature: bool ThreatCoordinator::ExecuteThreatTransfer(int fromBot, int toBot,
    Unit * target)
documentation:
  brief: Transfers threat from one bot to another on a specified target unit.
  description: The ExecuteThreatTransfer method facilitates the redistribution of
    threat generated by one bot to another bot targeting the same unit. This is commonly
    used in AI-driven bot systems where bots need to coordinate their combat behavior,
    such as when one bot should take over aggro from another. The method ensures that
    the target unit's threat table is updated accordingly, potentially causing the
    receiving bot to become the primary target of the unit's attacks. It returns true
    if the threat transfer was successful and false otherwise, which may occur if
    either bot is invalid or not engaged with the target.
  parameters:
  - name: fromBot
    description: The identifier of the bot whose threat will be transferred. Must
      correspond to a valid bot instance in the system.
  - name: toBot
    description: The identifier of the bot that will receive the threat. Must also
      correspond to a valid bot instance.
  - name: target
    description: Pointer to the Unit object (e.g., NPC or player) on which the threat
      transfer is performed. The target must be valid and currently engaged with both
      bots.
  returns: True if the threat was successfully transferred from one bot to another;
    false if the operation failed due to invalid parameters, lack of engagement, or
    other internal conditions.
  examples:
  - title: Basic Threat Transfer
    code: "if (threatCoordinator.ExecuteThreatTransfer(101, 102, targetUnit)) {\n\
      \    // Threat successfully transferred\n    sLog->outString(\"Threat transferred\
      \ from bot 101 to bot 102\");\n} else {\n    // Transfer failed\n    sLog->outString(\"\
      Failed to transfer threat\");\n}"
    language: cpp
  - title: Conditional Threat Transfer
    code: "if (playerBot->GetHealthPct() < 30 && threatCoordinator.ExecuteThreatTransfer(playerBot->GetGUID().GetCounter(),\
      \ tankBot->GetGUID().GetCounter(), target)) {\n    // Player bot is low on health,\
      \ transfer threat to tank\n    sLog->outString(\"Transferring threat to tank\
      \ due to low health\");\n}"
    language: cpp
  notes: This method assumes that both bots are currently in combat with the target
    unit. The underlying implementation likely modifies the threat tables of the involved
    units and may trigger AI recalculations or combat state updates. It is designed
    for use within a controlled bot environment, such as in TrinityCore's AI framework.
  warnings: Do not call this method if either bot is not actively engaged with the
    target unit, as it may lead to undefined behavior or inconsistent threat states.
    Also, ensure that both bot identifiers are valid and correspond to actual active
    bots in the system.
  related:
  - GetThreatList
  - AddThreat
  - RemoveThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T00:57:52.320062'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
