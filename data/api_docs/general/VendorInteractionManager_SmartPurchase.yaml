api:
  class: VendorInteractionManager
  method: SmartPurchase
  signature: uint32 VendorInteractionManager::SmartPurchase(Creature * vendor)
documentation:
  brief: Processes a smart purchase transaction with the specified vendor creature.
  description: The SmartPurchase method handles the logic for automatically purchasing
    items from a vendor based on predefined criteria such as item quality, price,
    and player needs. It evaluates available inventory, checks player requirements
    (such as money and quest completion), and performs the transaction if all conditions
    are met. This method is typically used in AI scripts or automated systems to streamline
    vendor interactions without manual input.
  parameters: []
  returns: Returns the number of items successfully purchased from the vendor. A return
    value of zero indicates no items were purchased, which may occur due to insufficient
    funds, missing requirements, or lack of eligible items.
  examples:
  - title: Basic Smart Purchase Usage
    code: "Creature* vendor = ...; // Assume vendor is initialized\nuint32 itemsPurchased\
      \ = sVendorInteractionManager->SmartPurchase(vendor);\nif (itemsPurchased >\
      \ 0)\n{\n    // Handle successful purchase\n    sLog->outString(\"Successfully\
      \ purchased %u items.\", itemsPurchased);\n}"
    language: cpp
  notes: This method assumes that the vendor creature is valid and has a proper vendor
    template. It internally manages item selection logic based on player's inventory
    space, gold balance, and item requirements. Performance is optimized for frequent
    calls but may vary depending on vendor item count and AI complexity.
  warnings: Ensure the vendor pointer is not null before calling this method to avoid
    runtime errors. The method does not validate if the player is in range or has
    sufficient permissions; these checks should be performed beforehand.
  related:
  - VendorInteractionManager::GetVendorItems
  - VendorInteractionManager::CanAffordItem
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T17:39:10.418409'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
