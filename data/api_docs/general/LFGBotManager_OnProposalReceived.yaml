api:
  class: LFGBotManager
  method: OnProposalReceived
  signature: void LFGBotManager::OnProposalReceived(uint32 proposalId, const lfg::LfgProposal
    & proposal)
documentation:
  brief: Handles incoming LFG proposals by processing and responding to group matching
    requests.
  description: The OnProposalReceived method is invoked when a new LFG (Looking for
    Group) proposal is received from the server. This typically occurs during the
    LFG queue process when a matching group has been found for a player's request.
    The method processes the proposal data, which includes information about the proposed
    group members and their roles, and determines how to respond to the proposal.
    It is part of the LFGBotManager's core functionality for automating LFG interactions
    in TrinityCore-based World of Warcraft servers.
  parameters:
  - name: proposalId
    description: Unique identifier for the LFG proposal being received. Used to track
      and reference this specific proposal throughout its lifecycle.
  - name: proposal
    description: Structure containing detailed information about the proposed group,
      including member data, roles, and group composition. This is an instance of
      lfg::LfgProposal type.
  returns: null
  examples:
  - title: Basic proposal handling implementation
    code: "void LFGBotManager::OnProposalReceived(uint32 proposalId, const lfg::LfgProposal&\
      \ proposal)\n{\n    // Log the received proposal\n    sLog->outInfo(LOG_FILTER_LFG,\
      \ \"Received LFG proposal %u with %u members\", proposalId, proposal.members.size());\n\
      \    \n    // Accept the proposal if it meets criteria\n    if (proposal.members.size()\
      \ >= 3)\n    {\n        sLFGMgr->AcceptProposal(proposalId);\n    }\n    else\n\
      \    {\n        sLFGMgr->DeclineProposal(proposalId);\n    }\n}"
    language: cpp
  notes: This method is typically called from within the LFG system's internal processing
    loop. It should not block or perform heavy operations as it may affect queue responsiveness.
    The proposal structure contains validated data from the server, but developers
    should still verify member eligibility before accepting.
  warnings: Improper handling of proposals can lead to players being stuck in queues
    or receiving incorrect group assignments. Always validate that the proposal meets
    your bot's criteria before accepting or declining.
  related:
  - AcceptProposal
  - DeclineProposal
  - OnProposalFailed
  - OnProposalUpdate
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T04:20:40.327052'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
