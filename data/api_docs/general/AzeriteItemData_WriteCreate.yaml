api:
  class: AzeriteItemData
  method: WriteCreate
  signature: void AzeriteItemData::WriteCreate(ByteBuffer & data, int fieldVisibilityFlags,
    const AzeriteItem * owner, const Player * receiver) const
documentation:
  brief: Writes Azerite item creation data to a ByteBuffer for network transmission
    to a player.
  description: The WriteCreate method serializes the AzeriteItemData object into a
    ByteBuffer format suitable for sending to clients as part of the Azerite item
    creation packet. This method is typically invoked when a player receives or gains
    access to an Azerite item, ensuring that all relevant Azerite properties are properly
    transmitted to the client. The serialization process respects field visibility
    flags and may include additional context based on the owner and receiver players.
    It's used internally by TrinityCore's packet handling system to maintain synchronization
    between server-side Azerite item state and client-side representation.
  parameters:
  - name: data
    description: Reference to a ByteBuffer where the serialized Azerite item creation
      data will be written. This buffer is typically used for constructing network
      packets sent to players.
  - name: fieldVisibilityFlags
    description: Integer flag indicating which fields of the Azerite item should be
      included in the serialization. These flags control visibility and synchronization
      behavior based on client requirements or player permissions.
  - name: owner
    description: Pointer to the AzeriteItem object that contains the data to be serialized.
      This represents the source of the Azerite item information being written.
  - name: receiver
    description: Pointer to the Player object who will receive this Azerite item creation
      data. Used to determine appropriate field visibility and packet formatting based
      on player state or permissions.
  returns: null
  examples:
  - title: Basic usage in packet construction
    code: 'ByteBuffer data;

      AzeriteItemData azeriteData;

      Player* receiver = ...; // Get player reference

      AzeriteItem* owner = ...; // Get Azerite item reference

      int visibilityFlags = 0x01; // Example flag

      azeriteData.WriteCreate(data, visibilityFlags, owner, receiver);

      // Send data via WorldPacket to receiver'
    language: cpp
  notes: This method is part of the internal packet serialization system for Azerite
    items in TrinityCore. It's designed to be called during item creation or modification
    events and should not be invoked directly outside of core packet handling logic.
    The method uses field visibility flags to optimize network traffic by only sending
    necessary data.
  warnings: Improper use of fieldVisibilityFlags can result in incomplete or incorrect
    Azerite item data being sent to clients, potentially causing display issues or
    synchronization problems. Ensure that the owner and receiver parameters are valid
    before calling this method.
  related:
  - WriteUpdate
  - WriteDestroy
  - GetAzeriteItem
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T06:24:59.788466'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
