api:
  class: VMapManager2
  method: GetMapTree
  signature: int VMapManager2::GetMapTree(uint32 mapId) const
documentation:
  brief: Retrieves the virtual map tree identifier for a specified map ID.
  description: The GetMapTree method retrieves the unique identifier associated with
    the virtual map tree for a given map ID. This identifier is used internally by
    the VMapManager2 to manage and access navigation meshes and line-of-sight calculations
    for different game maps. The method serves as a lookup mechanism to determine
    which virtual map tree data structure should be used when performing spatial queries
    or collision detection on a specific map. It's an essential part of the TrinityCore's
    virtual mapping system that enables efficient terrain-based gameplay mechanics
    such as spell targeting, NPC movement, and object placement.
  parameters: []
  returns: Returns an integer identifier representing the virtual map tree associated
    with the specified map ID. A return value of -1 typically indicates that no valid
    map tree was found for the given map ID, while a positive integer represents a
    valid tree identifier. The exact meaning of the returned integer values depends
    on internal implementation details of the VMapManager2 class and its mapping system.
  examples:
  - title: Basic usage to retrieve map tree identifier
    code: int treeId = VMapManager2::GetMapTree(1); // Retrieves tree ID for map ID
      1 (e.g., Eastern Kingdoms)
    language: cpp
  notes: This method is typically used internally by the TrinityCore server when performing
    spatial queries or collision detection operations. The implementation likely involves
    a lookup table or hash map that maps map IDs to their corresponding virtual map
    tree identifiers. Developers should be aware that this method may return -1 if
    no valid mapping exists for the requested map ID, which could indicate either
    an invalid map ID or a missing VMap file for that particular area.
  warnings: The method signature indicates it's const, so it should not modify any
    internal state. However, if the underlying data structures are not thread-safe,
    calling this method from multiple threads simultaneously might lead to race conditions.
    Additionally, relying on specific return values other than -1 for error checking
    may be fragile if the internal mapping logic changes in future versions.
  related:
  - GetMapTree
  - LoadMap
  - UnloadMap
  - IsInLineOfSight
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T15:52:12.174946'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
