api:
  class: ThreadSafeClassAI
  method: GetLowestHealthAlly
  signature: Unit * ThreadSafeClassAI::GetLowestHealthAlly() const
documentation:
  brief: Returns the Unit with the lowest health among all allies within the AI's
    detection range.
  description: The GetLowestHealthAlly method identifies and returns the Unit object
    representing the ally with the lowest current health in the AI's detection range.
    This method is typically used by AI-controlled units to determine which friendly
    target needs healing or support most urgently. The returned Unit pointer may be
    null if no valid allies are detected within the AI's awareness. The method performs
    a search through the AI's known allies and compares their health values to find
    the minimum. This functionality is essential for implementing intelligent healing
    and support behaviors in TrinityCore-based AI systems.
  parameters: []
  returns: A pointer to the Unit object representing the ally with the lowest health,
    or nullptr if no valid allies are found within detection range.
  examples:
  - title: Basic usage in an AI behavior
    code: "void MyAI::UpdateAI(uint32 diff)\n{\n    Unit* lowestHealthAlly = me->GetAI()->GetLowestHealthAlly();\n\
      \    if (lowestHealthAlly && lowestHealthAlly->IsInWorld())\n    {\n       \
      \ // Perform healing or support action on the lowest health ally\n        DoHeal(lowestHealthAlly);\n\
      \    }\n}"
    language: cpp
  notes: This method is thread-safe and can be called from within AI update loops.
    It relies on the AI's internal detection system to maintain a list of valid allies.
    The method does not perform any direct health calculations but rather returns
    the result of an existing internal search mechanism.
  warnings: The returned Unit pointer should always be checked for null before use,
    as there may be no valid allies within detection range. Calling methods on a null
    pointer will result in undefined behavior.
  related:
  - GetHighestHealthAlly
  - GetNearestHostileUnit
  - GetNearbyAlly
metadata:
  confidence: 0.95
  generated_at: '2025-11-09T04:40:59.897202'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
