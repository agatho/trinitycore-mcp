api:
  class: LoSUtils
  method: IsDirectPathClear
  signature: bool LoSUtils::IsDirectPathClear(const int & from, const int & to, Map
    * map)
documentation:
  brief: Determines whether a direct line-of-sight path exists between two points
    in a given map.
  description: The IsDirectPathClear method evaluates if there is an unobstructed
    straight-line path from a source point to a destination point within the specified
    game map. This utility function is commonly used in World of Warcraft's TrinityCore
    server for determining visibility, spell casting range, and NPC behavior. It checks
    for collisions with terrain, objects, or other environmental obstacles that would
    block direct line-of-sight. The method requires valid map data and proper coordinate
    inputs to ensure accurate results.
  parameters:
  - name: from
    description: The starting point identifier or index used to locate the source
      position in the map. This typically represents a unique entity or location reference
      within the game world.
  - name: to
    description: The ending point identifier or index used to locate the destination
      position in the map. This also typically represents a unique entity or location
      reference within the game world.
  - name: map
    description: Pointer to the Map object that contains the spatial data for both
      the source and destination points. The map must be valid and loaded for accurate
      path checking.
  returns: Returns true if a direct line-of-sight path exists between the two specified
    points without any obstructions, false otherwise. A return value of false indicates
    that at least one obstacle blocks the direct path.
  examples:
  - title: Basic usage to check line-of-sight between two entities
    code: "if (LoSUtils::IsDirectPathClear(playerGuid, npcGuid, playerMap)) {\n  \
      \  // Player can see NPC directly\n    SendChatMessage(\"NPC is in sight!\"\
      );\n} else {\n    // Line of sight is blocked\n    SendChatMessage(\"NPC is\
      \ hidden behind something.\");\n}"
    language: cpp
  - title: Using IsDirectPathClear for spell targeting validation
    code: "if (LoSUtils::IsDirectPathClear(casterGuid, targetGuid, currentMap)) {\n\
      \    // Cast spell normally\n    CastSpellOnTarget(spellId, targetGuid);\n}\
      \ else {\n    // Spell fails due to obstruction\n    SendSystemMessage(\"Your\
      \ target is obstructed.\");\n}"
    language: cpp
  notes: This method performs spatial calculations using the map's collision system
    and may have performance implications when called frequently in tight loops. It
    assumes that both 'from' and 'to' parameters are valid identifiers within the
    context of the provided map. For optimal performance, avoid calling this function
    repeatedly for the same locations unless necessary.
  warnings: Ensure that the Map pointer passed is valid and loaded before invoking
    this method; otherwise, it may lead to undefined behavior or crashes. Also note
    that this function does not account for dynamic objects like moving creatures
    or temporary barriers that might block line-of-sight at runtime.
  related:
  - IsInLineOfSight
  - GetLineOfSightStatus
  - CheckLOS
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T01:08:28.164626'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
