api:
  class: BankTabSettings
  method: WriteUpdate
  signature: void BankTabSettings::WriteUpdate(ByteBuffer & data, bool ignoreChangesMask,
    const Player * owner, const Player * receiver) const
documentation:
  brief: Serializes bank tab settings into a ByteBuffer for network transmission to
    a player.
  description: The WriteUpdate method serializes the current state of bank tab settings
    into a provided ByteBuffer, preparing it for network transmission. This method
    is typically used when sending updates about bank tab configurations to players,
    ensuring that changes are properly communicated over the network. The serialization
    process respects the ignoreChangesMask flag which can bypass certain change tracking
    mechanisms. It also takes into account the owner and receiver player objects to
    determine appropriate data formatting and permissions for the update.
  parameters:
  - name: data
    description: Reference to a ByteBuffer where the serialized bank tab settings
      will be written. This buffer is typically used for constructing network packets
      sent to clients.
  - name: ignoreChangesMask
    description: Boolean flag indicating whether to ignore the change tracking mask
      when serializing data. If true, all settings are written regardless of their
      change status.
  - name: owner
    description: Pointer to the Player object who owns the bank tab settings. Used
      to determine ownership context and permissions for serialization.
  - name: receiver
    description: Pointer to the Player object who will receive the serialized data.
      Used to apply appropriate formatting based on the receiver's perspective or
      permissions.
  returns: null
  examples:
  - title: Basic usage for sending bank tab update
    code: 'ByteBuffer data;

      Player* owner = session->GetPlayer();

      Player* receiver = session->GetPlayer();

      bankTabSettings.WriteUpdate(data, false, owner, receiver);

      session->SendPacket(&data);'
    language: cpp
  notes: This method is part of the TrinityCore's network serialization system for
    bank tab data. It's commonly called during player login or when bank tab settings
    are modified to ensure clients receive updated information. The method internally
    handles proper bitpacking and packet structure formatting required by the World
    of Warcraft client protocol.
  warnings: Ensure that the ByteBuffer is properly initialized before calling this
    method, as it will append serialized data without clearing existing content. Also,
    be cautious when using ignoreChangesMask=true as it may send unnecessary data
    to clients.
  related:
  - BankTabSettings::ReadUpdate
  - BankTabSettings::IsChanged
  - BankTabSettings::SetChanged
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T08:48:22.839815'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
