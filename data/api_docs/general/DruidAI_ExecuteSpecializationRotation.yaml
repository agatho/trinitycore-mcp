api:
  class: DruidAI
  method: ExecuteSpecializationRotation
  signature: void DruidAI::ExecuteSpecializationRotation(int * target)
documentation:
  brief: Executes the Druid's specialization-specific combat rotation logic.
  description: The ExecuteSpecializationRotation method implements the core decision-making
    logic for a Druid AI character's combat behavior based on their current specialization.
    This method evaluates the Druid's current situation, including target status,
    available abilities, resource levels (mana, rage, energy), and form states (cat,
    bear, moonkin, etc.) to determine and execute the most appropriate spell or ability
    from their specialization rotation. It serves as the primary driver for automated
    combat decisions in AI-controlled Druids within TrinityCore's AI framework.
  parameters:
  - name: target
    description: Pointer to an integer representing the target identifier (GUID) that
      the Druid AI should focus its rotation on. This parameter is used to determine
      which enemy to attack or cast spells against during the execution of the specialization
      rotation.
  returns: null
  examples:
  - title: Basic Usage in Druid AI Context
    code: "void MyDruidAI::UpdateAI(uint32 diff)\n{\n    if (Unit* target = SelectTarget(SELECT_TARGET_TOPAGGRO))\n\
      \    {\n        int targetGuid = target->GetGUID().GetRawValue();\n        ExecuteSpecializationRotation(&targetGuid);\n\
      \    }\n}"
    language: cpp
  - title: Integration with Custom Druid Rotation Logic
    code: "void AdvancedDruidAI::ExecuteSpecializationRotation(int* target)\n{\n \
      \   if (!target || *target <= 0) return;\n    \n    Unit* targetUnit = ObjectAccessor::GetUnit(*m_creature,\
      \ ObjectGuid(HighGuid::Player, *target));\n    if (!targetUnit || !targetUnit->IsAlive())\
      \ return;\n    \n    // Implement specialization-specific logic here\n    //\
      \ e.g., check form, mana levels, debuffs, etc.\n    // Then execute appropriate\
      \ spells or abilities\n}"
    language: cpp
  notes: This method is typically called from within the Druid AI's main UpdateAI
    loop. It assumes that the Druid AI has already selected a valid target and that
    the target pointer points to a valid unit GUID. The implementation may vary depending
    on the Druid's current form and specialization (Feral, Balance, Restoration).
    Performance considerations include avoiding unnecessary checks or redundant spell
    casts.
  warnings: Ensure that the target parameter is properly validated before passing
    it to this method to prevent crashes or unexpected behavior. Passing an invalid
    or null pointer can lead to undefined behavior. The method does not handle target
    switching internally; it assumes a stable target throughout its execution cycle.
  related:
  - UpdateAI
  - SelectTarget
  - CastSpell
  - GetForm
  - HasMana
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T06:06:24.261953'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
