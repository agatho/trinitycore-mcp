api:
  class: SmartScript
  method: SetPhase
  signature: void SmartScript::SetPhase(uint32 p)
documentation:
  brief: Sets the current phase of the SmartScript to the specified value.
  description: The SetPhase method is used to change the active phase of a SmartScript
    instance, which controls conditional behavior and execution flow based on phase
    states. In World of Warcraft's TrinityCore environment, phases are commonly used
    in AI scripts to manage different stages of an NPC's behavior or combat state.
    This method updates the internal phase tracking of the script, allowing for conditional
    actions to be triggered based on the new phase value. The change takes effect
    immediately and affects subsequent SmartScript evaluations.
  parameters:
  - name: p
    description: The phase value to set. This is typically a numeric identifier that
      represents a specific state or stage in the AI behavior sequence. Valid values
      are usually non-negative integers, with common usage patterns involving sequential
      phase numbers (e.g., 0, 1, 2, 3) or bitmask values for complex phase combinations.
  returns: null
  examples:
  - title: Basic Phase Setting
    code: "void OnCombatEnter(Unit* /*who*/) {\n    me->SetPhase(1);\n    // This\
      \ sets the NPC's phase to 1 when combat begins\n}"
    language: cpp
  - title: Multi-phase AI Control
    code: "void UpdateAI(uint32 diff) {\n    if (me->GetPhase() == 0) {\n        me->SetPhase(1);\n\
      \        // Transition to phase 1 after initial setup\n    } else if (me->GetPhase()\
      \ == 1 && healthBelow50) {\n        me->SetPhase(2);\n        // Transition\
      \ to phase 2 when health drops below 50%\n    }\n}"
    language: cpp
  notes: The SetPhase method directly modifies the internal phase state of the SmartScript.
    It's important to note that phase values are typically managed by the AI system
    and should be consistent with other phase-related methods like GetPhase() and
    IsInPhase(). The method does not perform any validation on the input value, so
    developers should ensure valid phase identifiers are used to avoid unexpected
    behavior.
  warnings: Setting an invalid or unexpected phase value may cause conditional logic
    in SmartScript events to behave unpredictably. Avoid setting phase values that
    conflict with other systems or that haven't been properly defined in your AI script's
    event handling logic. Be cautious when changing phases during active combat or
    critical AI sequences as it might interrupt ongoing actions.
  related:
  - GetPhase
  - IsInPhase
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T02:19:19.951892'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
