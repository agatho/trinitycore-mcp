api:
  class: PersistentInstanceScriptValueBase
  method: PersistentInstanceScriptValueBase
  signature: void PersistentInstanceScriptValueBase::PersistentInstanceScriptValueBase(InstanceScript
    & instance, const char * name, std::variant<int64, double> value)
documentation:
  brief: Initializes a persistent instance script value with an associated instance
    script, name, and variant value.
  description: The PersistentInstanceScriptValueBase constructor initializes a persistent
    value storage mechanism within an InstanceScript context. This allows for storing
    and retrieving key-value pairs where the value can be either an integer or a double.
    The name parameter serves as a unique identifier for the stored value within the
    instance, while the value parameter holds the actual data. This functionality
    is commonly used in World of Warcraft TrinityCore to maintain state across different
    events or phases of an instance's lifecycle, such as tracking boss kill counts,
    quest progress, or other persistent game state information.
  parameters:
  - name: instance
    description: Reference to the InstanceScript object this value belongs to. Used
      to associate the value with a specific instance context.
  - name: name
    description: Null-terminated character string serving as the unique identifier
      for this persistent value within the instance. Must be non-null and unique per
      instance.
  - name: value
    description: Variant type containing either an int64 or double value to be stored
      persistently. The actual type is determined at runtime based on usage requirements.
  returns: null
  examples:
  - title: Basic Initialization of Persistent Value
    code: "class MyInstanceScript : public InstanceScript {\npublic:\n    MyInstanceScript(Map*\
      \ map) : InstanceScript(map) {\n        // Initialize a persistent integer value\n\
      \        PersistentInstanceScriptValueBase bossKillCount(*this, \"boss_kill_count\"\
      , int64(0));\n        \n        // Initialize a persistent double value\n  \
      \      PersistentInstanceScriptValueBase healthMultiplier(*this, \"health_multiplier\"\
      , double(1.5));\n    }\n};"
    language: cpp
  notes: This constructor is typically not called directly by developers but rather
    through derived classes or factory methods that provide specific implementations
    for persistent value handling. The underlying storage mechanism uses the InstanceScript's
    internal data structures to ensure persistence across instance events.
  warnings: Ensure that the name parameter is unique within each instance to prevent
    conflicts with other persistent values. Avoid using null or empty strings as names,
    as this may lead to undefined behavior in the instance's value management system.
  related:
  - GetPersistentValue
  - SetPersistentValue
  - RemovePersistentValue
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T16:10:26.914972'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
