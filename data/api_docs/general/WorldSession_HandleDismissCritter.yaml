api:
  class: WorldSession
  method: HandleDismissCritter
  signature: void WorldSession::HandleDismissCritter(WorldPackets::Pet::DismissCritter
    & dismissCritter)
documentation:
  brief: Handles the client request to dismiss a critter pet.
  description: The HandleDismissCritter method processes a packet sent by the client
    when a player attempts to dismiss their currently active critter pet. This method
    validates that the player has a critter pet summoned and removes it from the world,
    returning control of the pet to the player's inventory or removing it entirely
    if it was a temporary summon. The method ensures proper cleanup of the pet's state
    and updates the player's pet-related data structures accordingly.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in packet handling
    code: "void WorldSession::HandleDismissCritter(WorldPackets::Pet::DismissCritter&\
      \ dismissCritter)\n{\n    if (Player* player = GetPlayer())\n    {\n       \
      \ if (Creature* critter = player->GetPet())\n        {\n            player->RemovePet(critter,\
      \ PET_SAVE_AS_CURRENT);\n        }\n    }\n}"
    language: cpp
  notes: This method is typically invoked as part of the packet handling system in
    response to a client-generated 'Dismiss Critter' command. It assumes that the
    player has an active critter pet and handles the removal logic internally without
    requiring additional validation from the calling code.
  warnings: null
  related:
  - HandlePetAction
  - HandlePetStopAttack
  - Player::RemovePet
  - Player::GetPet
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T22:15:59.937435'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
