api:
  class: MageAI
  method: OnCombatStart
  signature: void MageAI::OnCombatStart(::Unit * target)
documentation:
  brief: Initializes Mage AI behavior when entering combat with a target
  description: The OnCombatStart method is invoked when a Mage AI-controlled unit
    begins combat with a specified target. This method sets up the initial combat
    state for the mage, including establishing target tracking, initializing spell
    casting priorities, and preparing the AI's tactical behavior. The method typically
    configures the AI to use appropriate Mage-specific abilities such as arcane missiles,
    frostbolt, or other combat spells based on the current situation and target type.
    It serves as the entry point for all combat-related AI logic initialization.
  parameters:
  - name: target
    description: Pointer to the Unit object representing the enemy target that initiated
      combat. This parameter cannot be null and must represent a valid combatant in
      the current encounter.
  returns: void
  examples:
  - title: Basic Mage AI Combat Initialization
    code: "void MageAI::OnCombatStart(Unit* target)\n{\n    if (!target)\n       \
      \ return;\n    \n    // Set initial targeting\n    me->SetTarget(target->GetGUID());\n\
      \    \n    // Initialize combat spell selection\n    m_spellList.clear();\n\
      \    m_spellList.push_back(SPELL_ARCANE_MISSILES);\n    m_spellList.push_back(SPELL_FROSTBOLT);\n\
      \    \n    // Start combat timer\n    m_combatTimer = 1000;\n}"
    language: cpp
  notes: This method is typically called by the core AI system when a unit enters
    combat mode. Developers should ensure that all necessary initialization steps
    are completed before returning from this function to avoid undefined behavior
    during combat. The target parameter is guaranteed to be valid at this point, but
    it's recommended to verify its combat state before proceeding with spell casting
    logic.
  warnings: Do not call any combat-related methods on the target unit without first
    verifying that it is a valid combatant and not in an invalid state (such as dead
    or evading). Avoid performing heavy computations in this method as it may block
    the AI update cycle during critical combat moments.
  related:
  - OnCombatEnd
  - UpdateAI
  - EnterCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T09:03:48.522693'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
