api:
  class: TriggerFactory
  method: instance
  signature: TriggerFactory * TriggerFactory::instance()
documentation:
  brief: Returns the singleton instance of the TriggerFactory class
  description: The instance() method implements the singleton pattern for the TriggerFactory
    class, ensuring that only one instance of the factory exists throughout the application
    lifecycle. This method is commonly used in World of Warcraft's TrinityCore to
    manage trigger creation and handling within the game world. The returned pointer
    provides access to all trigger-related functionality, including trigger creation,
    management, and event processing. This implementation is thread-safe and designed
    to be called from various parts of the core engine without risk of multiple instances
    being created.
  parameters: []
  returns: A pointer to the single instance of TriggerFactory. The method never returns
    NULL as it ensures the singleton instance is always valid. If the instance hasn't
    been created yet, it will be instantiated automatically upon first call.
  examples:
  - title: Basic Usage
    code: 'TriggerFactory* factory = TriggerFactory::instance();

      // Use factory to create triggers

      Trigger* trigger = factory->CreateTrigger(TRIGGER_TYPE_EVENT);

      '
    language: cpp
  - title: Accessing Trigger Factory in Game Logic
    code: "void HandlePlayerEnterWorld(Player* player)\n{\n    TriggerFactory* factory\
      \ = TriggerFactory::instance();\n    // Create and register world enter triggers\n\
      \    Trigger* enterTrigger = factory->CreateTrigger(TRIGGER_TYPE_WORLD_ENTER);\n\
      \    enterTrigger->SetOwner(player);\n    // Process the trigger\n    factory->ProcessTrigger(enterTrigger);\n\
      }\n"
    language: cpp
  notes: This method follows the classic singleton pattern with lazy initialization.
    The TriggerFactory instance is created on first access and persists for the entire
    application lifetime. This design ensures consistent trigger management across
    different subsystems of TrinityCore. The implementation assumes thread safety
    through proper synchronization mechanisms in the core engine.
  warnings: Since this is a singleton, avoid creating multiple instances manually
    or using raw pointers without proper cleanup. The returned pointer should not
    be deleted by the caller as it's managed by the singleton lifecycle. Be cautious
    when testing code that relies on this singleton to ensure proper isolation between
    test cases.
  related:
  - TriggerFactory::CreateTrigger
  - TriggerFactory::ProcessTrigger
  - TriggerFactory::DestroyTrigger
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T00:22:02.136426'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
