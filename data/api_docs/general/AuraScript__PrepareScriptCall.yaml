api:
  class: AuraScript
  method: _PrepareScriptCall
  signature: void AuraScript::_PrepareScriptCall(AuraScriptHookType hookType, const
    AuraApplication * aurApp)
documentation:
  brief: Initializes internal state for executing an aura script hook based on the
    provided hook type and application context.
  description: The _PrepareScriptCall method is a private helper function within the
    AuraScript class that prepares the necessary internal state before invoking a
    specific aura script hook. It takes an AuraScriptHookType enumeration value and
    a pointer to an AuraApplication object, which together define the context for
    the upcoming script execution. This method ensures that all required data is properly
    set up in the AuraScript instance so that subsequent calls to script handlers
    (like OnApply, OnRemove, etc.) have access to the correct aura application and
    hook type information. The method is typically called internally by the TrinityCore
    framework when processing aura events, and it's not intended for direct use by
    custom script developers.
  parameters:
  - name: hookType
    description: An enumeration value of type AuraScriptHookType that specifies which
      hook (event) is being prepared for execution. This determines what specific
      script handlers will be invoked.
  - name: aurApp
    description: A const pointer to an AuraApplication object representing the application
      context of the aura. This provides access to information about how the aura
      is applied to a unit, including the caster, duration, and other application-specific
      data.
  returns: null
  examples:
  - title: Internal usage example
    code: "void MyAuraScript::OnApply(Aura const* aura, AuraEffect const* effect,\
      \ AuraApplication const* aurApp)\n{\n    // This method would internally call\
      \ _PrepareScriptCall before executing\n    // custom logic for the OnApply hook.\n\
      }\n\n// The framework might internally do something like:\n// _PrepareScriptCall(AURA_SCRIPT_HOOK_APPLY,\
      \ aurApp);\n// Then proceed to execute the script's OnApply handler."
    language: cpp
  notes: This method is an internal implementation detail of the AuraScript system
    and should not be called directly by custom aura scripts. It's designed to be
    invoked automatically by the TrinityCore framework during aura event processing.
    The method modifies internal state variables within the AuraScript instance to
    maintain proper context for script execution.
  warnings: Do not call this method directly from custom aura scripts as it may lead
    to undefined behavior or incorrect script execution. This is an internal helper
    function used exclusively by the core framework for managing aura script invocation.
  related:
  - AuraScript::OnApply
  - AuraScript::OnRemove
  - AuraScript::OnUpdate
  - AuraScript::HandleEffect
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T13:18:42.948285'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
