api:
  class: PriestAI
  method: CastDispelMagic
  signature: void PriestAI::CastDispelMagic()
documentation:
  brief: Casts the Dispel Magic spell on a target within the PriestAI's current threat
    list.
  description: The CastDispelMagic method is responsible for executing the Dispel
    Magic spell logic within the PriestAI class. This method typically selects an
    appropriate target from the AI's current target list or threat table, and attempts
    to cast the Dispel Magic spell on that target. The spell is used to remove magical
    buffs and debuffs from enemies, making it a crucial utility ability for priest
    characters in combat situations. The implementation likely includes checks for
    spell availability, line of sight, target validity, and proper targeting mechanics
    specific to the TrinityCore framework.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in AI update loop
    code: "void PriestAI::UpdateAI(const uint32 diff)\n{\n    if (!UpdateVictim())\n\
      \        return;\n\n    if (me->HasUnitState(UNIT_STATE_CASTING))\n        return;\n\
      \n    // Cast Dispel Magic when appropriate\n    if (HealthBelowPct(50))\n \
      \       CastDispelMagic();\n}"
    language: cpp
  notes: This method is part of the standard Priest AI behavior and should be called
    only when the AI has a valid target. The implementation relies on the underlying
    TrinityCore spell system and may include additional checks for spell cooldowns,
    mana requirements, and target conditions.
  warnings: Ensure that this method is not called during spell casting to prevent
    conflicts with other AI behaviors. Also, verify that the AI has a valid target
    before calling this method to avoid potential errors or unexpected behavior.
  related:
  - CastSpell
  - UpdateVictim
  - HasUnitState
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T22:02:15.903951'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
