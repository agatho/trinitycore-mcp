api:
  class: PvPCombatAI
  method: GetNextCCAbility
  signature: uint32 PvPCombatAI::GetNextCCAbility(int * player, int * target) const
documentation:
  brief: Determines the next crowd control ability to use in PvP combat based on player
    and target states.
  description: The GetNextCCAbility method is used by the PvPCombatAI class to determine
    which crowd control ability should be applied next during player versus player
    encounters. This method evaluates the current state of both the AI-controlled
    unit and its target, considering factors such as available cooldowns, ability
    effectiveness, and combat situation. It returns a unique identifier representing
    the specific crowd control spell or ability that should be cast. The method takes
    two integer pointers as parameters which are likely used to pass information about
    the player's current status and the target's status to inform the decision-making
    process.
  parameters:
  - name: player
    description: Pointer to an integer representing the player's current state or
      status for crowd control decision making. May contain values related to cooldowns,
      health, or other relevant combat metrics.
  - name: target
    description: Pointer to an integer representing the target's current state or
      status for crowd control decision making. May contain values related to threat
      level, health, or other relevant combat metrics.
  returns: Returns a uint32 value that represents the unique identifier (Spell ID)
    of the next crowd control ability to be used. A return value of 0 typically indicates
    no valid ability is available for use at this time.
  examples:
  - title: Basic usage in PvP combat AI logic
    code: "uint32 ccAbility = ai->GetNextCCAbility(&playerStatus, &targetStatus);\n\
      if (ccAbility != 0)\n{\n    // Cast the determined crowd control ability\n \
      \   unit->CastSpell(target, ccAbility, true);\n}"
    language: cpp
  - title: Integration with combat state evaluation
    code: "int playerState = GetPlayerCombatState();\nint targetState = GetTargetCombatState();\n\
      uint32 nextCC = ai->GetNextCCAbility(&playerState, &targetState);\nif (nextCC\
      \ != 0 && IsSpellReady(nextCC))\n{\n    // Execute the crowd control ability\n\
      \    DoCast(nextCC);\n}"
    language: cpp
  notes: This method is part of the PvP-specific AI behavior system in TrinityCore.
    It requires proper initialization of player and target state information to function
    correctly. The implementation likely includes logic for prioritizing different
    crowd control abilities based on their effectiveness against specific target types
    or combat situations.
  warnings: The method assumes that the pointers passed to it contain valid data.
    Passing null pointers or uninitialized values may lead to undefined behavior.
    Additionally, this method should only be called during active PvP combat scenarios
    where crowd control decisions are relevant.
  related:
  - PvPCombatAI::UpdateAI
  - PvPCombatAI::IsCCAvailable
  - PvPCombatAI::GetBestCCAbility
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T20:37:56.262144'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
