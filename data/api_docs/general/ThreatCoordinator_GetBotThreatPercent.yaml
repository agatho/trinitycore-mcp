api:
  class: ThreatCoordinator
  method: GetBotThreatPercent
  signature: float ThreatCoordinator::GetBotThreatPercent(int botGuid, Unit * target)
    const
documentation:
  brief: Calculates and returns the threat percentage of a specific bot relative to
    a target unit.
  description: The GetBotThreatPercent method computes the threat level of a specified
    bot (identified by its GUID) in relation to a given target unit. This value represents
    how much threat the bot has accumulated compared to other units targeting the
    same creature, expressed as a percentage. The method is typically used within
    AI systems to determine if a bot should switch targets or maintain its current
    focus. It relies on the internal threat management system of the ThreatCoordinator
    class and requires valid input parameters to function correctly.
  parameters:
  - name: botGuid
    description: The unique identifier (GUID) of the bot whose threat percentage is
      being calculated.
  - name: target
    description: A pointer to the target Unit for which the threat percentage is computed.
      Must be a valid Unit object.
  returns: Returns a float value representing the threat percentage of the specified
    bot relative to the target unit. A value of 100.0 indicates that the bot has the
    highest threat, while values below 100.0 indicate lower threat levels compared
    to other units targeting the same creature.
  examples:
  - title: Basic Usage Example
    code: "float threatPercent = threatCoordinator->GetBotThreatPercent(botGuid, targetUnit);\n\
      if (threatPercent > 90.0f)\n{\n    // Bot has high threat; consider switching\
      \ targets\n}"
    language: cpp
  - title: Advanced Usage with Target Switching Logic
    code: "float currentThreat = threatCoordinator->GetBotThreatPercent(botGuid, targetUnit);\n\
      float otherThreat = threatCoordinator->GetBotThreatPercent(otherBotGuid, targetUnit);\n\
      \nif (currentThreat < 50.0f && otherThreat > 80.0f)\n{\n    // Switch to the\
      \ other bot if it has significantly higher threat\n    // Implementation logic\
      \ here\n}"
    language: cpp
  notes: This method assumes that both the bot and target units are valid and actively
    engaged in combat or threat generation. The internal threat calculation may involve
    multiple factors including damage dealt, healing done, and aggro mechanics. Performance-wise,
    this method should be used sparingly during high-frequency AI updates to avoid
    impacting game performance.
  warnings: Ensure that both the botGuid and target parameters are valid before calling
    this method. Passing invalid or null pointers can lead to undefined behavior or
    crashes. Additionally, this method does not account for temporary threat modifiers
    such as taunts or abilities that might alter threat dynamically during combat.
  related:
  - GetThreatList
  - AddThreat
  - RemoveThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T16:41:18.807255'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
