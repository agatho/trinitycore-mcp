api:
  class: Player
  method: UpdateCritPercentage
  signature: void Player::UpdateCritPercentage(int attType)
documentation:
  brief: Updates the player's critical strike percentage for the specified attack
    type.
  description: The UpdateCritPercentage method recalculates and refreshes the player's
    critical strike chance for a given attack type. This method is typically invoked
    when changes to the player's stats, equipment, or buffs affect their critical
    hit probability. The attType parameter specifies which type of attack (melee,
    ranged, or spell) the critical percentage should be updated for. This method ensures
    that the player's displayed critical strike chance accurately reflects their current
    combat capabilities.
  parameters:
  - name: attType
    description: The attack type for which to update the critical percentage. Valid
      values are typically defined as constants such as ATTACK_TYPE_MELEE, ATTACK_TYPE_RANGED,
      or ATTACK_TYPE_SPELL. This determines whether melee, ranged, or spell critical
      strike chance is recalculated.
  returns: null
  examples:
  - title: Update melee critical percentage
    code: 'Player* player = ...;

      player->UpdateCritPercentage(ATTACK_TYPE_MELEE);'
    language: cpp
  - title: Update spell critical percentage after stat change
    code: 'Player* player = ...;

      // After applying a buff or changing gear

      player->UpdateCritPercentage(ATTACK_TYPE_SPELL);

      // Critical strike chance is now recalculated based on new stats'
    language: cpp
  notes: This method likely triggers internal stat recalculations and may update the
    player's combat ratings. It should be called whenever there are changes to critical
    strike modifiers, such as equipment swaps, buff/debuff application, or stat modifications.
    The method is part of the core combat system and affects player performance in
    PvP and PvE scenarios.
  warnings: Calling this method too frequently without proper conditions may cause
    unnecessary performance overhead. Ensure that stat changes have actually occurred
    before invoking this method to avoid redundant calculations.
  related:
  - GetCritPercentage
  - UpdateStats
  - CalculateSpellCritChance
metadata:
  confidence: 0.9
  generated_at: '2025-10-29T19:05:42.026124'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
