api:
  class: SurvivalHunterRefactored
  method: MendPetIfNeeded
  signature: void SurvivalHunterRefactored::MendPetIfNeeded()
documentation:
  brief: Heals the hunter's pet if its health is below a certain threshold.
  description: The MendPetIfNeeded method evaluates the current health status of the
    hunter's summoned pet and applies the Mend Pet ability if the pet's health falls
    below a predetermined percentage. This method is typically invoked during combat
    or regular AI updates to ensure the pet remains functional. It checks whether
    the pet exists, is alive, and has sufficient mana to cast Mend Pet before proceeding
    with the healing action. The threshold and mana requirements are based on the
    hunter's current specialization and gear.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in AI update loop
    code: "void HunterAI::UpdateAI(uint32 diff)\n{\n    // ... other AI logic ...\n\
      \    _hunter->MendPetIfNeeded();\n    // ... rest of AI logic ...\n}"
    language: cpp
  notes: This method relies on the pet's current health and mana values being properly
    updated by the core. It does not directly manage pet summoning or despawning;
    it only acts when a pet is already present.
  warnings: Ensure that the hunter's pet is valid before calling this method to avoid
    potential crashes or undefined behavior. The method will silently fail if no pet
    exists or if the pet is already at full health.
  related:
  - GetPet
  - HasPet
  - CastSpell
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T11:01:24.240475'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
