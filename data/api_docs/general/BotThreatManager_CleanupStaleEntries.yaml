api:
  class: BotThreatManager
  method: CleanupStaleEntries
  signature: void BotThreatManager::CleanupStaleEntries()
documentation:
  brief: Removes outdated threat entries from the bot's threat manager to prevent
    memory leaks and stale data.
  description: The CleanupStaleEntries method is responsible for removing obsolete
    or expired threat entries from the BotThreatManager's internal data structures.
    This process ensures that the bot does not maintain references to targets or threats
    that are no longer relevant, which could lead to memory bloat or incorrect AI
    decision-making. The method typically iterates through stored threat data and
    removes entries based on time-based expiration or target validity checks. It is
    commonly invoked during periodic cleanup cycles or when the bot's threat management
    system needs to be refreshed.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in AI Update Loop
    code: "void BotAI::UpdateAI()\n{\n    // ... other AI logic ...\n    m_threatManager->CleanupStaleEntries();\n\
      \    // ... rest of AI logic ...\n}"
    language: cpp
  notes: This method is typically called automatically as part of the bot's regular
    update cycle, but can also be invoked manually when immediate cleanup is required.
    The implementation may use time-based expiration or reference counting to determine
    which entries are stale.
  warnings: null
  related:
  - GetThreat
  - AddThreat
  - ClearAllThreats
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T05:04:17.667537'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
