api:
  class: InstanceLockMgr
  method: Instance
  signature: InstanceLockMgr & InstanceLockMgr::Instance()
documentation:
  brief: Returns the singleton instance of the InstanceLockMgr class for managing
    instance lock states.
  description: The Instance method is a static accessor that provides global access
    to the singleton InstanceLockMgr instance. This manager handles the locking and
    unlocking of instances, ensuring that players cannot enter instances they do not
    have permission to access. It tracks which players have access to specific instances
    and manages the state transitions for instance locks. The method follows the singleton
    pattern, guaranteeing only one instance exists throughout the application lifecycle.
    This is essential for maintaining proper instance access control in World of Warcraft's
    dungeon and raid systems.
  parameters: []
  returns: A reference to the single InstanceLockMgr instance, allowing direct manipulation
    of the global instance lock management system.
  examples:
  - title: Accessing the Instance Lock Manager
    code: 'InstanceLockMgr& instanceLockMgr = InstanceLockMgr::Instance();

      // Use instanceLockMgr to manage instance locks

      instanceLockMgr.LockInstance(playerGuid, instanceId);'
    language: cpp
  - title: Checking Instance Access
    code: "InstanceLockMgr& mgr = InstanceLockMgr::Instance();\nif (mgr.IsPlayerAllowed(playerGuid,\
      \ instanceId)) {\n    // Allow player to enter instance\n    mgr.LockInstance(playerGuid,\
      \ instanceId);\n} else {\n    // Deny access\n    SendAccessDeniedMessage(playerGuid);\n\
      }"
    language: cpp
  notes: This method is thread-safe as it's implemented as a singleton with internal
    synchronization mechanisms. The InstanceLockMgr should be initialized before any
    instance locking operations are performed, typically during server startup or
    when the first player attempts to enter an instance.
  warnings: Do not call this method before the InstanceLockMgr has been properly initialized;
    doing so may result in undefined behavior. Always ensure that the singleton is
    fully constructed before using its methods.
  related:
  - LockInstance
  - UnlockInstance
  - IsPlayerAllowed
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T05:37:03.902870'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
