api:
  class: CriteriaHandler
  method: CanCompleteCriteriaTree
  signature: bool CriteriaHandler::CanCompleteCriteriaTree(const CriteriaTree * tree)
documentation:
  brief: Determines whether a player can complete a specified criteria tree based
    on current progress and requirements.
  description: The CanCompleteCriteriaTree method evaluates if a given CriteriaTree
    object can be fully completed by the player. It checks all criteria within the
    tree against the player's current progress, achievements, quest completion status,
    and other relevant game state conditions. This method is typically used during
    quest reward processing, achievement validation, or when determining if a player
    has met all requirements for a specific objective tree. The evaluation considers
    both direct criteria matches and logical relationships between multiple criteria
    in the tree structure.
  parameters:
  - name: tree
    description: Pointer to the CriteriaTree object that represents the set of criteria
      to evaluate for completion. Must not be null.
  returns: Returns true if all criteria within the specified tree are satisfied by
    the player's current state, indicating the tree can be completed. Returns false
    if any criterion in the tree is not met or cannot be satisfied under current conditions.
  examples:
  - title: Basic usage to check if a criteria tree can be completed
    code: "if (player->GetCriteriaHandler()->CanCompleteCriteriaTree(criteriaTree))\
      \ {\n    // Player can complete this criteria tree\n    player->CompleteCriteriaTree(criteriaTree);\n\
      }"
    language: cpp
  - title: Using in quest reward validation
    code: "void Quest::RewardPlayer(Player* player) {\n    if (player->GetCriteriaHandler()->CanCompleteCriteriaTree(m_questCriteriaTree))\
      \ {\n        // Award rewards\n        player->AddQuestRewards(this);\n    \
      \    player->CompleteQuest(GetQuestId());\n    }\n}"
    language: cpp
  notes: This method performs a full evaluation of all criteria in the tree, including
    nested conditions and logical operators. It may involve database queries or complex
    state checks depending on the criteria types involved. The method assumes that
    the player's current state is up-to-date and reflects all recent changes.
  warnings: Do not call this method during active quest or achievement processing
    as it may cause recursion issues or inconsistent state evaluation. Ensure that
    the CriteriaTree pointer is valid before calling to avoid null pointer exceptions.
  related:
  - GetCriteriaHandler
  - CompleteCriteriaTree
  - HasCriteria
  - UpdateCriteria
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T09:59:57.381841'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
