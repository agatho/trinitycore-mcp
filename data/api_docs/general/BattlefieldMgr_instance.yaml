api:
  class: BattlefieldMgr
  method: instance
  signature: BattlefieldMgr * BattlefieldMgr::instance()
documentation:
  brief: Returns the singleton instance of the BattlefieldMgr class
  description: The instance() method is a static accessor function that provides global
    access to the single BattlefieldMgr object in the TrinityCore server. This method
    implements the singleton pattern, ensuring that only one instance of the BattlefieldMgr
    exists throughout the application lifecycle. The BattlefieldMgr is responsible
    for managing all battlefield-related systems including battlefield creation, player
    assignment, scoring, and cleanup. This method should be called whenever battlefield
    functionality is required without needing to manually instantiate or manage the
    object's lifetime.
  parameters: []
  returns: A pointer to the singleton BattlefieldMgr instance. The return value will
    never be NULL as the singleton is guaranteed to exist once initialized by the
    server.
  examples:
  - title: Basic usage to access battlefield manager
    code: 'BattlefieldMgr* bgMgr = BattlefieldMgr::instance();

      // Use bgMgr to access battlefield functions

      Battlefield* bg = bgMgr->GetBattlefieldByInstanceId(12345);'
    language: cpp
  - title: Using instance in a game event handler
    code: "void OnPlayerEnterWorld(Player* player)\n{\n    BattlefieldMgr* mgr = BattlefieldMgr::instance();\n\
      \    if (mgr)\n    {\n        // Register player for active battlefields\n \
      \       mgr->AddPlayerToBattlefield(player);\n    }\n}"
    language: cpp
  notes: This method is thread-safe as the singleton instance is created during server
    initialization and remains constant. The BattlefieldMgr singleton is initialized
    early in the server startup process before any game threads begin processing.
    Developers should not attempt to manually delete or destroy the returned instance
    as it's managed automatically by the TrinityCore framework.
  warnings: While this method returns a valid pointer, calling it before the BattlefieldMgr
    has been initialized (during very early server startup) could lead to undefined
    behavior. However, in normal operation this shouldn't occur as the singleton is
    initialized during core system setup.
  related:
  - GetBattlefieldByInstanceId
  - AddPlayerToBattlefield
  - RemovePlayerFromBattlefield
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T12:46:25.991274'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
