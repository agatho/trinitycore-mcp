api:
  class: InterruptManager
  method: AssessDamagePriority
  signature: InterruptPriority InterruptManager::AssessDamagePriority(const SpellInfo
    * spellInfo, Unit * caster)
documentation:
  brief: Evaluates and returns the interrupt priority level of a spell based on its
    properties and caster.
  description: The AssessDamagePriority method determines the interrupt priority of
    a given spell by analyzing its characteristics such as damage type, school, and
    other relevant attributes. This is used internally by the InterruptManager to
    decide whether a spell should be interrupted or not during combat. The method
    takes into account various factors including the spell's damage potential, duration,
    and any special properties that might affect its interruptibility. It is typically
    invoked when checking if an incoming spell can interrupt another ongoing spell
    or ability.
  parameters:
  - name: spellInfo
    description: Pointer to the SpellInfo structure containing detailed information
      about the spell being evaluated. This includes damage type, school, duration,
      and other spell properties that influence interrupt priority.
  - name: caster
    description: Pointer to the Unit object representing the caster of the spell.
      The caster's state, class, and other attributes may affect how the spell's interrupt
      priority is assessed.
  returns: Returns an InterruptPriority enum value indicating the calculated interrupt
    priority level. Possible values include LOW, MEDIUM, HIGH, or CRITICAL depending
    on how significant the spell is in terms of interruption potential.
  examples:
  - title: Basic usage to assess a spell's interrupt priority
    code: "InterruptPriority priority = interruptManager->AssessDamagePriority(spellInfo,\
      \ caster);\nif (priority >= InterruptPriority::HIGH) {\n    // Handle high-priority\
      \ interrupt case\n}"
    language: cpp
  - title: Checking interrupt priority for a damage-over-time spell
    code: "SpellInfo* dotSpell = sSpellMgr->GetSpellInfo(12345);\nUnit* playerCaster\
      \ = unit;\nInterruptPriority priority = interruptManager->AssessDamagePriority(dotSpell,\
      \ playerCaster);\nswitch (priority) {\n    case InterruptPriority::LOW:\n  \
      \      // Allow interruption\n        break;\n    case InterruptPriority::HIGH:\n\
      \        // Prevent interruption\n        break;\n}"
    language: cpp
  notes: This method is part of the core interrupt handling system in TrinityCore
    and directly affects combat behavior. It's important to note that the priority
    levels are determined by internal logic based on spell properties and may be subject
    to changes with game updates or balance adjustments.
  warnings: Ensure that both spellInfo and caster parameters are valid pointers before
    calling this method, as passing null values could lead to undefined behavior or
    crashes in the core system.
  related:
  - InterruptManager::HandleInterrupt
  - InterruptManager::IsInterruptible
  - SpellInfo::GetInterruptFlags
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T02:35:11.871177'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
