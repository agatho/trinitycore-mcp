api:
  class: ScriptMgr
  method: OnPlayerDuelStart
  signature: void ScriptMgr::OnPlayerDuelStart(Player * player1, Player * player2)
documentation:
  brief: Invoked when a duel between two players is initiated, allowing scripts to
    execute custom logic.
  description: The OnPlayerDuelStart method is a callback function within the ScriptMgr
    class that gets triggered whenever a player initiates a duel with another player
    in World of Warcraft. This method provides an opportunity for script developers
    to implement custom behaviors or modifications during the duel start process,
    such as modifying duel rules, applying buffs, or logging duel events. The method
    receives two Player pointers representing the participants in the duel and is
    executed before the actual duel begins. It's part of TrinityCore's scripting system
    that allows server administrators and developers to extend game functionality
    without modifying core code.
  parameters:
  - name: player1
    description: Pointer to the first Player object involved in the duel. This represents
      the initiating player or the first participant in the duel sequence.
  - name: player2
    description: Pointer to the second Player object involved in the duel. This represents
      the opponent or the second participant in the duel sequence.
  returns: null
  examples:
  - title: Basic Duel Start Logging
    code: "void ScriptMgr::OnPlayerDuelStart(Player* player1, Player* player2)\n{\n\
      \    sLog->outString(\"Duel started between %s and %s\", player1->GetName().c_str(),\
      \ player2->GetName().c_str());\n}"
    language: cpp
  - title: Preventing Duels in Certain Zones
    code: "void ScriptMgr::OnPlayerDuelStart(Player* player1, Player* player2)\n{\n\
      \    if (player1->GetMapId() == 1234) // Example zone ID\n    {\n        player1->SendNotification(\"\
      Duels are not allowed in this area.\");\n        player2->SendNotification(\"\
      Duels are not allowed in this area.\");\n        // Cancel the duel by not proceeding\
      \ further\n    }\n}"
    language: cpp
  notes: This method is called during the duel initiation process, before any duel-related
    actions take place. Script developers should be cautious about modifying player
    state or performing operations that might interfere with the duel mechanics. The
    method is part of TrinityCore's event-driven scripting system and may be invoked
    from different threads depending on the server configuration.
  warnings: Modifying player objects directly within this callback could lead to unexpected
    behavior or crashes if not handled carefully. Avoid performing heavy computations
    or blocking operations in this function as it can impact game performance. Ensure
    that any modifications to duel mechanics are compatible with the core game logic
    to prevent exploits.
  related:
  - OnPlayerDuelEnd
  - OnPlayerDuelRequest
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T22:20:15.139924'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
