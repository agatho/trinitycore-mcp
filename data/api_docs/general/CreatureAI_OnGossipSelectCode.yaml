api:
  class: CreatureAI
  method: OnGossipSelectCode
  signature: bool CreatureAI::OnGossipSelectCode(int * param0, int param1, int param2,
    const char * param3)
documentation:
  brief: Handles player gossip selection with a code parameter in CreatureAI.
  description: The OnGossipSelectCode method is invoked when a player selects an option
    from a creature's gossip menu that includes a code parameter. This method allows
    the AI to process specific actions based on the selected gossip option and the
    provided code. It typically handles custom interactions such as quest acceptance,
    item delivery, or other scripted events triggered by the player's choice. The
    method returns true if the interaction was successfully handled, or false if further
    processing is required.
  parameters:
  - name: param0
    description: Pointer to an integer that may be used to store or modify a value
      related to the gossip selection.
  - name: param1
    description: An integer representing the first parameter of the selected gossip
      option, often used for identifying specific choices within the menu.
  - name: param2
    description: An integer representing the second parameter of the selected gossip
      option, typically used in conjunction with param1 to determine action behavior.
  - name: param3
    description: A null-terminated character string containing a code or identifier
      associated with the selected gossip option, often used for custom logic or data
      retrieval.
  returns: Returns true if the gossip selection was handled successfully and no further
    processing is needed. Returns false if additional handling is required by the
    system.
  examples:
  - title: Basic Gossip Code Handling
    code: "bool CreatureAI::OnGossipSelectCode(int* param0, int param1, int param2,\
      \ const char* param3)\n{\n    if (strcmp(param3, \"QUEST_ACCEPT\") == 0)\n \
      \   {\n        // Handle quest acceptance logic\n        return true;\n    }\n\
      \    else if (strcmp(param3, \"ITEM_DELIVER\") == 0)\n    {\n        // Handle\
      \ item delivery logic\n        *param0 = 1; // Modify parameter value\n    \
      \    return true;\n    }\n    return false;\n}"
    language: cpp
  - title: Advanced Gossip Code with Conditional Logic
    code: "bool CreatureAI::OnGossipSelectCode(int* param0, int param1, int param2,\
      \ const char* param3)\n{\n    if (param1 == 1 && param2 == 5)\n    {\n     \
      \   if (strcmp(param3, \"REWARD\") == 0)\n        {\n            // Award reward\
      \ to player\n            Player* player = GetPlayer();\n            if (player)\n\
      \            {\n                player->AddItem(ITEM_ID_REWARD, 1);\n      \
      \          *param0 = 100; // Set reward amount\n                return true;\n\
      \            }\n        }\n    }\n    return false;\n}"
    language: cpp
  notes: This method is part of the CreatureAI system and is typically overridden
    in custom AI implementations. It should be used carefully to avoid conflicts with
    existing gossip handling logic. The parameters may vary depending on how the gossip
    menu was set up in the database or through scripting.
  warnings: Ensure that param0 is properly initialized before use, as it might be
    modified by this method. Incorrect handling of the code parameter (param3) can
    lead to unexpected behavior or missed interactions.
  related:
  - OnGossipSelect
  - OnGossipHello
  - GetPlayer
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T16:20:23.095104'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
