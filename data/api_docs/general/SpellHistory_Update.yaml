api:
  class: SpellHistory
  method: Update
  signature: void SpellHistory::Update()
documentation:
  brief: Updates the spell history cooldown tracking for the associated player or
    unit
  description: The SpellHistory::Update method is responsible for maintaining and
    updating the internal cooldown tracking system for spells within the TrinityCore
    framework. This method typically processes any pending cooldowns, removes expired
    entries from the history, and ensures that the spell cooldown state is accurately
    reflected in the game world. It's commonly called during game loop updates or
    when spell casting events occur to maintain proper spell availability mechanics.
    The method operates on the internal data structures that track which spells are
    currently on cooldown for a specific unit or player.
  parameters: []
  returns: null
  examples:
  - title: Basic Update Call
    code: "void Player::UpdateSpellHistory()\n{\n    _spellHistory->Update();\n}"
    language: cpp
  - title: Integration with Game Loop
    code: "void WorldSession::Update()\n{\n    // ... other update logic\n    if (Player*\
      \ player = GetPlayer())\n    {\n        player->GetSpellHistory()->Update();\n\
      \    }\n    // ... other update logic\n}"
    language: cpp
  notes: This method is typically called automatically by the core game loop and should
    not usually be invoked manually unless implementing custom cooldown handling.
    The implementation may involve thread synchronization if multiple threads access
    spell history data concurrently.
  warnings: Direct manual invocation of this method in inappropriate contexts may
    cause incorrect cooldown states or performance issues. Ensure that cooldown logic
    is properly synchronized when accessed from multiple threads.
  related:
  - SpellHistory::AddSpellCooldown
  - SpellHistory::HasSpellCooldown
  - SpellHistory::GetSpellCooldown
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T21:09:19.353873'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
