api:
  class: CollectionMgr
  method: UpgradeHeirloom
  signature: void CollectionMgr::UpgradeHeirloom(uint32 itemId, int32 castItem)
documentation:
  brief: Upgrades a heirloom item to the next available quality level using the specified
    casting item.
  description: The UpgradeHeirloom method is responsible for upgrading a player's
    heirloom item to a higher quality tier. This process typically requires a specific
    casting item, which may be consumed during the upgrade. The method handles the
    logic for checking if the upgrade is valid and applies the necessary changes to
    the item's properties, such as increasing its item level or modifying its stats.
    It is commonly used in conjunction with heirloom upgrading mechanics found in
    World of Warcraft's Collection system, particularly when players wish to enhance
    their heirloom items beyond their base quality.
  parameters:
  - name: itemId
    description: The unique identifier of the heirloom item to be upgraded. This must
      correspond to a valid heirloom item in the player's inventory.
  - name: castItem
    description: The item ID of the casting item required for the upgrade. This item
      is typically consumed during the process and may determine the success rate
      or outcome of the upgrade.
  returns: null
  examples:
  - title: Upgrade a Heirloom with a Specific Casting Item
    code: 'CollectionMgr* collectionMgr = player->GetCollectionMgr();

      collectionMgr->UpgradeHeirloom(12345, 67890); // Upgrades item ID 12345 using
      casting item ID 67890'
    language: cpp
  notes: This method assumes that the player has sufficient permissions and resources
    to perform the upgrade. It does not validate whether the item is actually a heirloom
    or if the cast item is appropriate for the upgrade; such checks are typically
    performed before calling this method.
  warnings: Calling this method without proper validation may result in invalid upgrades
    or item corruption. Ensure that both itemId and castItem refer to valid items
    and that the player has the necessary inventory space and permissions.
  related:
  - GetHeirloom
  - HasHeirloom
  - AddHeirloom
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T09:41:11.319146'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
