api:
  class: PriestAI
  method: CastDesperatePrayer
  signature: void PriestAI::CastDesperatePrayer()
documentation:
  brief: Casts the Desperate Prayer spell on the priest's target or self.
  description: The CastDesperatePrayer method is used by the PriestAI class to execute
    the Desperate Prayer spell. This ability heals the caster for a significant amount
    of health over time, making it a crucial defensive mechanism for priests in both
    PvE and PvP scenarios. The method typically checks if the spell can be cast (e.g.,
    mana availability, target validity) before initiating the casting process. It
    is generally used when the priest is under heavy attack or low on health to provide
    emergency healing.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Priest AI Logic
    code: "void PriestAI::UpdateAI(uint32 diff)\n{\n    if (me->GetHealthPct() < 30.0f)\n\
      \    {\n        CastDesperatePrayer();\n    }\n}"
    language: cpp
  notes: This method likely uses the creature's AI state machine to determine when
    and how to cast Desperate Prayer. It may also integrate with threat management
    or target selection logic to ensure proper timing of the spell usage.
  warnings: Ensure that the priest has sufficient mana before calling this method,
    as casting Desperate Prayer consumes a considerable amount of power. Also, verify
    that the AI is not spamming this ability in rapid succession without considering
    cooldowns or situational awareness.
  related:
  - CastSpell
  - GetHealthPct
  - IsInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T22:02:30.442674'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
