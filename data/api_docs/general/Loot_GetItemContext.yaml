api:
  class: Loot
  method: GetItemContext
  signature: int Loot::GetItemContext() const
documentation:
  brief: Retrieves the context identifier associated with the loot object, used to
    determine loot source and behavior.
  description: The GetItemContext method returns an integer value that represents
    the contextual identifier for a specific loot item. In TrinityCore's World of
    Warcraft emulation, this context is crucial for determining how loot is distributed
    among players, especially in scenarios involving group looting, personal loot,
    or quest-related rewards. The returned value typically corresponds to predefined
    loot contexts such as group loot, personal loot, or quest-specific loot. This
    method does not modify any internal state and can be called safely during loot
    processing or evaluation phases. It's commonly used by loot managers and event
    handlers to ensure proper loot distribution rules are applied based on the item's
    context.
  parameters: []
  returns: An integer representing the loot context identifier. Possible values include
    constants like CONTEXT_GROUP (typically 1), CONTEXT_PERSONAL (typically 2), or
    CONTEXT_QUEST (typically 3). The exact numeric values may vary depending on TrinityCore
    version and custom modifications, but they are used to distinguish between different
    loot distribution mechanisms.
  examples:
  - title: Basic usage to check loot context
    code: "Loot* loot = player->GetLoot();\nint context = loot->GetItemContext();\n\
      if (context == CONTEXT_GROUP)\n{\n    // Handle group loot logic\n}"
    language: cpp
  - title: Using context to determine loot distribution
    code: "void ProcessLoot(Loot* loot)\n{\n    int context = loot->GetItemContext();\n\
      \    switch (context)\n    {\n        case CONTEXT_GROUP:\n            // Apply\
      \ group loot rules\n            break;\n        case CONTEXT_PERSONAL:\n   \
      \         // Apply personal loot rules\n            break;\n        default:\n\
      \            // Handle unknown context\n            break;\n    }\n}"
    language: cpp
  notes: This method is typically called during loot processing phases and should
    not be used to modify the loot state. The context value returned is set when the
    loot object is initialized and reflects how the loot was originally created or
    assigned. Developers should be aware that custom loot systems might use different
    context values, so relying on specific numeric constants should be avoided in
    favor of using named constants or enums if available.
  warnings: Do not assume that all loot contexts have been defined in your specific
    TrinityCore version. Always validate the returned value against known constants
    to prevent unexpected behavior. The method returns a constant value and does not
    perform any dynamic calculations, so it's safe to cache the result for performance
    reasons.
  related:
  - GetLoot
  - SetItemContext
  - IsGroupLoot
  - IsPersonalLoot
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T01:05:49.511532'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
