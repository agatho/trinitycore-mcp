api:
  class: FriendlyBelowHpPctEntryInRange
  method: FriendlyBelowHpPctEntryInRange
  signature: void FriendlyBelowHpPctEntryInRange::FriendlyBelowHpPctEntryInRange(const
    int * obj, int entry, float range, int pct, bool excludeSelf)
documentation:
  brief: Finds and processes friendly units below a specified health percentage within
    a given range.
  description: The FriendlyBelowHpPctEntryInRange method identifies all friendly units
    (such as NPCs or players) that are within a specified range of the caller, and
    whose health percentage is below a defined threshold. This method is typically
    used in AI behavior scripting to trigger actions when nearby allies are critically
    low on health. The method excludes self by default, but this can be overridden.
    It is commonly employed in TrinityCore's creature AI systems for group-based tactical
    responses.
  parameters:
  - name: obj
    description: Pointer to the object (creature or unit) from which the range check
      originates. This determines the position and context for finding nearby units.
  - name: entry
    description: The creature entry ID to filter units by. Only units matching this
      entry will be considered in the search. Use 0 to include all friendly units
      regardless of type.
  - name: range
    description: Maximum distance (in yards) from the 'obj' within which to search
      for friendly units. Must be a positive value.
  - name: pct
    description: Health percentage threshold below which units are considered. For
      example, 30 means only units with less than 30% health will be included in the
      result.
  - name: excludeSelf
    description: Boolean flag indicating whether to exclude the calling object itself
      from the search results. True (default) excludes self; false includes it.
  returns: null
  examples:
  - title: Basic usage to find nearby low-health allies
    code: FriendlyBelowHpPctEntryInRange(&myCreature, 0, 20.0f, 25.0f, true);
    language: cpp
  - title: Find specific type of ally below 10% health within 30 yards
    code: FriendlyBelowHpPctEntryInRange(&myCreature, 12345, 30.0f, 10.0f, false);
    language: cpp
  notes: This method is primarily used in AI scripts within TrinityCore's creature
    AI framework. The range and percentage values are interpreted in game units (yards
    and percent). Performance may be impacted if used excessively in tight loops or
    with large ranges.
  warnings: Ensure that the 'obj' parameter points to a valid unit, otherwise behavior
    is undefined. Using very large ranges can cause performance degradation. Be cautious
    when setting excludeSelf to false as it may lead to unexpected self-targeting
    behaviors.
  related:
  - FriendlyInRange
  - GetHealthPct
  - SelectTarget
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T12:29:41.488456'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
