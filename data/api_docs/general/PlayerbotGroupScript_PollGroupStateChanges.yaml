api:
  class: PlayerbotGroupScript
  method: PollGroupStateChanges
  signature: void PlayerbotGroupScript::PollGroupStateChanges(Group * group, int diff)
documentation:
  brief: Processes and updates group state changes for player bots in a TrinityCore
    instance
  description: The PollGroupStateChanges method is responsible for monitoring and
    handling changes within a player bot group, such as member additions, removals,
    or role assignments. It evaluates the current state of the group against previous
    states to determine if any actions need to be taken by the bot AI system. This
    method typically runs on a periodic basis to ensure that the bot group remains
    synchronized with the actual game group state and can react appropriately to dynamic
    changes in group composition or leadership.
  parameters:
  - name: group
    description: Pointer to the Group object representing the player bot group whose
      state is being polled. Must not be null.
  - name: diff
    description: Time difference in milliseconds since last poll, used to calculate
      time-based behaviors or cooldowns within the group AI logic.
  returns: null
  examples:
  - title: Basic Usage in Bot AI Loop
    code: "void PlayerbotAI::UpdateAI()\n{\n    if (Group* group = GetPlayer()->GetGroup())\n\
      \    {\n        PlayerbotGroupScript::PollGroupStateChanges(group, diff);\n\
      \    }\n}"
    language: cpp
  - title: Integration with Custom Group Logic
    code: "void MyBotGroupHandler::OnUpdate(Group* group, uint32 diff)\n{\n    //\
      \ Perform custom logic before polling\n    ProcessCustomGroupEvents(group);\n\
      \    \n    // Poll for standard state changes\n    PlayerbotGroupScript::PollGroupStateChanges(group,\
      \ diff);\n    \n    // Handle post-poll actions\n    ApplyUpdatedGroupStrategies(group);\n\
      }"
    language: cpp
  notes: This method is typically called from within the main AI update loop and should
    not be invoked directly outside of that context. The 'diff' parameter is crucial
    for time-sensitive operations like cooldown management or periodic behavior updates.
  warnings: Ensure that the Group pointer passed to this method is valid and not null,
    as passing an invalid pointer may lead to undefined behavior or crashes. Avoid
    calling this method in a tight loop without proper throttling, as it could impact
    performance.
  related:
  - GetPlayer()->GetGroup()
  - Group::IsLeader()
  - Group::AddMember()
  - Group::RemoveMember()
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T00:50:59.412957'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
