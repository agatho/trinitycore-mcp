api:
  class: KitingUtils
  method: CalculateMovementTime
  signature: float KitingUtils::CalculateMovementTime(Player * bot, const int & destination)
documentation:
  brief: Calculates the time required for a bot player to move to a specified destination.
  description: The CalculateMovementTime method determines the estimated movement
    duration for a given bot player to reach a specific destination. This utility
    is commonly used in AI pathfinding and kiting behaviors within TrinityCore's scripting
    environment. The calculation takes into account the player's current speed, movement
    type, and the distance to the target location. It returns a float value representing
    the time in seconds needed to complete the movement.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that will perform
      the movement
  - name: destination
    description: Integer identifier representing the destination point or location
      index for the bot's movement
  returns: A float value representing the estimated time in seconds required for the
    bot to reach the specified destination. Returns 0.0f if the bot is invalid or
    if movement cannot be calculated.
  examples:
  - title: Basic usage of CalculateMovementTime
    code: "Player* myBot = ...; // Bot player object\nint dest = 12345; // Destination\
      \ identifier\nfloat time = KitingUtils::CalculateMovementTime(myBot, dest);\n\
      if (time > 0.0f)\n{\n    // Proceed with movement logic using calculated time\n\
      \    printf(\"Estimated movement time: %.2f seconds\\n\", time);\n}"
    language: cpp
  - title: Using movement time for kiting decision making
    code: "Player* bot = ...;\nint targetLocation = 54321;\nfloat movementTime = KitingUtils::CalculateMovementTime(bot,\
      \ targetLocation);\n\n// If movement will take longer than attack cooldown,\
      \ avoid moving\nif (movementTime > 2.0f) // Assuming 2 second attack cooldown\n\
      {\n    // Perform alternative kiting behavior\n    bot->CastSpell(bot, SPELL_KITE_ESCAPE,\
      \ true);\n}\nelse\n{\n    // Proceed with normal movement\n    bot->GetMotionMaster()->MovePoint(targetLocation,\
      \ targetX, targetY, targetZ);\n}"
    language: cpp
  notes: This method relies on the player's current movement speed and state. The
    destination parameter should correspond to a valid location in the game world
    that can be reached by the bot. The calculation does not account for dynamic obstacles
    or terrain changes during movement.
  warnings: The method may return 0.0f if the provided bot pointer is invalid or if
    the destination cannot be resolved. Ensure that the bot player object is properly
    initialized and that the destination identifier maps to a valid location before
    calling this function.
  related:
  - CalculateMovementDistance
  - GetPlayerSpeed
  - IsWithinMovementRange
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T11:08:24.500476'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
