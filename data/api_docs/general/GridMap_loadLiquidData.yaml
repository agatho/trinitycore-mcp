api:
  class: GridMap
  method: loadLiquidData
  signature: bool GridMap::loadLiquidData(FILE * in, uint32 offset, uint32 size)
documentation:
  brief: Loads liquid data from a file into the grid map for terrain rendering and
    collision detection.
  description: The loadLiquidData method reads liquid (water, lava, etc.) height and
    type information from a specified file stream and populates internal data structures
    used by the GridMap class. This data is essential for proper rendering of liquid
    surfaces in the game world and for determining whether units can move through
    or interact with liquid areas. The method requires a valid file handle positioned
    at the start of the liquid data block, along with offset and size parameters that
    define where in the file the data resides. It returns true upon successful loading,
    or false if an error occurs during parsing or memory allocation.
  parameters:
  - name: in
    description: A pointer to an open FILE object from which liquid data will be read.
      The file must be opened in binary mode and positioned at the beginning of the
      liquid data section.
  - name: offset
    description: The byte offset within the file where the liquid data begins. This
      value indicates the position in the file stream to start reading from.
  - name: size
    description: The number of bytes to read from the file starting at the specified
      offset. Defines the total size of the liquid data block to be loaded.
  returns: True if the liquid data was successfully loaded and parsed; false otherwise.
    Failure may occur due to invalid file handle, incorrect offset/size values, or
    corrupted data.
  examples:
  - title: Basic usage of loadLiquidData
    code: "FILE* file = fopen(\"map000_000.lqd\", \"rb\");\nif (file != nullptr)\n\
      {\n    GridMap map;\n    bool success = map.loadLiquidData(file, 0x1000, 0x2000);\n\
      \    if (!success)\n        printf(\"Failed to load liquid data\\n\");\n   \
      \ fclose(file);\n}"
    language: cpp
  notes: This method is typically called during map initialization or when loading
    a specific grid cell. It assumes that the GridMap object has already been initialized
    and allocated memory for liquid data structures. The method does not perform any
    validation on the input file format beyond basic reading operations.
  warnings: Ensure the FILE pointer is valid and opened in binary mode before calling
    this method. Passing incorrect offset or size values can lead to buffer overflows
    or undefined behavior. Do not call this method on an uninitialized GridMap object.
  related:
  - GridMap::load
  - GridMap::unload
  - GridMap::getHeight
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T04:04:37.121986'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
