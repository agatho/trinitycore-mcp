api:
  class: CombatSpecializationBase
  method: ConsumeResource
  signature: void CombatSpecializationBase::ConsumeResource(uint32 spellId)
documentation:
  brief: Consumes the resource required for a spell based on its ID.
  description: The ConsumeResource method is responsible for deducting the necessary
    resources (such as mana, rage, energy, or focus) from the player or unit that
    is casting a spell. This method is typically invoked during spell execution to
    ensure that the caster has sufficient resource availability before proceeding
    with the spell's effects. It interacts with the combat specialization system to
    determine which resource type and amount should be consumed based on the provided
    spell ID. The method does not return any value, as it directly modifies the internal
    state of the unit's resources.
  parameters:
  - name: spellId
    description: The unique identifier of the spell for which the resource consumption
      is to occur. This ID determines the type and amount of resource required based
      on the spell's definition in the game database.
  returns: null
  examples:
  - title: Basic Resource Consumption
    code: 'Unit* caster = player->GetSelectedUnit();

      caster->ConsumeResource(12345); // Consumes resources for spell with ID 12345'
    language: cpp
  - title: Consuming Resource Before Spell Cast
    code: "if (player->HasSpell(12345)) {\n    player->ConsumeResource(12345);\n \
      \   // Proceed with spell casting logic\n}"
    language: cpp
  notes: This method is part of the combat specialization system and integrates with
    the core resource management subsystem. It assumes that the unit has sufficient
    resources to consume; otherwise, it may lead to unexpected behavior or failed
    spell casts. The actual resource deduction logic depends on the spell's defined
    cost in the database.
  warnings: Ensure that the spell ID passed to this method corresponds to a valid
    spell with a defined resource cost. Calling this method without proper validation
    may result in incorrect resource depletion or game state inconsistencies.
  related:
  - GetResourceType
  - HasEnoughResources
  - Spell::GetPowerCost
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T17:05:51.747800'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
