api:
  class: Spell
  method: EffectCreateGarrison
  signature: void Spell::EffectCreateGarrison()
documentation:
  brief: Creates a garrison for the caster player when the spell effect is applied.
  description: The EffectCreateGarrison method is responsible for creating a garrison
    structure for the player who cast the spell. This method is typically invoked
    as part of a spell's effect processing and is used in conjunction with garrison-related
    spells or abilities. It handles the initialization and setup of the garrison,
    including assigning it to the caster and potentially setting up initial structures
    or resources. The method operates within the context of World of Warcraft's garrison
    system, which allows players to manage and expand their personal bases. This effect
    is commonly associated with spells that grant players access to garrison functionality
    or allow them to establish a new garrison.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in spell effect handler
    code: "void Spell::EffectCreateGarrison()\n{\n    if (GetCaster() && GetCaster()->IsPlayer())\n\
      \    {\n        Player* player = GetCaster()->ToPlayer();\n        // Create\
      \ garrison for the player\n        player->CreateGarrison();\n    }\n}"
    language: cpp
  notes: This method is typically called internally by the spell system when processing
    spell effects. Developers should ensure that the caster is a valid player object
    before attempting to create a garrison. The actual garrison creation logic may
    involve multiple subsystems including database updates, client packet sending,
    and UI state changes.
  warnings: Improper use of this method without verifying the caster type can lead
    to crashes or undefined behavior. Always validate that GetCaster() returns a valid
    player object before calling any garrison-related methods.
  related:
  - Spell::EffectTriggerSpell
  - Spell::EffectActivateGarrison
  - Player::CreateGarrison
  - Player::HasGarrison
metadata:
  confidence: 0.85
  generated_at: '2025-10-29T17:00:30.749076'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
