api:
  class: TerrainInfo
  method: CleanUpGrids
  signature: void TerrainInfo::CleanUpGrids(uint32 diff)
documentation:
  brief: Removes and cleans up grid data that is no longer needed based on the specified
    time difference.
  description: The CleanUpGrids method in the TerrainInfo class is responsible for
    managing memory and resources by removing grid data that has expired or is no
    longer required. This method typically operates on a time-based cleanup mechanism,
    where grids are considered stale if they have not been accessed within a certain
    time frame defined by the diff parameter. It ensures efficient memory usage and
    prevents accumulation of outdated terrain data in the game world. The method is
    usually invoked during periodic maintenance cycles or when the system detects
    that grid data is no longer actively used.
  parameters:
  - name: diff
    description: The time difference in milliseconds that determines which grids should
      be cleaned up. Grids that have not been accessed within this time period will
      be removed from memory.
  returns: null
  examples:
  - title: Basic usage of CleanUpGrids
    code: 'TerrainInfo* terrain = WorldMap::GetTerrainInfo();

      uint32 cleanupTime = 30000; // 30 seconds

      terrain->CleanUpGrids(cleanupTime);'
    language: cpp
  notes: This method is typically called from within the game's main update loop or
    periodic maintenance tasks. It may involve locking mechanisms to ensure thread
    safety when accessing shared grid data structures. The actual cleanup process
    might be deferred or batched depending on performance requirements.
  warnings: Calling this method with a very small diff value could result in frequent
    removal of active grids, potentially causing performance issues or visual artifacts.
    Ensure that the diff parameter is set appropriately to avoid unnecessary cleanup
    operations.
  related:
  - GetGrid
  - SetGrid
  - LoadGrid
  - UnloadGrid
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T01:07:24.420589'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
