api:
  class: LeaderFollowBehavior
  method: CalculateBasePosition
  signature: int LeaderFollowBehavior::CalculateBasePosition(Player * leader, float
    angle, float distance)
documentation:
  brief: Calculates and returns the base position for a follower relative to the leader
    based on angle and distance parameters.
  description: The CalculateBasePosition method computes a target position in 3D space
    for a follower unit, using the leader's current position as a reference point.
    It takes an angular offset and radial distance from the leader to determine where
    the follower should move or position itself. This functionality is typically used
    in group behavior AI systems within TrinityCore's creature and player movement
    logic. The method returns an integer status code indicating success or failure
    of the calculation, with 0 usually representing success and non-zero values indicating
    various error conditions such as invalid input parameters or out-of-bounds positions.
  parameters:
  - name: leader
    description: Pointer to the Player object that serves as the reference point for
      positioning calculations. Must not be null.
  - name: angle
    description: Angular offset in radians from the leader's facing direction. Positive
      values rotate counterclockwise, negative clockwise.
  - name: distance
    description: Radial distance from the leader's position to calculate the base
      position. Must be non-negative.
  returns: 'Returns an integer status code: 0 for successful calculation, non-zero
    values indicate errors such as invalid parameters or calculation failures.'
  examples:
  - title: Basic usage example
    code: "Player* player = ...; // Get leader player\nfloat angle = M_PI_4; // 45\
      \ degrees in radians\nfloat distance = 5.0f;\nint result = leaderFollowBehavior->CalculateBasePosition(player,\
      \ angle, distance);\nif (result == 0) {\n    // Position calculated successfully\n\
      }"
    language: cpp
  - title: Using with group movement
    code: "Player* leader = ...;\nfloat angles[] = {0, M_PI_2, M_PI, 3 * M_PI_2};\n\
      float distance = 3.0f;\nfor (int i = 0; i < 4; ++i) {\n    int result = leaderFollowBehavior->CalculateBasePosition(leader,\
      \ angles[i], distance);\n    if (result == 0) {\n        // Use calculated position\
      \ for follower movement\n    }\n}"
    language: cpp
  notes: This method is part of the LeaderFollowBehavior AI system and assumes that
    the leader player object has valid position data. The calculation uses standard
    trigonometric functions to compute coordinates in a 2D plane relative to the leader's
    facing direction.
  warnings: Ensure the leader pointer is valid before calling this method, as passing
    null can cause undefined behavior. Also verify that angle and distance parameters
    are within reasonable bounds to avoid unexpected positioning results.
  related:
  - GetLeader
  - SetLeader
  - UpdatePosition
  - IsFollowing
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T01:40:17.237665'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
