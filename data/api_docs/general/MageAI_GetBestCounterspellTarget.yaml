api:
  class: MageAI
  method: GetBestCounterspellTarget
  signature: ::Unit * MageAI::GetBestCounterspellTarget()
documentation:
  brief: Determines and returns the most optimal target unit for casting Counterspell
    based on threat, distance, and spell priority.
  description: The GetBestCounterspellTarget method evaluates available enemy targets
    within the MageAI's current context to identify the unit that should be targeted
    for the Counterspell ability. This decision is made by considering factors such
    as the target's threat level, proximity to the caster, and whether the target
    is currently casting a spell that can be interrupted. The method prioritizes high-threat
    or close-range targets that are actively casting spells, ensuring optimal use
    of the Counterspell ability in combat situations. It is typically used during
    AI decision-making processes when the mage needs to interrupt an opponent's spellcasting.
  parameters: []
  returns: A pointer to a Unit object representing the best target for Counterspell,
    or nullptr if no suitable target is found within the AI's evaluation criteria.
  examples:
  - title: Basic usage in Mage AI logic
    code: "Unit* target = ai->GetBestCounterspellTarget();\nif (target && ai->CanCastSpell(COUNTERSPELL,\
      \ target)) {\n    ai->CastSpell(target, COUNTERSPELL);\n}"
    language: cpp
  notes: This method assumes the AI has access to a valid list of threatened units
    and that spellcasting capabilities are properly initialized. The selection logic
    may vary depending on the specific MageAI implementation and game state.
  warnings: Ensure that the returned Unit pointer is not null before attempting to
    cast Counterspell, as casting on a nullptr target will result in undefined behavior
    or crash.
  related:
  - GetBestSpellTarget
  - CanCastSpell
  - IsCastingSpell
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T12:51:18.073900'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
