api:
  class: TargetSelector
  method: SelectTankingTarget
  signature: Unit * TargetSelector::SelectTankingTarget()
documentation:
  brief: Selects and returns the target unit that is currently being tanked by this
    unit.
  description: The SelectTankingTarget method identifies and returns the Unit object
    that is currently designated as the primary threat target for the calling unit.
    This method is typically used in AI logic to determine which enemy unit should
    be focused on for damage mitigation or aggro management. The selection process
    considers factors such as current threat level, proximity, and targeting priority.
    If no valid tanking target exists, the method returns a null pointer. This functionality
    is essential for proper mob behavior and combat AI in TrinityCore-based servers.
  parameters: []
  returns: A pointer to the Unit object that is currently being tanked by this unit,
    or nullptr if no valid tanking target exists.
  examples:
  - title: Basic usage in AI behavior
    code: "class MyAI : public CreatureAI {\npublic:\n    void UpdateAI(uint32 diff)\
      \ override {\n        Unit* target = SelectTankingTarget();\n        if (target\
      \ && !target->IsDead()) {\n            // Perform actions against the tanking\
      \ target\n            AttackStart(target);\n        }\n    }\n};"
    language: cpp
  notes: This method is part of the core AI targeting system and should only be called
    from within AI update loops or threat management contexts. The returned Unit pointer
    is valid only during the current execution context and may become invalid if the
    target dies or is removed from combat.
  warnings: Calling this method outside of an AI context may result in undefined behavior.
    Always check for null return values before using the returned Unit pointer to
    avoid crashes.
  related:
  - SelectNextTarget
  - GetVictim
  - AddThreat
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T01:12:30.582997'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
