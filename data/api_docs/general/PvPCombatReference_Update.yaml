api:
  class: PvPCombatReference
  method: Update
  signature: bool PvPCombatReference::Update(uint32 tdiff)
documentation:
  brief: Updates the PvP combat reference state based on time delta.
  description: The Update method processes the internal state of a PvP combat reference,
    typically used to manage and track PvP-related combat events or durations. It
    takes a time delta parameter (tdiff) which represents the elapsed milliseconds
    since the last update call. This method is essential for maintaining accurate
    PvP combat tracking, such as updating player PvP timers, checking combat status,
    or managing PvP flags. The method returns true if the update was successful and
    the reference remains valid, or false if the reference should be removed or is
    no longer active.
  parameters:
  - name: tdiff
    description: The time delta in milliseconds since the last update call. This value
      is used to calculate elapsed time for PvP combat tracking and state management.
  returns: Returns true if the PvP combat reference was successfully updated and remains
    valid, false if the reference should be removed or is no longer active.
  examples:
  - title: Basic Update Usage
    code: "PvPCombatReference* ref = new PvPCombatReference(player1, player2);\nbool\
      \ result = ref->Update(1000); // Update with 1 second time delta\nif (!result)\
      \ {\n    // Handle reference removal or invalidation\n    delete ref;\n}"
    language: cpp
  - title: Continuous PvP Combat Tracking
    code: "uint32 lastUpdate = getMSTime();\nwhile (combatActive) {\n    uint32 currentTime\
      \ = getMSTime();\n    uint32 deltaTime = currentTime - lastUpdate;\n    if (!pvpRef->Update(deltaTime))\
      \ {\n        // Combat ended or reference invalid\n        break;\n    }\n \
      \   lastUpdate = currentTime;\n    // Other combat logic here\n}"
    language: cpp
  notes: This method is typically called from the game loop or update system. The
    time delta (tdiff) should be accurately measured to ensure proper PvP combat duration
    tracking. The implementation may involve checking for combat timeouts, updating
    player states, and managing PvP flags.
  warnings: Improper handling of the return value can lead to dangling references
    or incorrect PvP state management. Ensure that references are properly deleted
    when Update returns false to prevent memory leaks.
  related:
  - PvPCombatReference::GetPlayer1
  - PvPCombatReference::GetPlayer2
  - PvPCombatReference::IsInCombat
  - PvPCombatReference::Reset
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T00:25:06.569513'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
