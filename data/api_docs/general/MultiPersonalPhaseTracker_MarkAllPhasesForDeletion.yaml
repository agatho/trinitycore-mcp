api:
  class: MultiPersonalPhaseTracker
  method: MarkAllPhasesForDeletion
  signature: void MultiPersonalPhaseTracker::MarkAllPhasesForDeletion(const int &
    phaseOwner)
documentation:
  brief: Marks all phases owned by the specified phase owner for deletion in the multi-personal
    phase tracker.
  description: The MarkAllPhasesForDeletion method is used to schedule all active
    phases associated with a given phase owner for removal from the MultiPersonalPhaseTracker.
    This typically occurs when a player or entity that owns certain phases is being
    removed or reset, ensuring that dependent phase data is properly marked for cleanup.
    The actual deletion of these phases may occur at a later time during the game
    loop or upon explicit cleanup calls. This method does not immediately remove the
    phases but sets an internal flag or marker indicating their pending deletion status.
  parameters:
  - name: phaseOwner
    description: An integer identifier representing the owner of the phases to be
      marked for deletion. Typically corresponds to a player's GUID or similar unique
      identifier used within the TrinityCore framework.
  returns: null
  examples:
  - title: Marking all phases for a specific player
    code: 'uint64 playerGUID = 12345;

      MultiPersonalPhaseTracker* tracker = sObjectAccessor->GetMultiPersonalPhaseTracker();

      tracker->MarkAllPhasesForDeletion(playerGUID);'
    language: cpp
  - title: Using within a custom event handler
    code: "void OnPlayerLogout(Player* player)\n{\n    MultiPersonalPhaseTracker*\
      \ tracker = sObjectAccessor->GetMultiPersonalPhaseTracker();\n    if (tracker)\n\
      \        tracker->MarkAllPhasesForDeletion(player->GetGUID().GetCounter());\n\
      }"
    language: cpp
  notes: This method is typically called during player logout, creature despawn, or
    other cleanup events. It's important to note that marking phases for deletion
    does not guarantee immediate removal; it only sets a flag that will be processed
    later by the system.
  warnings: Calling this method without proper ownership checks may result in unintended
    phase deletions. Ensure that the provided phaseOwner is valid and corresponds
    to an actual entity before invoking this function.
  related:
  - GetPhaseOwner
  - AddPhase
  - RemovePhase
  - IsPhaseMarkedForDeletion
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T23:34:10.128130'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
