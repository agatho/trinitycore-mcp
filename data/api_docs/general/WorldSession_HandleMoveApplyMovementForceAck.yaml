api:
  class: WorldSession
  method: HandleMoveApplyMovementForceAck
  signature: void WorldSession::HandleMoveApplyMovementForceAck(WorldPackets::Movement::MoveApplyMovementForceAck
    & moveApplyMovementForceAck)
documentation:
  brief: Processes acknowledgment of a movement force application sent by the client.
  description: The HandleMoveApplyMovementForceAck method is responsible for processing
    the client's acknowledgment of a movement force that was previously applied to
    a player character. This method is part of the movement handling system in TrinityCore,
    specifically dealing with forces such as knockback, pull, or other movement effects
    that alter a player's position or velocity. When the client receives a movement
    force packet from the server, it applies the effect and sends back an acknowledgment.
    This method validates and processes that acknowledgment, ensuring proper synchronization
    between client and server states for movement mechanics.
  parameters:
  - name: moveApplyMovementForceAck
    description: A reference to a MoveApplyMovementForceAck packet containing the
      acknowledgment data from the client, including the movement force ID and sequence
      number.
  returns: null
  examples:
  - title: Basic usage in session handler
    code: "void WorldSession::HandleMoveApplyMovementForceAck(WorldPackets::Movement::MoveApplyMovementForceAck&\
      \ moveApplyMovementForceAck)\n{\n    // Validate the acknowledgment\n    if\
      \ (!GetPlayer())\n        return;\n\n    // Process the movement force acknowledgment\n\
      \    GetPlayer()->ProcessMovementForceAck(moveApplyMovementForceAck);\n}"
    language: cpp
  notes: This method is typically invoked as part of the packet handling chain for
    movement-related packets. It assumes that the player object exists and has been
    validated before being called. The method does not directly modify the player's
    position but rather processes the acknowledgment to maintain synchronization with
    server-side movement state.
  warnings: Improper handling of movement force acknowledgments can lead to desynchronization
    between client and server, potentially causing issues like players getting stuck
    or experiencing incorrect movement behavior. Ensure that all movement forces are
    properly tracked and acknowledged before considering them fully processed.
  related:
  - HandleMoveApplyMovementForce
  - ProcessMovementForceAck
  - GetPlayer
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:34:09.408592'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
