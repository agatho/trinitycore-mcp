api:
  class: Map
  method: GridUnmarkNoUnload
  signature: void Map::GridUnmarkNoUnload(uint32 x, uint32 y)
documentation:
  brief: Removes the no-unload flag from a specified grid on the map.
  description: The GridUnmarkNoUnload method clears the 'no-unload' marker for a given
    grid coordinate (x, y) on the map. This flag is typically used to prevent a grid
    from being unloaded when it would otherwise be safe to do so, often during active
    player or object interaction. Removing this flag allows the grid to be properly
    cleaned up and unloaded by the game's memory management system. The method operates
    at the grid level within the Map class and is part of TrinityCore's internal grid
    management system.
  parameters:
  - name: x
    description: The X coordinate of the grid to unmark. Represents the horizontal
      position in the map grid system.
  - name: y
    description: The Y coordinate of the grid to unmark. Represents the vertical position
      in the map grid system.
  returns: null
  examples:
  - title: Basic usage example
    code: 'Map* map = ...; // Get a valid map instance

      map->GridUnmarkNoUnload(5, 10); // Remove no-unload flag from grid at coordinates
      (5, 10)'
    language: cpp
  - title: Usage with player movement
    code: "void HandlePlayerMove(Player* player, uint32 newX, uint32 newY) {\n   \
      \ Map* map = player->GetMap();\n    // Remove no-unload flag from old grid position\n\
      \    if (player->GetGridX() != newX || player->GetGridY() != newY) {\n     \
      \   map->GridUnmarkNoUnload(player->GetGridX(), player->GetGridY());\n    }\n\
      }"
    language: cpp
  notes: This method is typically used internally by the TrinityCore engine during
    grid management operations. The grid coordinates should be valid for the current
    map instance to avoid undefined behavior. This operation directly affects memory
    management and should only be called when it's safe to unload the grid.
  warnings: Calling this method on invalid grid coordinates may result in undefined
    behavior or memory corruption. Ensure that the grid coordinates are within valid
    bounds of the map before calling this method. This method should not be called
    without proper synchronization if multiple threads are accessing the same map.
  related:
  - GridMarkNoUnload
  - IsGridMarkedNoUnload
  - GetGrid
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T11:07:09.803975'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
