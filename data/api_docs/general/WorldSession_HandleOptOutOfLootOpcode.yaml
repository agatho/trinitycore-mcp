api:
  class: WorldSession
  method: HandleOptOutOfLootOpcode
  signature: void WorldSession::HandleOptOutOfLootOpcode(WorldPackets::Party::OptOutOfLoot
    & packet)
documentation:
  brief: Processes a player's request to opt out of loot rolling in a group
  description: This method handles the OptOutOfLoot opcode sent by a client when a
    player wishes to opt out of participating in loot rolling for items dropped by
    monsters. The method updates the player's loot settings within the group context,
    ensuring that they will not receive loot roll notifications or be eligible to
    roll for items. This functionality is part of the World of Warcraft grouping and
    loot system, allowing players to manage their participation in group loot distribution
    without leaving the group. The method does not validate whether the player is
    actually in a group before processing the request.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in packet handling
    code: "void WorldSession::HandleOptOutOfLootOpcode(WorldPackets::Party::OptOutOfLoot&\
      \ packet)\n{\n    // Process the player's opt-out request\n    _player->SetLootOptOut(true);\n\
      \    // Send confirmation or update group loot settings\n}"
    language: cpp
  notes: This method is typically invoked as part of the WorldSession packet handling
    system. It directly modifies the player's loot opt-out status in the session context,
    which affects how loot is distributed within groups. The implementation assumes
    that the player is already in a group and may not perform any validation checks
    for this condition.
  warnings: Improper handling of this method could lead to inconsistent loot distribution
    behavior in groups. Ensure that the player's group state is properly validated
    before applying the opt-out setting, especially if the player might be leaving
    or joining groups frequently.
  related:
  - GetPlayer
  - SetLootOptOut
  - HandleLootRollOpcode
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:20:58.478947'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
