api:
  class: InteractionManager
  method: GetAvailableSpells
  signature: int InteractionManager::GetAvailableSpells(Player * bot, Creature * trainer)
    const
documentation:
  brief: Retrieves the list of spells available for training from a creature trainer.
  description: The GetAvailableSpells method fetches all spells that are currently
    available for training by a specified creature trainer. It evaluates the player's
    current level, class, and skill requirements to determine which spells can be
    learned. This method is typically used in AI scripts or quest systems where bots
    need to identify what abilities they can acquire from trainers. The returned value
    indicates the number of spells successfully retrieved, with zero implying no trainable
    spells or an error occurred.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot requesting spell
      information.
  - name: trainer
    description: Pointer to the Creature object acting as the trainer from which spells
      are being queried.
  returns: An integer representing the count of available spells that can be learned
    by the player from the given trainer. Returns zero if no spells are available
    or an error occurs during processing.
  examples:
  - title: Basic Usage in AI Script
    code: "int spellCount = interactionManager.GetAvailableSpells(botPlayer, npcTrainer);\n\
      if (spellCount > 0)\n{\n    // Proceed with learning logic\n    sLog->outString(\"\
      Found %d spells available.\", spellCount);\n}"
    language: cpp
  - title: Using Spell Count for Decision Making
    code: "int availableSpells = interactionManager.GetAvailableSpells(playerBot,\
      \ trainerCreature);\nif (availableSpells > 0)\n{\n    // Attempt to learn spells\n\
      \    playerBot->LearnSpell(12345); // Example spell ID\n}\nelse\n{\n    // No\
      \ spells available; perhaps move to another trainer\n    playerBot->GetMotionMaster()->MovePoint(0,\
      \ targetPosition);\n}"
    language: cpp
  notes: This method internally checks if the player meets prerequisites such as minimum
    level, class compatibility, and skill requirements before including a spell in
    the returned list. It is recommended to call this method only when necessary,
    as it may involve database lookups or complex logic depending on the implementation.
  warnings: "Ensure that both 'bot' and 'trainer' parameters are valid pointers; passing\
    \ null values will likely result in undefined behavior or crashes. Also note that\
    \ this function does not modify the player's spellbook directly \u2014 it only\
    \ returns a count of learnable spells."
  related:
  - GetTrainerSpells
  - CanLearnSpell
  - LearnSpell
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T13:38:24.467607'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
