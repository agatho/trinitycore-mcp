api:
  class: StaticMapTree
  method: getHeight
  signature: float StaticMapTree::getHeight(const int & pPos, float maxSearchDist)
    const
documentation:
  brief: Retrieves the height value at a specified position within the static map
    tree.
  description: The getHeight method calculates and returns the vertical height at
    a given point in the game world's terrain. This method is essential for determining
    ground level at specific coordinates, which is crucial for character positioning,
    collision detection, and navigation logic. The method uses spatial indexing to
    efficiently locate the appropriate height value within the static map tree structure.
    It performs a search within a maximum distance threshold to ensure accurate height
    determination even when exact coordinates might not align perfectly with terrain
    data points.
  parameters:
  - name: pPos
    description: A reference to an integer representing the position identifier or
      index within the static map tree structure. This typically corresponds to a
      specific location in the world grid system.
  - name: maxSearchDist
    description: A float value specifying the maximum distance to search for height
      data. This parameter controls how far the method will search from the specified
      position to find valid terrain height information, preventing excessive computation
      or invalid results.
  returns: Returns a float representing the calculated height value at the specified
    position. If no valid height can be determined within the maximum search distance,
    the method may return a default or invalid height value (typically negative or
    zero).
  examples:
  - title: Basic Height Retrieval
    code: "float height = mapTree->getHeight(12345, 5.0f);\nif (height > 0)\n{\n \
      \   // Use the height value for positioning or collision detection\n    std::cout\
      \ << \"Height at position: \" << height << std::endl;\n}"
    language: cpp
  - title: Height Check with Error Handling
    code: "int positionId = 67890;\nfloat searchDistance = 10.0f;\nfloat height =\
      \ mapTree->getHeight(positionId, searchDistance);\n\nif (height <= 0)\n{\n \
      \   // Handle case where height could not be determined\n    std::cerr << \"\
      Failed to retrieve height at position \" << positionId << std::endl;\n}\nelse\n\
      {\n    // Proceed with valid height value\n    float adjustedY = height + 1.0f;\
      \ // Example usage\n}"
    language: cpp
  notes: This method is part of the StaticMapTree class which handles terrain data
    for static maps in TrinityCore. The implementation likely uses spatial partitioning
    techniques to optimize height lookups, making it efficient for real-time game
    operations. The pPos parameter should correspond to valid indices within the map
    tree's internal structure.
  warnings: Ensure that the position identifier passed as pPos is valid and corresponds
    to an actual location within the map tree. Passing invalid or out-of-bounds position
    values may lead to undefined behavior or incorrect height calculations. The maxSearchDist
    parameter should be set appropriately to balance accuracy with performance requirements.
  related:
  - getAreaHeight
  - getHeightAtPosition
  - isInLineOfSight
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T01:46:10.115201'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
