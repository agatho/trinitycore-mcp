api:
  class: World
  method: StopNow
  signature: void World::StopNow(uint8 exitcode)
documentation:
  brief: Immediately stops the world server with the specified exit code.
  description: The StopNow method is used to immediately terminate the World of Warcraft
    server instance, bypassing normal shutdown procedures. This method is typically
    invoked during critical error conditions or when a graceful shutdown is not possible.
    It sets an internal flag that causes the main server loop to exit, and then calls
    the system exit function with the provided exit code. The method does not perform
    any cleanup operations beyond setting the exit flag, so it should be used sparingly
    and only in emergency situations where normal shutdown procedures cannot be followed.
  parameters:
  - name: exitcode
    description: The exit code to return to the operating system when terminating
      the server. This is typically a numeric value where 0 indicates successful termination,
      and non-zero values indicate various error conditions or abnormal exits.
  returns: null
  examples:
  - title: Emergency shutdown with error code
    code: World::instance().StopNow(1);
    language: cpp
  - title: Graceful shutdown from critical error handler
    code: "if (criticalErrorOccurred)\n{\n    sLog->outError(\"Critical server error\
      \ detected, shutting down...\");\n    World::instance().StopNow(255);\n}"
    language: cpp
  notes: This method should only be called from within the main server thread as it
    directly affects the execution flow. The exit code passed to this method is immediately
    returned to the OS without any additional cleanup or notification mechanisms.
    This is a synchronous operation that will terminate the process immediately.
  warnings: Using StopNow() bypasses all normal shutdown procedures and cleanup routines.
    It should only be used in critical error conditions where normal shutdown would
    either fail or take too long. Improper use can result in data loss, corrupted
    databases, or inconsistent server state.
  related:
  - World::StopEvent
  - World::IsStopped
  - World::UpdateWorldTime
metadata:
  confidence: 0.95
  generated_at: '2025-11-05T23:29:30.512997'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
