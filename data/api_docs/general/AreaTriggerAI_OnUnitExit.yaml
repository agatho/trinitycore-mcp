api:
  class: AreaTriggerAI
  method: OnUnitExit
  signature: void AreaTriggerAI::OnUnitExit(Unit * unit, AreaTriggerExitReason reason)
documentation:
  brief: Handles the event when a unit exits an area trigger.
  description: The OnUnitExit method is invoked when a Unit (such as a player or creature)
    leaves the boundaries of an AreaTrigger. This method serves as a callback in the
    AI system to allow custom behavior when units exit specific triggers. It provides
    access to both the unit that exited and the reason for the exit, enabling developers
    to implement logic such as triggering quests, removing effects, or managing combat
    states. The method is part of the AreaTriggerAI class which governs the behavior
    of area triggers in the game world.
  parameters:
  - name: unit
    description: Pointer to the Unit object that has exited the area trigger. This
      can be a player, creature, or any other unit type that interacts with the trigger.
  - name: reason
    description: 'Enumeration value indicating the reason for the unit''s exit from
      the area trigger. Possible values include: AT_EXIT_BY_PLAYER (unit exited due
      to player movement), AT_EXIT_BY_DESPAWN (trigger was despawned), AT_EXIT_BY_TARGET
      (unit exited because target moved away).'
  returns: null
  examples:
  - title: Basic implementation of OnUnitExit
    code: "void MyAreaTriggerAI::OnUnitExit(Unit* unit, AreaTriggerExitReason reason)\n\
      {\n    if (unit && unit->IsPlayer())\n    {\n        Player* player = unit->ToPlayer();\n\
      \        player->SendNotification(\"You have left the area trigger.\");\n  \
      \  }\n}"
    language: cpp
  - title: Conditional logic based on exit reason
    code: "void MyAreaTriggerAI::OnUnitExit(Unit* unit, AreaTriggerExitReason reason)\n\
      {\n    switch (reason)\n    {\n        case AT_EXIT_BY_PLAYER:\n           \
      \ // Handle player-specific logic\n            break;\n        case AT_EXIT_BY_DESPAWN:\n\
      \            // Trigger cleanup or reset logic\n            break;\n       \
      \ default:\n            break;\n    }\n}"
    language: cpp
  notes: This method is called from the core game loop during area trigger updates.
    It's important to avoid heavy computations within this method to prevent performance
    degradation. The unit pointer passed in should be validated before use, as it
    may be null under certain conditions.
  warnings: Do not modify or delete the AreaTrigger object directly from within this
    callback, as doing so can cause memory corruption or undefined behavior. Also,
    be cautious when accessing unit data that might have been destroyed by the time
    this method is called.
  related:
  - OnUnitEnter
  - OnAreaTriggerUpdate
  - OnAreaTriggerInitialize
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T22:02:53.399352'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
