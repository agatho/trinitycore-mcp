api:
  class: SuggestionTicket
  method: FormatViewMessageString
  signature: int SuggestionTicket::FormatViewMessageString(ChatHandler & handler,
    bool detailed) const
documentation:
  brief: Formats and sends a ticket view message to the specified chat handler with
    optional detailed information.
  description: The FormatViewMessageString method constructs a formatted string representation
    of a suggestion ticket, intended for display in-game via a chat handler. It supports
    both basic and detailed views of the ticket data. The method interacts with the
    TrinityCore's chat handling system to send the constructed message to the requesting
    player or GM. This functionality is typically used when a player or administrator
    requests to view a specific suggestion ticket, allowing them to see its contents
    in a readable format. The method returns an integer indicating success or failure
    of the operation, which can be used for further processing or error handling.
  parameters:
  - name: handler
    description: A reference to the ChatHandler object that will be used to send the
      formatted message. This handler determines where and how the ticket information
      is displayed.
  - name: detailed
    description: A boolean flag indicating whether to include detailed information
      about the ticket. When true, additional metadata such as creation time, author
      details, and status are included in the output.
  returns: Returns an integer value representing the success status of the operation.
    Typically, a return value of 0 indicates successful formatting and sending of
    the message, while non-zero values may indicate errors or failures during processing.
  examples:
  - title: Basic Usage
    code: "SuggestionTicket ticket;\n// Assume ticket is initialized with data\nint\
      \ result = ticket.FormatViewMessageString(handler, false);\nif (result == 0)\
      \ {\n    // Message sent successfully\n}"
    language: cpp
  - title: Detailed View
    code: "SuggestionTicket ticket;\n// Assume ticket is initialized with data\nint\
      \ result = ticket.FormatViewMessageString(handler, true);\nif (result == 0)\
      \ {\n    // Detailed message sent successfully\n}"
    language: cpp
  notes: This method relies on the underlying ChatHandler implementation to properly
    format and display messages. Developers should ensure that the handler is correctly
    initialized before calling this method. The method may perform database lookups
    or other operations depending on the ticket's internal state, so performance considerations
    should be taken into account when used in high-frequency scenarios.
  warnings: Calling this method without a properly initialized ChatHandler can lead
    to undefined behavior or crashes. Ensure that all required data within the SuggestionTicket
    object is valid before invoking this function to prevent potential errors during
    message formatting.
  related:
  - GetId
  - GetAuthorName
  - GetMessage
  - SetMessage
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T01:39:13.726232'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
