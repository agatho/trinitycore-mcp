api:
  class: PlayerTaxi
  method: NextTaxiDestination
  signature: uint32 PlayerTaxi::NextTaxiDestination()
documentation:
  brief: Returns the map ID of the player's next taxi destination.
  description: The NextTaxiDestination method retrieves the unique identifier (map
    ID) of the player's upcoming taxi destination. This value corresponds to the destination
    node in the taxi system and is used internally by the game engine to manage flight
    path transitions. The method typically returns the map ID of the next waypoint
    in the player's current taxi route, or 0 if no taxi destination is currently set.
    This functionality is crucial for handling taxi travel mechanics and ensuring
    proper navigation through the game world's transportation system.
  parameters: []
  returns: Returns a uint32 representing the map ID of the player's next taxi destination.
    A return value of 0 indicates that there is no active taxi route or destination
    set for the player.
  examples:
  - title: Basic Usage
    code: "uint32 nextDestination = player->GetTaxi().NextTaxiDestination();\nif (nextDestination\
      \ != 0)\n{\n    printf(\"Player's next taxi destination is map ID: %u\\n\",\
      \ nextDestination);\n}\nelse\n{\n    printf(\"No taxi destination set for player.\\\
      n\");\n}"
    language: cpp
  - title: Checking Taxi Route Status
    code: "PlayerTaxi& taxi = player->GetTaxi();\nuint32 currentDest = taxi.NextTaxiDestination();\n\
      if (currentDest != 0)\n{\n    // Player has an active taxi route\n    WorldLocation\
      \ destLoc;\n    if (sObjectMgr->GetTaxiPointInfo(currentDest, destLoc))\n  \
      \  {\n        player->TeleportTo(destLoc);\n    }\n}"
    language: cpp
  notes: This method is part of the PlayerTaxi class which manages all taxi-related
    functionality for players. The returned map ID corresponds to a specific taxi
    node in the game's taxi system database. This method should only be called when
    the player is actually on a taxi route; otherwise, it will return 0. The implementation
    relies on internal state tracking of the player's current taxi path.
  warnings: Do not assume that a non-zero return value guarantees that the destination
    is valid or reachable. The map ID returned may correspond to a taxi node that
    has been removed from the game or is temporarily inaccessible. Always validate
    the returned map ID against the game's taxi system before attempting any teleportation
    or navigation operations.
  related:
  - PlayerTaxi::AddTaxiDestination
  - PlayerTaxi::ClearTaxiDestinations
  - PlayerTaxi::HasTaxiPath
  - PlayerTaxi::GetCurrentTaxiPath
metadata:
  confidence: 0.92
  generated_at: '2025-11-06T05:53:05.938648'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
