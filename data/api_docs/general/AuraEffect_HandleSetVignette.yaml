api:
  class: AuraEffect
  method: HandleSetVignette
  signature: void AuraEffect::HandleSetVignette(const AuraApplication * aurApp, uint8
    mode, bool apply) const
documentation:
  brief: Applies or removes a vignette effect to the target based on aura application
    state.
  description: The HandleSetVignette method is responsible for managing the visual
    vignette effect associated with an aura application. It is invoked during aura
    application or removal to update the client-side visual representation of the
    aura's effects. This typically involves setting or clearing a vignette overlay
    on the player's screen, which can be used to indicate debuffs, buffs, or other
    gameplay states. The method takes into account the aura application state and
    the mode (apply or remove) to determine how to modify the vignette effect. It
    is part of the core aura handling system in TrinityCore and interacts with the
    client's rendering subsystem to provide visual feedback for active auras.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object that contains information about
      the aura being applied or removed. This parameter specifies which aura's vignette
      effect should be modified.
  - name: mode
    description: The mode of operation, indicating whether the vignette should be
      applied (1) or removed (0). This value typically corresponds to the application
      state of the aura.
  - name: apply
    description: Boolean flag that determines if the vignette effect should be enabled
      (true) or disabled (false). This parameter works in conjunction with the mode
      parameter to control the visual effect.
  returns: null
  examples:
  - title: Basic Vignette Application
    code: "void ApplyVignette(AuraApplication* app) {\n    AuraEffect* effect = app->GetBase()->GetEffect(0);\n\
      \    if (effect && effect->GetAuraType() == SPELL_AURA_SET_VIGNETTE) {\n   \
      \     effect->HandleSetVignette(app, 1, true);\n    }\n}"
    language: cpp
  - title: Removing Vignette on Aura Removal
    code: "void RemoveVignette(AuraApplication* app) {\n    AuraEffect* effect = app->GetBase()->GetEffect(0);\n\
      \    if (effect && effect->GetAuraType() == SPELL_AURA_SET_VIGNETTE) {\n   \
      \     effect->HandleSetVignette(app, 0, false);\n    }\n}"
    language: cpp
  notes: This method is typically called internally by the aura system and should
    not be invoked directly unless implementing custom aura behavior. The vignette
    effect is client-side only and does not affect server-side aura state or gameplay
    mechanics.
  warnings: Incorrect usage of this method may result in visual artifacts or improper
    client rendering. Ensure that the aura application and mode parameters are valid
    before calling this method to avoid undefined behavior.
  related:
  - AuraEffect::HandleEffect
  - AuraApplication::GetBase
  - Aura::GetAuraType
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T08:58:20.156180'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
