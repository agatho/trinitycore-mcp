api:
  class: Aura
  method: AddProcCooldown
  signature: void Aura::AddProcCooldown(const SpellProcEntry * procEntry, int now)
documentation:
  brief: Adds a cooldown entry for a spell proc to prevent further procs within a
    specified time window.
  description: The AddProcCooldown method is used to register a cooldown period for
    a specific spell proc, ensuring that the proc cannot trigger again until the cooldown
    expires. This mechanism is essential in World of Warcraft's combat system to manage
    proc-based abilities and prevent infinite or overly frequent effects. The method
    takes a SpellProcEntry structure which defines the proc conditions and behavior,
    and an integer representing the current time in milliseconds. It updates internal
    tracking data to enforce the cooldown period for the specified proc.
  parameters:
  - name: procEntry
    description: Pointer to a SpellProcEntry structure that defines the proc's properties,
      including trigger conditions, chance, and cooldown settings.
  - name: now
    description: Integer value representing the current time in milliseconds, used
      to calculate when the cooldown should expire.
  returns: null
  examples:
  - title: Basic Usage of AddProcCooldown
    code: 'Aura* aura = ...; // Assume aura is a valid Aura pointer

      SpellProcEntry procEntry;

      procEntry.Chance = 10;

      procEntry.Cooldown = 5000; // 5 second cooldown

      int currentTime = getMSTime();

      aura->AddProcCooldown(&procEntry, currentTime);'
    language: cpp
  notes: This method modifies internal state of the Aura object to track proc cooldowns.
    It's typically called when a proc successfully triggers and needs to be placed
    on cooldown. The method assumes that the provided SpellProcEntry is valid and
    properly initialized.
  warnings: Ensure that the procEntry parameter points to a valid and properly initialized
    SpellProcEntry structure, otherwise behavior may be undefined. Also, passing incorrect
    time values can lead to unexpected cooldown behavior.
  related:
  - GetProcCooldown
  - HasProcCooldown
  - RemoveProcCooldown
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T14:21:10.745119'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
