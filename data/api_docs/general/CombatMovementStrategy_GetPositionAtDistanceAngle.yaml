api:
  class: CombatMovementStrategy
  method: GetPositionAtDistanceAngle
  signature: int CombatMovementStrategy::GetPositionAtDistanceAngle(Unit * target,
    float distance, float angle) const
documentation:
  brief: Calculates and returns a position at a specified distance and angle from
    a target unit for combat movement strategies.
  description: The GetPositionAtDistanceAngle method computes a destination position
    relative to a target unit based on a given distance and angle. This is commonly
    used in AI movement logic to determine where a unit should move during combat,
    such as positioning for optimal attack range or evading enemy attacks. The method
    takes into account the target's current orientation and position to calculate
    the resulting coordinate. It returns an integer status code indicating success
    or failure of the calculation. The implementation likely uses trigonometric functions
    to compute the new coordinates based on polar coordinates relative to the target.
  parameters:
  - name: target
    description: Pointer to the Unit object that serves as the reference point for
      calculating position. This represents the target unit in combat.
  - name: distance
    description: The radial distance from the target unit's position to calculate
      the new position. Must be a positive floating-point value representing game
      units.
  - name: angle
    description: The angular offset in radians from the target unit's facing direction.
      Positive values indicate clockwise rotation, negative values counter-clockwise.
  returns: 'Returns an integer status code: 0 for successful calculation, non-zero
    for failure or invalid parameters. The exact meaning of non-zero codes depends
    on internal implementation but typically indicates invalid input or calculation
    errors.'
  examples:
  - title: Basic Usage for Combat Positioning
    code: "Unit* target = ...; // Some enemy unit\nfloat distance = 5.0f; // 5 yards\
      \ away\nfloat angle = M_PI / 4; // 45 degrees offset\nint result = strategy.GetPositionAtDistanceAngle(target,\
      \ distance, angle);\nif (result == 0) {\n    // Position calculated successfully,\
      \ proceed with movement\n}"
    language: cpp
  - title: Using Negative Angle for Opposite Direction
    code: "Unit* target = ...;\nfloat distance = 10.0f; // 10 yards back\nfloat angle\
      \ = -M_PI / 2; // 90 degrees counter-clockwise (behind the target)\nint result\
      \ = strategy.GetPositionAtDistanceAngle(target, distance, angle);\nif (result\
      \ == 0) {\n    // Position calculated for retreat movement\n}"
    language: cpp
  notes: This method is part of the CombatMovementStrategy class and is typically
    used in AI decision-making processes. The calculation assumes a flat 2D plane
    for positioning, ignoring vertical height differences. The angle parameter uses
    radians, not degrees, so conversions may be necessary when working with degree-based
    inputs. Performance-wise, this method involves trigonometric calculations which
    are generally fast but can add up in high-frequency AI updates.
  warnings: "Ensure that the target unit pointer is valid and not null before calling\
    \ this method to avoid segmentation faults. The distance parameter should be non-negative;\
    \ negative values may cause unexpected behavior. Angle values outside the expected\
    \ range (typically -2\u03C0 to 2\u03C0) might produce unpredictable results depending\
    \ on internal normalization logic."
  related:
  - GetDistanceToTarget
  - CalculateFacingAngle
  - MoveToPosition
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T09:58:06.939842'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
