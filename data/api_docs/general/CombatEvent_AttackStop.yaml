api:
  class: CombatEvent
  method: AttackStop
  signature: CombatEvent CombatEvent::AttackStop(int attacker, int victim, bool nowDead)
documentation:
  brief: Stops an attack between an attacker and victim in the combat system
  description: The AttackStop method terminates an active combat state between two
    entities, removing them from each other's threat lists and clearing any ongoing
    attack animations or queued actions. This method is typically invoked when a combat
    encounter ends due to one of the participants dying, fleeing, or being otherwise
    removed from combat. The method ensures proper cleanup of combat-related data
    structures and updates the game state accordingly. It handles both immediate and
    delayed combat stop conditions based on the 'nowDead' parameter.
  parameters:
  - name: attacker
    description: The unique identifier (GUID) of the attacking entity participating
      in combat
  - name: victim
    description: The unique identifier (GUID) of the defending entity being attacked
  - name: nowDead
    description: Boolean flag indicating whether the victim is immediately dead (true)
      or if combat stops without immediate death (false)
  returns: Returns a CombatEvent object representing the completed attack stop event,
    which can be used for further processing or event handling in the combat system
  examples:
  - title: Basic Attack Stop Usage
    code: CombatEvent event = combatEvent.AttackStop(playerGUID, mobGUID, true);
    language: cpp
  - title: Attack Stop with Non-Immediate Death
    code: "CombatEvent event = combatEvent.AttackStop(playerGUID, mobGUID, false);\n\
      // Handles combat stop without immediate death\nif (event.IsValid()) {\n   \
      \ // Process the completed combat event\n}"
    language: cpp
  notes: This method should only be called during active combat scenarios. The attacker
    and victim GUIDs must be valid and represent entities currently in combat. The
    'nowDead' parameter affects how threat lists are updated and whether death-related
    events are triggered. This method is part of the core combat management system
    and may impact performance if called frequently in rapid succession.
  warnings: Calling AttackStop with invalid GUIDs or when no combat is active can
    lead to undefined behavior or crashes. Ensure that both attacker and victim are
    confirmed to be in combat before invoking this method. The 'nowDead' parameter
    should accurately reflect the actual state of the victim to maintain proper game
    logic consistency.
  related:
  - AttackStart
  - CombatStop
  - IsInCombat
  - GetVictim
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T02:59:58.570839'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
