api:
  class: QuestTurnIn
  method: SelectBestUpgradeReward
  signature: uint32 QuestTurnIn::SelectBestUpgradeReward(const int & rewards, Player
    * bot)
documentation:
  brief: Selects the best upgrade reward for a quest turn-in based on player inventory
    and item values.
  description: The SelectBestUpgradeReward method evaluates available quest rewards
    and determines the most beneficial upgrade option for the player. It analyzes
    item properties, including quality, level, and potential value, to make an informed
    decision about which reward to select. This method is typically used in automated
    quest completion systems or AI-driven gameplay logic where optimal reward selection
    is important. The method considers the player's current inventory state and evaluates
    how each potential reward would improve their character's overall item value or
    utility.
  parameters:
  - name: rewards
    description: An integer representing the available reward options for the quest.
      This parameter likely encodes multiple reward choices in a bitfield or similar
      structure, where each bit or value corresponds to a different reward type or
      quality level.
  - name: bot
    description: A pointer to the Player object representing the character that will
      receive the reward. This parameter is essential for evaluating inventory state
      and determining which rewards would be most beneficial for this specific player.
  returns: Returns a uint32 value representing the identifier of the selected best
    upgrade reward. This identifier typically corresponds to an entry in the game's
    item database or quest reward table, indicating which specific reward option was
    chosen based on the evaluation criteria.
  examples:
  - title: Basic Usage Example
    code: 'uint32 selectedReward = questTurnIn.SelectBestUpgradeReward(0x0F, playerBot);

      // Selects the best reward from 4 possible options for the given player'
    language: cpp
  - title: Integration with Quest Completion Logic
    code: "void CompleteQuestWithBestReward(QuestTurnIn& questTurnIn, Player* player)\
      \ {\n    int availableRewards = GetAvailableQuestRewards(player->GetQuestStatus(12345));\n\
      \    uint32 bestReward = questTurnIn.SelectBestUpgradeReward(availableRewards,\
      \ player);\n    player->AddItem(bestReward, 1);\n}"
    language: cpp
  notes: The method likely performs internal calculations involving item quality scores,
    vendor values, and potential upgrade paths. It may also consider the player's
    current level, class, and specialization when evaluating reward options. The 'rewards'
    parameter is expected to contain encoded reward data that this method decodes
    and evaluates.
  warnings: This method assumes valid input parameters and may produce undefined behavior
    if passed invalid reward encodings or null player pointers. It should only be
    called when the player is in a valid state for quest completion and reward selection.
  related:
  - GetQuestRewards
  - EvaluateItemValue
  - SelectRewardOption
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T21:05:49.734871'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
