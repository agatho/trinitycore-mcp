api:
  class: WorldSession
  method: HandleMoveKnockBackAck
  signature: void WorldSession::HandleMoveKnockBackAck(WorldPackets::Movement::MoveKnockBackAck
    & movementAck)
documentation:
  brief: Processes a client's acknowledgment of a knockback movement packet
  description: The HandleMoveKnockBackAck method is responsible for processing the
    client's acknowledgment of a knockback movement operation sent by the server.
    This method is typically invoked when the client has received and processed a
    knockback movement packet, confirming that the player character has been moved
    according to the knockback mechanics. The method ensures proper synchronization
    between the server and client regarding movement states during knockback events,
    which are commonly triggered by abilities such as knockback spells or environmental
    effects. It plays a crucial role in maintaining consistent game state and preventing
    desynchronization issues related to character positioning.
  parameters:
  - name: movementAck
    description: A reference to the MoveKnockBackAck packet containing acknowledgment
      data from the client, including movement information and timing details for
      the knockback event
  returns: null
  examples:
  - title: Basic usage in session handler
    code: "void WorldSession::HandleMoveKnockBackAck(WorldPackets::Movement::MoveKnockBackAck&\
      \ movementAck)\n{\n    // Process acknowledgment of knockback movement\n   \
      \ Player* player = GetPlayer();\n    if (player && player->HasUnitState(UNIT_STATE_KNOCKBACK))\n\
      \    {\n        player->ClearUnitState(UNIT_STATE_KNOCKBACK);\n        // Additional\
      \ processing for knockback completion\n    }\n}"
    language: cpp
  notes: This method is part of the movement synchronization system in TrinityCore.
    It should only be called when a client acknowledges a knockback movement packet,
    and it's important to ensure that the player state is properly updated after processing.
    The method assumes that the client has already received the knockback packet before
    sending this acknowledgment.
  warnings: Improper handling of knockback acknowledgments can lead to character position
    desynchronization or incorrect movement states. Ensure that all knockback-related
    unit states are properly cleared and validated when this method is called.
  related:
  - HandleMoveKnockBack
  - SendMoveKnockBack
  - Player::SetUnitState
  - Player::ClearUnitState
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:32:11.841720'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
