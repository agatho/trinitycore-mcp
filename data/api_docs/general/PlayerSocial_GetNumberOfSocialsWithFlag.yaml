api:
  class: PlayerSocial
  method: GetNumberOfSocialsWithFlag
  signature: uint32 PlayerSocial::GetNumberOfSocialsWithFlag(SocialFlag flag)
documentation:
  brief: Returns the count of social entries matching a specified social flag.
  description: The GetNumberOfSocialsWithFlag method retrieves the total number of
    social connections (friends, ignores, etc.) for a player that match the given
    SocialFlag. This method is used internally by the TrinityCore social system to
    determine how many entries exist with a specific flag type, such as friends, ignored
    players, or blocked communications. The method iterates through the player's social
    list and counts entries that have the specified flag set. It does not modify any
    data but provides a read-only count for game logic and UI display purposes.
  parameters: []
  returns: A uint32 value representing the number of social entries in the player's
    social list that match the specified SocialFlag. Returns 0 if no matching entries
    are found or if the player has no social connections at all.
  examples:
  - title: Count Friends
    code: 'uint32 friendCount = player->GetSocial()->GetNumberOfSocialsWithFlag(SOCIAL_FLAG_FRIEND);

      // Returns the number of friends in the player''s social list'
    language: cpp
  - title: Check Ignore List Size
    code: "PlayerSocial* social = player->GetSocial();\nuint32 ignoreCount = social->GetNumberOfSocialsWithFlag(SOCIAL_FLAG_IGNORE);\n\
      if (ignoreCount > 0) {\n    // Player has ignored players\n    ChatHandler(player->GetSession()).PSendSysMessage(\"\
      You are ignoring %u players.\", ignoreCount);\n}"
    language: cpp
  notes: This method is typically used for UI display purposes to show the number
    of friends or ignored players. It's important to note that the SocialFlag parameter
    must be a valid flag from the SocialFlag enumeration, otherwise the result may
    be unpredictable or zero. The method accesses internal player social data structures
    and should be called only when the player object is fully initialized.
  warnings: This method does not validate the SocialFlag parameter, so passing an
    invalid or unexpected flag value could lead to incorrect counts. Ensure that only
    valid SocialFlag values are passed. Also, this method may not reflect real-time
    changes if social data is modified concurrently by other systems.
  related:
  - GetSocial
  - AddSocial
  - RemoveSocial
  - HasSocial
metadata:
  confidence: 0.95
  generated_at: '2025-11-03T21:32:03.493066'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
