api:
  class: BotSessionManager
  method: RegisterBotAI
  signature: void BotSessionManager::RegisterBotAI(WorldSession * session, BotAI *
    ai)
documentation:
  brief: Registers a BotAI instance with the specified WorldSession for bot behavior
    management.
  description: The RegisterBotAI method associates a BotAI instance with a given WorldSession,
    enabling the session to manage and control bot behavior within the game. This
    method is typically invoked when initializing or activating a bot character, linking
    its artificial intelligence logic to the player session that controls it. The
    registration process ensures that the bot's AI routines can properly interact
    with the game world through the associated session, handling actions such as movement,
    combat decisions, and quest behavior. This method likely performs internal bookkeeping
    to maintain a mapping between sessions and their corresponding bot AIs, which
    is essential for proper bot operation in TrinityCore's framework.
  parameters:
  - name: session
    description: Pointer to the WorldSession that will control the bot. Must be a
      valid session object representing an active player connection.
  - name: ai
    description: Pointer to the BotAI instance to register with the session. This
      represents the artificial intelligence logic that governs the bot's behavior.
  returns: null
  examples:
  - title: Basic Bot AI Registration
    code: 'WorldSession* session = player->GetSession();

      BotAI* botAI = new BotAI(session);

      BotSessionManager::instance()->RegisterBotAI(session, botAI);'
    language: cpp
  - title: Registering Multiple Bots
    code: "for (int i = 0; i < botCount; ++i)\n{\n    WorldSession* session = GetBotSession(i);\n\
      \    BotAI* ai = new BotAI(session);\n    BotSessionManager::instance()->RegisterBotAI(session,\
      \ ai);\n}"
    language: cpp
  notes: This method likely stores the bot AI reference in an internal map or registry
    for quick lookup during session processing. The registration should occur before
    any bot behavior is expected to be executed. Ensure that the BotAI instance remains
    valid throughout the session's lifetime, as deregistration typically occurs when
    the session closes.
  warnings: Passing null pointers for either parameter will likely result in undefined
    behavior or crashes. Always validate that both session and ai are non-null before
    calling this method. Improper registration can lead to memory leaks or AI routines
    executing on invalid data.
  related:
  - UnregisterBotAI
  - GetBotAI
  - GetSessionForBot
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T11:01:58.072912'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
