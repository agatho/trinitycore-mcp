api:
  class: BattlefieldMgr
  method: DestroyBattlefieldsForMap
  signature: void BattlefieldMgr::DestroyBattlefieldsForMap(const Map * map)
documentation:
  brief: Destroys all battlefields associated with a given map.
  description: The DestroyBattlefieldsForMap method is responsible for cleaning up
    and removing all active battlefield instances that are registered for a specific
    game map. This function ensures that resources allocated to battlefields on the
    specified map are properly released, preventing memory leaks and maintaining system
    stability. It is typically invoked during map shutdown or when transitioning between
    different game states where battlefield data is no longer needed. The method iterates
    through all registered battlefields for the provided map and calls their destruction
    routines.
  parameters:
  - name: map
    description: Pointer to the Map object for which battlefields should be destroyed.
      Must not be null. The map must have been previously initialized and contain
      active battlefield instances.
  returns: null
  examples:
  - title: Destroying Battlefields on a Specific Map
    code: "Map* myMap = sMapMgr->FindMap(0, 0);\nif (myMap)\n{\n    sBattlefieldMgr->DestroyBattlefieldsForMap(myMap);\n\
      }"
    language: cpp
  notes: This method assumes that the provided map pointer is valid and has been properly
    initialized. It's typically called internally by the game engine during map lifecycle
    management, but may also be invoked manually in custom modules or extensions.
    The destruction process includes cleanup of battlefield-related data structures
    and potential removal from internal registries.
  warnings: Calling this method with a null map pointer will likely result in undefined
    behavior or crash. Ensure that the map object is valid and has active battlefields
    before invoking this function. Improper usage can lead to dangling pointers or
    memory corruption.
  related:
  - BattlefieldMgr::AddBattlefield
  - BattlefieldMgr::GetBattlefieldByMapId
  - BattlefieldMgr::Update
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T02:28:41.323654'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
