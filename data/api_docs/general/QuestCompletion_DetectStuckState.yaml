api:
  class: QuestCompletion
  method: DetectStuckState
  signature: void QuestCompletion::DetectStuckState(Player * bot, uint32 questId)
documentation:
  brief: Detects if a player bot is stuck during quest completion and handles the
    stuck state appropriately.
  description: The DetectStuckState method evaluates whether a player bot has become
    stuck while attempting to complete a quest. It monitors the bot's movement, interaction
    with quest objects, and overall progress to determine if the bot is unable to
    advance the quest. When a stuck state is detected, the method may trigger corrective
    actions such as resetting the quest state or notifying the AI system to attempt
    alternative strategies. This functionality is crucial for maintaining smooth automation
    in quest completion scripts, especially in scenarios where bots might encounter
    environmental obstacles or game logic issues that prevent normal progression.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that is being monitored
      for stuck state. Must not be null.
  - name: questId
    description: Unique identifier of the quest currently being completed by the bot.
      Used to track progress and determine if the bot has made no meaningful advancement.
  returns: void
  examples:
  - title: Basic Usage in Quest AI Logic
    code: "void MyQuestAI::Update(Player* bot, uint32 questId)\n{\n    QuestCompletion\
      \ completion;\n    completion.DetectStuckState(bot, questId);\n}"
    language: cpp
  - title: Integration with Custom Stuck Handling
    code: "void MyQuestAI::Update(Player* bot, uint32 questId)\n{\n    QuestCompletion\
      \ completion;\n    completion.DetectStuckState(bot, questId);\n    if (IsBotStuck(bot))\n\
      \    {\n        // Reset quest or attempt alternative path\n        bot->ResetQuest(questId);\n\
      \    }\n}"
    language: cpp
  notes: This method relies on internal tracking of player position and quest progress.
    It may not detect all types of stuck states, particularly those caused by server-side
    lag or complex quest mechanics. Developers should consider combining this with
    additional checks for robust automation.
  warnings: Ensure that the bot pointer is valid before calling this method to avoid
    undefined behavior. The method does not directly handle quest reset logic; it
    only detects the stuck condition and leaves corrective actions to the caller.
  related:
  - QuestCompletion::CompleteQuest
  - QuestCompletion::CheckQuestProgress
  - Player::ResetQuest
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T05:17:10.091634'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
