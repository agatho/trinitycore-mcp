api:
  class: TerrainInfo
  method: GetWaterLevel
  signature: float TerrainInfo::GetWaterLevel(const PhaseShift & phaseShift, uint32
    mapId, float x, float y)
documentation:
  brief: Retrieves the water level at a specified location within a given map and
    phase.
  description: The GetWaterLevel method calculates and returns the vertical water
    level (Z-coordinate) at the provided coordinates (x, y) for a specific map ID
    and phase shift. This is essential for determining whether objects or players
    are submerged in water, which affects gameplay mechanics such as swimming, movement
    restrictions, and visual rendering. The method takes into account the current
    phase shift to ensure accurate results in phased environments where different
    areas may have varying water levels. It is commonly used by game systems to handle
    water-based interactions and environmental responses.
  parameters:
  - name: phaseShift
    description: The PhaseShift object that defines the current phase state of the
      world, including active phases and their associated data. This affects which
      version of the map and its features are considered when calculating the water
      level.
  - name: mapId
    description: The unique identifier of the map where the water level is to be retrieved.
      Must correspond to a valid map in the game world.
  - name: x
    description: The X coordinate (horizontal position) on the map for which the water
      level is requested. Should be within the valid bounds of the specified map.
  - name: y
    description: The Y coordinate (vertical position) on the map for which the water
      level is requested. Should be within the valid bounds of the specified map.
  returns: A float value representing the Z-coordinate (height) of the water surface
    at the given location. Returns a negative value if no water is present or if the
    coordinates are invalid.
  examples:
  - title: Basic Usage Example
    code: float waterLevel = terrainInfo->GetWaterLevel(phaseShift, 0, 123.45f, 678.90f);
    language: cpp
  - title: Checking if Player is in Water
    code: "float playerZ = player->GetPositionZ();\nfloat waterLevel = terrainInfo->GetWaterLevel(phaseShift,\
      \ player->GetMapId(), player->GetPositionX(), player->GetPositionY());\nif (playerZ\
      \ < waterLevel)\n{\n    // Player is submerged in water\n}"
    language: cpp
  notes: This method relies on terrain data and phase information to compute accurate
    water levels. It may perform internal lookups or computations depending on the
    map's complexity. For performance-critical applications, caching results for frequently
    accessed locations is recommended.
  warnings: Calling this method with invalid map IDs or out-of-bounds coordinates
    can lead to undefined behavior or incorrect results. Always validate inputs before
    calling this function in critical gameplay logic.
  related:
  - GetHeight
  - IsInWater
  - GetTerrain
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T16:52:18.838014'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
