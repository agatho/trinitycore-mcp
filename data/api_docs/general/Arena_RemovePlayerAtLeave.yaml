api:
  class: Arena
  method: RemovePlayerAtLeave
  signature: void Arena::RemovePlayerAtLeave(int guid, bool transport, bool sendPacket)
documentation:
  brief: Removes a player from an arena team when they leave the arena.
  description: The RemovePlayerAtLeave method is responsible for removing a player
    from an arena team upon their departure from an arena match. This function handles
    cleanup of player-related data within the arena context, including updating team
    statistics and ensuring proper state management. The method supports optional
    transport behavior and packet sending for synchronization with client updates.
    It is typically invoked during arena match end conditions or when a player voluntarily
    leaves the arena.
  parameters:
  - name: guid
    description: The unique identifier (GUID) of the player to be removed from the
      arena team. This value must correspond to a valid player in the current arena
      context.
  - name: transport
    description: A boolean flag indicating whether the player is being transported
      out of the arena. If true, additional transport-related cleanup may be performed.
  - name: sendPacket
    description: A boolean flag that determines whether to send a packet update to
      the client about the player's removal from the arena. When true, the client
      will receive notification of the player's departure.
  returns: null
  examples:
  - title: Basic Player Removal
    code: "Arena* arena = sObjectAccessor->GetArenaByGUID(arenaGuid);\nif (arena)\n\
      {\n    arena->RemovePlayerAtLeave(playerGuid, false, true);\n}"
    language: cpp
  - title: Transport-Based Removal with No Client Update
    code: "Arena* arena = sObjectAccessor->GetArenaByGUID(arenaGuid);\nif (arena)\n\
      {\n    arena->RemovePlayerAtLeave(playerGuid, true, false);\n}"
    language: cpp
  notes: This method is part of the internal arena management system and should only
    be called during appropriate arena match lifecycle events. The method assumes
    that the player GUID corresponds to an active member of the arena team. It performs
    no validation on the GUID itself, so callers must ensure validity before invocation.
  warnings: Improper use of this method can lead to inconsistent arena state or client
    desynchronization. Always verify that the player is actually part of the arena
    team before calling this function. Incorrect handling of the transport parameter
    may cause unexpected behavior during player movement.
  related:
  - AddPlayer
  - IsPlayerInArena
  - GetPlayers
  - UpdateArenaStats
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T17:07:47.210304'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
