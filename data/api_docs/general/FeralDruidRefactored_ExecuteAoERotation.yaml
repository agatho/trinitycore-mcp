api:
  class: FeralDruidRefactored
  method: ExecuteAoERotation
  signature: void FeralDruidRefactored::ExecuteAoERotation(int * target, uint32 enemyCount)
documentation:
  brief: Executes the feral druid's AoE combat rotation based on target count and
    current game state.
  description: The ExecuteAoERotation method implements the core logic for a feral
    druid's area-of-effect combat rotation in TrinityCore. This method evaluates the
    number of nearby enemies and selects appropriate abilities such as Swipe, Mangle,
    or Ferocious Bite to maximize damage output in group combat scenarios. It considers
    factors like player energy levels, ability cooldowns, and enemy health percentages
    to determine optimal spell usage. The method is typically called during combat
    when multiple targets are present and is part of the AI decision-making process
    for feral druids.
  parameters:
  - name: target
    description: Pointer to an integer representing the primary target ID or index
      in the combat environment
  - name: enemyCount
    description: Unsigned 32-bit integer indicating the total number of enemies currently
      engaged in combat with the druid
  returns: null
  examples:
  - title: Basic AoE Rotation Execution
    code: 'int targetId = 12345;

      uint32 numEnemies = 5;

      player->GetFeralDruidAI()->ExecuteAoERotation(&targetId, numEnemies);'
    language: cpp
  - title: Dynamic Rotation Based on Enemy Count
    code: "uint32 enemyCount = player->GetMap()->GetPlayersCountExceptGMs();\nint*\
      \ primaryTarget = nullptr;\nif (enemyCount > 0)\n{\n    // Assume we have a\
      \ method to get the first valid target\n    primaryTarget = &player->GetFirstEnemyId();\n\
      \    player->GetFeralDruidAI()->ExecuteAoERotation(primaryTarget, enemyCount);\n\
      }"
    language: cpp
  notes: This method assumes that the druid is in combat and has valid targets. It
    does not perform any validation on the target pointer or enemy count values. The
    actual implementation may vary depending on the specific TrinityCore version and
    AI configuration.
  warnings: Calling this method without proper combat context or valid parameters
    may lead to undefined behavior. Ensure that the druid is actually in combat and
    has appropriate targets before invoking this method.
  related:
  - ExecuteSingleTargetRotation
  - CheckForCooldowns
  - EvaluateEnemyHealth
  - GetAvailableAbilities
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T12:18:04.499916'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
