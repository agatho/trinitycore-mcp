api:
  class: WorldSession
  method: HandleSetAssistantLeaderOpcode
  signature: void WorldSession::HandleSetAssistantLeaderOpcode(WorldPackets::Party::SetAssistantLeader
    & packet)
documentation:
  brief: Handles the client request to set a party member as assistant leader.
  description: This method processes the packet sent by a player when they attempt
    to assign another party member as the assistant leader. It validates that the
    requesting player is the party leader or raid leader, ensures the target player
    is in the same party/raid, and updates the party leadership structure accordingly.
    The method does not directly modify the database but triggers internal party management
    logic to reflect the new assistant leader status.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in party context
    code: "void WorldSession::HandleSetAssistantLeaderOpcode(WorldPackets::Party::SetAssistantLeader&\
      \ packet)\n{\n    // Validate party leadership permissions\n    if (!GetPlayer()->GetGroup()\
      \ || !GetPlayer()->GetGroup()->IsLeader(GetPlayer()->GetGUID()))\n        return;\n\
      \n    // Process the assistant leader assignment\n    GetPlayer()->GetGroup()->SetAssistantLeader(packet.PlayerGuid);\n\
      }"
    language: cpp
  notes: This method assumes that the packet contains a valid player GUID and that
    the session's associated player is already verified to be in a party or raid group.
    It relies on internal party management functions for actual assignment logic.
  warnings: Improper handling of this method may lead to incorrect party leadership
    states, potentially causing issues with group loot distribution or other leader-specific
    actions. Ensure proper permission checks are performed before calling this method.
  related:
  - HandlePartyCommandOpcode
  - GetPlayer
  - GetGroup
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T19:22:35.832069'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
