api:
  class: LFGBotManager
  method: CalculateNeededRoles
  signature: void LFGBotManager::CalculateNeededRoles(uint8 humanRoles, uint8 & tanksNeeded,
    uint8 & healersNeeded, uint8 & dpsNeeded) const
documentation:
  brief: Calculates the number of tanks, healers, and damage dealers needed for a
    given set of human roles in a LFG group.
  description: The CalculateNeededRoles method determines how many tanks, healers,
    and damage dealers are required based on the provided human roles bitmask. This
    function is used by the LFGBotManager to balance group compositions and ensure
    that each LFG group has the appropriate role distribution. The method takes a
    bitmask representing human roles and populates three output parameters with the
    calculated number of each role type needed. It does not modify any internal state
    and is typically called during group formation or role rebalancing operations
    within the LFG system.
  parameters:
  - name: humanRoles
    description: A bitmask representing the current human roles in the LFG group.
      Each bit corresponds to a specific role type (tank, healer, damage dealer).
      Valid values are typically 0-7 where each bit position represents a different
      role.
  - name: tanksNeeded
    description: Output parameter that will be set to the number of tanks required
      for the group composition. This value is updated by reference.
  - name: healersNeeded
    description: Output parameter that will be set to the number of healers required
      for the group composition. This value is updated by reference.
  - name: dpsNeeded
    description: Output parameter that will be set to the number of damage dealers
      required for the group composition. This value is updated by reference.
  returns: null
  examples:
  - title: Basic usage example
    code: 'uint8 humanRoles = 7; // All roles present

      uint8 tanksNeeded, healersNeeded, dpsNeeded;

      lfGBotManager.CalculateNeededRoles(humanRoles, tanksNeeded, healersNeeded, dpsNeeded);

      // tanksNeeded, healersNeeded, and dpsNeeded will be set based on the role distribution'
    language: cpp
  - title: Role calculation with specific bitmask
    code: 'uint8 humanRoles = 3; // Only tank and healer roles

      uint8 tanksNeeded, healersNeeded, dpsNeeded;

      lfGBotManager.CalculateNeededRoles(humanRoles, tanksNeeded, healersNeeded, dpsNeeded);

      // Result: tanksNeeded=1, healersNeeded=1, dpsNeeded=0'
    language: cpp
  notes: This method is part of the LFG (Looking for Group) bot functionality in TrinityCore.
    The humanRoles parameter uses a bitfield where each bit represents a specific
    role type. The implementation likely follows standard WoW LFG group composition
    rules, ensuring that groups maintain balanced role distributions. This function
    is typically called during LFG queue processing or when forming new groups.
  warnings: The method modifies the output parameters by reference, so ensure these
    variables are properly initialized before calling. The humanRoles bitmask must
    be interpreted correctly according to the game's internal role mapping system.
    Incorrect bit positions could lead to wrong role calculations.
  related:
  - LFGBotManager::GetLFGGroupComposition
  - LFGBotManager::UpdateRoleDistribution
  - LFGBotManager::CheckGroupBalance
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T02:14:41.386008'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
