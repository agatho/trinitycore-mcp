api:
  class: PhaseShift
  method: CanSee
  signature: bool PhaseShift::CanSee(const PhaseShift & other) const
documentation:
  brief: Determines whether this PhaseShift can see another PhaseShift based on phase
    masking and visibility rules.
  description: The CanSee method evaluates whether the current PhaseShift instance
    has visibility access to another PhaseShift object. This is a core functionality
    in TrinityCore's phase system, which controls what entities players or objects
    can perceive based on their assigned phases. The method typically checks if the
    phases of both objects intersect or if one object's phase includes the other's,
    ensuring proper game world visibility mechanics. It plays a crucial role in determining
    whether NPCs, GameObjects, or players are visible to each other within different
    phased environments.
  parameters: []
  returns: Returns true if the current PhaseShift can see the provided 'other' PhaseShift;
    otherwise returns false. This indicates that the visibility rules between the
    two phase configurations allow for mutual perception.
  examples:
  - title: Basic Visibility Check
    code: "PhaseShift playerPhase;\nPhaseShift npcPhase;\nbool isVisible = playerPhase.CanSee(npcPhase);\n\
      if (isVisible)\n{\n    // NPC is visible to the player\n}"
    language: cpp
  - title: Using in Visibility Logic
    code: "void CheckVisibility(Player* player, Unit* target)\n{\n    PhaseShift const&\
      \ playerPhase = player->GetPhaseShift();\n    PhaseShift const& targetPhase\
      \ = target->GetPhaseShift();\n    if (playerPhase.CanSee(targetPhase))\n   \
      \ {\n        // Send update packets or perform visibility-related actions\n\
      \        player->SendUpdateToPlayer(target);\n    }\n}"
    language: cpp
  notes: This method relies on internal phase masks and may be influenced by global
    phase settings, expansion-specific phase handling, and custom phase configurations.
    It is commonly used in visibility calculations for units, objects, and players
    within the TrinityCore framework.
  warnings: Ensure that both PhaseShift instances are properly initialized before
    calling CanSee, as uninitialized or invalid phases could lead to unexpected behavior.
    Also note that this method does not account for line-of-sight or distance-based
    visibility; it only evaluates phase compatibility.
  related:
  - GetPhaseMask
  - SetPhaseMask
  - IsInvisibleTo
  - AddPhase
  - RemovePhase
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T21:54:37.793523'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
