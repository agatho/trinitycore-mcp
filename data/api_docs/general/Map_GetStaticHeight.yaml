api:
  class: Map
  method: GetStaticHeight
  signature: float Map::GetStaticHeight(const PhaseShift & phaseShift, const Position
    & pos, bool checkVMap, float maxSearchDist)
documentation:
  brief: Retrieves the static height at a given position within the map, considering
    phase and collision data.
  description: The GetStaticHeight method calculates and returns the height value
    at a specific location on the map. It takes into account the current phase shift
    of the object, the position coordinates, and optionally checks for VMap collisions
    to ensure accurate height determination. This method is essential for determining
    terrain elevation in World of Warcraft environments, particularly when dealing
    with complex map structures or collision detection. The function considers maximum
    search distance for optimization purposes.
  parameters:
  - name: phaseShift
    description: The phase shift object that defines the current phase context of
      the position. This affects how height calculations are performed based on different
      phases or zones.
  - name: pos
    description: Position coordinates (x, y, z) where height is being calculated.
      This represents the exact location in world coordinates for which static height
      is determined.
  - name: checkVMap
    description: Boolean flag indicating whether VMap collision checks should be performed.
      When true, the method will check for collisions with VMap objects to ensure
      accurate height calculation.
  - name: maxSearchDist
    description: Maximum distance allowed for searching height values. This parameter
      controls how far the system searches from the specified position to find a valid
      height value.
  returns: Returns a float representing the static height at the given position. If
    no valid height is found within the specified search distance, it returns the
    default map height or zero if not applicable.
  examples:
  - title: Basic usage example
    code: float height = map->GetStaticHeight(phaseShift, position, true, 50.0f);
    language: cpp
  - title: Advanced usage example with error handling
    code: "float height = map->GetStaticHeight(phaseShift, position, false, 100.0f);\n\
      if (height < 0.0f)\n{\n    // Handle invalid height result\n}\nelse\n{\n   \
      \ // Process valid height\n}"
    language: cpp
  notes: This method is thread-safe and performs efficiently by utilizing spatial
    indexing and collision detection systems. It's designed to work with various map
    types including those with complex terrain features. Performance can be optimized
    by adjusting maxSearchDist parameter based on specific requirements.
  warnings: Care must be taken when using this method in conjunction with VMap checks
    as it may impact performance if not used properly. Ensure that phaseShift is correctly
    initialized before calling this method to avoid incorrect height calculations.
  related:
  - GetHeight
  - GetWaterHeight
  - GetTerrainHeight
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T04:10:49.899259'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
