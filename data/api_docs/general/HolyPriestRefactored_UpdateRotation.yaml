api:
  class: HolyPriestRefactored
  method: UpdateRotation
  signature: void HolyPriestRefactored::UpdateRotation(int * target)
documentation:
  brief: Updates the holy priest's spell rotation based on current combat state and
    target conditions
  description: The UpdateRotation method manages the core decision-making logic for
    a Holy Priest's spell casting sequence during combat. It evaluates the current
    target's health, player mana levels, and various buffs/debuffs to determine the
    optimal spell to cast next. This method integrates with TrinityCore's AI framework
    to ensure proper spell prioritization according to holy priest gameplay mechanics.
    The method modifies internal state variables related to spell selection and cooldown
    management while respecting game rules such as mana conservation and spell priority
    ordering.
  parameters:
  - name: target
    description: Pointer to the current target's health value used for rotation decisions.
      This parameter allows the method to make intelligent choices about when to use
      healing spells versus damage spells based on target status.
  returns: null
  examples:
  - title: Basic Target Update
    code: 'int targetHealth = 5000;

      holyPriest->UpdateRotation(&targetHealth);'
    language: cpp
  - title: Integration with Combat Loop
    code: "void HolyPriestAI::UpdateAI(uint32 diff)\n{\n    if (UpdateRotation(&m_targetHealth))\n\
      \    {\n        // Rotation updated, proceed with spell casting\n    }\n}"
    language: cpp
  notes: This method should only be called during active combat situations where target
    information is valid. The target parameter must point to a valid integer representing
    current target health values. Performance considerations include avoiding frequent
    calls during high-frequency combat updates, as this method may perform multiple
    conditional checks and state modifications.
  warnings: Do not pass null pointers to the target parameter as this will cause undefined
    behavior. The method assumes that the target value represents a valid health amount
    and does not validate input ranges. Calling this method outside of combat contexts
    may lead to inappropriate spell selections.
  related:
  - GetNextSpell
  - IsManaSufficient
  - CheckTargetHealth
  - CastHealingSpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T03:12:38.786624'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
