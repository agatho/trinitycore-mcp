api:
  class: CombatReference
  method: Refresh
  signature: void CombatReference::Refresh()
documentation:
  brief: Refreshes the combat reference's internal state and updates its active combat
    timer.
  description: The Refresh method updates the internal combat state of a CombatReference
    object, typically extending or resetting the duration of an active combat session.
    This method is commonly used to maintain combat status when a unit continues to
    engage in combat activities, such as dealing damage or receiving damage from enemies.
    It ensures that the combat timer is reset and the reference remains valid for
    further combat-related operations. The method does not take any parameters and
    performs no direct return operations, but it may affect other systems that rely
    on the combat state of the referenced unit.
  parameters: []
  returns: null
  examples:
  - title: Refreshing Combat Reference After Damage
    code: "void OnUnitDamage(Unit* attacker, Unit* target) {\n    CombatReference*\
      \ ref = target->GetCombatReference();\n    if (ref)\n        ref->Refresh();\
      \ // Extend combat timer\n}"
    language: cpp
  notes: This method is typically called internally by the core combat system when
    a unit remains in combat. It may trigger updates to related systems such as threat
    generation or combat log entries. The exact behavior depends on how the CombatReference
    is implemented within the TrinityCore framework.
  warnings: Calling Refresh() manually without understanding its side effects can
    lead to incorrect combat state management, especially if used outside of proper
    combat flow logic. Ensure that usage aligns with intended combat mechanics.
  related:
  - CombatReference::IsInCombat
  - CombatReference::SetInCombat
  - CombatReference::ClearCombat
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T15:02:31.835189'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
