api:
  class: EscortAI
  method: RemoveEscortState
  signature: void EscortAI::RemoveEscortState(int escortState)
documentation:
  brief: Removes a specific escort state flag from the EscortAI instance.
  description: The RemoveEscortState method clears a specified escort state flag from
    the internal state mask of an EscortAI object. This method is typically used to
    modify the behavior or status of an escorted NPC during a quest, allowing developers
    to control when certain escort-related actions are enabled or disabled. The escort
    state flags are usually defined as bitmasks that represent different conditions
    or phases of the escort mission. Removing a state flag effectively disables the
    associated behavior or condition until it is explicitly re-added using AddEscortState.
  parameters:
  - name: escortState
    description: The escort state flag to remove from the internal state mask. This
      should be a value representing a specific bit in the state bitmask, typically
      defined as an enum or constant within the EscortAI class.
  returns: null
  examples:
  - title: Removing the escort state for movement
    code: "void OnQuestAccept(Player* player, Quest const* quest)\n{\n    if (Creature*\
      \ npc = GetCreature())\n    {\n        npc->GetAI()->RemoveEscortState(ESCORT_STATE_MOVING);\n\
      \    }\n}"
    language: cpp
  - title: Removing multiple escort states
    code: "void OnPlayerInteraction(Player* player)\n{\n    if (Creature* npc = GetCreature())\n\
      \    {\n        EscortAI* escortAI = dynamic_cast<EscortAI*>(npc->GetAI());\n\
      \        if (escortAI)\n        {\n            escortAI->RemoveEscortState(ESCORT_STATE_FAILED);\n\
      \            escortAI->RemoveEscortState(ESCORT_STATE_COMPLETE);\n        }\n\
      \    }\n}"
    language: cpp
  notes: This method modifies the internal state of the EscortAI object directly.
    It is important to ensure that the escortState parameter corresponds to a valid
    flag defined in the EscortAI class, otherwise it may have unintended side effects
    or be ignored entirely. The method does not perform any validation on the input
    value.
  warnings: Incorrectly removing escort states can cause the NPC to behave unexpectedly
    during quest progression. For example, removing the ESCORT_STATE_MOVING flag while
    the NPC is actively moving could result in the escort stopping prematurely or
    not resuming movement as expected.
  related:
  - AddEscortState
  - HasEscortState
  - SetEscortState
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T05:20:00.980926'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
