api:
  class: RoleAssignment
  method: GetGlobalRoleStatistics
  signature: RoleStatistics RoleAssignment::GetGlobalRoleStatistics()
documentation:
  brief: Retrieves aggregated statistics for all roles across the entire game world.
  description: The GetGlobalRoleStatistics method computes and returns a comprehensive
    RoleStatistics object that aggregates role distribution, usage, and activity data
    from all players and entities within the TrinityCore server instance. This global
    view provides insights into how roles are distributed across the entire game world,
    which is particularly useful for server administrators, developers, and game analysts
    who need to understand overall role dynamics and player behavior patterns. The
    method performs a full scan of active roles and their associated metrics without
    requiring any input parameters.
  parameters: []
  returns: A RoleStatistics object containing aggregated data about all roles in the
    game world, including counts, distribution percentages, and activity metrics for
    each role type. Returns an empty or default-initialized RoleStatistics object
    if no roles are currently defined or active.
  examples:
  - title: Basic Usage Example
    code: 'RoleStatistics globalStats = roleAssignment.GetGlobalRoleStatistics();

      std::cout << "Total Roles: " << globalStats.totalRoles << std::endl;

      std::cout << "Active Players with Roles: " << globalStats.activePlayersWithRoles
      << std::endl;'
    language: cpp
  - title: Analyzing Role Distribution
    code: "RoleStatistics stats = roleAssignment.GetGlobalRoleStatistics();\nfor (const\
      \ auto& roleEntry : stats.roleDistribution)\n{\n    std::cout << \"Role: \"\
      \ << roleEntry.first << \", Count: \" << roleEntry.second << std::endl;\n}"
    language: cpp
  notes: This method may have performance implications when called frequently due
    to the need to aggregate data from all active roles in the server. It should be
    used judiciously in high-frequency update loops or performance-critical sections
    of code. The returned RoleStatistics object is a snapshot at the time of invocation
    and will not reflect real-time changes until next call.
  warnings: Calling this method during peak server load periods may cause temporary
    performance degradation. Avoid using it in time-sensitive operations such as combat
    handling or frequent player updates. The method assumes all role data is consistent
    and properly initialized; unexpected behavior may occur if internal role systems
    are corrupted or improperly configured.
  related:
  - GetPlayerRoleStatistics
  - GetRoleDistribution
  - UpdateRoleAssignment
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T19:29:34.416031'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
