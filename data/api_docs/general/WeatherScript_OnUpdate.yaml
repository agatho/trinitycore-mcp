api:
  class: WeatherScript
  method: OnUpdate
  signature: void WeatherScript::OnUpdate(Weather * weather, uint32 diff)
documentation:
  brief: Updates the weather state based on elapsed time and triggers weather events.
  description: The OnUpdate method is called periodically to update the state of a
    Weather object. It processes the time difference (diff) since the last update
    and modifies the weather conditions accordingly. This method is typically invoked
    by the core game loop to maintain dynamic weather effects in the world. The implementation
    may adjust weather intensity, transition between weather states, or trigger associated
    events such as rain effects or wind sounds.
  parameters:
  - name: weather
    description: Pointer to the Weather object that needs updating. This represents
      the current weather instance in the game world.
  - name: diff
    description: Time difference in milliseconds since the last update call. Used
      to calculate how much the weather should progress or change over time.
  returns: null
  examples:
  - title: Basic Weather Update Implementation
    code: "void MyWeatherScript::OnUpdate(Weather* weather, uint32 diff)\n{\n    if\
      \ (!weather)\n        return;\n\n    // Update weather intensity based on time\
      \ passed\n    weather->SetIntensity(weather->GetIntensity() + (diff * 0.01f));\n\
      \n    // Trigger weather events when intensity reaches threshold\n    if (weather->GetIntensity()\
      \ >= 1.0f)\n        weather->TriggerEvent();\n}"
    language: cpp
  notes: This method is called from the core game loop and should avoid heavy computations
    to prevent performance degradation. It's important to ensure that the Weather
    pointer is valid before accessing its members.
  warnings: Do not modify the weather object in a way that could cause race conditions
    or inconsistent states if multiple threads are involved. Always validate the input
    parameters before using them.
  related:
  - Weather::GetIntensity
  - Weather::SetIntensity
  - Weather::TriggerEvent
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T17:29:30.691443'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
