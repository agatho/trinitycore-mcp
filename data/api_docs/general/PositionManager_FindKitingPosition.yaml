api:
  class: PositionManager
  method: FindKitingPosition
  signature: int PositionManager::FindKitingPosition(Unit * threat, float minDistance)
documentation:
  brief: Calculates and returns an optimal kiting position for a unit based on threat
    and minimum distance requirements.
  description: The FindKitingPosition method determines the best positional location
    for a unit to maintain a safe distance from a threatening target while ensuring
    the unit remains within a specified minimum distance. This functionality is commonly
    used in AI behavior scripting for mobs or players to avoid taking damage while
    maintaining engagement. The method evaluates the current threat situation and
    calculates a suitable position that allows for kiting mechanics, which are essential
    in combat scenarios where units need to move away from danger without losing line
    of sight or positional advantage. It considers factors such as unit movement capabilities,
    threat level, and spatial constraints to determine an effective kiting location.
  parameters:
  - name: threat
    description: Pointer to the Unit object that represents the current threat target.
      This unit is used to calculate positioning relative to its location and movement
      patterns.
  - name: minDistance
    description: Float value representing the minimum safe distance that should be
      maintained from the threat target. This parameter defines how far away the kiting
      position must be from the threat.
  returns: Returns an integer value indicating the success or failure of the kiting
    position calculation. A positive return value typically indicates a valid calculated
    position, while a negative value may indicate failure to find a suitable kiting
    location based on current conditions.
  examples:
  - title: Basic usage in AI behavior
    code: "void ExampleAI::UpdateAI(uint32 diff)\n{\n    if (Unit* threat = me->getVictim())\n\
      \    {\n        int kitingPos = PositionManager::FindKitingPosition(threat,\
      \ 5.0f);\n        if (kitingPos > 0)\n        {\n            // Move to calculated\
      \ kiting position\n            me->GetMotionMaster()->MovePoint(kitingPos, kitingPosition);\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method is primarily used in AI-driven unit positioning and may involve
    complex spatial calculations. The implementation likely considers various factors
    such as terrain, obstacle avoidance, and movement speed to determine the most
    effective kiting position. Performance impact should be minimal unless called
    frequently during combat updates.
  warnings: Ensure that the threat parameter is not null before calling this method,
    as passing a null pointer could lead to undefined behavior or crashes. Also, verify
    that minDistance is a positive value to avoid incorrect positioning calculations.
  related:
  - GetKitingPosition
  - CalculateSafeDistance
  - FindNearestValidPosition
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T00:34:33.425665'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
