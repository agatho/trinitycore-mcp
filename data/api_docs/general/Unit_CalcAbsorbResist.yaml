api:
  class: Unit
  method: CalcAbsorbResist
  signature: void Unit::CalcAbsorbResist(DamageInfo & damageInfo, Spell * spell)
documentation:
  brief: Calculates absorb and resist values for damage information in the context
    of spell effects.
  description: This method processes the absorption and resistance calculations for
    a given damage info structure, taking into account spell-specific mechanics and
    applying appropriate modifiers. It is used primarily during damage calculation
    phases to determine how much damage will be absorbed or resisted by target units.
    The method handles both physical and magical damage types, considering various
    factors such as spell school resistances, absorb effects, and the target's resistance
    values.
  parameters:
  - name: damageInfo
    description: Reference to a DamageInfo structure containing details about the
      damage being calculated, including damage type, amount, and other relevant parameters.
  - name: spell
    description: Pointer to a Spell object that defines the specific spell being applied,
      which affects how absorption and resistance are calculated. This includes information
      about the spell's school, effects, and modifiers.
  returns: null
  examples:
  - title: Basic usage example
    code: 'Unit* target = player->GetVictim();

      DamageInfo damageInfo;

      Spell* spell = new Spell(player, 12345);


      // Calculate absorb and resist values

      target->CalcAbsorbResist(damageInfo, spell);'
    language: cpp
  notes: This method is typically invoked during the damage calculation phase of combat,
    where it modifies the damage values based on target resistance and absorption
    abilities. It should be called after all damage modifiers have been applied but
    before final damage is calculated.
  warnings: This method can affect the outcome of combat calculations significantly.
    Incorrect handling of damageInfo or spell parameters may lead to inaccurate damage
    results or even crashes if not properly initialized.
  related:
  - Unit::CalcDamage
  - Unit::CalcAbsorb
  - Unit::CalcResist
  - Unit::GetResistance
  - Unit::GetAbsorb
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T21:24:45.518211'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
