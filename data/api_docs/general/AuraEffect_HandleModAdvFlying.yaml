api:
  class: AuraEffect
  method: HandleModAdvFlying
  signature: void AuraEffect::HandleModAdvFlying(const AuraApplication * aurApp, uint8
    mode, bool apply) const
documentation:
  brief: Modifies advanced flying capabilities for an aura application based on the
    specified mode and apply state.
  description: The HandleModAdvFlying method is responsible for adjusting a player's
    advanced flying mechanics when an aura effect is applied or removed. This method
    interacts with the AuraApplication object to determine how the flying state should
    be modified, using a mode parameter to define the specific behavior and an apply
    flag to indicate whether the effect is being applied (true) or removed (false).
    The implementation likely modifies movement flags, flight speed, or other advanced
    flying attributes within the game's physics and movement system. This method is
    typically invoked during aura application events and plays a critical role in
    ensuring that flying abilities behave correctly when affected by various buffs,
    debuffs, or enchantments.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura being
      applied or removed. This contains information about which aura is affecting
      the target and the context of the application.
  - name: mode
    description: Integer value indicating the specific mode of flying modification
      to apply. The exact values are determined by internal TrinityCore constants,
      typically representing different flying states such as normal flight, hover,
      or restricted movement modes.
  - name: apply
    description: Boolean flag indicating whether the effect is being applied (true)
      or removed (false). When true, the method enables the specified flying behavior;
      when false, it restores default flying mechanics.
  returns: null
  examples:
  - title: Applying Advanced Flying Aura
    code: "void ApplyAdvancedFlyingAura(Unit* target, uint8 mode)\n{\n    AuraApplication*\
      \ aurApp = new AuraApplication(target, target, SpellInfo);\n    auraEffect->HandleModAdvFlying(aurApp,\
      \ mode, true);\n}"
    language: cpp
  - title: Removing Advanced Flying Effect
    code: "void RemoveAdvancedFlyingAura(Unit* target, uint8 mode)\n{\n    AuraApplication*\
      \ aurApp = new AuraApplication(target, target, SpellInfo);\n    auraEffect->HandleModAdvFlying(aurApp,\
      \ mode, false);\n}"
    language: cpp
  notes: This method is part of the core aura handling system and directly affects
    player movement mechanics. It should only be called from within the proper aura
    application context to ensure correct behavior. The mode parameter must correspond
    to valid internal flying states defined in TrinityCore's movement system.
  warnings: Improper use of this method can lead to incorrect flying behavior or client-server
    desynchronization. Ensure that the AuraApplication object is properly initialized
    before calling this method, and verify that the mode value is within expected
    ranges to prevent undefined behavior.
  related:
  - AuraEffect::HandleApply
  - AuraEffect::HandleRemove
  - AuraApplication::GetTarget
  - Unit::SetCanFly
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T12:46:03.650408'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
