api:
  class: GroupCombatTrigger
  method: CountMembersOnTarget
  signature: uint32 GroupCombatTrigger::CountMembersOnTarget(Group * group, Unit *
    target) const
documentation:
  brief: Counts the number of group members currently targeting the specified unit.
  description: The CountMembersOnTarget method iterates through all members of the
    provided group and determines how many of them have the specified target set as
    their current target. This functionality is commonly used in group-based AI behaviors,
    such as determining when a group should engage or disengage from combat based
    on member targeting patterns. The method performs a direct comparison of target
    pointers and does not account for indirect targeting or threat mechanics beyond
    the immediate target reference. It assumes that the group and target parameters
    are valid and non-null.
  parameters:
  - name: group
    description: Pointer to the Group object containing members whose targeting behavior
      is being evaluated. Must be a valid group instance.
  - name: target
    description: Pointer to the Unit object that is being checked as the target of
      group members. Must be a valid unit instance.
  returns: Returns a uint32 value representing the count of group members who currently
    have the specified target set as their target. Returns 0 if no members are targeting
    the target or if either parameter is invalid.
  examples:
  - title: Basic Usage in Combat AI
    code: "void MyCombatAI::CheckTargetingStatus(Group* group, Unit* target)\n{\n\
      \    uint32 count = GroupCombatTrigger::CountMembersOnTarget(group, target);\n\
      \    if (count >= 3)\n    {\n        // Execute group-wide action when 3 or\
      \ more members are targeting the same unit\n        DoGroupAction();\n    }\n\
      }"
    language: cpp
  - title: Using CountMembersOnTarget for Group Coordination
    code: "bool GroupCombatTrigger::IsGroupFocusedOnTarget(Group* group, Unit* target)\n\
      {\n    uint32 totalMembers = group->GetMembersCount();\n    uint32 targetedMembers\
      \ = CountMembersOnTarget(group, target);\n    \n    // If more than half of\
      \ the group is targeting the unit\n    return (targetedMembers > totalMembers\
      \ / 2);\n}"
    language: cpp
  notes: This method performs a linear scan through all group members and compares
    target pointers directly. It does not consider threat levels, aggro mechanics,
    or indirect targeting relationships. The method is intended for use in AI logic
    where immediate targeting state is required rather than complex combat analysis.
  warnings: Ensure that both the group and target parameters are valid before calling
    this method to avoid undefined behavior. This method may not reflect dynamic targeting
    changes that occur during combat ticks, as it checks only the current target reference
    at the time of invocation.
  related:
  - Group::GetMembersCount
  - Unit::GetTarget
  - Group::GetMember
  - Group::IsLeader
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T04:03:40.407835'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
