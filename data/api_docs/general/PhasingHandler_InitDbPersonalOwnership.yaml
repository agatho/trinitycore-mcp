api:
  class: PhasingHandler
  method: InitDbPersonalOwnership
  signature: void PhasingHandler::InitDbPersonalOwnership(PhaseShift & phaseShift,
    const ObjectGuid & personalGuid)
documentation:
  brief: Initializes database personal ownership for a phase shift using the specified
    personal GUID.
  description: The InitDbPersonalOwnership method sets up the database-related personal
    ownership information for a given PhaseShift object. It associates the provided
    personal GUID with the phase shift, ensuring that the player's phased visibility
    settings are properly persisted in the database. This method is typically invoked
    during player login or when phase ownership needs to be synchronized with the
    database state. The operation modifies the internal state of the PhaseShift object
    to reflect the database-backed ownership, which affects how the player's visibility
    is handled across different phases and zones.
  parameters:
  - name: phaseShift
    description: Reference to the PhaseShift object that will have its personal ownership
      initialized. This object manages the phase-related visibility settings for a
      player.
  - name: personalGuid
    description: The ObjectGuid representing the unique identifier of the player or
      entity whose ownership is being initialized in the database. This GUID is used
      to associate the phase shift with the correct database record.
  returns: null
  examples:
  - title: Initialize personal phase ownership for a player
    code: 'PhaseShift shift;

      ObjectGuid playerGuid = ObjectGuid::Create<HighGuid::Player>(12345);

      PhasingHandler::InitDbPersonalOwnership(shift, playerGuid);'
    language: cpp
  notes: This method is part of the phasing system in TrinityCore and should be called
    after a player has been authenticated but before their session is fully established.
    It ensures that any phase-related data is correctly loaded from or saved to the
    database, maintaining consistency across server restarts.
  warnings: Improper use of this method without proper initialization of the PhaseShift
    object may lead to undefined behavior or incorrect visibility handling for players
    in phased environments. Ensure the personalGuid corresponds to an actual existing
    player or entity before calling.
  related:
  - GetPhaseShift
  - UpdateDbPersonalOwnership
  - LoadPhaseData
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T01:42:20.769794'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
