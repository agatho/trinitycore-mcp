api:
  class: GroupCoordination
  method: HandleThreatRedirection
  signature: void GroupCoordination::HandleThreatRedirection(uint32 fromMember, uint32
    toMember)
documentation:
  brief: Redirects threat from one group member to another member
  description: The HandleThreatRedirection method is responsible for transferring
    threat generated by a creature or boss from one group member to another. This
    functionality is commonly used in raid encounters where the tank needs to shift
    aggro to a different player, or when managing threat distribution among group
    members to prevent a single player from pulling too much attention. The method
    operates within the context of group coordination and threat management systems
    in TrinityCore's AI framework. It typically involves updating internal threat
    tables and may trigger visual or auditory feedback to players involved in the
    redirection.
  parameters:
  - name: fromMember
    description: The GUID of the group member whose threat will be redirected. This
      represents the source of the threat that will be transferred.
  - name: toMember
    description: The GUID of the group member who will receive the redirected threat.
      This represents the target that will take over the threat from the source.
  returns: null
  examples:
  - title: Basic threat redirection between two group members
    code: 'GroupCoordination* gc = player->GetGroup()->GetGroupCoordination();

      uint32 tankGuid = player->GetGUID().GetCounter();

      uint32 healerGuid = targetPlayer->GetGUID().GetCounter();

      gc->HandleThreatRedirection(tankGuid, healerGuid);'
    language: cpp
  - title: Using threat redirection in a raid encounter scenario
    code: "if (boss->GetHealthPct() < 30)\n{\n    // Redirect threat from main tank\
      \ to off-tank\n    GroupCoordination* gc = player->GetGroup()->GetGroupCoordination();\n\
      \    uint32 mainTankGuid = boss->GetThreatManager().GetHostileReference(0)->GetTarget()->GetGUID().GetCounter();\n\
      \    uint32 offTankGuid = player->GetGUID().GetCounter();\n    gc->HandleThreatRedirection(mainTankGuid,\
      \ offTankGuid);\n}"
    language: cpp
  notes: This method is typically invoked during group coordination events and may
    require the calling player to be in a raid group with proper permissions. The
    implementation likely updates internal threat tracking systems and may send network
    messages to clients to synchronize the change in threat distribution.
  warnings: Improper use of this method can lead to unexpected behavior in combat
    encounters, potentially causing players to lose aggro or experience incorrect
    threat calculations. Ensure that both fromMember and toMember are valid group
    members before calling this method.
  related:
  - GetThreatRedirection
  - SetThreatRedirection
  - UpdateGroupThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T13:21:15.027837'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
