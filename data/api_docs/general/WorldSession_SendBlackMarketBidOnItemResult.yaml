api:
  class: WorldSession
  method: SendBlackMarketBidOnItemResult
  signature: void WorldSession::SendBlackMarketBidOnItemResult(int32 result, int32
    marketId, WorldPackets::Item::ItemInstance & item)
documentation:
  brief: Sends a black market bid result message to the client indicating the outcome
    of a bid on an item.
  description: The SendBlackMarketBidOnItemResult method is used by the WorldSession
    class to communicate the results of a player's bid placed on an item within the
    Black Market auction house system. This method sends a packet to the connected
    client that informs them whether their bid was successful, failed due to insufficient
    funds, or if another bidder has outbid them. The method takes into account the
    market ID of the auction and the specific item being bid upon, along with a result
    code that defines the outcome of the bidding process. This functionality is integral
    to the Black Market's gameplay mechanics in World of Warcraft, allowing players
    to participate in competitive bidding for rare and unique items.
  parameters:
  - name: result
    description: 'An integer representing the outcome of the bid. Possible values
      include: 0 (success), 1 (insufficient funds), 2 (already highest bidder), 3
      (bid too low), 4 (item not found), and other game-specific result codes.'
  - name: marketId
    description: The unique identifier of the Black Market auction instance. This
      ID corresponds to a specific item listing in the Black Market and is used to
      track which bid is being responded to.
  - name: item
    description: A reference to the WorldPackets::Item::ItemInstance structure that
      contains detailed information about the item for which the bid was placed. This
      includes item properties, stats, and identifiers needed by the client to display
      the correct item information.
  returns: null
  examples:
  - title: Sending a successful bid result
    code: 'WorldSession* session = player->GetSession();

      WorldPackets::Item::ItemInstance item;

      // ... populate item data ...

      session->SendBlackMarketBidOnItemResult(0, 12345, item);'
    language: cpp
  - title: Sending a bid failure due to insufficient funds
    code: 'WorldSession* session = player->GetSession();

      WorldPackets::Item::ItemInstance item;

      // ... populate item data ...

      session->SendBlackMarketBidOnItemResult(1, 12345, item);'
    language: cpp
  notes: This method is typically called from within the Black Market auction handling
    logic in TrinityCore. It directly interacts with the client's packet system to
    send real-time feedback about bid outcomes. The method assumes that the provided
    item data is valid and properly populated before being sent.
  warnings: Ensure that the result parameter accurately reflects the actual outcome
    of the bid, as incorrect values may confuse players or cause client-side errors.
    Also, verify that the marketId corresponds to an existing auction in the Black
    Market system to prevent undefined behavior.
  related:
  - SendBlackMarketBidOnItem
  - SendBlackMarketAuctionHouse
  - SendBlackMarketBidResult
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T19:41:59.346019'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
