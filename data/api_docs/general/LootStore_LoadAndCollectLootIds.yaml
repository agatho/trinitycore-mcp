api:
  class: LootStore
  method: LoadAndCollectLootIds
  signature: uint32 LootStore::LoadAndCollectLootIds(LootIdSet & lootIdSet)
documentation:
  brief: Loads loot data from database and collects all unique loot identifiers into
    the provided set.
  description: The LoadAndCollectLootIds method initializes the LootStore by loading
    all relevant loot entries from the database. It populates an internal data structure
    with loot information and simultaneously gathers all unique loot identifiers (such
    as item IDs or loot templates) into the provided LootIdSet container. This method
    is typically called during server startup or when reloading loot data dynamically.
    The method ensures that no duplicate loot IDs are added to the set, maintaining
    data integrity. It returns the total count of unique loot IDs successfully loaded
    and collected.
  parameters: []
  returns: Returns a uint32 value representing the total number of unique loot identifiers
    that were successfully loaded and added to the provided LootIdSet.
  examples:
  - title: Basic Usage Example
    code: 'LootIdSet lootIds;

      uint32 count = lootStore.LoadAndCollectLootIds(lootIds);

      printf("Loaded %u unique loot IDs\n", count);'
    language: cpp
  notes: This method should only be called after the database connection is established
    and the LootStore has been properly initialized. It is not thread-safe and should
    typically be invoked during server initialization or in a controlled single-threaded
    context.
  warnings: Calling this method multiple times without clearing the LootIdSet may
    result in duplicate entries if not handled correctly. Ensure that the LootIdSet
    is cleared before calling this method if re-loading data is intended.
  related:
  - LoadLootTemplates
  - GetLootTemplate
  - Clear
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T03:31:53.959971'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
