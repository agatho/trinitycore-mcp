api:
  class: WorldSession
  method: HandleLfgTeleportOpcode
  signature: void WorldSession::HandleLfgTeleportOpcode(WorldPackets::LFG::DFTeleport
    & dfTeleport)
documentation:
  brief: Handles the LFG teleport opcode to process player requests for teleporting
    to or from LFG dungeons.
  description: The HandleLfgTeleportOpcode method processes incoming LFG (Looking
    For Group) teleport requests from players. This function is invoked when a player
    attempts to use the LFG system's teleport functionality, typically to either enter
    a dungeon or exit one. It validates the request and performs the necessary actions
    to move the player to the appropriate location based on their current LFG status.
    The method integrates with the larger LFG framework in TrinityCore to ensure proper
    coordination of player movement and dungeon entry mechanics.
  parameters:
  - name: dfTeleport
    description: A reference to a WorldPackets::LFG::DFTeleport packet containing
      the teleport request data including target location and teleport type.
  returns: null
  examples:
  - title: Basic LFG Teleport Request Handling
    code: "void WorldSession::HandleLfgTeleportOpcode(WorldPackets::LFG::DFTeleport&\
      \ dfTeleport)\n{\n    // Validate player is in a valid LFG state\n    if (!GetPlayer()\
      \ || !GetPlayer()->GetGroup())\n        return;\n\n    // Process teleport request\n\
      \    if (dfTeleport.IsTeleportToDungeon)\n        GetPlayer()->TeleportTo(dfTeleport.MapId,\
      \ dfTeleport.X, dfTeleport.Y, dfTeleport.Z);\n    else\n        GetPlayer()->TeleportTo(dfTeleport.ReturnMapId,\
      \ dfTeleport.ReturnX, dfTeleport.ReturnY, dfTeleport.ReturnZ);\n}"
    language: cpp
  notes: This method is part of the LFG system and requires proper group membership
    and dungeon eligibility checks. The method may be called from multiple threads
    depending on server configuration, so thread safety considerations should be taken
    into account when implementing custom logic.
  warnings: Improper handling of this opcode can result in players being teleported
    to invalid locations or stuck in teleportation states. Always validate the target
    location and ensure player group status before processing.
  related:
  - HandleLfgJoinOpcode
  - HandleLfgLeaveOpcode
  - HandleLfgProposeOpcode
  - HandleLfgAcceptOpcode
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:45:12.647648'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
