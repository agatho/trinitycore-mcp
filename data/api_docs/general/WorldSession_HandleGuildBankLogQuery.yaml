api:
  class: WorldSession
  method: HandleGuildBankLogQuery
  signature: void WorldSession::HandleGuildBankLogQuery(WorldPackets::Guild::GuildBankLogQuery
    & packet)
documentation:
  brief: Processes a guild bank log query request from a client.
  description: The HandleGuildBankLogQuery method handles incoming requests from players
    to retrieve the transaction history of their guild's bank. This method is invoked
    when a player opens the guild bank interface and requests to view the log of items
    deposited, withdrawn, or moved within the guild bank. The method validates the
    player's permissions and guild membership before fetching and sending back the
    relevant log entries. It ensures that only authorized guild members can access
    this sensitive information.
  parameters: []
  returns: null
  examples:
  - title: Basic Guild Bank Log Query
    code: "void WorldSession::HandleGuildBankLogQuery(WorldPackets::Guild::GuildBankLogQuery&\
      \ packet)\n{\n    if (!GetPlayer() || !GetPlayer()->GetGuild())\n        return;\n\
      \n    // Process the query and send log entries\n    SendGuildBankLog();\n}"
    language: cpp
  notes: This method relies on proper guild membership validation and permission checks.
    The actual log data is fetched from the database using cached or real-time queries
    depending on server configuration. Performance may be impacted by large guild
    bank transaction histories.
  warnings: Improper handling of guild permissions can lead to unauthorized access
    to guild bank logs. Ensure that all player and guild state validations are performed
    before processing this request.
  related:
  - SendGuildBankLog
  - HandleGuildBankQuery
  - GetPlayer
  - GetGuild
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T22:04:23.824620'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
