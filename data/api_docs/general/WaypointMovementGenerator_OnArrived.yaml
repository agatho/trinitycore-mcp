api:
  class: WaypointMovementGenerator
  method: OnArrived
  signature: void WaypointMovementGenerator::OnArrived(Creature * param0)
documentation:
  brief: Handles the logic executed when a creature arrives at a waypoint in its movement
    path.
  description: The OnArrived method is invoked by the WaypointMovementGenerator when
    a Creature successfully reaches a defined waypoint during path following. This
    method typically manages actions such as triggering events, updating the creature's
    state, or preparing for the next segment of the movement sequence. It serves as
    a callback mechanism to allow custom behavior upon waypoint arrival, which is
    essential for creating dynamic and interactive NPC movement patterns in World
    of Warcraft environments.
  parameters:
  - name: param0
    description: Pointer to the Creature instance that has arrived at the waypoint.
      This parameter provides access to the creature's properties and methods for
      further manipulation or state updates.
  returns: null
  examples:
  - title: Basic Waypoint Arrival Handling
    code: "class MyWaypointGenerator : public WaypointMovementGenerator\n{\npublic:\n\
      \    void OnArrived(Creature* creature) override\n    {\n        // Play an\
      \ animation or sound upon arrival\n        creature->PlayEmote(EMOTE_ONESHOT_TALK);\n\
      \        // Log the event\n        sLog->outString(\"Creature %u arrived at\
      \ waypoint.\", creature->GetGUID().GetCounter());\n    }\n};"
    language: cpp
  - title: Advanced Waypoint Arrival with Conditional Logic
    code: "class AdvancedWaypointGenerator : public WaypointMovementGenerator\n{\n\
      public:\n    void OnArrived(Creature* creature) override\n    {\n        if\
      \ (creature->GetEntry() == 12345)\n        {\n            // Trigger quest event\
      \ for specific NPC\n            creature->AI()->Talk(0);\n        }\n      \
      \  else\n        {\n            // Move to next waypoint or stop\n         \
      \   creature->GetMotionMaster()->MoveIdle();\n        }\n    }\n};"
    language: cpp
  notes: This method is part of the movement generator system and is automatically
    called by the game engine during path execution. Developers should ensure that
    any logic within OnArrived does not block or significantly delay the main thread,
    as this can affect overall performance. The method may be invoked multiple times
    depending on how many waypoints are defined in the creature's movement path.
  warnings: Avoid performing heavy computations or database operations inside OnArrived,
    as it is called frequently during movement. Also, be cautious when modifying the
    creature's movement state within this function to prevent unexpected behavior
    or infinite loops.
  related:
  - WaypointMovementGenerator::Initialize
  - WaypointMovementGenerator::Update
  - Creature::GetMotionMaster
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T10:46:00.618875'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
