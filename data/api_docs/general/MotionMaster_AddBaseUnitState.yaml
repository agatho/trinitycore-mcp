api:
  class: MotionMaster
  method: AddBaseUnitState
  signature: void MotionMaster::AddBaseUnitState(const MovementGenerator * movement)
documentation:
  brief: Adds a movement generator to the motion master's base unit state.
  description: The AddBaseUnitState method integrates a MovementGenerator into the
    MotionMaster's internal management system, allowing it to control the unit's movement
    behavior. This method is typically used during initialization or when changing
    the unit's movement state. The MotionMaster maintains a list of active movement
    generators, and this method adds a new one to that list. It ensures that the movement
    generator is properly registered and can be executed by the motion system. This
    is an essential part of the AI and movement system in TrinityCore for handling
    unit behavior.
  parameters:
  - name: movement
    description: Pointer to the MovementGenerator object to be added to the base unit
      state. Must not be null.
  returns: null
  examples:
  - title: Adding a Random Movement Generator
    code: 'MovementGenerator* randomMove = new RandomMovementGenerator();

      MotionMaster* motionMaster = unit->GetMotionMaster();

      motionMaster->AddBaseUnitState(randomMove);'
    language: cpp
  - title: Adding a Waypoint Movement Generator
    code: 'WaypointMovementGenerator* waypointMove = new WaypointMovementGenerator(path);

      MotionMaster* motionMaster = unit->GetMotionMaster();

      motionMaster->AddBaseUnitState(waypointMove);'
    language: cpp
  notes: This method does not perform any validation on the movement generator itself,
    so it's important to ensure that the MovementGenerator is properly initialized
    before calling this method. The MotionMaster will take ownership of the movement
    generator and manage its lifecycle.
  warnings: Calling this method with a null pointer will likely cause undefined behavior
    or crashes. Always validate that the MovementGenerator pointer is valid before
    adding it to the MotionMaster.
  related:
  - RemoveMovementGenerator
  - Clear
  - UpdateMotion
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T10:29:37.409468'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
