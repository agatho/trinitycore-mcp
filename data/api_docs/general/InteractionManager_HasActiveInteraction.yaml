api:
  class: InteractionManager
  method: HasActiveInteraction
  signature: bool InteractionManager::HasActiveInteraction(Player * bot) const
documentation:
  brief: Checks whether a player has an active interaction with an NPC or object.
  description: The HasActiveInteraction method determines if a given player is currently
    engaged in an active interaction, such as talking to an NPC, looting an object,
    or performing another type of interactive action. This check is typically used
    by AI systems and quest logic to prevent actions while the player is already occupied.
    The method evaluates the player's current state and returns true if any active
    interaction exists, false otherwise. It does not modify the player's state but
    rather inspects it for ongoing interactions.
  parameters:
  - name: bot
    description: Pointer to the Player object whose active interaction status is being
      checked. Must be a valid player instance.
  returns: Returns true if the specified player has an active interaction; otherwise
    returns false. An active interaction includes but is not limited to dialogue,
    looting, crafting, or other interactive game events.
  examples:
  - title: Basic usage in AI logic
    code: "if (interactionManager.HasActiveInteraction(player)) {\n    // Player is\
      \ busy, skip further actions\n    return;\n}\n// Proceed with normal bot behavior"
    language: cpp
  - title: Using within a quest handler
    code: "void QuestHandler::OnPlayerInteract(Player* player) {\n    if (!interactionManager.HasActiveInteraction(player))\
      \ {\n        // Safe to initiate new interaction\n        player->TalkToNPC(npcEntry);\n\
      \    } else {\n        // Prevent interrupting ongoing interactions\n      \
      \  player->SendSystemMessage(\"You are already busy.\");\n    }\n}"
    language: cpp
  notes: This method relies on internal state tracking of the player's interaction
    status. It may not detect all types of interactions depending on how they are
    implemented in the core engine. The check is typically fast and suitable for frequent
    polling in AI routines.
  warnings: Ensure that the Player pointer passed to this method is valid and not
    null, as dereferencing an invalid pointer will cause undefined behavior. Also
    note that this check does not account for interactions initiated by other players
    or NPCs outside of direct player control.
  related:
  - GetActiveInteractionType
  - ClearActiveInteraction
  - SetActiveInteraction
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T13:25:31.959140'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
