api:
  class: Map
  method: GetHeight
  signature: float Map::GetHeight(const PhaseShift & phaseShift, const Position &
    pos, bool vmap, float maxSearchDist)
documentation:
  brief: Retrieves the height value at a specific position within the map, considering
    phase and vmap settings.
  description: The GetHeight method calculates and returns the height (Z-coordinate)
    of a given position on the map, taking into account the current phase shift and
    whether vmap (virtual map) data should be considered. This method is essential
    for determining terrain elevation in World of Warcraft's TrinityCore environment,
    particularly when dealing with complex terrain or object interactions. It allows
    for precise height calculations based on provided coordinates and phase information,
    making it crucial for navigation, collision detection, and game mechanics involving
    height-based interactions.
  parameters:
  - name: phaseShift
    description: The phase shift object that defines the current phase context for
      the position calculation. This determines which phase of the map the height
      is being calculated for.
  - name: pos
    description: The Position object containing X, Y, and Z coordinates where the
      height is to be determined. The Z coordinate may be ignored depending on vmap
      settings.
  - name: vmap
    description: A boolean flag indicating whether virtual map data should be considered
      during height calculation. If true, the method will attempt to use vmap data
      for more accurate height determination.
  - name: maxSearchDist
    description: The maximum distance to search for height values when calculating
      terrain elevation. This parameter limits the scope of the search to prevent
      unnecessary computation.
  returns: Returns a float value representing the calculated height at the specified
    position. The returned value may be NaN or zero if no valid height could be determined
    based on the provided parameters, particularly when vmap data is not available
    or exceeds maximum search distance.
  examples:
  - title: Basic Height Calculation
    code: float height = map->GetHeight(phaseShift, position, true, 50.0f);
    language: cpp
  - title: Advanced Height Calculation with Phase
    code: float height = map->GetHeight(phaseShift, Position(1234.5f, 6789.0f, 0.0f),
      false, 100.0f);
    language: cpp
  notes: This method is typically used in conjunction with other height-related functions
    to determine accurate terrain elevation for character movement or object placement.
    Performance considerations include the use of maxSearchDist parameter to limit
    computation time, especially when dealing with large maps or complex terrain.
  warnings: The method may return invalid values (NaN) if the position coordinates
    are not valid or if vmap data is unavailable. Care should be taken when using
    this method in scenarios where height calculations are critical for gameplay mechanics
    such as movement or collision detection.
  related:
  - GetHeight
  - GetTerrain
  - GetMap
metadata:
  confidence: 0.95
  generated_at: '2025-10-31T04:18:23.973791'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
