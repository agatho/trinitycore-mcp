api:
  class: SpellPctModByLabel
  method: WriteCreate
  signature: void SpellPctModByLabel::WriteCreate(ByteBuffer & data, const Player
    * owner, const Player * receiver) const
documentation:
  brief: Writes spell percentage modifier data by label to a network packet buffer
    for transmission to a player.
  description: The WriteCreate method serializes the SpellPctModByLabel object's data
    into a ByteBuffer, which is typically used for sending updates about spell modifiers
    to players in the game world. This method prepares the necessary network data
    to inform clients about percentage-based spell modifications applied through labels,
    such as those from buffs, debuffs, or aura effects. It ensures that only relevant
    modifier information is transmitted to the specified receiver player, respecting
    ownership and visibility rules within the TrinityCore framework. The serialized
    data includes label identifiers, modifier values, and potentially related spell
    information for client-side processing.
  parameters:
  - name: data
    description: Reference to a ByteBuffer where the serialized spell percentage modifier
      data will be written. This buffer is typically used for constructing network
      packets sent to players.
  - name: owner
    description: Pointer to the Player object who owns or controls this spell modifier.
      Used to determine visibility and ownership context for the data being written.
  - name: receiver
    description: Pointer to the Player object who will receive this serialized data.
      Controls access and ensures proper transmission to the intended recipient.
  returns: null
  examples:
  - title: Basic usage in spell update context
    code: 'SpellPctModByLabel modifier;

      ByteBuffer packetData;

      Player* ownerPlayer = ...; // Get owner player

      Player* receiverPlayer = ...; // Get receiver player

      modifier.WriteCreate(packetData, ownerPlayer, receiverPlayer);'
    language: cpp
  notes: This method is typically called during spell update or synchronization events
    in TrinityCore. The ByteBuffer may be further processed by the network layer before
    being sent to the client. It's important that both owner and receiver players
    are valid and properly initialized when calling this method.
  warnings: Calling this method with null pointers for owner or receiver can lead
    to undefined behavior or crashes. Ensure all player objects are valid before invoking
    WriteCreate.
  related:
  - SpellPctModByLabel::ReadCreate
  - SpellPctModByLabel::ApplyModifier
  - SpellPctModByLabel::GetModifierValue
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T18:48:24.358530'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
