api:
  class: CombatStrategy
  method: SelectTarget
  signature: ::Unit * CombatStrategy::SelectTarget(BotAI * ai) const
documentation:
  brief: Selects and returns the most appropriate combat target for a bot based on
    AI strategy.
  description: The SelectTarget method is responsible for identifying and returning
    the optimal Unit to engage in combat for a given BotAI instance. It evaluates
    available targets within the bot's awareness range, considering factors such as
    threat level, distance, priority, and combat strategy rules defined by the AI.
    This method is typically invoked during combat decision-making processes to determine
    which enemy unit should be attacked next. The selection process may involve checking
    for aggro, target priority lists, and other strategic considerations relevant
    to the specific combat behavior of the bot.
  parameters: []
  returns: A pointer to the selected ::Unit that represents the most suitable combat
    target, or nullptr if no valid target is found within the AI's scope.
  examples:
  - title: Basic Target Selection
    code: "BotAI* ai = ...;\nUnit* target = combatStrategy.SelectTarget(ai);\nif (target)\n\
      {\n    // Proceed with attack logic\n    ai->Attack(target);\n}"
    language: cpp
  - title: Target Selection with Null Check
    code: "BotAI* ai = ...;\nUnit* target = combatStrategy.SelectTarget(ai);\nif (target\
      \ && target->IsAlive())\n{\n    // Ensure target is valid and alive before engaging\n\
      \    ai->SetCurrentTarget(target);\n    ai->Attack(target);\n}\nelse\n{\n  \
      \  // No valid target found, consider alternative actions\n    ai->DoNothing();\n\
      }"
    language: cpp
  notes: This method is part of the core combat decision-making framework in TrinityCore's
    AI system. It relies on the BotAI instance to provide contextual information such
    as current threat levels, available targets, and strategic priorities. The implementation
    may vary depending on the specific CombatStrategy subclass being used (e.g., melee,
    ranged, spellcasting strategies).
  warnings: The method returns nullptr when no suitable target is found, so callers
    must always check for null before dereferencing the returned pointer. Additionally,
    the returned Unit pointer may become invalid if the target dies or leaves the
    bot's detection range during combat.
  related:
  - CombatStrategy::GetNextTarget
  - BotAI::GetCurrentTarget
  - BotAI::SetCurrentTarget
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T16:56:51.334503'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
