api:
  class: CorpsePreventionManager
  method: OnBotBeforeDeath
  signature: void CorpsePreventionManager::OnBotBeforeDeath(Player * bot)
documentation:
  brief: Handles pre-death logic for bot players to prevent corpse creation
  description: The OnBotBeforeDeath method is invoked when a bot player is about to
    die, allowing the CorpsePreventionManager to execute necessary cleanup or prevention
    routines before the death event completes. This method typically ensures that
    the bot's corpse is not created in the world, which can be important for maintaining
    game state consistency, especially in automated bot scenarios where corpse placement
    might interfere with AI behavior or quest progression. The method does not directly
    control the death itself but prepares the environment to prevent unwanted corpse
    generation.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that is about to
      die. This parameter must be a valid player instance; passing null may result
      in undefined behavior or crashes.
  returns: null
  examples:
  - title: Basic usage in a custom AI module
    code: "void CustomAI::OnPlayerDeath(Player* player) {\n    if (player && player->IsBot())\
      \ {\n        sCorpsePreventionManager->OnBotBeforeDeath(player);\n        //\
      \ Proceed with death logic\n    }\n}"
    language: cpp
  notes: This method is typically called from within the core game loop or during
    combat event handling. It should be used carefully to avoid interfering with normal
    player death sequences. The implementation assumes that the provided Player object
    is valid and represents a bot.
  warnings: Do not call this method directly on non-bot players unless you have verified
    that corpse prevention logic is appropriate for them. Passing invalid or null
    player pointers may lead to crashes or unexpected behavior.
  related:
  - OnBotDeath
  - PreventCorpseCreation
  - IsCorpsePreventionActive
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T09:07:41.813439'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
