api:
  class: BattlegroundScript
  method: OnPlayerLeft
  signature: void BattlegroundScript::OnPlayerLeft(int * player)
documentation:
  brief: Handles the event when a player leaves a battleground.
  description: The OnPlayerLeft method is a virtual callback function in the BattlegroundScript
    class that is invoked whenever a player exits or disconnects from a battleground.
    This method allows custom scripts to perform cleanup operations, update player
    statistics, or modify game state upon a player's departure. It is typically used
    in battleground scripting to maintain synchronization between the game world and
    player data during active matches.
  parameters:
  - name: player
    description: Pointer to an integer representing the player's unique identifier
      (GUID) within the battleground context.
  returns: void
  examples:
  - title: Basic Implementation Example
    code: "class MyBattlegroundScript : public BattlegroundScript\n{\npublic:\n  \
      \  void OnPlayerLeft(int* player) override\n    {\n        // Log player leaving\
      \ the battleground\n        sLog->outString(\"Player with GUID %d has left the\
      \ battleground.\", *player);\n        // Perform any necessary cleanup here\n\
      \    }\n};"
    language: cpp
  - title: Advanced Usage with Player Data Update
    code: "class MyBattlegroundScript : public BattlegroundScript\n{\npublic:\n  \
      \  void OnPlayerLeft(int* player) override\n    {\n        // Retrieve player\
      \ object from GUID\n        Player* plr = ObjectAccessor::FindPlayer(ObjectGuid(HighGuid::Player,\
      \ *player));\n        if (plr)\n        {\n            // Update player's battleground\
      \ statistics\n            plr->UpdateBattlegroundData(BG_DATA_LEFT);\n     \
      \       // Remove any temporary buffs or effects\n            plr->RemoveAura(SPELL_TEMPORARY_AURA);\n\
      \        }\n    }\n};"
    language: cpp
  notes: This method is called during the battleground cleanup process, so it should
    not perform operations that might block or delay the game loop. Ensure any modifications
    to player state are thread-safe and do not interfere with ongoing gameplay mechanics.
  warnings: Do not attempt to access player objects directly using the GUID without
    verifying their existence first, as the player may have already been removed from
    the game world by the time this method is called.
  related:
  - OnPlayerJoined
  - OnBattlegroundDestroy
  - OnBattlegroundCreate
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T12:25:47.341594'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
