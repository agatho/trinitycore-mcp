api:
  class: WorldSession
  method: HandleMergeGuildBankItemWithItem
  signature: void WorldSession::HandleMergeGuildBankItemWithItem(WorldPackets::Guild::MergeGuildBankItemWithItem
    & mergeGuildBankItemWithItem)
documentation:
  brief: Merges items from the guild bank into the player's inventory.
  description: The HandleMergeGuildBankItemWithItem method processes a client request
    to transfer items from the guild bank to the player's personal inventory. This
    operation typically occurs when a player interacts with the guild bank interface
    and selects an item to withdraw. The method validates the player's permissions,
    checks if the item exists in the guild bank, ensures there is sufficient space
    in the player's inventory, and performs the transfer if all conditions are met.
    The operation may also update guild bank logs and adjust the guild's financial
    resources if applicable.
  parameters:
  - name: mergeGuildBankItemWithItem
    description: A packet containing details about the item to be merged from the
      guild bank, including item GUID, slot information, and quantity.
  returns: null
  examples:
  - title: Basic usage in a guild bank interaction
    code: "void WorldSession::HandleMergeGuildBankItemWithItem(WorldPackets::Guild::MergeGuildBankItemWithItem&\
      \ mergeGuildBankItemWithItem)\n{\n    // Validate player is in a guild\n   \
      \ if (!GetPlayer()->GetGuildId())\n        return;\n    \n    // Process the\
      \ item merge operation\n    GetPlayer()->GetGuild()->HandleGuildBankItemWithdrawal(this,\
      \ mergeGuildBankItemWithItem);\n}"
    language: cpp
  notes: This method is part of the guild bank system and requires proper guild membership
    and permissions. It interacts with both player inventory and guild bank storage
    systems. The implementation may involve database transactions to ensure data consistency
    during item transfers.
  warnings: Improper handling of this method can lead to item duplication or loss
    if validation checks are bypassed. Ensure that all permission checks and inventory
    space validations are properly enforced before executing the transfer.
  related:
  - HandleGuildBankQueryTab
  - HandleGuildBankWithdrawMoney
  - HandleGuildBankDepositItem
  - HandleGuildBankSwapItems
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:37:55.335844'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
