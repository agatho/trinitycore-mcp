api:
  class: LFGMgr
  method: LeaveLfg
  signature: void LFGMgr::LeaveLfg(int guid, bool disconnected)
documentation:
  brief: Removes a player from the LFG queue and updates their LFG state.
  description: The LeaveLfg method is responsible for removing a player from the Looking
    For Group (LFG) system. It handles the cleanup of LFG data associated with the
    specified player GUID, ensuring that the player's group status is properly updated
    and any pending LFG operations are canceled. This method is typically called when
    a player manually leaves an LFG queue or when a disconnection occurs during an
    LFG operation. The method also manages internal LFG state tracking to prevent
    inconsistencies in group matching and queuing.
  parameters:
  - name: guid
    description: The unique identifier (GUID) of the player who is leaving the LFG
      queue. This should be a valid player GUID within the TrinityCore system.
  - name: disconnected
    description: A boolean flag indicating whether the player is leaving due to disconnection.
      If true, special handling may be applied for disconnected players, such as preserving
      certain LFG data or marking the player as offline in group systems.
  returns: null
  examples:
  - title: Basic usage to leave LFG queue
    code: LFGMgr::instance()->LeaveLfg(playerGuid, false);
    language: cpp
  - title: Handling player disconnection from LFG
    code: LFGMgr::instance()->LeaveLfg(disconnectedPlayerGuid, true);
    language: cpp
  notes: This method is part of the core LFG system and should be called only when
    a player's LFG state needs to be reset. It interacts with internal LFG queues
    and group management systems, so calling it outside of proper game flow may cause
    inconsistencies. The method assumes that the provided GUID refers to an active
    player in the LFG system.
  warnings: Calling this method with an invalid or non-existent GUID can lead to undefined
    behavior or crashes. Always verify that the player is actually in an LFG queue
    before calling this method. Improper use may result in players being stuck in
    queues or group matching issues.
  related:
  - JoinLfg
  - UpdateLfgStatus
  - GetLfgStatus
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T04:09:29.356509'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
