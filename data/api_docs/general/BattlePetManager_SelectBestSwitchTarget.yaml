api:
  class: BattlePetManager
  method: SelectBestSwitchTarget
  signature: uint32 BattlePetManager::SelectBestSwitchTarget(int * player) const
documentation:
  brief: Selects and returns the GUID of the best battle pet to switch to based on
    current battle conditions.
  description: The SelectBestSwitchTarget method determines the optimal battle pet
    to switch to during a battle encounter. It evaluates various factors such as pet
    health, combat effectiveness, and battle strategy to identify the most advantageous
    pet for switching. This method is typically invoked when a player needs to make
    tactical decisions about which pet to use next in a battle. The method takes into
    account the current state of all available pets and selects one that maximizes
    the chances of winning the encounter. It returns the unique identifier (GUID)
    of the selected pet, or 0 if no suitable target is found.
  parameters:
  - name: player
    description: Pointer to an integer representing the player index or ID. This parameter
      may be used internally to determine which player's battle pets are being evaluated
      for switching.
  returns: Returns a uint32 value representing the GUID of the selected battle pet.
    If no suitable pet is found, it returns 0.
  examples:
  - title: Basic usage in a battle context
    code: "uint32 bestPetGUID = battlePetManager.SelectBestSwitchTarget(&playerIndex);\n\
      if (bestPetGUID != 0) {\n    // Proceed with switching to the identified pet\n\
      \    player->SetBattlePetGUID(bestPetGUID);\n} else {\n    // No suitable pet\
      \ found, handle accordingly\n    player->SendSystemMessage(\"No suitable battle\
      \ pet available.\");\n}"
    language: cpp
  notes: This method is part of the Battle Pet system in TrinityCore and relies on
    internal battle state tracking. It may be called frequently during active battles,
    so performance considerations should be taken into account. The method assumes
    that the player's pet data is properly initialized and accessible.
  warnings: Ensure that the player parameter points to a valid player index or ID;
    otherwise, the method behavior is undefined. This method does not perform any
    validation on the battle state itself, so calling it outside of an active battle
    may lead to unexpected results.
  related:
  - GetBattlePetGUID
  - SetBattlePetGUID
  - IsBattlePetActive
  - EvaluatePetCombatEffectiveness
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T06:20:01.755524'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
