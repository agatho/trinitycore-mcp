api:
  class: TradeManager
  method: OnTradeAccepted
  signature: void TradeManager::OnTradeAccepted()
documentation:
  brief: Handles the event when a trade is accepted by both parties in the World of
    Warcraft trading system.
  description: The OnTradeAccepted method is invoked when both players in a trade
    session have confirmed their trade agreement. This method typically processes
    the finalization of the trade, including item transfers, gold adjustments, and
    updating player states. It ensures that all trade conditions are met before completing
    the transaction. The method is part of the TradeManager class which manages the
    entire trading lifecycle within TrinityCore. This function does not take any parameters
    as it operates on the current trade context.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in trade completion
    code: "void MyTradeHandler::HandlePlayerTradeAccept(Player* player)\n{\n    //\
      \ Assume trade is already initialized\n    TradeManager& tradeMgr = TradeManager::GetSingleton();\n\
      \    tradeMgr.OnTradeAccepted();\n    // Trade is now finalized\n}"
    language: cpp
  notes: This method should only be called after both parties have accepted the trade.
    It's typically triggered internally by the core trading system when the accept
    button is pressed by both players. The method assumes that all validation has
    already been performed and that the trade state is valid for completion.
  warnings: Do not call this method directly unless you are certain that both players
    have accepted the trade and all conditions are met. Calling it prematurely may
    result in inconsistent trade states or data corruption.
  related:
  - OnTradeCancelled
  - OnTradeUpdate
  - OnTradeInit
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T20:18:51.468226'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
