api:
  class: WindwalkerMonkRefactored
  method: UpdateRotation
  signature: void WindwalkerMonkRefactored::UpdateRotation(int * target)
documentation:
  brief: Updates the windwalker monk's rotation state based on current target and
    combat conditions.
  description: The UpdateRotation method manages the core combat logic for a Windwalker
    Monk AI, determining which abilities to cast next based on the current target
    and spell availability. This method evaluates the player's current resource levels,
    cooldowns, and combat situation to select the optimal rotation sequence. It interacts
    with the TrinityCore AI framework to execute appropriate actions such as casting
    fists of fury, spinning crane kick, or other monk abilities. The method is typically
    called during each AI update cycle to ensure proper combat execution.
  parameters:
  - name: target
    description: Pointer to an integer representing the target's ID or index in the
      combat system. This parameter determines which enemy the monk should focus its
      rotation on.
  returns: null
  examples:
  - title: Basic Usage Example
    code: "void MyWindwalkerAI::Update()\n{\n    int targetId = GetTargetId();\n \
      \   UpdateRotation(&targetId);\n}"
    language: cpp
  - title: Advanced Usage with Target Validation
    code: "void WindwalkerMonkRefactored::UpdateRotation(int* target)\n{\n    if (!target\
      \ || *target <= 0) return;\n    \n    // Logic to determine rotation based on\
      \ target state\n    if (IsSpellReady(SpinningCraneKick))\n        CastSpell(SpinningCraneKick);\n\
      \    else if (IsSpellReady(FistsOfFury))\n        CastSpell(FistsOfFury);\n\
      \    // ... additional rotation logic\n}"
    language: cpp
  notes: This method is part of the TrinityCore AI system and should be called within
    the context of an AI update loop. The target parameter must point to a valid combat
    entity ID, otherwise undefined behavior may occur. Performance is optimized for
    frequent calls but may vary based on complexity of rotation logic.
  warnings: Ensure that the target pointer is properly validated before dereferencing.
    Improper handling of null or invalid targets can lead to crashes or incorrect
    AI behavior. This method assumes proper initialization of spell cooldowns and
    resource tracking.
  related:
  - CastSpell
  - IsSpellReady
  - GetTargetId
  - Update
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T16:45:11.079354'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
