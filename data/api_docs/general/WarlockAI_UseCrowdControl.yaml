api:
  class: WarlockAI
  method: UseCrowdControl
  signature: void WarlockAI::UseCrowdControl(::Unit * target)
documentation:
  brief: Attempts to apply a crowd control effect on the specified target unit.
  description: The UseCrowdControl method is responsible for applying a crowd control
    ability from the Warlock's spell repertoire to a given target unit. This method
    typically selects an appropriate crowd control spell based on the current combat
    situation, target status, and available mana. It evaluates whether the target
    is valid for crowd control application and ensures that the spell can be cast
    without violating game mechanics such as line of sight or target restrictions.
    The method does not directly handle the casting process but rather orchestrates
    the selection and execution of a suitable crowd control ability.
  parameters:
  - name: target
    description: A pointer to the Unit object that will be subjected to the crowd
      control effect. Must be a valid target with appropriate flags set for crowd
      control application.
  returns: null
  examples:
  - title: Basic Usage in AI Logic
    code: "void WarlockAI::UpdateAI(uint32 diff)\n{\n    if (!UpdateVictim())\n  \
      \      return;\n\n    Unit* target = GetVictim();\n    if (target && target->IsInCombat())\n\
      \    {\n        UseCrowdControl(target);\n    }\n}"
    language: cpp
  - title: Conditional Crowd Control Application
    code: "void WarlockAI::DoCombatAction()\n{\n    if (me->HasUnitState(UNIT_STATE_CASTING))\n\
      \        return;\n\n    Unit* target = GetVictim();\n    if (!target)\n    \
      \    return;\n\n    // Only use crowd control if target is not already rooted\
      \ or feared\n    if (!target->HasAuraType(SPELL_AURA_ROOT) && !target->HasAuraType(SPELL_AURA_FEAR))\n\
      \    {\n        UseCrowdControl(target);\n    }\n}"
    language: cpp
  notes: This method is part of the Warlock's AI behavior system and should only be
    called when appropriate conditions are met. The actual spell casting logic is
    handled by the core engine, not directly within this method. Ensure that the target
    unit is valid and accessible before calling this method to prevent potential crashes
    or undefined behavior.
  warnings: Calling this method without verifying that the target is valid may result
    in a crash or unexpected behavior. Additionally, ensure that the Warlock has sufficient
    mana and that the spell is not on cooldown before invoking this method.
  related:
  - WarlockAI::DoCastSpell
  - WarlockAI::GetSpellList
  - WarlockAI::IsCasting
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T17:16:36.510784'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
