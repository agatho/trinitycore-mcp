api:
  class: TradeData
  method: GetClientStateIndex
  signature: int TradeData::GetClientStateIndex() const
documentation:
  brief: Returns the client state index associated with this trade data instance.
  description: The GetClientStateIndex method retrieves an integer identifier that
    represents the current client-side state of a trade operation within the TrinityCore
    framework. This index is typically used to track the progress or status of a trade
    session between two players, such as whether one player has accepted the trade,
    modified their items, or canceled the transaction. The value returned by this
    method corresponds to an internal enumeration or bitmask that defines various
    trade states like 'not started', 'accepted', 'confirmed', or 'canceled'. This
    information is crucial for synchronizing trade interactions between the client
    and server, ensuring that both parties are aware of the current state of the trading
    process.
  parameters: []
  returns: An integer representing the client state index of the trade. Possible values
    may include constants like 0 (no trade), 1 (trade accepted), 2 (trade confirmed),
    or other state identifiers depending on the implementation details within TrinityCore's
    trade system.
  examples:
  - title: Retrieve and log current trade state
    code: 'TradeData* tradeData = player1->GetTradeData();

      int stateIndex = tradeData->GetClientStateIndex();

      TC_LOG_DEBUG("trade", "Current trade state index: %d", stateIndex);'
    language: cpp
  notes: This method is typically called during trade update events or when checking
    the validity of a trade operation. The returned value should be interpreted according
    to the internal trade state definitions used by TrinityCore, which may vary between
    different versions of the core.
  warnings: null
  related:
  - TradeData::SetClientStateIndex
  - TradeData::GetTradeStatus
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T05:21:45.362422'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
