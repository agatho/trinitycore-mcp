api:
  class: SpellCastTargets
  method: SetItemTarget
  signature: void SpellCastTargets::SetItemTarget(Item * item)
documentation:
  brief: Sets the target item for a spell cast operation, configuring the SpellCastTargets
    object to use the specified item as the target.
  description: The SetItemTarget method configures the SpellCastTargets object to
    designate a specific Item as the target for a spell being cast. This is commonly
    used in spell systems where an item (such as a consumable or weapon) serves as
    the target of a spell effect. The method updates internal state within the SpellCastTargets
    object to reflect that an item is now the target, which will be used during spell
    execution. This functionality is essential for spells that require targeting items
    rather than units or positions, such as enchanting spells, consumable item effects,
    or certain weapon-based abilities. The method does not validate whether the item
    is valid or accessible; it simply sets the internal target reference.
  parameters:
  - name: item
    description: Pointer to the Item object that will serve as the target for the
      spell cast. Must be a valid pointer to an existing Item instance, or nullptr
      if clearing the target.
  returns: null
  examples:
  - title: Basic Usage of SetItemTarget
    code: "Item* targetItem = player->GetItemByPos(INVENTORY_SLOT_BAG_0, 0);\nif (targetItem)\n\
      {\n    SpellCastTargets targets;\n    targets.SetItemTarget(targetItem);\n \
      \   // Proceed with spell casting using these targets\n}"
    language: cpp
  - title: Setting Item Target for Enchanting Spell
    code: "void CastEnchantSpell(Player* player, Item* itemToEnchant)\n{\n    if (!itemToEnchant\
      \ || !player)\n        return;\n\n    SpellCastTargets targets;\n    targets.SetItemTarget(itemToEnchant);\n\
      \    \n    SpellInfo const* spellInfo = sSpellMgr->GetSpellInfo(ENCHANT_SPELL_ID);\n\
      \    if (spellInfo)\n    {\n        Spell* spell = new Spell(player, spellInfo,\
      \ TRIGGERED_NONE);\n        spell->m_targets = targets;\n        spell->prepare();\n\
      \    }\n}"
    language: cpp
  notes: This method directly modifies the internal target state of the SpellCastTargets
    object. It is typically used in conjunction with other targeting methods like
    SetUnitTarget or SetDestination to build a complete set of spell targets. The
    item pointer passed should remain valid for the duration of the spell cast, as
    no copy or reference counting is performed internally.
  warnings: Passing a null pointer to this method will clear the item target, but
    it's important to ensure that other parts of the spell system do not attempt to
    access the target after it has been cleared. Also, be cautious when using this
    with items that may be destroyed or removed from the player's inventory during
    spell execution.
  related:
  - SetUnitTarget
  - SetDestination
  - GetItemTarget
  - GetUnitTarget
metadata:
  confidence: 0.95
  generated_at: '2025-11-03T18:16:17.149654'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
