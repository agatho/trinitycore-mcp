api:
  class: ThreatCalculator
  method: GetEquipmentThreatModifier
  signature: float ThreatCalculator::GetEquipmentThreatModifier(Player * bot)
documentation:
  brief: Calculates and returns the threat modifier based on the player's equipment.
  description: The GetEquipmentThreatModifier method computes a float value that represents
    how much additional threat a player's current equipment contributes to their threat
    generation. This value is used by the threat system in TrinityCore to adjust how
    quickly a player builds up threat when attacking enemies. The modifier takes into
    account various equipment factors such as weapon damage, armor enchantments, and
    other item-based threat bonuses. This method is typically called during combat
    calculations to dynamically adjust threat values based on gear. The result is
    a multiplicative factor that can increase or decrease the base threat generated
    by attacks.
  parameters: []
  returns: A float value representing the equipment threat modifier. Values greater
    than 1.0 increase threat generation, values less than 1.0 reduce it, and a value
    of 1.0 indicates no modification to threat generation.
  examples:
  - title: Basic Usage
    code: 'float modifier = threatCalculator->GetEquipmentThreatModifier(player);

      // Use the modifier to adjust threat calculations

      float finalThreat = baseThreat * modifier;'
    language: cpp
  - title: Integration with Threat Calculation
    code: "void ApplyEquipmentThreatMod(Player* bot) {\n    float equipmentModifier\
      \ = threatCalculator->GetEquipmentThreatModifier(bot);\n    // Adjust the bot's\
      \ threat generation based on equipment\n    bot->SetThreatModifier(equipmentModifier);\n\
      }"
    language: cpp
  notes: This method relies on the player's current equipped items and their associated
    threat bonuses. The calculation may vary depending on the specific item types,
    enchantments, and gemming of the player's gear. It is recommended to call this
    method only when necessary as it involves iterating through the player's equipment
    slots.
  warnings: The returned value can be negative if certain gear effects reduce threat
    generation, which might lead to unexpected behavior in threat calculations. Ensure
    proper handling of edge cases where a player has no equipment or invalid items
    equipped.
  related:
  - GetThreatModifier
  - CalculateThreat
  - GetBaseThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T16:44:04.220273'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
