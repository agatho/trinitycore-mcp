api:
  class: ArmsWarriorRefactored
  method: ExecutePhaseRotation
  signature: void ArmsWarriorRefactored::ExecutePhaseRotation(::Unit * target)
documentation:
  brief: Executes the arms warrior's rotation logic against a specified target.
  description: The ExecutePhaseRotation method implements the core combat behavior
    for an Arms Warrior class in TrinityCore. It evaluates the current combat state,
    checks available abilities, and executes the appropriate attack sequence based
    on the warrior's current phase and resource levels. This method typically integrates
    with the AI system to determine when to use abilities like Slam, Heroic Strike,
    or Execute depending on target health and player resources such as rage or combo
    points. The method assumes a valid target is provided and performs rotation logic
    accordingly.
  parameters:
  - name: target
    description: Pointer to the Unit object representing the current combat target.
      Must be a valid unit, typically an enemy mob or player character.
  returns: null
  examples:
  - title: Basic Usage in Combat AI
    code: "void MyArmsWarriorAI::UpdateAI(uint32 diff)\n{\n    if (!UpdateVictim())\n\
      \        return;\n\n    ExecutePhaseRotation(mVictim);\n}"
    language: cpp
  - title: Integration with Custom Rotation Logic
    code: "void ArmsWarriorRefactored::ExecutePhaseRotation(Unit* target)\n{\n   \
      \ if (!target || !target->IsAlive())\n        return;\n\n    // Check for Execute\
      \ ability\n    if (target->GetHealth() <= target->GetMaxHealth() * 0.2f)\n \
      \   {\n        DoMeleeAttackIfReady();\n        return;\n    }\n\n    // Standard\
      \ rotation logic\n    if (HasRageForAbility(Slam))\n        DoSpellAttack(Slam);\n\
      \    else if (HasRageForAbility(HeroicStrike))\n        DoMeleeAttackIfReady();\n\
      }"
    language: cpp
  notes: This method is typically called from within the AI update loop and should
    only be invoked when a valid combat target exists. The method does not handle
    target selection or threat management; these are assumed to be handled by higher-level
    systems.
  warnings: Ensure that the target parameter is always validated for nullity and validity
    before calling this method. Improper handling may lead to crashes or undefined
    behavior in the AI system.
  related:
  - UpdateAI
  - DoMeleeAttackIfReady
  - HasRageForAbility
  - DoSpellAttack
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T10:37:22.159659'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
