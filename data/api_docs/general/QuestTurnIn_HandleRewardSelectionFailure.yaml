api:
  class: QuestTurnIn
  method: HandleRewardSelectionFailure
  signature: void QuestTurnIn::HandleRewardSelectionFailure(Player * bot, uint32 questId)
documentation:
  brief: Handles the failure case when a player selects an invalid quest reward option
    during quest completion.
  description: The HandleRewardSelectionFailure method is invoked within the QuestTurnIn
    class to manage scenarios where a player attempts to select an invalid or unavailable
    quest reward option. This typically occurs when the player's selection does not
    match any valid reward choices for the given quest, or when preconditions for
    reward selection are not met. The method ensures proper error handling and may
    send appropriate feedback messages to the player, preventing invalid reward claims
    and maintaining quest integrity within the game state. It is part of the broader
    quest completion system and interacts with the player's quest log and reward selection
    mechanics.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot or player attempting
      to complete the quest and select a reward.
  - name: questId
    description: Unique identifier of the quest for which the reward selection failed.
      Used to locate the correct quest data in the player's quest log.
  returns: null
  examples:
  - title: Basic usage in quest completion logic
    code: "void SomeQuestHandler::OnQuestComplete(Player* player, uint32 questId)\n\
      {\n    if (!player->GetQuestRewardChoice(questId))\n    {\n        sQuestTurnIn->HandleRewardSelectionFailure(player,\
      \ questId);\n    }\n}"
    language: cpp
  notes: This method is typically called internally by the TrinityCore quest system
    when reward validation fails. It does not directly modify quest state but ensures
    appropriate error handling and messaging to the player. Developers should ensure
    that all reward selections are validated before calling this method.
  warnings: Calling this method without proper validation may lead to inconsistent
    game states or incorrect feedback to the player. Ensure that reward selection
    failure conditions are clearly defined and handled appropriately before invoking
    this method.
  related:
  - QuestTurnIn::HandleRewardSelectionSuccess
  - Player::GetQuestRewardChoice
  - Player::FinishQuest
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T21:09:09.836888'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
