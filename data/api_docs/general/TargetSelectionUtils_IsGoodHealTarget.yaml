api:
  class: TargetSelectionUtils
  method: IsGoodHealTarget
  signature: bool TargetSelectionUtils::IsGoodHealTarget(Unit * target, Player * healer)
documentation:
  brief: Determines whether a target unit is a valid recipient for healing spells
    based on game mechanics and player state.
  description: The IsGoodHealTarget method evaluates whether a given Unit (target)
    qualifies as an appropriate candidate for healing spells cast by a Player healer.
    This function considers various factors such as the target's health status, faction
    relationship, current combat state, and other relevant conditions that determine
    if the target should receive healing. It is primarily used within the AI decision-making
    process to select optimal healing targets for healers in both PvE and PvP scenarios.
    The method ensures that healing is directed toward allies who are most in need
    and not already at full health or otherwise ineligible for healing.
  parameters:
  - name: target
    description: Pointer to the Unit object that is being evaluated as a potential
      healing target. Must be a valid pointer; null pointers will result in undefined
      behavior.
  - name: healer
    description: Pointer to the Player object who is casting the healing spell and
      evaluating the target. Must be a valid pointer; null pointers will result in
      undefined behavior.
  returns: Returns true if the target unit is considered a good candidate for healing
    by the specified healer, otherwise returns false. This includes checking that
    the target is alive, not at full health, and is either friendly or in a state
    where healing is appropriate.
  examples:
  - title: Basic Usage in AI Logic
    code: "if (TargetSelectionUtils::IsGoodHealTarget(targetUnit, playerHealer)) {\n\
      \    // Proceed with casting heal spell on target\n    playerHealer->CastSpell(targetUnit,\
      \ HEAL_SPELL_ID);\n}"
    language: cpp
  - title: Integration with Healing Target Selection
    code: "Unit* bestTarget = nullptr;\nfor (auto& unit : nearbyUnits) {\n    if (TargetSelectionUtils::IsGoodHealTarget(unit,\
      \ player)) {\n        if (!bestTarget || unit->GetHealthPct() < bestTarget->GetHealthPct())\
      \ {\n            bestTarget = unit;\n        }\n    }\n}\nif (bestTarget) {\n\
      \    player->CastSpell(bestTarget, HEAL_SPELL_ID);\n}"
    language: cpp
  notes: This method is part of the core target selection logic used by AI scripts
    and spell systems in TrinityCore. It may be extended or modified in future versions
    to support new healing mechanics or game updates. The function assumes that both
    target and healer are valid objects and does not perform null checks internally.
  warnings: Calling this method with a null pointer for either parameter will lead
    to undefined behavior and likely crash the server. Always validate input before
    calling this function. Additionally, this function is intended for internal use
    within AI systems and may not be suitable for direct external calls without proper
    context setup.
  related:
  - IsGoodTarget
  - IsFriendlyTarget
  - CanHealTarget
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T17:21:03.961861'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
