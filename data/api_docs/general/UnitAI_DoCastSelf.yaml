api:
  class: UnitAI
  method: DoCastSelf
  signature: int UnitAI::DoCastSelf(uint32 spellId, const int & args)
documentation:
  brief: Casts a specified spell on the AI's owner unit with optional arguments.
  description: The DoCastSelf method is used by UnitAI classes to cast a spell directly
    on the unit that owns the AI. This method provides a convenient way for AI-controlled
    creatures to execute spells without requiring explicit target specification. The
    spell is cast using the unit's own attributes and positioning, making it ideal
    for self-targeted abilities such as healing, buffing, or casting spells that affect
    the caster. The method supports additional arguments that can modify the casting
    behavior, such as whether to cast instantly or with a delay. This function is
    commonly used in AI scripts for creatures that need to perform actions on themselves
    without requiring external targeting logic.
  parameters:
  - name: spellId
    description: The unique identifier of the spell to be cast. Must correspond to
      a valid spell entry in the game's spell database.
  - name: args
    description: Reference to an integer argument that can modify casting behavior.
      Values may control casting flags, instant cast settings, or other spell-specific
      parameters depending on implementation details.
  returns: Returns an integer value indicating the success or failure of the spell
    casting operation. A return value of 0 typically indicates successful casting,
    while negative values may indicate errors such as invalid spell ID, insufficient
    mana, or other casting restrictions.
  examples:
  - title: Basic Self-Cast Usage
    code: "if (me->GetHealthPct() < 30)\n{\n    DoCastSelf(SPELL_HEALING_TOUCH);\n\
      }"
    language: cpp
  - title: Self-Cast with Argument Control
    code: 'int castArgs = CAST_FORCE_CAST | CAST_TRIGGERED;

      DoCastSelf(SPELL_SHADOW_BOLT, castArgs);'
    language: cpp
  notes: This method assumes that the AI unit has valid access to its owner's spell
    system and that the spell ID is properly registered in the game's database. The
    args parameter allows for advanced casting behavior control but requires careful
    handling to avoid unintended consequences.
  warnings: Using invalid spell IDs or incorrect argument values may result in silent
    failures or unexpected behavior. Always validate spell existence before calling
    this method, especially in dynamic AI contexts where spell availability might
    change during runtime.
  related:
  - DoCast
  - DoCastVictim
  - DoCastSpell
  - CastSpell
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T00:17:15.781129'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
