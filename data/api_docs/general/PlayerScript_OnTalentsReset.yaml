api:
  class: PlayerScript
  method: OnTalentsReset
  signature: void PlayerScript::OnTalentsReset(Player * player, bool noCost)
documentation:
  brief: Called when a player resets their talents, allowing custom behavior to be
    executed.
  description: The OnTalentsReset method is a hook in the PlayerScript class that
    gets invoked whenever a player performs a talent reset. This typically occurs
    when a player uses a talent reset spell or item, such as the Mage's Arcane Brilliance
    or a general talent reset ability. The method provides an opportunity for custom
    scripts to modify game behavior during this event, such as adjusting cooldowns,
    awarding rewards, or modifying player stats. It is important to note that this
    method is called after the talent reset has been processed by the core system,
    so any changes made within this hook will not affect the actual reset operation
    itself.
  parameters:
  - name: player
    description: Pointer to the Player object whose talents are being reset. This
      parameter provides access to all player-related data and methods during the
      reset event.
  - name: noCost
    description: Boolean flag indicating whether the talent reset was performed without
      cost (e.g., using a free reset item). When true, the reset occurred at no gold
      cost; when false, it may have consumed currency or resources.
  returns: null
  examples:
  - title: Basic Talent Reset Handler
    code: "class MyPlayerScript : public PlayerScript\n{\npublic:\n    void OnTalentsReset(Player*\
      \ player, bool noCost) override\n    {\n        if (noCost)\n        {\n   \
      \         // Grant bonus experience for free resets\n            player->AddItem(ITEM_ID_EXPERIENCE_BOOST,\
      \ 1);\n        }\n        else\n        {\n            // Log paid resets for\
      \ achievement tracking\n            LOG_INFO(\"custom\", \"Player {} reset talents\
      \ with cost.\", player->GetName());\n        }\n    }\n};"
    language: cpp
  notes: This method is part of the TrinityCore scripting system and should be implemented
    within a custom PlayerScript subclass. The hook executes in the same thread as
    the core game logic, so performance-critical operations should be kept minimal
    to avoid lag.
  warnings: Be cautious when modifying player data within this hook, as changes may
    not persist if they conflict with the core reset process. Avoid performing operations
    that could cause crashes or unexpected behavior during talent resets.
  related:
  - OnTalentReset
  - Player::ResetTalents
  - Player::GetTalentPoints
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T01:11:08.730066'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
