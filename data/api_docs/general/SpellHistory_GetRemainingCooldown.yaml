api:
  class: SpellHistory
  method: GetRemainingCooldown
  signature: int SpellHistory::GetRemainingCooldown(const SpellInfo * spellInfo) const
documentation:
  brief: Calculates and returns the remaining cooldown time in milliseconds for a
    specified spell.
  description: The GetRemainingCooldown method determines how much time remains before
    a spell can be cast again, based on the spell's cooldown period and the last time
    it was used. This method is typically used within the context of spell casting
    mechanics to enforce cooldown restrictions and ensure proper gameplay balance.
    It retrieves the cooldown information from the internal spell history tracking
    system and returns the remaining time in milliseconds. The method does not modify
    any state; it only reads existing cooldown data.
  parameters: []
  returns: Returns an integer representing the remaining cooldown time in milliseconds.
    If the spell is not on cooldown, this value will be zero or negative. A positive
    return value indicates the number of milliseconds until the spell can be cast
    again.
  examples:
  - title: Check if a spell is ready to cast
    code: "const SpellInfo* spellInfo = sSpellMgr->GetSpellInfo(12345);\nint remainingCooldown\
      \ = spellHistory->GetRemainingCooldown(spellInfo);\nif (remainingCooldown <=\
      \ 0)\n{\n    // Spell is ready to cast\n    // Proceed with casting logic\n\
      }\nelse\n{\n    // Spell is on cooldown, display remaining time\n    // Handle\
      \ cooldown logic\n}"
    language: cpp
  notes: This method relies on the internal state of the SpellHistory class which
    tracks when spells were last cast. It's important to ensure that the spell information
    passed to this method is valid and corresponds to an actual spell in the game
    database. The returned value represents milliseconds, so for display purposes
    it may need to be converted to seconds or minutes.
  warnings: Do not call this method with a null SpellInfo pointer as it will likely
    result in undefined behavior or crash. Always validate that the SpellInfo pointer
    is valid before calling this method. Additionally, note that this method only
    returns cooldown information and does not actually enforce cooldowns; it's meant
    for checking purposes.
  related:
  - GetSpellCooldown
  - SetSpellCooldown
  - IsOnCooldown
metadata:
  confidence: 0.95
  generated_at: '2025-11-03T18:01:19.315737'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
