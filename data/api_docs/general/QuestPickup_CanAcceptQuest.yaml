api:
  class: QuestPickup
  method: CanAcceptQuest
  signature: bool QuestPickup::CanAcceptQuest(uint32 questId, Player * bot)
documentation:
  brief: Determines whether a bot player can accept a specified quest based on quest
    requirements and player state.
  description: The CanAcceptQuest method evaluates if a given player (bot) is eligible
    to accept a specific quest by checking various conditions such as quest level
    requirements, previous quest completion status, required items or currency, and
    other in-game restrictions. This method ensures that players cannot accept quests
    they are not qualified for, maintaining game balance and progression integrity.
    It integrates with the core TrinityCore quest system to validate eligibility before
    allowing quest acceptance.
  parameters:
  - name: questId
    description: The unique identifier of the quest to be checked for acceptance eligibility.
      Must correspond to a valid quest in the database.
  - name: bot
    description: Pointer to the Player object representing the bot attempting to accept
      the quest. Must not be null and must represent an active player character.
  returns: Returns true if the bot can accept the specified quest, false otherwise.
    The evaluation considers level requirements, quest prerequisites, item possession,
    and other conditional factors.
  examples:
  - title: Basic Quest Acceptance Check
    code: "if (questPickup->CanAcceptQuest(12345, playerBot)) {\n    // Proceed with\
      \ quest acceptance logic\n    playerBot->AddQuest(12345);\n} else {\n    //\
      \ Handle invalid quest acceptance attempt\n    playerBot->SendNotification(\"\
      You cannot accept this quest at this time.\");\n}"
    language: cpp
  - title: Conditional Quest Acceptance with Logging
    code: "uint32 questId = 67890;\nPlayer* bot = GetBot();\nif (questPickup->CanAcceptQuest(questId,\
      \ bot)) {\n    sLog->outString(\"[BOT] Player %s accepted quest %u\", bot->GetName().c_str(),\
      \ questId);\n    // Accept the quest\n} else {\n    sLog->outString(\"[BOT]\
      \ Player %s failed to accept quest %u\", bot->GetName().c_str(), questId);\n\
      \    // Prevent quest acceptance\n}"
    language: cpp
  notes: This method performs multiple database lookups and checks against player
    state, so it should not be called excessively in performance-critical sections.
    The implementation relies on core TrinityCore systems for quest validation including
    quest templates, player quest data, and related conditions.
  warnings: Ensure that the Player pointer is valid before calling this method to
    avoid null pointer exceptions. This method does not modify any player state; it
    only evaluates eligibility.
  related:
  - QuestPickup::AcceptQuest
  - Player::CanTakeQuest
  - Player::HasQuest
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T20:18:43.925955'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
