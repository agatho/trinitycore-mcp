api:
  class: CombatStateAnalyzer
  method: NeedsEmergencyHealing
  signature: bool CombatStateAnalyzer::NeedsEmergencyHealing() const
documentation:
  brief: Determines if the combatant requires immediate healing based on current health
    status and threat level
  description: The NeedsEmergencyHealing method evaluates whether a combatant in the
    World of Warcraft environment is in critical condition and requires urgent healing
    assistance. This method typically checks the character's current health percentage,
    incoming damage, and overall combat state to determine if they are at risk of
    dying without immediate intervention. It is commonly used by AI systems or automated
    healing scripts to prioritize target selection for healing spells or abilities.
    The evaluation considers factors such as low health thresholds, active threat
    from enemies, and potential death scenarios within a short timeframe.
  parameters: []
  returns: Returns true if the combatant's health is critically low and immediate
    healing is required; returns false otherwise. The decision is based on predefined
    thresholds for health percentage and combat urgency indicators.
  examples:
  - title: Basic Usage in AI Script
    code: "if (analyzer.NeedsEmergencyHealing()) {\n    // Cast emergency heal spell\n\
      \    caster.CastSpell(target, EMERGENCY_HEAL_SPELL);\n}"
    language: cpp
  - title: Integration with Healing Priority System
    code: "CombatStateAnalyzer* analyzer = GetCombatAnalyzer();\nif (analyzer->NeedsEmergencyHealing())\
      \ {\n    // Prioritize this target over others\n    SetHealingPriority(target,\
      \ PRIORITY_EMERGENCY);\n} else if (analyzer->NeedsRegularHealing()) {\n    SetHealingPriority(target,\
      \ PRIORITY_NORMAL);\n}"
    language: cpp
  notes: This method is typically called during combat updates and may involve performance
    considerations when used in high-frequency loops. The implementation likely caches
    recent health data to avoid redundant calculations. It assumes the combatant is
    actively engaged in combat and that its health status is regularly updated.
  warnings: Do not rely solely on this method for healing decisions without considering
    other factors like mana availability, spell cooldowns, or target positioning.
    This method may return false positives if the combat state is not properly initialized
    or if health values are not accurately tracked.
  related:
  - NeedsRegularHealing
  - GetHealthPercentage
  - IsInCombat
  - GetThreatLevel
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T02:52:22.235307'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
