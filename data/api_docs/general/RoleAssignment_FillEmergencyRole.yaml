api:
  class: RoleAssignment
  method: FillEmergencyRole
  signature: bool RoleAssignment::FillEmergencyRole(Group * group, GroupRole urgentRole)
documentation:
  brief: Assigns an emergency role to a group member if no one currently holds that
    role.
  description: The FillEmergencyRole method attempts to assign a specified urgent
    role to a member of the provided group. It checks whether any existing group members
    already hold the given role and, if not, assigns it to an appropriate candidate.
    This method is typically used in group management systems where specific roles
    (such as tank, healer, or damage dealer) need to be filled dynamically during
    encounters or raids. The assignment process considers group composition and player
    availability to ensure balanced role distribution.
  parameters:
  - name: group
    description: Pointer to the Group object for which the emergency role is being
      assigned. Must not be null.
  - name: urgentRole
    description: The GroupRole enum value representing the role that needs to be filled.
      Valid values are typically defined in the GroupRole enumeration such as GROUP_ROLE_TANK,
      GROUP_ROLE_HEALER, or GROUP_ROLE_DAMAGE.
  returns: Returns true if a suitable group member was found and assigned the emergency
    role; otherwise returns false if no valid candidate exists or if the role is already
    filled.
  examples:
  - title: Assigning an Emergency Tank Role
    code: "Group* myGroup = sGroupMgr->GetGroupById(groupId);\nif (myGroup)\n{\n \
      \   bool success = RoleAssignment::FillEmergencyRole(myGroup, GROUP_ROLE_TANK);\n\
      \    if (success)\n        TC_LOG_INFO(\"group\", \"Emergency tank role assigned\
      \ successfully.\");\n    else\n        TC_LOG_WARNING(\"group\", \"Failed to\
      \ assign emergency tank role.\");\n}"
    language: cpp
  notes: This method relies on internal logic to determine a suitable candidate for
    the role, which may consider factors like player availability, class type, and
    current role assignments. It is recommended to call this method only when necessary,
    as frequent calls might impact performance in high-traffic scenarios.
  warnings: Ensure that the group pointer passed into the function is valid and not
    null before calling this method. Passing an invalid group can lead to undefined
    behavior or crashes.
  related:
  - RoleAssignment::GetAssignedRole
  - RoleAssignment::ClearEmergencyRole
  - Group::ChangeLeader
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T03:42:11.809439'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
