api:
  class: LineOfSightManager
  method: RegisterDynamicObstruction
  signature: void LineOfSightManager::RegisterDynamicObstruction(GameObject * obj)
documentation:
  brief: Registers a dynamic game object as an obstruction for line-of-sight calculations.
  description: The RegisterDynamicObstruction method adds a GameObject to the LineOfSightManager's
    list of dynamic obstructions that affect visibility checks. This is typically
    used for objects like doors, gates, or other interactive elements that can block
    vision but are not part of the static world geometry. The method ensures that
    line-of-sight algorithms will consider this object when determining if a target
    is visible to an observer. It's important to note that this registration only
    applies to dynamic objects that may change state during gameplay, as opposed to
    static terrain or permanent structures.
  parameters:
  - name: obj
    description: Pointer to the GameObject that should be registered as a dynamic
      obstruction. This object must be valid and not null. The GameObject should represent
      an interactive element that can block line-of-sight, such as a door, gate, or
      movable barrier.
  returns: null
  examples:
  - title: Registering a Door as Dynamic Obstruction
    code: "GameObject* door = player->GetMap()->GetGameObject(12345);\nif (door)\n\
      {\n    LineOfSightManager::Instance()->RegisterDynamicObstruction(door);\n}"
    language: cpp
  - title: Registering Multiple Dynamic Obstructions
    code: "std::vector<GameObject*> obstructions;\n// ... populate obstructions vector\
      \ with valid GameObject pointers\nfor (auto& obj : obstructions)\n{\n    if\
      \ (obj)\n        LineOfSightManager::Instance()->RegisterDynamicObstruction(obj);\n\
      }"
    language: cpp
  notes: This method should be called after the GameObject has been properly initialized
    and added to the map. The LineOfSightManager maintains a list of registered dynamic
    obstructions, which are used during visibility calculations. Performance is optimized
    by only checking dynamic obstructions that have been explicitly registered rather
    than scanning all objects in the world.
  warnings: Do not call this method with a null GameObject pointer; it will likely
    cause undefined behavior or crashes. Also, remember to unregister dynamic obstructions
    when they are destroyed or removed from the game world to prevent memory leaks
    and incorrect visibility calculations.
  related:
  - UnregisterDynamicObstruction
  - IsInLineOfSight
  - GetDynamicObstructions
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T03:38:12.988252'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
