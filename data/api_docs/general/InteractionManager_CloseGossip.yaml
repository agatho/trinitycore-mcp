api:
  class: InteractionManager
  method: CloseGossip
  signature: bool InteractionManager::CloseGossip(Player * bot, Creature * npc)
documentation:
  brief: Closes the gossip interaction with a creature for the specified player.
  description: The CloseGossip method terminates an active gossip session between
    a player and a creature in World of Warcraft. This function is typically used
    to programmatically end dialogue sequences initiated by player interactions with
    NPCs. The method ensures that any ongoing gossip state is properly reset, allowing
    the player to interact with other NPCs or perform other actions without interference.
    It's commonly called after completing a quest interaction or when transitioning
    between different types of NPC interactions.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the interacting character.
      Must be a valid player instance.
  - name: npc
    description: Pointer to the Creature object representing the NPC with which the
      gossip is occurring. Must be a valid creature instance.
  returns: Returns true if the gossip was successfully closed, false otherwise. This
    typically occurs when the player and NPC are in a valid state for gossip termination.
  examples:
  - title: Basic Gossip Closure
    code: "Player* player = ...;\nCreature* npc = ...;\nInteractionManager* im = ...;\n\
      bool result = im->CloseGossip(player, npc);\nif (result)\n{\n    // Gossip closed\
      \ successfully\n}"
    language: cpp
  - title: Gossip Closure with Error Handling
    code: "Player* player = ...;\nCreature* npc = ...;\nInteractionManager* im = ...;\n\
      \nif (player && npc)\n{\n    bool closed = im->CloseGossip(player, npc);\n \
      \   if (!closed)\n    {\n        // Handle case where gossip couldn't be closed\n\
      \        sLog->outError(\"Failed to close gossip with NPC %u\", npc->GetEntry());\n\
      \    }\n}"
    language: cpp
  notes: This method should only be called when a valid gossip session is active.
    Calling it outside of an active gossip context may result in undefined behavior
    or failed operations. The method internally handles cleanup of gossip-related
    state information for the player.
  warnings: Do not call this method without verifying that both player and NPC pointers
    are valid. Passing null pointers can lead to crashes or unexpected behavior. Ensure
    that the player is actually interacting with the NPC before attempting to close
    gossip.
  related:
  - OpenGossip
  - HasGossip
  - UpdateGossip
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T02:33:31.144510'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
