api:
  class: Totem
  method: GetTotemDuration
  signature: int Totem::GetTotemDuration() const
documentation:
  brief: Returns the remaining duration of the totem in seconds
  description: The GetTotemDuration method retrieves the current time remaining before
    the totem expires. This value represents how many seconds are left until the totem
    automatically disappears from the game world. The duration is typically set when
    the totem is created and decreases over time based on the game's tick system.
    This method is commonly used by spell systems and AI logic to determine when a
    totem will expire, allowing for proper cleanup and effect management.
  parameters: []
  returns: An integer representing the number of seconds remaining until the totem
    expires. Returns 0 if the totem has already expired or been destroyed.
  examples:
  - title: Check Totem Expiration
    code: "if (Totem* totem = player->GetTotem(TOTEM_TYPE_FIRE))\n{\n    int remainingTime\
      \ = totem->GetTotemDuration();\n    if (remainingTime <= 5)\n    {\n       \
      \ // Warn player that totem is about to expire\n        player->SendNotification(\"\
      Your totem will expire in %d seconds!\", remainingTime);\n    }\n}"
    language: cpp
  - title: Manage Totem Lifetime
    code: "void UpdateTotemDuration(Player* player)\n{\n    if (Totem* totem = player->GetTotem(TOTEM_TYPE_EARTH))\n\
      \    {\n        int currentDuration = totem->GetTotemDuration();\n        //\
      \ Extend duration logic here if needed\n        if (currentDuration < 30)\n\
      \        {\n            // Apply some effect to extend the totem\n         \
      \   player->CastSpell(player, 12345, true); // Example spell\n        }\n  \
      \  }\n}"
    language: cpp
  notes: The returned value is in seconds and may be subject to game tick updates.
    The method returns 0 for expired or destroyed totems. This method does not perform
    any validation on the totem's existence - callers should ensure the totem pointer
    is valid before calling this method.
  warnings: Calling this method on a null totem pointer will result in undefined behavior.
    Always verify that the totem exists before calling GetTotemDuration(). The duration
    value may change rapidly during game ticks, so frequent calls might not reflect
    stable values.
  related:
  - GetTotemType
  - GetTotemOwner
  - SetTotemDuration
  - IsTotemActive
metadata:
  confidence: 0.95
  generated_at: '2025-11-03T16:16:51.290534'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
