api:
  class: MonkAI
  method: GetNearbyInjuredAlliesCount
  signature: int MonkAI::GetNearbyInjuredAlliesCount(float range, float healthThreshold)
documentation:
  brief: Counts the number of nearby injured allies within a specified range and health
    threshold.
  description: The GetNearbyInjuredAlliesCount method calculates how many friendly
    units are within a given range of the MonkAI's owner and have health below a specified
    threshold. This is commonly used by Monk AI logic to determine when to apply healing
    abilities or reposition for better support. The method performs a radius-based
    search around the AI's current position, checking unit health status against the
    provided threshold. It returns zero if no qualifying allies are found within range.
  parameters:
  - name: range
    description: The maximum distance (in yards) to search for nearby injured allies.
      Must be a positive value.
  - name: healthThreshold
    description: The health percentage threshold below which allies are considered
      'injured'. Valid values are between 0.0 and 1.0, where 0.0 means any unit below
      full health is counted, and 1.0 means only units at full health are excluded.
  returns: An integer representing the number of nearby injured allies that meet the
    specified range and health criteria. Returns zero if no qualifying units are found.
  examples:
  - title: Basic usage to find injured allies within 10 yards
    code: int injuredCount = ai->GetNearbyInjuredAlliesCount(10.0f, 0.5f); // Count
      allies with <50% health within 10 yards
    language: cpp
  - title: Advanced usage for prioritized healing
    code: "if (ai->GetNearbyInjuredAlliesCount(20.0f, 0.3f) > 0)\n{\n    // Cast a\
      \ powerful heal if multiple allies are critically injured\n    ai->CastSpell(SPELL_CRITICAL_HEAL);\n\
      }"
    language: cpp
  notes: This method uses the AI's current position to perform spatial queries. It
    may be computationally expensive in crowded areas due to the number of unit checks
    required. The health threshold is interpreted as a percentage (0.0 = 0%, 1.0 =
    100%), so values like 0.75 represent 75% health.
  warnings: Ensure that range and healthThreshold parameters are valid positive numbers
    to avoid unexpected behavior. Using a very large range could impact performance
    in dense environments.
  related:
  - GetNearbyEnemiesCount
  - GetNearbyAlliesCount
  - IsUnitInjured
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T12:28:16.759477'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
