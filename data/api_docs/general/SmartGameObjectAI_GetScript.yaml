api:
  class: SmartGameObjectAI
  method: GetScript
  signature: SmartScript * SmartGameObjectAI::GetScript()
documentation:
  brief: Retrieves the SmartScript instance associated with this GameObject AI.
  description: The GetScript method returns a pointer to the SmartScript object that
    controls the behavior of this SmartGameObjectAI. This allows access to the script's
    functionality and configuration for managing game object interactions, events,
    and responses. The returned pointer is typically used to query or modify the script's
    state, trigger events, or retrieve script-specific data. This method is essential
    for integrating custom behaviors with the SmartAI framework in TrinityCore.
  parameters: []
  returns: A pointer to the SmartScript instance associated with this GameObject AI.
    Returns nullptr if no script is currently assigned or if the AI has been improperly
    initialized.
  examples:
  - title: Accessing Script for Event Handling
    code: "SmartScript* script = goAI->GetScript();\nif (script)\n{\n    script->SetPhase(1);\n\
      \    script->SendEvent(SMART_EVENT_GOSSIP_HELLO);\n}"
    language: cpp
  - title: Checking Script Validity Before Use
    code: "SmartGameObjectAI* goAI = (SmartGameObjectAI*)me->GetAI();\nSmartScript*\
      \ script = goAI->GetScript();\nif (script != nullptr)\n{\n    // Safe to use\
      \ the script\n    uint32 eventId = script->GetEventId();\n    // Perform operations\
      \ with the script\n}\nelse\n{\n    // Handle case where no script is assigned\n\
      \    sLog->outError(\"GameObject AI has no associated SmartScript\");\n}"
    language: cpp
  notes: The returned SmartScript pointer should be used carefully as it's tied to
    the lifetime of the GameObject and its AI. Ensure that the GameObject is still
    valid before using the script pointer. This method is commonly used in event handlers,
    custom AI logic, and when implementing smart object behaviors.
  warnings: Never assume the returned SmartScript pointer is valid without checking
    for nullptr. Using a null pointer will cause undefined behavior or crashes. Also
    be aware that the SmartScript instance may be destroyed during GameObject cleanup,
    so always validate usage before dereferencing.
  related:
  - GetScriptId
  - SetScript
  - IsScriptRunning
metadata:
  confidence: 0.95
  generated_at: '2025-11-03T18:50:04.572143'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
