api:
  class: PetAI
  method: KilledUnit
  signature: void PetAI::KilledUnit(int * param0)
documentation:
  brief: Handles the event when a pet kills a unit, updating pet behavior and statistics
    accordingly.
  description: The KilledUnit method in PetAI is invoked when a pet successfully kills
    a target unit. This method typically updates the pet's combat statistics, triggers
    reward mechanisms such as experience or loot distribution, and may modify the
    pet's AI behavior based on the kill. It is part of the core pet AI system in TrinityCore,
    ensuring that pets respond appropriately to combat events. The method does not
    take any direct parameters but accesses internal pet state and target information
    through the AI context.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Pet AI Context
    code: "void PetAI::KilledUnit(int* param0)\n{\n    // Update pet's kill count\n\
      \    ++m_killCount;\n    \n    // Trigger reward logic\n    if (m_owner)\n \
      \       m_owner->RewardPlayerForKill(m_target);\n    \n    // Reset target and\
      \ return to idle state\n    m_target = nullptr;\n    SetNextAction(AI_ACTION_IDLE);\n\
      }"
    language: cpp
  notes: This method is typically called internally by the core game engine when a
    pet's attack results in a kill. Developers should not directly invoke this method
    unless implementing custom pet AI logic. The method assumes that the pet has a
    valid owner and target context.
  warnings: Incorrect handling of internal pet state or failure to reset target can
    lead to unexpected behavior or AI lockups. Ensure all references to m_target and
    m_owner are valid before accessing them.
  related:
  - PetAI::UpdateAI
  - PetAI::AttackStart
  - PetAI::EnterCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T06:27:49.416751'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
