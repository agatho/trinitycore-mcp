api:
  class: CombatSpecializationBase
  method: CanUseAbility
  signature: bool CombatSpecializationBase::CanUseAbility(uint32 spellId)
documentation:
  brief: Determines whether a combat specialization can use a specified spell ability.
  description: The CanUseAbility method evaluates if a character's current combat
    specialization allows them to use a given spell. This check typically considers
    factors such as class restrictions, talent requirements, and specialization-specific
    rules. The method is commonly used during spell casting validation to ensure that
    abilities are only available when appropriate for the player's active specialization.
  parameters:
  - name: spellId
    description: The unique identifier of the spell to be checked for usability within
      the current combat specialization.
  returns: Returns true if the combat specialization permits use of the specified
    spell; otherwise returns false.
  examples:
  - title: Basic Usage Check
    code: "if (player->GetCombatSpecialization()->CanUseAbility(12345)) {\n    //\
      \ Spell can be used\n    player->CastSpell(target, 12345);\n} else {\n    //\
      \ Spell cannot be used due to specialization restrictions\n    player->SendSpellFailed(12345,\
      \ SPELL_FAILED_NOT_READY);\n}"
    language: cpp
  - title: Integration with Spell Casting Logic
    code: "class PlayerCombatSpecialization {\npublic:\n    bool CanCastSpell(uint32\
      \ spellId) {\n        if (!CanUseAbility(spellId)) {\n            return false;\n\
      \        }\n        // Additional checks for mana, cooldowns, etc.\n       \
      \ return true;\n    }\n};"
    language: cpp
  notes: This method should be called before attempting to cast a spell to prevent
    invalid usage. It does not perform any validation on the spell itself but rather
    checks against the specialization context.
  warnings: Ensure that spellId is valid and corresponds to an actual learned spell;
    otherwise behavior may be undefined or cause errors in spell handling systems.
  related:
  - GetCombatSpecialization
  - SetCombatSpecialization
  - IsSpellAllowed
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T11:14:11.661509'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
