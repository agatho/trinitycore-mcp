api:
  class: CombatStateAnalyzer
  method: ShouldInterruptCast
  signature: bool CombatStateAnalyzer::ShouldInterruptCast(Unit * caster, uint32 spellId)
    const
documentation:
  brief: Determines whether a spell cast by a unit should be interrupted based on
    combat state conditions.
  description: The ShouldInterruptCast method evaluates if a spell currently being
    cast by a specified unit should be interrupted. This decision is typically made
    based on the current combat state of the caster and the nature of the spell being
    cast. The method checks various conditions such as whether the caster is in combat,
    the type of spell, and any relevant combat rules or mechanics that would justify
    interrupting the cast. It's commonly used in AI logic to determine when a unit
    should stop casting a spell and respond to incoming threats or changes in combat
    situation.
  parameters:
  - name: caster
    description: Pointer to the Unit object that is currently casting a spell. This
      represents the entity performing the spell cast operation.
  - name: spellId
    description: The unique identifier of the spell being cast. Used to determine
      if specific spell types should be interrupted based on combat state rules.
  returns: Returns true if the spell cast should be interrupted according to combat
    state rules, false otherwise.
  examples:
  - title: Basic usage in AI decision making
    code: "if (analyzer.ShouldInterruptCast(caster, spellId)) {\n    caster->InterruptSpell(CURRENT_GENERIC_SPELL);\n\
      }"
    language: cpp
  - title: Using within a combat state evaluation loop
    code: "void CombatAI::UpdateAI(uint32 diff) {\n    if (me->IsNonMeleeSpellCasted(false))\
      \ {\n        if (analyzer.ShouldInterruptCast(me, me->GetCurrentSpell(CURRENT_GENERIC_SPELL)->m_spellInfo->Id))\
      \ {\n            me->InterruptSpell(CURRENT_GENERIC_SPELL);\n        }\n   \
      \ }\n}"
    language: cpp
  notes: This method likely uses internal combat state tracking and spell categorization
    to make decisions. It may be called frequently during combat updates, so performance
    is important. The implementation might consider factors like spell school, cast
    time, and threat level.
  warnings: Ensure that the caster parameter is not null before calling this method
    to avoid undefined behavior. Be aware that interrupting spells can have cascading
    effects on AI behavior and combat flow.
  related:
  - IsInCombat
  - InterruptSpell
  - GetCombatState
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T18:58:21.938599'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
