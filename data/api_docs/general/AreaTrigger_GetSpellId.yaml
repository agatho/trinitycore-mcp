api:
  class: AreaTrigger
  method: GetSpellId
  signature: uint32 AreaTrigger::GetSpellId() const
documentation:
  brief: Retrieves the spell identifier associated with this area trigger.
  description: The GetSpellId method returns the unique identifier of the spell that
    triggered this area trigger. In World of Warcraft's TrinityCore, area triggers
    are typically created by spells and represent spatial effects such as auras, traps,
    or environmental effects. This method allows scripts and systems to determine
    which spell initiated the area trigger, enabling conditional logic based on the
    originating spell. The returned value corresponds to the Spell::Id field in the
    database and can be used to query spell information from the SpellMgr. This method
    is commonly used in spell effect handling, aura management, and custom area trigger
    behaviors.
  parameters: []
  returns: A uint32 value representing the spell identifier (Spell::Id) that created
    this area trigger. Returns 0 if no spell is associated with the area trigger or
    if the area trigger was not initialized properly.
  examples:
  - title: Basic Usage to Identify Spell
    code: "void OnAreaTriggerEnter(Player* player, AreaTrigger* trigger)\n{\n    uint32\
      \ spellId = trigger->GetSpellId();\n    if (spellId == 12345)\n    {\n     \
      \   // Handle specific spell effect\n        player->CastSpell(player, 67890,\
      \ true);\n    }\n}"
    language: cpp
  - title: Checking for Specific Area Trigger Effects
    code: "void ProcessAreaTrigger(AreaTrigger* trigger)\n{\n    uint32 spellId =\
      \ trigger->GetSpellId();\n    switch (spellId)\n    {\n        case 15407: //\
      \ Fear\n            trigger->SetScriptFlag(AreaTriggerScriptFlags::FLEE);\n\
      \            break;\n        case 12345: // Healing AOE\n            trigger->SetScriptFlag(AreaTriggerScriptFlags::HEAL);\n\
      \            break;\n        default:\n            break;\n    }\n}"
    language: cpp
  notes: This method assumes the area trigger has been properly initialized with a
    valid spell ID. The returned value is typically set during the area trigger's
    creation and should not change during its lifetime. This method is thread-safe
    as long as the AreaTrigger object itself is not being modified concurrently.
  warnings: Do not assume that a non-zero return value means the spell is active or
    valid; always validate the spell ID against the SpellMgr if further spell information
    is needed. Be cautious when using this in performance-critical code paths, as
    it may involve accessing internal data structures.
  related:
  - GetSpellInfo
  - SetSpellId
  - GetCaster
  - GetDuration
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T17:33:34.086471'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
