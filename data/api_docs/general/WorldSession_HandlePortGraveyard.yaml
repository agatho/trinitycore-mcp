api:
  class: WorldSession
  method: HandlePortGraveyard
  signature: void WorldSession::HandlePortGraveyard(WorldPackets::Misc::PortGraveyard
    & packet)
documentation:
  brief: Handles the client request to port to a graveyard location
  description: The HandlePortGraveyard method processes a packet sent by the client
    when attempting to teleport to a nearby graveyard. This method validates the player's
    current state and location, then sends the appropriate response to initiate the
    teleportation to the nearest available graveyard. The functionality is typically
    triggered when players click on graveyard icons or use specific commands related
    to death and resurrection mechanics in World of Warcraft.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in packet handling
    code: "void WorldSession::HandlePortGraveyard(WorldPackets::Misc::PortGraveyard&\
      \ packet)\n{\n    // Validate player state\n    if (!GetPlayer() || GetPlayer()->IsInCombat())\n\
      \        return;\n    \n    // Process graveyard teleportation\n    GetPlayer()->TeleportToGraveyard();\n\
      }"
    language: cpp
  notes: This method is part of the core player movement and resurrection system.
    It should only be called when a valid player session exists and the player is
    not in combat. The actual teleportation logic is delegated to the player object's
    TeleportToGraveyard() method.
  warnings: Calling this method without proper session validation may lead to client
    desynchronization or unexpected behavior. Ensure that players cannot port to graveyards
    during combat or while in certain special states like being in a battleground.
  related:
  - WorldSession::HandleAreaTrigger
  - Player::TeleportToGraveyard
  - WorldSession::SendPacket
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T21:10:10.697451'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
