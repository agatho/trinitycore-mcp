api:
  class: DungeonBehavior
  method: SetThreatManagement
  signature: void DungeonBehavior::SetThreatManagement(uint32 groupId, ThreatManagement
    management)
documentation:
  brief: Sets the threat management strategy for a specified group within the dungeon
    behavior.
  description: The SetThreatManagement method configures how threat is handled for
    a specific group within a dungeon scenario. This method allows dungeon designers
    and AI systems to define whether threat should be managed individually per mob,
    collectively across the group, or according to other predefined strategies. The
    groupId parameter identifies which group within the dungeon behavior is being
    configured, while the management parameter specifies the desired threat handling
    approach. This functionality is crucial for controlling boss fight mechanics and
    ensuring proper encounter design in TrinityCore's dungeon systems.
  parameters:
  - name: groupId
    description: The unique identifier of the group within the dungeon behavior that
      will have its threat management configured. This ID corresponds to a specific
      group defined in the dungeon's AI setup.
  - name: management
    description: The threat management strategy to apply to the specified group. This
      value determines how threat is calculated and distributed among mobs in the
      group, with options including individual, collective, or custom threat handling
      modes.
  returns: null
  examples:
  - title: Configure Threat Management for Boss Group
    code: 'DungeonBehavior* dungeon = sObjectMgr->GetDungeonBehavior(1234);

      dungeon->SetThreatManagement(1, THREAT_MANAGEMENT_COLLECTIVE);'
    language: cpp
  - title: Set Individual Threat Management for Elite Mobs
    code: 'DungeonBehavior* dungeon = sObjectMgr->GetDungeonBehavior(5678);

      dungeon->SetThreatManagement(3, THREAT_MANAGEMENT_INDIVIDUAL);'
    language: cpp
  notes: This method should be called during dungeon initialization or before encounter
    start to ensure proper threat management is applied. The groupId must correspond
    to an existing group in the dungeon behavior configuration, otherwise the setting
    may not take effect. This method directly affects combat behavior and should be
    used carefully in live environments.
  warnings: Incorrect groupId values may result in undefined behavior or no change
    to threat management settings. Setting inappropriate threat management strategies
    can lead to unbalanced encounters or unexpected mob behavior during dungeon runs.
  related:
  - GetThreatManagement
  - InitializeDungeonBehavior
  - UpdateThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T09:26:45.546218'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
