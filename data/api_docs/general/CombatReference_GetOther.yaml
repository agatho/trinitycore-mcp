api:
  class: CombatReference
  method: GetOther
  signature: Unit * CombatReference::GetOther(const Unit * me) const
documentation:
  brief: Returns the opposing unit in a combat reference.
  description: The GetOther method retrieves the Unit that is not the provided 'me'
    parameter from a CombatReference. This method is typically used in combat systems
    to determine the opponent of a given unit during an active combat state. The returned
    Unit pointer represents the other participant in the combat relationship, which
    can be useful for implementing combat mechanics such as damage calculation, threat
    generation, or targeting logic. The method assumes that the CombatReference contains
    valid combat data and that the 'me' parameter is a valid Unit within that reference.
  parameters: []
  returns: A pointer to the Unit object that represents the opposing combatant in
    the CombatReference. Returns nullptr if the CombatReference does not contain valid
    combat data or if the provided 'me' unit is not part of the reference.
  examples:
  - title: Basic usage to retrieve opponent
    code: "Unit* opponent = combatRef->GetOther(playerUnit);\nif (opponent != nullptr)\n\
      {\n    // Process combat with opponent\n    SendCombatMessage(\"Fighting against\
      \ \", opponent->GetName());\n}"
    language: cpp
  - title: Using GetOther in damage calculation
    code: "Unit* attacker = combatRef->GetOther(victim);\nif (attacker != nullptr)\n\
      {\n    int damage = CalculateDamage(attacker, victim);\n    victim->DealDamage(damage,\
      \ attacker);\n}"
    language: cpp
  notes: This method is commonly used in TrinityCore's combat system to navigate between
    combatants. It relies on the internal structure of CombatReference which maintains
    a reference to two units involved in combat. The method does not perform any validation
    beyond checking if the CombatReference contains valid data.
  warnings: Ensure that the CombatReference object is valid and properly initialized
    before calling this method. Calling GetOther with an invalid or uninitialized
    CombatReference may result in undefined behavior or nullptr returns. Avoid using
    the returned Unit pointer without verifying its validity, especially in multi-threaded
    environments where combat state might change.
  related:
  - CombatReference::GetVictim
  - CombatReference::GetAttacker
  - CombatReference::IsInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T11:15:07.502952'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
