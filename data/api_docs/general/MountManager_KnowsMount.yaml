api:
  class: MountManager
  method: KnowsMount
  signature: bool MountManager::KnowsMount(int * player, uint32 spellId) const
documentation:
  brief: Checks if a player knows a specific mount spell.
  description: The KnowsMount method determines whether a given player character has
    learned or acquired a specific mount spell. This is commonly used in World of
    Warcraft's TrinityCore server implementation to verify if a player can summon
    or use a particular mount. The method typically checks the player's spellbook
    or learned abilities against the provided spell ID. It returns true if the mount
    is known, false otherwise. This functionality is essential for mount-related game
    mechanics such as mount validation during summoning, UI display logic, and quest
    completion requirements that involve specific mounts.
  parameters:
  - name: player
    description: Pointer to the player object whose mount knowledge is being checked.
      Must be a valid Player instance or nullptr.
  - name: spellId
    description: The unique identifier of the mount spell to check for. This should
      correspond to a valid mount spell in the game's spell database.
  returns: Returns true if the player knows the specified mount spell, false otherwise.
    If the player pointer is null or the spell ID is invalid, behavior may be undefined
    or return false.
  examples:
  - title: Basic Mount Knowledge Check
    code: "Player* player = ...; // Assume valid player object\nuint32 mountSpellId\
      \ = 34090; // Example: Riding Turtle\nbool knowsMount = sMountMgr->KnowsMount(player,\
      \ mountSpellId);\nif (knowsMount)\n{\n    // Player can use this mount\n   \
      \ player->AddItem(12345, 1); // Give a mount item or perform action\n}"
    language: cpp
  - title: Using in Mount Summon Logic
    code: "void HandleMountSummon(Player* player, uint32 spellId)\n{\n    if (sMountMgr->KnowsMount(player,\
      \ spellId))\n    {\n        // Proceed with mount summoning logic\n        player->CastSpell(player,\
      \ spellId, true);\n    }\n    else\n    {\n        // Inform player they don't\
      \ know the mount\n        player->SendSystemMessage(\"You do not know this mount.\"\
      );\n    }\n}"
    language: cpp
  notes: This method likely interacts with internal spell tracking systems within
    TrinityCore. It may cache results or use optimized lookup tables for performance.
    The method assumes the player object is valid and properly initialized. It's recommended
    to validate the player pointer before calling this method in production code.
  warnings: Passing a null player pointer may lead to undefined behavior or crashes.
    Ensure spellId corresponds to an actual mount spell in the database; invalid spell
    IDs might cause unexpected results. This method should not be used for checking
    mount availability during combat without proper safeguards.
  related:
  - MountManager::AddMount
  - MountManager::RemoveMount
  - Player::HasSpell
  - Player::LearnSpell
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T03:13:26.578407'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
