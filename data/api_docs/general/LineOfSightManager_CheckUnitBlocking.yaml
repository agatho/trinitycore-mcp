api:
  class: LineOfSightManager
  method: CheckUnitBlocking
  signature: bool LineOfSightManager::CheckUnitBlocking(const int & from, const int
    & to, Unit * ignoreUnit)
documentation:
  brief: Checks if a unit blocks line of sight between two points.
  description: The CheckUnitBlocking method determines whether a specific unit obstructs
    the line of sight between two given positions in the game world. It is commonly
    used for spell casting validation, NPC interaction checks, and AI decision-making
    processes where visibility between entities matters. The method evaluates the
    spatial relationship between the from and to coordinates relative to the provided
    unit's position and collision boundaries. This function can be used to determine
    if an obstacle prevents direct visual or magical line of sight, which is essential
    for gameplay mechanics such as spell targeting, combat visibility, and NPC behavior
    logic.
  parameters:
  - name: from
    description: The starting point coordinate (typically x or y axis value) from
      where the line of sight check begins.
  - name: to
    description: The ending point coordinate (typically x or y axis value) where the
      line of sight check ends.
  - name: ignoreUnit
    description: A pointer to a Unit object that should be ignored during the blocking
      check. This allows for checking if a unit would block visibility while excluding
      itself from consideration, useful in scenarios like self-targeting spells or
      when evaluating interactions with specific units.
  returns: Returns true if the specified unit blocks the line of sight between the
    two points; otherwise returns false. If no blocking unit is found, or if the ignoreUnit
    parameter prevents a blocking check, it will return false.
  examples:
  - title: Basic usage to check for line of sight blockage
    code: "Unit* target = ...;\nfloat fromX = player->GetPositionX();\nfloat toX =\
      \ target->GetPositionX();\nbool isBlocked = LineOfSightManager::CheckUnitBlocking(fromX,\
      \ toX, player);\nif (isBlocked)\n{\n    // Handle case where line of sight is\
      \ blocked\n}"
    language: cpp
  - title: Using ignoreUnit to exclude self from blocking check
    code: "Unit* caster = ...;\nUnit* target = ...;\nfloat fromX = caster->GetPositionX();\n\
      float toX = target->GetPositionX();\nbool isBlocked = LineOfSightManager::CheckUnitBlocking(fromX,\
      \ toX, caster);\nif (!isBlocked)\n{\n    // Cast spell or perform action since\
      \ line of sight is clear\n}"
    language: cpp
  notes: This method likely performs spatial calculations using the game's collision
    system and may have performance implications when called frequently. It should
    be used judiciously in high-frequency contexts like AI loops or real-time spell
    checks.
  warnings: Ensure that the 'from' and 'to' parameters represent valid coordinates
    within the same map instance; otherwise, results are undefined. Also, passing
    an invalid Unit pointer for ignoreUnit can lead to crashes or incorrect behavior.
  related:
  - CheckLOS
  - IsWithinLOS
  - GetLineOfSight
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T01:56:58.456330'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
