api:
  class: GameObjectTypeBase
  method: OnStateChanged
  signature: void GameObjectTypeBase::OnStateChanged(int oldState, int newState)
documentation:
  brief: Invoked when a game object's state changes, allowing for custom behavior
    implementation.
  description: The OnStateChanged method is a virtual callback function in the GameObjectTypeBase
    class that gets triggered whenever the state of a game object transitions from
    one value to another. This method serves as an extension point for developers
    to implement custom logic that responds to state changes, such as triggering events,
    updating visuals, or modifying object properties based on the new state. The method
    receives both the old and new state values as parameters, enabling conditional
    logic based on the transition. It is typically used in conjunction with game object
    types that support multiple states, like doors, switches, or interactive environment
    elements.
  parameters:
  - name: oldState
    description: The previous state value of the game object before the change occurred.
      This integer represents the state identifier that was active prior to the transition.
  - name: newState
    description: The new state value that the game object has transitioned into. This
      integer represents the state identifier that is now active after the change.
  returns: null
  examples:
  - title: Basic State Change Handler
    code: "class MyGameObjectType : public GameObjectTypeBase {\npublic:\n    void\
      \ OnStateChanged(int oldState, int newState) override {\n        if (newState\
      \ == 1) {\n            // Trigger some action when object enters state 1\n \
      \           SendEventToPlayers(\"Object activated\");\n        } else if (oldState\
      \ == 1 && newState == 0) {\n            // Handle transition from active to\
      \ inactive\n            PlaySound(\"deactivate_sound.wav\");\n        }\n  \
      \  }\n};"
    language: cpp
  - title: Advanced State Change with Conditional Logic
    code: "class DoorGameObjectType : public GameObjectTypeBase {\npublic:\n    void\
      \ OnStateChanged(int oldState, int newState) override {\n        // Update door\
      \ visual based on new state\n        switch (newState) {\n            case 0:\
      \ // Closed\n                SetModel(\"door_closed.mdx\");\n              \
      \  break;\n            case 1: // Open\n                SetModel(\"door_open.mdx\"\
      );\n                break;\n            default:\n                SetModel(\"\
      door_default.mdx\");\n                break;\n        }\n        \n        //\
      \ Notify nearby players of the change\n        if (oldState != newState) {\n\
      \            SendGameObjectUpdateToPlayers();\n        }\n    }\n};"
    language: cpp
  notes: This method is called during state transitions, which may occur frequently
    depending on how often the object's state changes. Developers should ensure their
    implementations are efficient and avoid heavy operations that could impact performance.
    The method is part of the GameObjectTypeBase class hierarchy and must be overridden
    in derived classes to provide custom behavior.
  warnings: Avoid performing blocking or time-consuming operations within this method
    as it may affect game performance. Be cautious when modifying object state within
    this callback, as it can lead to infinite recursion if not handled properly. Ensure
    that both oldState and newState parameters are valid integers representing known
    states for the specific GameObjectType.
  related:
  - GetState
  - SetState
  - IsInState
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T13:47:09.943210'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
