api:
  class: UpdateData
  method: BuildPacket
  signature: bool UpdateData::BuildPacket(WorldPacket * packet)
documentation:
  brief: Constructs and populates a WorldPacket with update data for client synchronization
  description: The BuildPacket method serializes all pending update data into a WorldPacket
    object, preparing it for transmission to clients. This method is typically used
    in the context of object updates, where changes to game entities need to be communicated
    to players in the same area. It aggregates all queued updates and writes them
    into the provided packet buffer, ensuring that the data is properly formatted
    according to the World of Warcraft client protocol. The method returns true if
    the packet was successfully built with data, or false if no update data was available
    to serialize.
  parameters: []
  returns: True if the packet was successfully constructed with update data; false
    if no data was available to build the packet
  examples:
  - title: Basic usage in update handler
    code: "UpdateData data;\n// ... add some updates to data ...\nWorldPacket packet(SMSG_UPDATE_OBJECT,\
      \ 0);\nif (data.BuildPacket(&packet))\n{\n    // Send the packet to players\n\
      \    player->SendDirectMessage(&packet);\n}"
    language: cpp
  notes: This method is commonly used in conjunction with UpdateData::AddUpdate()
    and related update management functions. It's important to ensure that the WorldPacket
    passed to this method has sufficient capacity or is properly initialized before
    calling BuildPacket. The method may modify internal state of the UpdateData object,
    clearing the queued updates after successful packet construction.
  warnings: Calling BuildPacket on an empty UpdateData object will return false and
    produce an empty packet. Ensure that update data has been added to the UpdateData
    instance before calling this method to avoid sending empty packets unnecessarily.
  related:
  - UpdateData::AddUpdate
  - UpdateData::Clear
  - UpdateData::GetSize
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T17:53:34.912691'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
