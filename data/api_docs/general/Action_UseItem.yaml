api:
  class: Action
  method: UseItem
  signature: bool Action::UseItem(BotAI * ai, uint32 itemId, ::Unit * target)
documentation:
  brief: Attempts to use a specified item on a target unit within the AI context.
  description: The UseItem method is designed to instruct a bot AI to use a specific
    item, typically an inventory object, on a given target unit. This action may involve
    consuming consumable items, activating usable objects, or triggering item-specific
    effects. The method evaluates whether the item can be used under current conditions
    and returns a boolean indicating success or failure. It is commonly used in bot
    behavior scripting to automate item usage during combat or questing scenarios.
  parameters:
  - name: ai
    description: Pointer to the BotAI instance that controls the bot's behavior. This
      parameter defines the context and state of the AI performing the action.
  - name: itemId
    description: The unique identifier (ID) of the item to be used. Must correspond
      to a valid item in the game database.
  - name: target
    description: Pointer to the Unit object that will serve as the target for the
      item usage. Can be nullptr if the item is not targeted, or if it's an instant-use
      item.
  returns: Returns true if the item was successfully used on the target; otherwise
    returns false. Failure may occur due to invalid item ID, insufficient conditions
    (e.g., range, cooldown), or inability to interact with the target.
  examples:
  - title: Basic Item Usage Example
    code: "if (action->UseItem(ai, 12345, targetUnit)) {\n    // Item successfully\
      \ used\n    ai->GetBot()->GetSession()->SendAreaTriggerMessage(\"Used Healing\
      \ Potion\");\n}"
    language: cpp
  - title: Conditional Item Usage
    code: "if (ai->GetBot()->GetHealthPct() < 30 && action->UseItem(ai, 25678, nullptr))\
      \ {\n    // Use a health potion when below 30% HP\n    ai->GetBot()->SetReactState(REACT_AGGRESSIVE);\n\
      }"
    language: cpp
  notes: This method relies on the internal item usage logic of TrinityCore, including
    checks for item usability, target validity, and cooldowns. It does not perform
    any direct interaction with the game world beyond triggering the appropriate action
    through the AI system.
  warnings: Ensure that the itemId corresponds to a valid item in the database; otherwise,
    behavior is undefined. Also, be cautious when using this method on items that
    require specific targets or conditions, as misuse may lead to unexpected outcomes
    or client-side errors.
  related:
  - Action::UseSpell
  - Action::CastSpell
  - Action::MoveTo
  - BotAI::GetBot
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T16:34:49.926152'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
