api:
  class: WorldSession
  method: HasPermission
  signature: bool WorldSession::HasPermission(uint32 permissionId)
documentation:
  brief: Checks if the session has the specified permission
  description: The HasPermission method determines whether the current WorldSession
    possesses a specific permission identified by its unique permission ID. This method
    is used extensively throughout TrinityCore's codebase to enforce access control
    and privilege checks for various game commands, features, and administrative functions.
    The permission system in TrinityCore is hierarchical, where each permission corresponds
    to a specific right or capability within the game environment. This method typically
    queries an internal permission bitmask or lookup table associated with the session's
    account or character.
  parameters: []
  returns: Returns true if the session has the specified permission, false otherwise.
    The method will return false if the permission ID is invalid or if the session
    does not possess the requested permission.
  examples:
  - title: Basic Permission Check
    code: "if (session->HasPermission(1234)) {\n    // Allow access to admin command\n\
      \    SendAdminMessage(\"Access granted\");\n} else {\n    // Deny access\n \
      \   SendErrorMessage(\"Insufficient permissions\");\n}"
    language: cpp
  - title: Using Permission in Command Handler
    code: "void HandleTeleportCommand(WorldSession* session, const std::string& args)\
      \ {\n    if (!session->HasPermission(5678)) {\n        session->SendNotification(\"\
      You do not have permission to use this command.\");\n        return;\n    }\n\
      \    // Proceed with teleport logic\n}"
    language: cpp
  notes: This method is typically used in conjunction with the PermissionManager system.
    The permission IDs are usually defined in constants or configuration files and
    correspond to specific rights like 'command.teleport', 'command.gm', etc. The
    implementation likely caches permission checks for performance reasons, especially
    for frequently accessed permissions.
  warnings: Be cautious when using this method in high-frequency code paths as it
    may involve lookups or bitmask operations that could impact performance if called
    excessively. Also ensure that permission IDs are valid and properly defined to
    avoid unexpected behavior.
  related:
  - GetSecurity
  - SetSecurity
  - HasPermissionGroup
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T19:08:40.641182'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
