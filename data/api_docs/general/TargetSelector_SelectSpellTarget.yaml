api:
  class: TargetSelector
  method: SelectSpellTarget
  signature: SelectionResult TargetSelector::SelectSpellTarget(uint32 spellId, float
    maxRange)
documentation:
  brief: Selects the most appropriate target for a spell based on predefined selection
    criteria and maximum range.
  description: The SelectSpellTarget method determines the optimal target for a given
    spell within a specified maximum range. It evaluates available targets according
    to priority rules such as threat level, distance, health percentage, or other
    AI-specific factors. This method is typically used by AI-controlled creatures
    or NPCs when deciding which entity to cast a spell upon. The selection process
    considers both the spell's requirements and the current state of potential targets
    in the vicinity. The method returns a SelectionResult structure that indicates
    whether a target was successfully chosen and provides details about the selected
    target.
  parameters:
  - name: spellId
    description: The unique identifier of the spell for which to select a target.
      This ID must correspond to a valid spell entry in the game's database.
  - name: maxRange
    description: Maximum distance (in yards) within which to search for eligible targets.
      Targets beyond this range will be ignored during selection.
  returns: A SelectionResult object indicating the outcome of the target selection
    process. The result contains information about whether a valid target was found
    and, if so, details about that target such as its GUID or pointer.
  examples:
  - title: Basic usage in AI behavior
    code: "if (SelectionResult result = SelectSpellTarget(12345, 30.0f); result.IsValid())\
      \ {\n    // Cast spell on selected target\n    caster->CastSpell(result.GetTarget(),\
      \ 12345);\n}"
    language: cpp
  - title: Using selection result with error handling
    code: "SelectionResult target = SelectSpellTarget(98765, 25.0f);\nif (!target.IsValid())\
      \ {\n    // No suitable target found\n    return false;\n}\nelse if (target.IsTargetValid())\
      \ {\n    // Proceed with spell casting\n    DoCast(target.GetTarget());\n  \
      \  return true;\n}"
    language: cpp
  notes: This method performs internal logic to prioritize targets based on AI decision-making
    rules. It may consider factors like target threat, health status, and proximity.
    The method does not perform any spell validation; it assumes the provided spellId
    is valid for use with this creature's AI system.
  warnings: Ensure that the spellId passed to this function corresponds to a spell
    that can be cast by the current unit. Passing an invalid or non-targetable spell
    ID may lead to undefined behavior or no target being selected. Also, note that
    this method does not account for line-of-sight restrictions; it only checks distance.
  related:
  - GetTarget
  - IsInRange
  - CanCastSpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T01:14:27.587171'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
