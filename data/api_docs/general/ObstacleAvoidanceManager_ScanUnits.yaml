api:
  class: ObstacleAvoidanceManager
  method: ScanUnits
  signature: void ObstacleAvoidanceManager::ScanUnits(const DetectionContext & context,
    int & obstacles)
documentation:
  brief: Scans for nearby units that may obstruct movement paths.
  description: The ScanUnits method evaluates the current detection context to identify
    and count potential obstacles in the environment. It analyzes unit positions,
    sizes, and movement constraints within the specified detection range to determine
    how many entities could impede pathfinding or movement. This method is typically
    invoked during AI behavior updates to assist with obstacle avoidance calculations.
  parameters:
  - name: context
    description: The DetectionContext object containing parameters such as detection
      range, unit type filters, and other relevant settings for identifying obstacles.
  - name: obstacles
    description: An integer reference that will be updated with the total count of
      detected obstacle units found within the specified detection context.
  returns: null
  examples:
  - title: Basic Usage in AI Update Loop
    code: "void MyAI::UpdateAI()\n{\n    DetectionContext context;\n    context.range\
      \ = 10.0f;\n    context.filter = DETECTION_FILTER_UNITS;\n    int obstacleCount\
      \ = 0;\n    m_obstacleManager.ScanUnits(context, obstacleCount);\n    if (obstacleCount\
      \ > 0)\n    {\n        // Handle obstacle avoidance logic\n    }\n}"
    language: cpp
  notes: This method is part of the AI pathfinding subsystem and should be called
    regularly during NPC or creature AI updates to maintain accurate obstacle data.
    The detection context must be properly initialized before calling this method.
  warnings: Ensure that the DetectionContext parameters are valid; invalid ranges
    or filters may lead to unexpected behavior or performance degradation. This method
    modifies the obstacles parameter directly, so ensure it's not being used elsewhere
    concurrently without proper synchronization.
  related:
  - GetDetectionContext
  - ClearObstacles
  - UpdatePath
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T01:18:16.216027'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
