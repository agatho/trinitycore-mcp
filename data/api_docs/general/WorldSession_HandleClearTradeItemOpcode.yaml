api:
  class: WorldSession
  method: HandleClearTradeItemOpcode
  signature: void WorldSession::HandleClearTradeItemOpcode(WorldPackets::Trade::ClearTradeItem
    & clearTradeItem)
documentation:
  brief: Clears a trade item from the active trade window
  description: Handles the client opcode to clear a specific trade item from the current
    trade session. This method is invoked when a player clicks the 'clear' button
    on a trade slot, removing the item that was previously placed in that slot. The
    method validates the trade state and ensures the player has an active trade session
    before processing the request. It updates the trade window state and sends appropriate
    feedback to both trading parties.
  parameters: []
  returns: null
  examples:
  - title: Clearing a trade item
    code: "void WorldSession::HandleClearTradeItemOpcode(WorldPackets::Trade::ClearTradeItem\
      \ & clearTradeItem)\n{\n    if (!GetPlayer() || !GetPlayer()->GetTrader())\n\
      \        return;\n\n    // Clear the specified trade slot\n    GetPlayer()->GetTrader()->ClearTradeSlot(clearTradeItem.TradeSlot);\n\
      }"
    language: cpp
  notes: This method is part of the trade system and relies on proper state management.
    The client sends this opcode when a player wants to remove an item from their
    trade window, which must be validated against the current trade session state.
  warnings: null
  related:
  - HandleTradeUpdateOpcode
  - HandleSetTradeItemOpcode
  - HandleAcceptTradeOpcode
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T22:24:54.339456'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
