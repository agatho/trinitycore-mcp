api:
  class: DispelInfo
  method: SetRemovedCharges
  signature: void DispelInfo::SetRemovedCharges(uint8 amount)
documentation:
  brief: Sets the number of charges removed from a dispel effect.
  description: The SetRemovedCharges method updates the internal counter tracking
    how many charges have been removed from a dispel effect. This is typically used
    in conjunction with spell dispel mechanics where effects with multiple charges
    are reduced or eliminated. The method directly modifies the DispelInfo object's
    internal state to reflect the number of charges that were successfully removed
    during a dispel operation.
  parameters:
  - name: amount
    description: The number of charges to set as removed. Valid values are unsigned
      8-bit integers (0-255). This represents how many charges were stripped from
      the affected aura or effect.
  returns: null
  examples:
  - title: Basic Usage in Dispel Handler
    code: 'DispelInfo dispelInfo;

      dispelInfo.SetRemovedCharges(3);

      // The dispel info now indicates that 3 charges were removed from the aura.'
    language: cpp
  - title: Setting Removed Charges Based on Spell Effect
    code: 'uint8 chargesToRemove = spellInfo->GetEffectMiscValue(0); // Get charges
      from spell effect

      DispelInfo dispelInfo;

      dispelInfo.SetRemovedCharges(chargesToRemove);

      // Updates the dispel info with the calculated number of charges removed'
    language: cpp
  notes: This method is part of the aura dispel system in TrinityCore and directly
    affects how dispel results are reported to clients. It should be called after
    determining how many charges were successfully removed during a dispel operation,
    typically within spell effect handlers or aura application logic.
  warnings: Ensure that the amount parameter does not exceed the maximum number of
    charges originally present on the aura being dispelled. Setting an invalid value
    may lead to incorrect dispel reporting or client-side visual glitches.
  related:
  - GetRemovedCharges
  - SetRemoved
  - IsRemoved
metadata:
  confidence: 0.95
  generated_at: '2025-11-08T18:29:23.886683'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
