api:
  class: InstanceScript
  method: AddObject
  signature: void InstanceScript::AddObject(int * obj, uint32 type, bool add)
documentation:
  brief: Adds or removes a game object reference to/from the instance script's internal
    tracking system.
  description: The AddObject method manages the registration and unregistration of
    game objects within an instance script. It allows the script to track specific
    game objects by their pointer and type, enabling efficient retrieval and management
    during instance events. The method takes a pointer to an object, its type identifier,
    and a boolean flag indicating whether to add or remove the object from tracking.
    This functionality is essential for managing dynamic elements within dungeon or
    raid instances that need to be referenced later for event handling, state management,
    or cleanup operations.
  parameters:
  - name: obj
    description: Pointer to the game object to be added or removed. Must be a valid
      pointer to a GameObject instance or nullptr.
  - name: type
    description: Type identifier for the object, used to categorize and retrieve objects
      of specific types within the instance.
  - name: add
    description: Boolean flag indicating whether to add (true) or remove (false) the
      object from tracking. When true, the object is registered; when false, it's
      unregistered.
  returns: null
  examples:
  - title: Adding a Door Object
    code: "GameObject* door = instance->GetGameObject(12345);\nif (door)\n{\n    AddObject(&door,\
      \ TYPE_DOOR, true);\n}"
    language: cpp
  - title: Removing a Chest Object After Loot
    code: "GameObject* chest = instance->GetGameObject(67890);\nif (chest)\n{\n  \
      \  AddObject(&chest, TYPE_CHEST, false);\n    // Chest is now removed from tracking\n\
      }"
    language: cpp
  notes: This method is typically used internally by the TrinityCore framework when
    objects are created or destroyed within an instance. Developers should ensure
    that object pointers remain valid throughout their lifetime in the tracking system.
    The method does not perform any validation on the object itself, so it's the caller's
    responsibility to ensure the pointer points to a valid GameObject.
  warnings: Passing invalid or null pointers can lead to undefined behavior. Always
    verify that the GameObject exists and is valid before calling this method. Be
    cautious about removing objects from tracking after they have been destroyed,
    as this may cause crashes if other code attempts to access them.
  related:
  - GetGameObject
  - GetInstanceData
  - SaveToDB
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T11:27:22.129151'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
