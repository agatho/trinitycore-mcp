api:
  class: TradeSession
  method: IsBalanced
  signature: bool TradeSession::IsBalanced(float tolerance) const
documentation:
  brief: Checks whether the trade session is balanced within a given tolerance.
  description: The IsBalanced method determines if the items and gold being traded
    between two players in a trade session are properly balanced according to the
    game's trading rules. It evaluates both the item values and the gold amounts to
    ensure that neither party gains an unfair advantage during the trade. This method
    is typically used internally by the TrinityCore framework to validate trades before
    they are finalized. The tolerance parameter allows for small discrepancies due
    to rounding or minor value differences, making the balance check more robust against
    floating-point precision issues.
  parameters: []
  returns: Returns true if the trade session is balanced within the specified tolerance;
    otherwise returns false. A balanced trade means that the total value of items
    and gold offered by both parties is equivalent, accounting for the provided tolerance
    level.
  examples:
  - title: Basic Trade Balance Check
    code: "TradeSession* session = player1->GetTradeData();\nif (session->IsBalanced(0.01f))\
      \ {\n    // Proceed with trade acceptance\n    session->AcceptTrade();\n} else\
      \ {\n    // Reject the trade as unbalanced\n    session->CancelTrade();\n}"
    language: cpp
  notes: This method likely performs a comparison of item values and gold amounts
    using floating-point arithmetic. The tolerance parameter is crucial for handling
    potential precision errors that may occur when calculating item worth or gold
    values in the game world.
  warnings: null
  related:
  - TradeSession::AcceptTrade
  - TradeSession::CancelTrade
  - TradeSession::GetTradeData
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T14:24:53.377745'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
