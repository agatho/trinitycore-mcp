api:
  class: BalanceDoTTracker
  method: GetTimeRemaining
  signature: uint32 BalanceDoTTracker::GetTimeRemaining(int guid, uint32 spellId)
    const
documentation:
  brief: Retrieves the remaining time in milliseconds for a specific DoT spell on
    a unit.
  description: The GetTimeRemaining method is used to determine how much time is left
    before a Damage over Time (DoT) spell expires on a target unit. This function
    takes the GUID of the unit and the spell ID of the DoT as inputs, and returns
    the remaining duration in milliseconds. It's commonly used in combat AI logic
    to make decisions based on spell durations, such as when to reapply a DoT or how
    long to wait before casting another spell. The method assumes that the DoT tracking
    data is already initialized for the specified unit and spell.
  parameters:
  - name: guid
    description: The unique identifier (GUID) of the target unit affected by the DoT
      spell. This value identifies the specific creature or player in the game world.
  - name: spellId
    description: The ID of the Damage over Time (DoT) spell whose remaining duration
      is being queried. This corresponds to the spell entry in the database.
  returns: Returns a uint32 value representing the time remaining for the DoT spell
    on the specified unit, measured in milliseconds. If the spell is not found or
    has expired, it may return 0 or an undefined value.
  examples:
  - title: Basic Usage to Check DoT Duration
    code: "uint32 remainingTime = tracker->GetTimeRemaining(playerGuid, 12345);\n\
      if (remainingTime > 0)\n{\n    // DoT is active, proceed with logic\n    //\
      \ For example, reapply if less than 2 seconds remain\n}"
    language: cpp
  - title: Using Time Remaining for AI Decision Making
    code: "uint32 dotTime = tracker->GetTimeRemaining(targetGuid, 98765);\nif (dotTime\
      \ < 3000) // Less than 3 seconds\n{\n    // Reapply DoT or cast a new one\n\
      \    caster->CastSpell(target, DOT_SPELL_ID, true);\n}"
    language: cpp
  notes: This method relies on internal tracking of DoT spells and their durations.
    It should only be called after the BalanceDoTTracker has been properly initialized
    with relevant spell data for the unit. The returned value is in milliseconds,
    so division by 1000 can convert it to seconds if needed.
  warnings: Ensure that both the GUID and spellId are valid before calling this method;
    otherwise, the behavior is undefined. Also, be aware that DoT durations may vary
    based on caster buffs or debuffs, which could affect the accuracy of time calculations.
  related:
  - GetTimeRemaining
  - IsDoTActive
  - AddDoT
  - RemoveDoT
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T20:07:44.528417'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
