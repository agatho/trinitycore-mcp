api:
  class: QuestTurnIn
  method: HandleTurnInError
  signature: void QuestTurnIn::HandleTurnInError(Player * bot, uint32 questId, const
    std::string & error)
documentation:
  brief: Handles quest turn-in errors by sending an error message to the player
  description: The HandleTurnInError method is responsible for managing and communicating
    quest-related errors when a player attempts to turn in a quest. It takes the player
    object, quest identifier, and an error message string as inputs, then formats
    and sends an appropriate error response back to the player client. This method
    is typically invoked during quest validation or completion checks when certain
    conditions are not met, such as missing required items, insufficient reputation,
    or incorrect quest state. The method ensures that players receive clear feedback
    about why their quest turn-in attempt failed.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the player attempting to
      turn in the quest
  - name: questId
    description: Unique identifier of the quest for which the error is being handled,
      used to reference the specific quest data
  - name: error
    description: String containing the error message that will be sent to the player
      client to explain why the quest turn-in failed
  returns: null
  examples:
  - title: Basic Error Handling Example
    code: "void SomeQuestHandler(Player* player, uint32 questId) {\n    if (!player->HasItemCount(ITEM_ID_REQUIRED,\
      \ COUNT_REQUIRED)) {\n        QuestTurnIn::HandleTurnInError(player, questId,\
      \ \"You do not have the required items.\");\n        return;\n    }\n    //\
      \ Continue with normal quest processing\n}"
    language: cpp
  - title: Advanced Error Handling with Multiple Conditions
    code: "void AdvancedQuestTurnIn(Player* player, uint32 questId) {\n    if (player->GetQuestStatus(questId)\
      \ != QUEST_STATUS_COMPLETE) {\n        QuestTurnIn::HandleTurnInError(player,\
      \ questId, \"This quest is not complete.\");\n        return;\n    }\n    if\
      \ (!player->CanShareQuest(questId)) {\n        QuestTurnIn::HandleTurnInError(player,\
      \ questId, \"You cannot turn in this quest at this time.\");\n        return;\n\
      \    }\n    // Proceed with valid turn-in logic\n}"
    language: cpp
  notes: This method is part of the TrinityCore's quest handling system and integrates
    with the player's client to display error messages. It should be called only when
    a quest turn-in attempt fails due to validation issues rather than server-side
    errors. The error message string is directly sent to the client without additional
    processing, so ensure proper formatting and localization if needed.
  warnings: Do not call this method for successful quest completions or normal flow
    control. Only use it when an actual error condition exists that prevents quest
    completion. Improper usage may confuse players with incorrect error messages or
    cause client-side display issues.
  related:
  - HandleQuestComplete
  - HandleQuestAccept
  - GetQuestStatus
  - CanShareQuest
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T04:28:39.002198'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
