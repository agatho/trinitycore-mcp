api:
  class: PlayerScript
  method: OnUpdateZone
  signature: void PlayerScript::OnUpdateZone(Player * player, uint32 newZone, uint32
    newArea)
documentation:
  brief: Called when a player's zone changes during gameplay
  description: The OnUpdateZone method is invoked whenever a Player object transitions
    from one zone to another within the game world. This event occurs during player
    movement and is part of the TrinityCore scripting system's hook mechanism for
    monitoring player location changes. The method provides access to both the new
    zone ID and area ID, allowing scripts to implement zone-specific behaviors, triggers,
    or notifications. It serves as a key point for developers to customize gameplay
    experiences based on geographic locations within the game world.
  parameters:
  - name: player
    description: Pointer to the Player object whose zone is being updated. This parameter
      represents the specific player instance that triggered the zone change event.
  - name: newZone
    description: The numeric ID of the new zone the player has entered. Zone IDs are
      defined in the game's database and correspond to different geographical areas
      within the world.
  - name: newArea
    description: The numeric ID of the new area within the zone that the player has
      entered. Area IDs provide more granular location information than zones, often
      representing specific regions like cities or dungeons.
  returns: null
  examples:
  - title: Basic Zone Change Logging
    code: "class MyPlayerScript : public PlayerScript\n{\npublic:\n    void OnUpdateZone(Player*\
      \ player, uint32 newZone, uint32 newArea) override\n    {\n        sLog->outString(\"\
      Player %s entered zone %u, area %u\", player->GetName().c_str(), newZone, newArea);\n\
      \    }\n};"
    language: cpp
  - title: Zone-Based Quest Trigger
    code: "class QuestZoneScript : public PlayerScript\n{\npublic:\n    void OnUpdateZone(Player*\
      \ player, uint32 newZone, uint32 newArea) override\n    {\n        if (newZone\
      \ == 1411) // Example zone ID for Dalaran\n        {\n            player->AddQuest(12345);\
      \ // Grant quest upon entering Dalaran\n        }\n    }\n};"
    language: cpp
  notes: This method is called frequently during gameplay as players move through
    the world. Developers should ensure that any logic implemented within this function
    is optimized to avoid performance bottlenecks. The method may be invoked multiple
    times rapidly when a player moves quickly or teleports, so scripts should handle
    rapid successive calls gracefully.
  warnings: Avoid performing heavy operations or database queries within this method
    as it can impact game performance. Do not modify the player object in ways that
    could cause instability during zone transitions. Be cautious of infinite loops
    if scripts modify player location in response to zone changes.
  related:
  - OnUpdateArea
  - OnPlayerEnterWorld
  - OnPlayerLeaveWorld
metadata:
  confidence: 0.95
  generated_at: '2025-10-31T20:59:02.566955'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
