api:
  class: ArmsWarriorRefactored
  method: ShouldUseAvatar
  signature: bool ArmsWarriorRefactored::ShouldUseAvatar(::Unit * target) const
documentation:
  brief: Determines whether the Arms Warrior should use the Avatar ability based on
    current combat state and target conditions.
  description: The ShouldUseAvatar method evaluates the current combat situation and
    target properties to decide if the Arms Warrior should activate the Avatar ability.
    This method considers factors such as threat level, target health percentage,
    available rage, and combat duration. It is typically used within the AI decision-making
    process to optimize spell usage for maximum damage output. The method does not
    directly cast the spell but returns a boolean value indicating whether casting
    Avatar would be beneficial at that moment.
  parameters: []
  returns: Returns true if the Avatar ability should be used based on current combat
    conditions; otherwise, returns false.
  examples:
  - title: Basic Usage in AI Logic
    code: "if (player->GetAI()->ShouldUseAvatar(target)) {\n    player->CastSpell(target,\
      \ AVATAR_SPELL_ID, true);\n}"
    language: cpp
  - title: Integration with Combat State Check
    code: "if (player->GetAI()->ShouldUseAvatar(target) && player->GetPower(POWER_RAGE)\
      \ >= 100) {\n    player->CastSpell(target, AVATAR_SPELL_ID, true);\n} else {\n\
      \    // Continue with other abilities\n}"
    language: cpp
  notes: This method is part of the Arms Warrior's combat decision logic and should
    be called frequently during combat to make real-time tactical decisions. The implementation
    likely takes into account recent damage dealt, target proximity, and whether other
    cooldowns are available.
  warnings: Ensure that this method is only called during active combat scenarios
    as it may return incorrect values outside of combat. Also, be aware that the method
    might not consider all possible situational factors like raid buffs or debuffs
    that could affect the decision.
  related:
  - GetTargetHealthPercentage
  - GetRage
  - IsInCombat
  - CanCastAvatar
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T06:31:32.118409'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
