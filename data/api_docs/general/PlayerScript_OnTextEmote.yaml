api:
  class: PlayerScript
  method: OnTextEmote
  signature: void PlayerScript::OnTextEmote(Player * player, uint32 textEmote, uint32
    emoteNum, int guid)
documentation:
  brief: Handles text emote events triggered by a player in the game world
  description: The OnTextEmote method is a virtual callback function that gets invoked
    when a player performs a text emote action, such as saying 'Hello' or 'Goodbye'.
    This method allows script developers to intercept and customize behavior when
    players use text-based emotes. The event occurs server-side and provides information
    about the emote type, number, and target. It is part of the PlayerScript system
    which enables custom logic for player-related events in TrinityCore.
  parameters:
  - name: player
    description: Pointer to the Player object that triggered the text emote. This
      represents the player character performing the action.
  - name: textEmote
    description: Identifier for the type of text emote being performed. This corresponds
      to predefined emote IDs used in the game's database.
  - name: emoteNum
    description: The sequence number or instance count of the emote, useful for tracking
      multiple occurrences of the same emote type.
  - name: guid
    description: Global Unique Identifier of the target entity (if applicable). May
      be zero if no specific target is involved in the emote.
  returns: null
  examples:
  - title: Basic implementation to log text emotes
    code: "class MyPlayerScript : public PlayerScript\n{\npublic:\n    void OnTextEmote(Player*\
      \ player, uint32 textEmote, uint32 emoteNum, int guid) override\n    {\n   \
      \     sLog->outString(\"Player %s performed text emote %u\", player->GetName().c_str(),\
      \ textEmote);\n    }\n};"
    language: cpp
  - title: Custom behavior for specific emotes
    code: "class MyPlayerScript : public PlayerScript\n{\npublic:\n    void OnTextEmote(Player*\
      \ player, uint32 textEmote, uint32 emoteNum, int guid) override\n    {\n   \
      \     if (textEmote == TEXT_EMOTE_SAY)\n        {\n            // Send a custom\
      \ message to nearby players\n            ChatHandler(player->GetSession()).SendSysMessage(\"\
      You said something!\");\n        }\n    }\n};"
    language: cpp
  notes: This method is called during the processing of player emote events and should
    not block execution for extended periods. The textEmote parameter maps to emotes
    defined in the `emotes` table of the TrinityCore database. Performance considerations
    include avoiding heavy computations or database queries within this handler.
  warnings: Do not modify the player object directly inside this method unless absolutely
    necessary, as it may cause unexpected behavior. Ensure that all emote IDs used
    are valid and registered in the game's emotes table to prevent undefined behavior.
  related:
  - PlayerScript::OnEmote
  - PlayerScript::OnTextEmoteComplete
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T01:10:39.743272'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
