api:
  class: LFGPlayerScript
  method: OnMapChanged
  signature: void LFGPlayerScript::OnMapChanged(Player * player)
documentation:
  brief: Handles player map change events within the LFG system
  description: The OnMapChanged method is invoked when a player's current map changes,
    typically during zone transitions or instance entrances. This method allows LFG
    (Looking for Group) scripts to respond to map changes by updating group matching
    criteria, clearing pending queues, or adjusting player participation status. The
    method is part of the LFGPlayerScript class which provides hooks for customizing
    LFG behavior based on player actions and game state changes.
  parameters:
  - name: player
    description: Pointer to the Player object whose map has changed. This parameter
      represents the affected player in the LFG system.
  returns: null
  examples:
  - title: Basic Map Change Handler
    code: "class MyLFGScript : public LFGPlayerScript\n{\npublic:\n    MyLFGScript()\
      \ : LFGPlayerScript(\"MyLFGScript\") {}\n    \n    void OnMapChanged(Player*\
      \ player) override\n    {\n        // Clear any pending LFG queues when player\
      \ changes maps\n        if (player->GetGroup())\n            player->GetGroup()->RemoveLfgQueue();\n\
      \        \n        // Log the map change for debugging purposes\n        LOG_DEBUG(\"\
      lfg\", \"Player {} changed maps to {}\", player->GetName(), player->GetMapId());\n\
      \    }\n};"
    language: cpp
  notes: This method is called from the core game loop during map transition events.
    It's important to note that this function may be invoked multiple times during
    a single player movement, so performance optimizations should be considered. The
    player object passed in will have updated map information when this method executes.
  warnings: Avoid performing heavy operations or blocking calls within this method
    as it can impact game performance. Do not modify the player's group membership
    directly from this handler without proper synchronization.
  related:
  - OnLfgJoin
  - OnLfgLeave
  - OnLfgUpdateStatus
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T04:02:53.514679'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
