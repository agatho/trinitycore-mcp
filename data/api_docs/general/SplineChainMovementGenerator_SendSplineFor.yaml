api:
  class: SplineChainMovementGenerator
  method: SendSplineFor
  signature: void SplineChainMovementGenerator::SendSplineFor(Unit * owner, int index,
    int & duration)
documentation:
  brief: Sends a spline movement packet for the specified index in the spline chain
    to the given unit's client.
  description: The SendSplineFor method is responsible for transmitting a specific
    spline movement animation from a spline chain to the client of the provided unit.
    This method is typically used in conjunction with spline-based movement generators
    to control how creatures or NPCs move along predefined paths. It calculates and
    sends the appropriate spline data based on the index within the chain, ensuring
    that the visual movement aligns with the intended path. The duration parameter
    is updated to reflect the calculated time needed for the movement to complete.
    This method plays a crucial role in creating smooth, realistic movement animations
    in World of Warcraft's TrinityCore environment.
  parameters:
  - name: owner
    description: Pointer to the Unit object (creature or player) that owns the spline
      chain movement. This unit will receive the spline movement packet.
  - name: index
    description: Integer index specifying which spline in the chain should be sent.
      This determines which part of the path is being executed.
  - name: duration
    description: Reference to an integer that will be updated with the calculated
      duration (in milliseconds) for the movement to complete.
  returns: null
  examples:
  - title: Basic usage of SendSplineFor
    code: 'Unit* target = ...; // some unit

      int splineIndex = 0;

      int moveDuration = 0;

      chainGenerator->SendSplineFor(target, splineIndex, moveDuration);'
    language: cpp
  - title: Using SendSplineFor in a movement update loop
    code: "void UpdateMovement()\n{\n    for (int i = 0; i < splineChainSize; ++i)\n\
      \    {\n        int duration = 0;\n        SendSplineFor(m_owner, i, duration);\n\
      \        // Use duration to manage timing between splines\n    }\n}"
    language: cpp
  notes: This method assumes that the spline chain has been properly initialized and
    populated with valid spline data. The index parameter must be within the bounds
    of the spline chain; otherwise, undefined behavior may occur. It is typically
    called during movement updates or when a new spline segment needs to be sent to
    the client.
  warnings: Incorrectly setting the index value can lead to sending invalid or incomplete
    spline data, potentially causing visual glitches or movement anomalies. The duration
    reference should not be used before this method completes, as it will be updated
    by the function.
  related:
  - SplineChainMovementGenerator::Initialize
  - SplineChainMovementGenerator::Update
  - SplineChainMovementGenerator::GetSpline
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T18:47:01.830894'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
