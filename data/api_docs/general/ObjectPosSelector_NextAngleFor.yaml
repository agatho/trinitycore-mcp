api:
  class: ObjectPosSelector
  method: NextAngleFor
  signature: bool ObjectPosSelector::NextAngleFor(const UsedPosList::value_type &
    usedPos, float sign, UsedPosType uptype, float & angle)
documentation:
  brief: Calculates and returns the next available angle for positioning an object,
    considering previously used positions.
  description: The NextAngleFor method is used in object placement logic to determine
    the next suitable angular position for an object, such as when spawning creatures
    or game objects in a circular or radial pattern. It takes into account already
    occupied angles and ensures that new placements do not overlap with existing ones.
    The method modifies the provided angle reference parameter and returns true if
    a valid angle was found, false otherwise. This functionality is crucial for maintaining
    proper spatial distribution of entities in World of Warcraft's game world, particularly
    during dynamic spawning scenarios like boss encounters or event-based object placement.
  parameters:
  - name: usedPos
    description: A reference to a used position entry that contains information about
      previously occupied angles and positions. This is typically part of the UsedPosList
      container.
  - name: sign
    description: A floating-point value indicating the direction of angle calculation,
      usually either +1.0f or -1.0f, to control clockwise or counter-clockwise progression.
  - name: uptype
    description: The type of used position being considered, which determines how
      the angle selection algorithm treats overlapping or adjacent positions.
  - name: angle
    description: A reference to a float value that will be updated with the calculated
      next valid angle if the method succeeds. This is an output parameter.
  returns: Returns true if a valid next angle was successfully calculated and stored
    in the angle parameter; otherwise returns false when no suitable angle can be
    found.
  examples:
  - title: Basic usage for finding next angle
    code: "ObjectPosSelector selector;\nfloat angle = 0.0f;\nUsedPosList::value_type\
      \ usedPos;\n// Assume usedPos is initialized with valid data\nif (selector.NextAngleFor(usedPos,\
      \ 1.0f, USED_POS_ANGLE, angle)) {\n    // Use the calculated angle for object\
      \ placement\n    printf(\"Next angle: %f\\n\", angle);\n} else {\n    printf(\"\
      No valid angle found\\n\");\n}"
    language: cpp
  notes: This method is part of a larger system for calculating optimal object positioning
    in circular or radial patterns. It's commonly used during dynamic spawning routines
    where multiple objects need to be placed without overlapping. The implementation
    uses internal state tracking and angle-based calculations to ensure spatial distribution.
  warnings: Ensure that the 'usedPos' parameter contains valid data before calling
    this method, as invalid entries may lead to incorrect angle calculations or failure
    to find a suitable position. Also, note that repeated calls may eventually fail
    if all possible angles are exhausted.
  related:
  - ObjectPosSelector::Initialize
  - ObjectPosSelector::NextUsedPos
  - ObjectPosSelector::AddUsedPos
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T07:38:57.280124'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
