api:
  class: AuraEffect
  method: HandleAuraModStunAndDisableGravity
  signature: void AuraEffect::HandleAuraModStunAndDisableGravity(const AuraApplication
    * aurApp, uint8 mode, bool apply) const
documentation:
  brief: Applies or removes a stun and gravity disable effect on the target.
  description: This method handles the application or removal of an aura that simultaneously
    applies a stun effect and disables gravity for the affected unit. The stun prevents
    the target from moving or taking actions, while disabling gravity allows the target
    to remain suspended in place. This is commonly used by spells such as 'Fear' or
    'Polymorph' effects that immobilize and suspend enemies. The method is called
    internally by the aura system during aura application or removal events.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura being
      applied or removed. Contains information about the aura's state, target, and
      application context.
  - name: mode
    description: The mode of operation for the aura effect. Typically indicates whether
      this is an initial application (0) or a periodic tick (1), though exact values
      depend on implementation details in TrinityCore.
  - name: apply
    description: Boolean flag indicating whether to apply (true) or remove (false)
      the aura effect. When true, the stun and gravity disable effects are applied;
      when false, they are removed.
  returns: null
  examples:
  - title: Basic Usage in Aura Application
    code: "void MyStunAura::HandleApply(AuraApplication const* aurApp, uint8 mode,\
      \ bool apply)\n{\n    HandleAuraModStunAndDisableGravity(aurApp, mode, apply);\n\
      }"
    language: cpp
  - title: Custom Stun and Gravity Effect
    code: "void CustomStunEffect::HandlePeriodic(AuraApplication const* aurApp, uint8\
      \ mode, bool apply)\n{\n    if (apply)\n    {\n        // Apply stun and disable\
      \ gravity\n        HandleAuraModStunAndDisableGravity(aurApp, mode, true);\n\
      \    }\n    else\n    {\n        // Remove effects\n        HandleAuraModStunAndDisableGravity(aurApp,\
      \ mode, false);\n    }\n}"
    language: cpp
  notes: This method is part of the aura effect handling system and should only be
    called from within the context of an aura application or removal. It modifies
    the target's movement flags and may interact with other systems like combat state
    or unit movement logic.
  warnings: Do not call this method directly outside of the aura system as it relies
    on proper aura application context. Incorrect usage can lead to inconsistent character
    states or client-server desynchronization.
  related:
  - AuraEffect::HandleAuraModStun
  - AuraEffect::HandleAuraDisableGravity
  - AuraApplication::GetTarget()
  - AuraEffect::Apply
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T13:03:35.020780'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
