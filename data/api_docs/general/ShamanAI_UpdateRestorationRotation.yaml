api:
  class: ShamanAI
  method: UpdateRestorationRotation
  signature: bool ShamanAI::UpdateRestorationRotation(int * target)
documentation:
  brief: Updates the Shaman's restoration spell rotation logic and returns whether
    a spell was successfully cast.
  description: The UpdateRestorationRotation method manages the AI behavior for a
    shaman's restoration specialization, determining which healing spells to cast
    based on target health, mana availability, and combat state. This method evaluates
    the current target's health percentage, checks for necessary buffs or debuffs,
    and selects appropriate restoration spells such as Healing Wave, Lesser Healing
    Wave, or Riptide. It also handles mana management and ensures proper spell prioritization
    according to the shaman's current rotation strategy. The method returns true if
    a spell was successfully cast during this update cycle, false otherwise.
  parameters: []
  returns: Returns true if a restoration spell was successfully cast during the update
    cycle, false if no spell was cast or if conditions prevented casting.
  examples:
  - title: Basic Usage in AI Update Loop
    code: "void ShamanAI::UpdateAI(const uint32 diff)\n{\n    if (UpdateRestorationRotation(nullptr))\n\
      \        return;\n    // Other AI logic\n}"
    language: cpp
  notes: This method is typically called within the main AI update loop and should
    not be invoked directly outside of combat or when the shaman is not in a valid
    state for casting restoration spells. The method assumes that the shaman has a
    valid target set through other means (e.g., via SetTarget).
  warnings: Do not call this method while the shaman is in an invalid state such as
    being stunned, feared, or out of mana. Calling it without a proper target may
    result in undefined behavior or failed spell casts.
  related:
  - ShamanAI::UpdateCombatRotation
  - ShamanAI::GetTarget
  - ShamanAI::SetTarget
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T23:41:13.704138'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
