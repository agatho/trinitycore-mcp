api:
  class: Item
  method: CalculateDurabilityRepairCost
  signature: uint64 Item::CalculateDurabilityRepairCost(float discount) const
documentation:
  brief: Calculates the cost to repair an item's durability based on its current state
    and a discount factor.
  description: The CalculateDurabilityRepairCost method computes the gold cost required
    to restore an item's durability to its maximum value. This calculation takes into
    account the item's current durability percentage, its base repair cost, and applies
    a discount multiplier that can be passed as a parameter. The method is typically
    used when interacting with NPCs or in-game systems that handle item repairs. It
    returns the total cost in copper coins (as uint64) needed for the repair operation.
  parameters: []
  returns: Returns the total cost in copper coins required to fully repair the item's
    durability. The value represents the amount of gold a player would need to pay
    to restore the item to maximum durability, factoring in any applicable discounts.
  examples:
  - title: Basic Usage Example
    code: 'Item* item = player->GetItemByPos(INVENTORY_SLOT_BAG_0, 0);

      uint64 repairCost = item->CalculateDurabilityRepairCost(0.0f); // No discount

      printf("Repair cost: %llu copper\n", repairCost);'
    language: cpp
  - title: Usage with Discount Factor
    code: 'Item* item = player->GetItemByPos(INVENTORY_SLOT_BAG_0, 0);

      float discount = 0.2f; // 20% discount

      uint64 repairCost = item->CalculateDurabilityRepairCost(discount);

      printf("Discounted repair cost: %llu copper\n", repairCost);'
    language: cpp
  notes: This method assumes the item has a valid durability state and is not already
    at maximum durability. The calculation may involve internal item properties such
    as item quality, base repair cost, and current durability level. It's important
    to note that this function does not actually perform the repair; it only calculates
    the cost.
  warnings: Ensure that the item pointer is valid before calling this method, otherwise
    it could lead to undefined behavior. The returned value should be checked against
    player's available funds before attempting a repair transaction.
  related:
  - GetDurability
  - SetDurability
  - GetMaxDurability
  - IsBroken
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T11:30:19.935502'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
