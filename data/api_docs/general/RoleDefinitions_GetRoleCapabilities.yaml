api:
  class: RoleDefinitions
  method: GetRoleCapabilities
  signature: int RoleDefinitions::GetRoleCapabilities(uint8 classId, uint8 specId)
documentation:
  brief: Retrieves the capability flags associated with a specific class and specialization
    in the TrinityCore framework.
  description: The GetRoleCapabilities method is used to determine the role-based
    capabilities of a player character based on their class and specialization. This
    function returns an integer value that represents a bitmask of various role-related
    capabilities such as tanking, healing, or damage-dealing abilities. The returned
    value can be used by the game engine to enforce role-specific restrictions, assign
    appropriate AI behaviors, or determine valid spell and ability usage for the character's
    current role. This method is typically invoked during character initialization,
    role switching, or when evaluating gameplay mechanics that depend on class specialization.
  parameters:
  - name: classId
    description: The unique identifier representing the player's class (e.g., WARRIOR
      = 1, PALADIN = 2, MAGE = 8). Valid values range from 0 to 11 for standard WoW
      classes.
  - name: specId
    description: The specialization identifier within the specified class. For each
      class, this value corresponds to a specific talent tree or role (e.g., Protection
      = 0, Holy = 1, Discipline = 2 for Paladins). Valid values depend on the class
      and typically range from 0 to 3.
  returns: Returns an integer bitmask representing the capabilities associated with
    the specified class and specialization. Each bit in the returned value corresponds
    to a specific role or capability flag (e.g., tanking, healing, damage). A value
    of 0 indicates no special capabilities or invalid parameters.
  examples:
  - title: Retrieve capabilities for a Protection Paladin
    code: 'int capabilities = roleDefs.GetRoleCapabilities(CLASS_PALADIN, SPEC_PROTECTION);

      // Returns bitmask indicating tanking and defensive capabilities'
    language: cpp
  - title: Check if a class has healing capabilities
    code: "uint8 classId = CLASS_PRIEST;\nuint8 specId = SPEC_HOLY;\nint capabilities\
      \ = roleDefs.GetRoleCapabilities(classId, specId);\nif (capabilities & ROLE_CAPABILITY_HEALING)\n\
      {\n    // Character is capable of healing\n}"
    language: cpp
  notes: This method likely relies on internal lookup tables or configuration files
    that map class/specialization combinations to role capability flags. The implementation
    may cache results for performance optimization. Developers should be aware that
    the exact bit positions and meanings of capability flags are determined by the
    TrinityCore codebase and may change between versions.
  warnings: Ensure that classId and specId values are within valid ranges to avoid
    undefined behavior or incorrect capability assignments. The returned bitmask should
    be properly masked when checking for specific capabilities to prevent false positives
    from unrelated bits.
  related:
  - GetRoleForClassSpec
  - IsRoleAvailable
  - SetRoleCapabilities
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T19:17:07.451546'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
