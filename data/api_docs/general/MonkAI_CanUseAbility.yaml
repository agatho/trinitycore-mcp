api:
  class: MonkAI
  method: CanUseAbility
  signature: bool MonkAI::CanUseAbility(int spellId)
documentation:
  brief: Determines whether a Monk AI can use a specified ability based on current
    game state and resource requirements.
  description: The CanUseAbility method evaluates if a Monk AI character is capable
    of using a given spell or ability. It checks various conditions such as mana cost,
    cooldown status, player stance, and other game mechanics relevant to the Monk
    class. This function is typically used within the AI decision-making process to
    ensure that only valid abilities are considered for execution. The method returns
    true if all prerequisites are met, otherwise false.
  parameters:
  - name: spellId
    description: The unique identifier of the spell or ability to check. This corresponds
      to the Spell ID used in the TrinityCore database and must reference a valid
      monk ability.
  returns: Returns true if the Monk AI can use the specified ability, considering
    all relevant game state conditions such as resource availability, cooldowns, and
    stance requirements. Returns false otherwise.
  examples:
  - title: Basic usage to check if a monk can use a spell
    code: "if (monkAI->CanUseAbility(100780)) {\n    // Execute the ability\n    unit->CastSpell(unit,\
      \ 100780, true);\n}"
    language: cpp
  - title: Using CanUseAbility in a conditional AI decision
    code: "if (monkAI->CanUseAbility(115173) && unit->GetHealthPct() < 30) {\n   \
      \ // Use Healing Elixir when health is low\n    unit->CastSpell(unit, 115173,\
      \ true);\n} else if (monkAI->CanUseAbility(100780)) {\n    // Otherwise use\
      \ Tiger Palm\n    unit->CastSpell(unit, 100780, true);\n}"
    language: cpp
  notes: This method relies on internal AI state tracking and may not reflect real-time
    changes in player status immediately. It's recommended to call this method before
    attempting to cast any spell to avoid invalid actions. The implementation considers
    class-specific mechanics such as stance requirements and energy/mana costs.
  warnings: Do not assume that a true return value guarantees successful spell casting,
    as additional checks might be performed during actual execution. Also, ensure
    the spellId corresponds to a valid monk ability to prevent undefined behavior.
  related:
  - GetNextAbility
  - UpdateCooldowns
  - IsInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T23:45:01.842288'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
