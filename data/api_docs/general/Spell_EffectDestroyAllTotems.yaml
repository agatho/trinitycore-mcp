api:
  class: Spell
  method: EffectDestroyAllTotems
  signature: void Spell::EffectDestroyAllTotems()
documentation:
  brief: Destroys all totems currently active for the caster.
  description: The EffectDestroyAllTotems method removes all totem objects that are
    currently active and associated with the spell's caster. This method is typically
    invoked as part of a spell effect to cleanse the battlefield of totems, often
    used in abilities that counter or destroy totem-based magic. The destruction process
    iterates through all totems owned by the caster and removes them from the game
    world, ensuring they are properly cleaned up and their resources are freed. This
    method does not directly handle the visual effects or animations for totem destruction,
    but rather focuses on the core logic of removing the totem objects themselves.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Spell Effect Handler
    code: "void Spell::EffectDestroyAllTotems()\n{\n    if (!m_caster)\n        return;\n\
      \n    // Iterate through all totems and remove them\n    for (auto& totem :\
      \ m_caster->GetTotems())\n    {\n        if (totem)\n            totem->Remove();\n\
      \    }\n}"
    language: cpp
  notes: This method assumes that the spell's caster has a valid reference to all
    active totems. It is typically called during spell effect execution and should
    be used carefully to avoid unintended removal of totems that are not directly
    tied to the current spell. The method does not trigger any additional events or
    callbacks related to totem destruction beyond the basic removal process.
  warnings: This method may cause unexpected behavior if called on a caster that does
    not properly maintain its totem list, potentially leading to dangling references
    or memory leaks. It should only be invoked when the spell effect is intended to
    destroy all totems, as it will remove ALL totems regardless of their type or duration.
  related:
  - Spell::EffectDestroyTotem
  - Unit::GetTotems
  - Unit::AddTotem
  - Totem::Remove
metadata:
  confidence: 0.9
  generated_at: '2025-10-29T16:54:49.649116'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
