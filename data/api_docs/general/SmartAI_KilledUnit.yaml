api:
  class: SmartAI
  method: KilledUnit
  signature: void SmartAI::KilledUnit(Unit * victim)
documentation:
  brief: Handles the event when a SmartAI unit kills another unit, triggering associated
    AI behaviors.
  description: The KilledUnit method is invoked by the SmartAI system when a creature
    or NPC successfully kills a target unit. This method serves as an event handler
    that allows for custom AI logic to be executed upon a kill, such as triggering
    quest objectives, playing sounds, summoning creatures, or modifying the AI's state.
    It is part of the SmartAI framework's core functionality and integrates with the
    broader TrinityCore AI system. The method does not return any value but may initiate
    various actions through the SmartAI event system.
  parameters:
  - name: victim
    description: Pointer to the Unit object that was killed by this AI-controlled
      unit. This parameter represents the target that has been defeated and is used
      to determine what actions should be taken in response.
  returns: null
  examples:
  - title: Basic Kill Event Handling
    code: "void SmartAI::KilledUnit(Unit* victim)\n{\n    // Trigger a quest objective\
      \ completion\n    if (victim->GetTypeId() == TYPEID_PLAYER)\n    {\n       \
      \ Talk(0); // Say something upon player kill\n        // Complete quest or update\
      \ quest status\n    }\n}"
    language: cpp
  - title: Advanced Kill Event with Conditional Logic
    code: "void SmartAI::KilledUnit(Unit* victim)\n{\n    if (!victim)\n        return;\n\
      \n    // Check if the victim was a specific type of creature\n    if (victim->GetEntry()\
      \ == 12345)\n    {\n        // Summon an NPC or drop loot\n        DoSummon(67890,\
      \ *victim, 5.0f, 30000);\n    }\n    else if (victim->GetTypeId() == TYPEID_PLAYER)\n\
      \    {\n        // Play a sound effect and update AI state\n        PlaySound(12345);\n\
      \        SetReactState(REACT_PASSIVE);\n    }\n}"
    language: cpp
  notes: This method is typically called automatically by the SmartAI framework when
    a unit dies, based on the AI's behavior configuration. Developers should ensure
    that any logic within this method does not cause infinite loops or unintended
    side effects. The victim parameter may be null in edge cases, so defensive checks
    are recommended.
  warnings: Do not modify the victim object directly inside this function unless absolutely
    necessary, as it might lead to undefined behavior. Also, avoid performing heavy
    operations here since this is an event handler that could affect performance if
    not optimized.
  related:
  - UpdateAI
  - EnterCombat
  - JustDied
  - MoveInLineOfSight
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T02:52:13.305097'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
