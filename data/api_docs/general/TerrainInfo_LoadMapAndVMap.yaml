api:
  class: TerrainInfo
  method: LoadMapAndVMap
  signature: void TerrainInfo::LoadMapAndVMap(int32 gx, int32 gy)
documentation:
  brief: Loads map and virtual map data for the specified grid coordinates.
  description: The LoadMapAndVMap method is responsible for loading terrain and navigation
    data for a specific grid cell defined by its x and y coordinates. This method
    ensures that all necessary map and vmap (virtual map) files are loaded into memory
    for the given grid, enabling proper terrain interaction, collision detection,
    and pathfinding for game objects within that area. The method typically operates
    during server startup or when a player enters a new grid zone. It handles loading
    of both the base map data as well as virtual map data used for line-of-sight calculations
    and object placement validation.
  parameters:
  - name: gx
    description: The x-coordinate of the grid cell to load. This represents the horizontal
      position in the game world's grid system.
  - name: gy
    description: The y-coordinate of the grid cell to load. This represents the vertical
      position in the game world's grid system.
  returns: null
  examples:
  - title: Loading map data for a specific grid
    code: 'TerrainInfo* terrain = sTerrainMgr->GetTerrainInfo();

      // Load map and vmap data for grid at coordinates (10, 15)

      terrain->LoadMapAndVMap(10, 15);'
    language: cpp
  - title: Loading multiple grids during server initialization
    code: "TerrainInfo* terrain = sTerrainMgr->GetTerrainInfo();\nfor (int32 x = 0;\
      \ x < MAX_GRID_X; ++x)\n{\n    for (int32 y = 0; y < MAX_GRID_Y; ++y)\n    {\n\
      \        terrain->LoadMapAndVMap(x, y);\n    }\n}"
    language: cpp
  notes: This method is typically called internally by the server's terrain management
    system. It may block execution while loading data from disk if the requested grid
    data is not already cached in memory. Performance can be affected when loading
    large numbers of grids simultaneously.
  warnings: Calling this method with invalid grid coordinates may result in undefined
    behavior or failed data loading. Ensure that grid coordinates are within valid
    bounds before calling to prevent errors.
  related:
  - LoadMap
  - LoadVMap
  - GetTerrainInfo
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T20:35:21.560394'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
