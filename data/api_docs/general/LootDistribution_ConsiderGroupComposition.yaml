api:
  class: LootDistribution
  method: ConsiderGroupComposition
  signature: void LootDistribution::ConsiderGroupComposition(Group * group, Player
    * player, const LootItem & item, LootRollType & decision)
documentation:
  brief: Evaluates group composition to determine appropriate loot distribution decisions
    for a given item.
  description: The ConsiderGroupComposition method assesses the current group's makeup
    and player roles to make informed decisions about how loot should be distributed.
    It takes into account factors such as player class, specialization, and group
    dynamics to ensure fair and balanced loot allocation. This method is typically
    invoked during the loot rolling process to influence whether an item should be
    awarded to a specific player or if the roll should be passed to another group
    member. The decision is passed back through the decision parameter, which can
    be modified based on the group composition analysis.
  parameters:
  - name: group
    description: Pointer to the Group object representing the current group of players
      involved in loot distribution. Must not be null.
  - name: player
    description: Pointer to the Player object who is being considered for receiving
      the loot item. Must not be null.
  - name: item
    description: Reference to the LootItem structure containing details about the
      item being distributed, including its ID and other relevant properties.
  - name: decision
    description: Reference to a LootRollType enum value that will be updated with
      the determined loot distribution decision (e.g., LOOT_ROLL_PASS, LOOT_ROLL_NEED,
      etc.).
  returns: null
  examples:
  - title: Basic usage in loot distribution logic
    code: "void HandleLootDistribution(Group* group, Player* player, const LootItem&\
      \ item) {\n    LootRollType decision = LOOT_ROLL_PASS;\n    lootDist->ConsiderGroupComposition(group,\
      \ player, item, decision);\n    // Process the decision\n    switch (decision)\
      \ {\n        case LOOT_ROLL_NEED:\n            // Award item to player\n   \
      \         break;\n        case LOOT_ROLL_PASS:\n            // Pass on the roll\n\
      \            break;\n        default:\n            break;\n    }\n}"
    language: cpp
  notes: This method is part of the loot distribution system and integrates with TrinityCore's
    group-based loot rules. It may consider factors like player roles, item type,
    and group composition to determine optimal loot allocation. The decision parameter
    is modified in-place and should be checked after calling this function.
  warnings: Ensure that both group and player parameters are valid non-null pointers
    before calling this method. Incorrect usage can lead to undefined behavior or
    crashes. This method modifies the decision parameter directly, so always check
    its value after invocation.
  related:
  - LootDistribution::Roll
  - LootDistribution::Distribute
  - Group::GetMembers
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T01:10:40.393969'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
