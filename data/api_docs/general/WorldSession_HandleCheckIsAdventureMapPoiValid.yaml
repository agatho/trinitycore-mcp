api:
  class: WorldSession
  method: HandleCheckIsAdventureMapPoiValid
  signature: void WorldSession::HandleCheckIsAdventureMapPoiValid(WorldPackets::AdventureMap::CheckIsAdventureMapPoiValid
    & CheckIsAdventureMapPoiValid)
documentation:
  brief: Validates if an Adventure Map Point of Interest is valid for the player's
    current quest progress and conditions.
  description: The HandleCheckIsAdventureMapPoiValid method processes a client request
    to verify whether a specific Point of Interest (POI) on the Adventure Map is accessible
    to the player. This validation considers the player's current quest status, level
    requirements, and other game conditions that might affect POI visibility or interactability.
    The method typically receives a packet containing the POI identifier and checks
    against internal criteria such as active quests, completed objectives, and character
    state. It does not directly modify game state but may send a response packet back
    to the client indicating whether the POI is valid for interaction.
  parameters:
  - name: CheckIsAdventureMapPoiValid
    description: A packet object containing the identifier of the Adventure Map Point
      of Interest being validated. This parameter includes data about which POI the
      client is requesting validation for, typically including a unique ID or index.
  returns: null
  examples:
  - title: Basic usage in packet handling
    code: "void WorldSession::HandleCheckIsAdventureMapPoiValid(WorldPackets::AdventureMap::CheckIsAdventureMapPoiValid&\
      \ packet)\n{\n    uint32 poiId = packet.POIId;\n    // Validate POI based on\
      \ player's quest state\n    if (Player* player = GetPlayer())\n    {\n     \
      \   bool isValid = sObjectMgr->IsAdventureMapPOIValid(poiId, player);\n    \
      \    // Send response back to client\n        WorldPackets::AdventureMap::CheckIsAdventureMapPoiValidResponse\
      \ response;\n        response.POIId = poiId;\n        response.IsValid = isValid;\n\
      \        SendPacket(response.Write());\n    }\n}"
    language: cpp
  notes: This method is part of the Adventure Map functionality introduced in World
    of Warcraft to allow players to interact with dynamic quest markers. The actual
    validation logic may involve checking quest flags, objective completion, and other
    player-specific conditions. It's expected that this method is called frequently
    during gameplay when a player interacts with the Adventure Map UI.
  warnings: Improper handling of POI validation can lead to incorrect UI states where
    players see invalid or inaccessible points of interest. Ensure all quest-related
    checks are properly implemented before marking a POI as valid.
  related:
  - HandleAdventureMapOpenQuest
  - HandleAdventureMapGetPOIData
  - IsAdventureMapPOIValid
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T19:39:43.596541'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
