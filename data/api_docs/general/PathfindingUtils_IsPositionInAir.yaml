api:
  class: PathfindingUtils
  method: IsPositionInAir
  signature: bool PathfindingUtils::IsPositionInAir(const int & pos, Map * map, float
    threshold)
documentation:
  brief: Checks if a given position is in the air above a map surface.
  description: The IsPositionInAir method determines whether a specified position
    is located above the ground level of a given map. It evaluates the vertical distance
    between the provided position and the map's terrain to decide if the position
    is considered 'in the air'. This functionality is commonly used in pathfinding
    algorithms, movement validation, or collision detection for game entities such
    as creatures or players. The method requires a valid Map instance and uses a configurable
    threshold to define what constitutes being 'in the air'.
  parameters:
  - name: pos
    description: Reference to an integer representing the position identifier or index
      within the map's coordinate system. This typically corresponds to a node or
      waypoint in a pathfinding graph.
  - name: map
    description: Pointer to the Map object where the position is located. The method
      uses this map instance to retrieve terrain data and determine ground level at
      the specified position.
  - name: threshold
    description: A floating-point value that defines the minimum vertical distance
      from the ground required for a position to be considered 'in the air'. Values
      below this threshold are treated as being on or near the ground surface.
  returns: Returns true if the specified position is above the map's ground level
    by more than the given threshold, indicating it is in the air. Returns false otherwise.
  examples:
  - title: Basic usage to check if a position is in the air
    code: "Map* myMap = ...; // Assume valid map instance\nint positionId = 12345;\n\
      float threshold = 2.0f;\nbool isInAir = PathfindingUtils::IsPositionInAir(positionId,\
      \ myMap, threshold);\nif (isInAir) {\n    // Handle logic for position being\
      \ in the air\n}"
    language: cpp
  - title: Using IsPositionInAir in a pathfinding context
    code: "void CheckPathNodeSafety(int nodeId, Map* map) {\n    const float AIR_THRESHOLD\
      \ = 1.5f;\n    if (PathfindingUtils::IsPositionInAir(nodeId, map, AIR_THRESHOLD))\
      \ {\n        // Log warning or avoid this node in path\n        sLog->outString(\"\
      Warning: Node %d is in the air.\", nodeId);\n    }\n}"
    language: cpp
  notes: This method relies on accurate map data and terrain height information. Ensure
    that the Map instance passed is valid and fully initialized before calling this
    function. Performance may be impacted when checking many positions in rapid succession
    due to repeated terrain lookups.
  warnings: Passing an invalid or null Map pointer will likely result in undefined
    behavior or crashes. Always validate input parameters before invoking this method.
    Be cautious with very small threshold values, as they might incorrectly classify
    positions near the ground as being 'in the air'.
  related:
  - GetHeightAtPosition
  - IsPathValid
  - FindNearestWalkableNode
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T22:05:45.090702'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
