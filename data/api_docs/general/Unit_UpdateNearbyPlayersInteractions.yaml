api:
  class: Unit
  method: UpdateNearbyPlayersInteractions
  signature: void Unit::UpdateNearbyPlayersInteractions()
documentation:
  brief: Updates the interaction state with nearby players for this unit.
  description: The UpdateNearbyPlayersInteractions method manages the tracking and
    updating of player interactions within the unit's vicinity. This method is typically
    invoked during game loop updates to ensure that the unit maintains accurate knowledge
    of which players are near it, affecting various gameplay mechanics such as aggro
    tracking, quest progress, and NPC behavior. It processes the list of nearby players
    and updates internal interaction states, including combat readiness, visibility,
    and proximity-based triggers. The method is part of TrinityCore's core unit management
    system and is automatically called by the game engine during regular update cycles.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Game Loop
    code: "void GameLoop()\n{\n    // Update all units in the world\n    for (auto&\
      \ unit : sObjectAccessor->GetAllUnits())\n    {\n        if (unit)\n       \
      \     unit->UpdateNearbyPlayersInteractions();\n    }\n}"
    language: cpp
  notes: This method is typically called internally by the game engine's update loop
    and should not be invoked manually in most cases. It performs operations on the
    unit's internal player interaction tracking system, which may involve spatial
    queries and state updates. Performance-wise, this method can be costly if a unit
    has many nearby players or if called very frequently.
  warnings: Do not call this method directly unless you understand its internal workings
    and consequences. Improper usage might lead to incorrect aggro states, visibility
    issues, or unexpected behavior in player-NPC interactions. The method modifies
    internal state that other systems depend on.
  related:
  - UpdateVisibility
  - IsInMap
  - GetNearbyPlayers
  - SetInCombat
metadata:
  confidence: 0.85
  generated_at: '2025-10-29T16:22:04.196940'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
