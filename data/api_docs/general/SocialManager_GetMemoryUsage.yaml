api:
  class: SocialManager
  method: GetMemoryUsage
  signature: size_t SocialManager::GetMemoryUsage() const
documentation:
  brief: Calculates and returns the total memory usage of the social manager's internal
    data structures.
  description: The GetMemoryUsage method computes the total amount of memory currently
    allocated by the SocialManager for storing social-related data such as friend
    lists, ignore lists, and chat history. This method is primarily used for debugging,
    performance monitoring, and memory profiling purposes within the TrinityCore server
    environment. It provides an aggregate size in bytes representing all dynamically
    allocated memory used by the social manager's internal containers and objects.
    The calculation includes memory from all active player sessions' social data and
    may account for overhead associated with container implementations.
  parameters: []
  returns: Returns a size_t value representing the total memory usage in bytes of
    all social manager data structures. A return value of zero indicates either no
    data has been stored or an error occurred during calculation.
  examples:
  - title: Basic Memory Usage Check
    code: 'size_t memoryUsed = sSocialMgr->GetMemoryUsage();

      TC_LOG_INFO("server.loading", "Social manager is using {} bytes of memory.",
      memoryUsed);'
    language: cpp
  - title: Monitoring Memory Growth Over Time
    code: "uint32 lastCheck = 0;\nvoid UpdateSocialMemoryUsage() {\n    uint32 currentTime\
      \ = getMSTime();\n    if (currentTime - lastCheck > 60000) { // Every minute\n\
      \        size_t currentUsage = sSocialMgr->GetMemoryUsage();\n        TC_LOG_DEBUG(\"\
      social\", \"Current social manager memory usage: {} KB\", currentUsage / 1024);\n\
      \        lastCheck = currentTime;\n    }\n}"
    language: cpp
  notes: This method performs a full traversal of all internal data structures and
    may have performance implications if called frequently. It should primarily be
    used for diagnostic purposes rather than in performance-critical code paths. The
    returned value includes memory overhead from standard containers and may not reflect
    actual physical memory allocation due to memory pools and alignment.
  warnings: Calling this method too frequently can impact server performance, especially
    with many active players. The memory usage calculation might not include all memory
    allocated by underlying STL containers or system allocators, potentially leading
    to underreporting of actual memory consumption.
  related:
  - GetFriendList
  - GetIgnoreList
  - AddFriend
  - RemoveFriend
  - AddIgnore
  - RemoveIgnore
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T09:53:32.793837'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
