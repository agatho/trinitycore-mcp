api:
  class: Map
  method: UnloadGrid
  signature: bool Map::UnloadGrid(int & ngrid, bool pForce)
documentation:
  brief: Unloads a specified grid from the map, freeing its resources and removing
    it from memory.
  description: The UnloadGrid method removes a grid section from memory, which is
    essential for managing memory usage in large world maps. It takes a reference
    to an integer representing the grid number and a boolean flag indicating whether
    to force unload regardless of current state. This method ensures that grid data
    is properly cleaned up before being removed from the map's internal structures.
    The operation is typically used during map transitions, server shutdowns, or when
    memory needs to be reclaimed for performance optimization.
  parameters:
  - name: ngrid
    description: Reference to an integer representing the grid number to unload. This
      value will be modified by the method to reflect the actual grid that was processed.
  - name: pForce
    description: Boolean flag indicating whether to force unload of the grid even
      if it's currently in use or has active objects. When true, bypasses normal safety
      checks.
  returns: Returns true if the grid was successfully unloaded, false otherwise. A
    return value of false typically indicates that the grid could not be unloaded
    due to being in use or other constraints.
  examples:
  - title: Basic Grid Unload
    code: "int gridId = 5;\nbool success = map->UnloadGrid(gridId, false);\nif (success)\
      \ {\n    // Grid successfully unloaded\n    printf(\"Grid %d unloaded successfully\\\
      n\", gridId);\n} else {\n    // Failed to unload grid\n    printf(\"Failed to\
      \ unload grid %d\\n\", gridId);\n}"
    language: cpp
  - title: Force Grid Unload
    code: "int gridId = 10;\n// Force unload a grid regardless of its current state\n\
      bool success = map->UnloadGrid(gridId, true);\nif (success) {\n    // Grid forcefully\
      \ unloaded\n    printf(\"Grid %d forcefully unloaded\\n\", gridId);\n}"
    language: cpp
  notes: This method is part of the map management system and is crucial for maintaining
    performance in large world environments. The grid number passed to this method
    should be valid and correspond to an existing grid on the map. When pForce is
    set to true, the method bypasses normal checks that prevent unloading grids with
    active objects or players.
  warnings: Calling this method with pForce=true on grids containing active players
    or objects may result in undefined behavior or client-side issues. Always ensure
    proper synchronization and object cleanup before forcing grid unload operations.
  related:
  - LoadGrid
  - HasGrid
  - GetGrid
  - UnloadMap
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T10:50:04.096761'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
