api:
  class: DefensiveBehaviorManager
  method: PrepareForIncoming
  signature: void DefensiveBehaviorManager::PrepareForIncoming(uint32 spellId)
documentation:
  brief: Prepares the defensive behavior manager for an incoming spell by initializing
    relevant state and cooldowns.
  description: The PrepareForIncoming method initializes internal state within the
    DefensiveBehaviorManager to handle an upcoming spell. This typically involves
    setting up cooldown tracking, preparing defensive abilities, and configuring the
    AI's response behavior based on the incoming spell ID. The method is usually called
    before a spell is cast or when the system anticipates an incoming threat. It ensures
    that the defensive mechanisms are ready to respond appropriately without delay.
  parameters:
  - name: spellId
    description: The unique identifier of the incoming spell that this defensive behavior
      manager should prepare for. This ID determines which defensive actions and cooldowns
      will be activated.
  returns: null
  examples:
  - title: Basic Usage Example
    code: "DefensiveBehaviorManager* defMgr = unit->GetDefensiveBehaviorManager();\n\
      if (defMgr)\n{\n    defMgr->PrepareForIncoming(12345);\n}"
    language: cpp
  - title: Usage with Spell Check
    code: "uint32 spellId = target->GetSpellInfo()->Id;\nif (spellId != 0)\n{\n  \
      \  DefensiveBehaviorManager* defMgr = unit->GetDefensiveBehaviorManager();\n\
      \    if (defMgr)\n    {\n        defMgr->PrepareForIncoming(spellId);\n    }\n\
      }"
    language: cpp
  notes: This method should be called before the actual spell is cast or when the
    AI detects an incoming threat. It does not directly execute any defensive actions
    but rather sets up the internal state for future use.
  warnings: Ensure that the spellId passed to this method corresponds to a valid spell
    in the game's database, otherwise unexpected behavior may occur during defensive
    action execution.
  related:
  - ExecuteDefensiveAction
  - IsDefensiveReady
  - ResetCooldowns
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T08:40:03.352503'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
