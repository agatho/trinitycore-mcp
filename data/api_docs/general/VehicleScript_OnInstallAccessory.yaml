api:
  class: VehicleScript
  method: OnInstallAccessory
  signature: void VehicleScript::OnInstallAccessory(Vehicle * veh, Creature * accessory)
documentation:
  brief: Called when a vehicle accessory is installed onto a vehicle
  description: This method is invoked by the TrinityCore framework when a creature
    accessory is successfully installed onto a vehicle. It provides an opportunity
    for custom scripts to execute logic when an accessory is mounted to a vehicle,
    such as applying buffs, triggering events, or modifying the accessory's behavior.
    The method is part of the VehicleScript class which allows developers to extend
    and customize vehicle-related functionality. This callback occurs during the vehicle
    mounting process and gives access to both the vehicle and the accessory creature
    objects.
  parameters:
  - name: veh
    description: Pointer to the Vehicle object that the accessory is being installed
      onto. This represents the vehicle entity in the game world.
  - name: accessory
    description: Pointer to the Creature object that serves as the accessory being
      installed. This is typically a creature that will be mounted or attached to
      the vehicle.
  returns: null
  examples:
  - title: Basic Vehicle Accessory Installation Handler
    code: "class MyVehicleScript : public VehicleScript\n{\npublic:\n    MyVehicleScript()\
      \ : VehicleScript(\"MyVehicleScript\") {}\n\n    void OnInstallAccessory(Vehicle*\
      \ veh, Creature* accessory) override\n    {\n        // Example: Apply a buff\
      \ to the accessory when installed\n        if (accessory)\n        {\n     \
      \       accessory->AddAura(12345, accessory); // Apply dummy aura\n        }\n\
      \n        // Log installation event\n        sLog->outString(\"Accessory %u\
      \ installed on vehicle %u\", accessory->GetEntry(), veh->GetVehicleInfo()->GetVehicleId());\n\
      \    }\n};"
    language: cpp
  notes: This method is called during the vehicle mounting process, so it's important
    to ensure that any operations performed don't interfere with the mounting sequence.
    The accessory creature may not yet be fully initialized when this method is called,
    so avoid accessing properties that require full initialization.
  warnings: Do not attempt to modify or destroy the vehicle or accessory objects within
    this callback as it may lead to undefined behavior or crashes. Avoid performing
    heavy computations in this method as it can block the game loop.
  related:
  - OnUninstallAccessory
  - OnInstall
  - OnRemove
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T19:47:13.981622'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
