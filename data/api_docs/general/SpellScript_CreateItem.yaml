api:
  class: SpellScript
  method: CreateItem
  signature: void SpellScript::CreateItem(int itemId, ItemContext context)
documentation:
  brief: Creates an item with the specified ID and context in the spell's effect.
  description: The CreateItem method is used within SpellScript implementations to
    generate a new item instance during spell execution. This method allows for dynamic
    item creation based on spell effects, such as crafting items from spells or generating
    loot. The created item will be added to the caster's inventory or dropped at their
    location depending on the context provided. The method does not return any value
    but directly modifies the spell's behavior by producing an item.
  parameters:
  - name: itemId
    description: The unique identifier of the item to be created. This must correspond
      to a valid entry in the ItemTemplate database table.
  - name: context
    description: The context in which the item is created, determining how and where
      it is placed. Valid values include ITEM_CONTEXT_NORMAL, ITEM_CONTEXT_LOOT, and
      other defined contexts that control item placement and ownership.
  returns: null
  examples:
  - title: Basic Item Creation
    code: "class MySpellScript : public SpellScript\n{\n    void HandleEffect(SpellEffIndex\
      \ effIndex) override\n    {\n        if (effIndex == EFFECT_0)\n        {\n\
      \            CreateItem(12345, ITEM_CONTEXT_NORMAL);\n        }\n    }\n};"
    language: cpp
  - title: Creating Loot Item
    code: "class LootSpellScript : public SpellScript\n{\n    void HandleEffect(SpellEffIndex\
      \ effIndex) override\n    {\n        if (effIndex == EFFECT_0)\n        {\n\
      \            CreateItem(67890, ITEM_CONTEXT_LOOT);\n        }\n    }\n};"
    language: cpp
  notes: This method should only be called within the context of a spell effect handler.
    The item creation is immediate and does not require additional processing or event
    handling. Ensure that the itemId corresponds to an existing item template in the
    database, otherwise the behavior may be undefined.
  warnings: Calling CreateItem with an invalid itemId can lead to crashes or undefined
    behavior. Always validate item IDs before calling this method. Also note that
    creating too many items rapidly might cause performance issues or client-side
    problems if not handled properly.
  related:
  - SpellScript::GetCaster()
  - SpellScript::GetTargetUnit()
  - SpellScript::GetSpellInfo()
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T17:49:44.954652'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
