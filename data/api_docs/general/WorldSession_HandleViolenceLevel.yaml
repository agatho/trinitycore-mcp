api:
  class: WorldSession
  method: HandleViolenceLevel
  signature: void WorldSession::HandleViolenceLevel(WorldPackets::Misc::ViolenceLevel
    & violenceLevel)
documentation:
  brief: Handles the client's violence level setting update packet.
  description: The HandleViolenceLevel method processes incoming packets from players
    that specify their desired violence level settings within the game. This method
    is part of the WorldSession class and is responsible for updating the player's
    current violence level preference, which may affect various gameplay mechanics
    such as combat behavior, NPC aggression, or visual effects. The method typically
    receives a packet containing the new violence level value and applies it to the
    session's state or character data. It does not return any value but may trigger
    internal updates or send confirmation packets back to the client.
  parameters:
  - name: violenceLevel
    description: A reference to a WorldPackets::Misc::ViolenceLevel packet containing
      the new violence level setting requested by the player. This packet includes
      the specific violence level value that should be applied to the session.
  returns: null
  examples:
  - title: Basic usage in WorldSession
    code: "void WorldSession::HandleViolenceLevel(WorldPackets::Misc::ViolenceLevel&\
      \ violenceLevel)\n{\n    // Update player's violence level setting\n    _player->SetViolenceLevel(violenceLevel.Level);\n\
      \    // Optionally send confirmation back to client\n    WorldPackets::Misc::ViolenceLevelResponse\
      \ response;\n    response.Level = violenceLevel.Level;\n    SendPacket(response.Write());\n\
      }"
    language: cpp
  notes: This method is typically invoked as part of the packet handling system when
    a client sends a violence level update. It's important to validate the incoming
    violence level value against allowed ranges to prevent invalid settings from being
    applied. The method may be called multiple times during a session as players adjust
    their preferences.
  warnings: Ensure that the violence level values are properly validated before applying
    them to prevent unexpected behavior or exploits. Invalid violence levels could
    cause issues with game balance or NPC interactions.
  related:
  - GetViolenceLevel
  - SetViolenceLevel
  - SendViolenceLevelUpdate
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T20:03:49.390053'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
