api:
  class: FormationManager
  method: CanMoveWithoutBreakingFormation
  signature: bool FormationManager::CanMoveWithoutBreakingFormation(const int & newPos)
documentation:
  brief: Determines whether a unit can move to a new position without breaking its
    formation.
  description: The CanMoveWithoutBreakingFormation method evaluates if a unit is allowed
    to move to a specified position within a formation without causing the formation
    to become disrupted. This method is typically used in AI logic to ensure that
    units maintain their tactical formations during movement. It considers factors
    such as formation type, distance constraints, and positional relationships between
    units. The method returns true if the move is valid according to formation rules,
    and false otherwise.
  parameters:
  - name: newPos
    description: The new position coordinate that the unit intends to move to. This
      represents a potential destination point in the world space.
  returns: Returns true if the unit can move to the specified position without breaking
    the formation; otherwise, returns false.
  examples:
  - title: Basic usage in AI movement logic
    code: "if (formationManager.CanMoveWithoutBreakingFormation(newPosition)) {\n\
      \    // Proceed with movement\n    unit->MoveTo(newPosition);\n} else {\n  \
      \  // Find alternative path or stay in place\n    unit->Idle();\n}"
    language: cpp
  - title: Integration with formation update logic
    code: "void UnitAI::UpdateFormationMovement() {\n    if (CanMoveWithoutBreakingFormation(targetPosition))\
      \ {\n        MoveTo(targetPosition);\n        return;\n    }\n    // Formation\
      \ constraint violated, re-evaluate formation\n    AdjustFormation();\n}"
    language: cpp
  notes: This method likely performs checks against formation parameters such as maximum
    distance from leader, angle constraints, and unit-specific positioning rules.
    It may be called frequently during AI updates, so performance optimization is
    important.
  warnings: Ensure that the newPos parameter represents a valid world coordinate before
    calling this method. Invalid coordinates could lead to unexpected behavior or
    errors in formation logic.
  related:
  - GetFormationPosition
  - UpdateFormation
  - IsInFormation
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T13:48:35.152775'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
