api:
  class: GroupFormation
  method: CalculateOptimalSpacing
  signature: float GroupFormation::CalculateOptimalSpacing() const
documentation:
  brief: Calculates and returns the optimal spacing distance for group members in
    a formation.
  description: The CalculateOptimalSpacing method determines the ideal distance between
    group members when they are arranged in a specific formation. This calculation
    takes into account various factors such as player movement speed, combat readiness,
    and the type of group formation being used. The returned value represents the
    recommended spacing in yards that ensures optimal positioning for group activities
    like raids, dungeons, or PvP encounters. This method is typically invoked when
    setting up or adjusting group formations to maintain proper spacing between players.
  parameters: []
  returns: A float value representing the optimal spacing distance in yards. This
    value is always positive and indicates how far apart group members should be positioned
    for maximum effectiveness in their formation.
  examples:
  - title: Basic Usage
    code: 'GroupFormation* formation = player->GetGroup()->GetFormation();

      float spacing = formation->CalculateOptimalSpacing();

      // Use the calculated spacing to adjust group member positions

      printf("Optimal spacing: %.2f yards\n", spacing);'
    language: cpp
  - title: Integration with Formation Updates
    code: "void UpdateGroupFormation(Player* player)\n{\n    Group* group = player->GetGroup();\n\
      \    if (!group || !group->IsInWorld()) return;\n    \n    GroupFormation* formation\
      \ = group->GetFormation();\n    if (formation)\n    {\n        float optimalSpacing\
      \ = formation->CalculateOptimalSpacing();\n        // Apply spacing to all group\
      \ members\n        for (GroupReference* ref = group->GetFirstMember(); ref;\
      \ ref = ref->next())\n        {\n            Player* member = ref->getSource();\n\
      \            if (member && member->IsInWorld())\n            {\n           \
      \     // Adjust positioning logic here using optimalSpacing\n            }\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method is likely used internally by the TrinityCore group management
    system to maintain proper formation spacing during combat and movement. The calculation
    may vary based on group composition, player class, and current game state. Performance-wise,
    this method should be lightweight as it's called frequently during group updates.
  warnings: The returned value may change dynamically based on group member states
    or environmental factors. Do not cache the result for extended periods without
    re-evaluating the formation state. This method assumes valid group context and
    may produce undefined behavior if called outside of a proper group formation context.
  related:
  - GetFormation
  - SetFormationSpacing
  - UpdateFormation
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T03:48:49.096667'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
