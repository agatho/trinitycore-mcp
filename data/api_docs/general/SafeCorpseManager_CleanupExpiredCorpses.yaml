api:
  class: SafeCorpseManager
  method: CleanupExpiredCorpses
  signature: void SafeCorpseManager::CleanupExpiredCorpses()
documentation:
  brief: Removes expired corpse entries from the database and clean up associated
    data.
  description: The CleanupExpiredCorpses method is responsible for removing corpse
    records that have exceeded their allowed time-to-live in the game world. This
    function typically runs periodically as part of the server's maintenance routines
    to prevent the database from accumulating stale corpse data. It ensures that player
    corpses are properly cleaned up after a defined period, which helps maintain performance
    and database integrity. The method handles both the removal of corpse entries
    from the database and any associated cleanup tasks such as removing related loot
    or quest data.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Server Maintenance
    code: "void World::Update(uint32 diff)\n{\n    // Other updates...\n    sObjectMgr->GetCorpseManager()->CleanupExpiredCorpses();\n\
      \    // Other updates...\n}"
    language: cpp
  notes: This method is usually invoked automatically by the server's main update
    loop or through scheduled maintenance tasks. It may involve database transactions
    and should be called with appropriate locking mechanisms to prevent race conditions
    in multi-threaded environments.
  warnings: null
  related:
  - GetCorpse
  - AddCorpse
  - RemoveCorpse
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T23:20:40.941200'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
