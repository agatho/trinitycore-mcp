api:
  class: CombatMovementStrategy
  method: ShouldUpdatePosition
  signature: bool CombatMovementStrategy::ShouldUpdatePosition(uint32 diff)
documentation:
  brief: Determines whether the combat movement strategy should update the unit's
    position based on elapsed time.
  description: The ShouldUpdatePosition method evaluates whether it's time to perform
    a position update for a unit following a combat movement strategy. This typically
    occurs during combat scenarios where the AI needs to adjust positioning for optimal
    engagement or avoidance. The method uses the provided time delta (diff) to determine
    if enough time has passed since the last position update, ensuring that movement
    updates occur at appropriate intervals without excessive CPU usage. It's commonly
    used within the AI update loop to control when units reposition themselves during
    combat.
  parameters: []
  returns: Returns true if the unit's position should be updated according to the
    combat movement strategy and time elapsed; otherwise returns false.
  examples:
  - title: Basic Usage in AI Update Loop
    code: "void CombatMovementAI::UpdateAI(uint32 diff)\n{\n    if (m_strategy &&\
      \ m_strategy->ShouldUpdatePosition(diff))\n    {\n        m_strategy->UpdatePosition();\n\
      \    }\n}"
    language: cpp
  - title: Integration with Combat State Management
    code: "bool CombatMovementStrategy::ShouldUpdatePosition(uint32 diff)\n{\n   \
      \ if (!m_unit || !m_unit->IsInCombat())\n        return false;\n\n    m_timeSinceLastUpdate\
      \ += diff;\n    if (m_timeSinceLastUpdate >= m_updateInterval)\n    {\n    \
      \    m_timeSinceLastUpdate = 0;\n        return true;\n    }\n    return false;\n\
      }"
    language: cpp
  notes: This method is typically called from within an AI update loop and should
    be used in conjunction with time-based logic to prevent excessive position updates.
    The interval between updates can be configured based on combat behavior requirements.
    Consider performance implications when using this method frequently in high-frequency
    AI loops.
  warnings: Do not call this method directly without proper context of the AI state.
    Ensure that the unit is in a valid combat state before calling this method to
    avoid unnecessary processing.
  related:
  - UpdatePosition
  - GetUpdateInterval
  - SetUpdateInterval
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T06:16:40.604561'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
