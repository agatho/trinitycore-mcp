api:
  class: Totem
  method: InitSummon
  signature: void Totem::InitSummon(int * summoner)
documentation:
  brief: Initializes a totem summon by setting up its properties and linking it to
    the summoner.
  description: The InitSummon method is responsible for initializing a totem object
    when it is summoned by a player. This method configures the totem's basic properties
    such as its owner, duration, and faction, ensuring that it behaves correctly within
    the game world. It typically gets called during the totem summoning process, establishing
    the relationship between the totem and its summoner. The method ensures that the
    totem is properly integrated into the game state and will be destroyed or removed
    when its duration expires or when the summoner dies.
  parameters:
  - name: summoner
    description: Pointer to the player object that summoned this totem. This parameter
      defines the owner of the totem, which affects faction behavior, ownership, and
      destruction conditions.
  returns: null
  examples:
  - title: Basic Totem Initialization
    code: 'Player* player = ...; // Assume player is valid

      Totem* totem = new Totem();

      totem->InitSummon(&player);'
    language: cpp
  - title: Initializing Totem with Faction Settings
    code: 'Player* player = ...;

      Totem* totem = new Totem();

      totem->InitSummon(&player);

      totem->SetFaction(player->GetFaction()); // Ensure faction matches summoner'
    language: cpp
  notes: This method should be called immediately after creating a totem instance,
    typically during the spell effect execution. It is important that the summoner
    pointer is valid and not null when this method is invoked. The method does not
    handle the actual spawning of the totem in the world; that is usually done by
    calling other methods like Summon or AddToWorld.
  warnings: Passing a null or invalid pointer for the summoner parameter may lead
    to undefined behavior or crashes. Always ensure that the player object passed
    to InitSummon remains valid for the duration of the totem's existence.
  related:
  - Totem::Summon
  - Totem::AddToWorld
  - Totem::SetOwner
  - Totem::SetDuration
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T00:47:07.161383'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
