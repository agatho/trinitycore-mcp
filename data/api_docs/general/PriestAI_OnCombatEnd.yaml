api:
  class: PriestAI
  method: OnCombatEnd
  signature: void PriestAI::OnCombatEnd()
documentation:
  brief: Performs cleanup and state reset operations when a priest AI instance exits
    combat mode
  description: The OnCombatEnd method is invoked when a priest AI creature transitions
    out of combat state. This method handles necessary cleanup tasks such as resetting
    combat-related flags, clearing active spell casts, and restoring the AI to its
    default non-combat behavior. It ensures proper state management for the priest
    AI by cleaning up any temporary data or references that were set during combat.
    The method is typically called automatically by the TrinityCore framework when
    combat ends, either through player logout, creature death, or successful enemy
    defeat.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in custom AI implementation
    code: "class MyPriestAI : public PriestAI {\npublic:\n    MyPriestAI(Creature*\
      \ creature) : PriestAI(creature) {}\n    \n    void OnCombatEnd() override {\n\
      \        // Custom cleanup logic before calling base implementation\n      \
      \  PriestAI::OnCombatEnd();\n        // Additional custom behavior here\n  \
      \  }\n};"
    language: cpp
  notes: This method is part of the standard AI lifecycle management in TrinityCore.
    It's automatically invoked by the framework when combat ends, so developers should
    not call it directly unless implementing a custom AI override. The base implementation
    handles core cleanup tasks that are essential for proper AI state management.
  warnings: Do not manually invoke this method in custom AI implementations unless
    you fully understand the implications of bypassing the normal AI lifecycle. Improper
    handling can lead to memory leaks or inconsistent AI behavior. Always call the
    parent implementation when overriding this method.
  related:
  - OnCombatStart
  - UpdateAI
  - EnterCombat
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T05:33:59.435078'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
