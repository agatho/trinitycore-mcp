api:
  class: WorldSession
  method: HandleSetLootMethodOpcode
  signature: void WorldSession::HandleSetLootMethodOpcode(WorldPackets::Party::SetLootMethod
    & packet)
documentation:
  brief: Processes a client packet to set the loot method for the player's group
  description: This method handles the SetLootMethod opcode sent by the client, which
    allows players to configure how loot is distributed within their group. The method
    updates the group's loot settings based on the received packet data. It ensures
    that the player has the appropriate permissions to modify group loot settings
    and validates the requested loot method before applying changes. This functionality
    supports various loot distribution methods such as free-for-all, round-robin,
    master loot, and need-before-greed.
  parameters:
  - name: packet
    description: The WorldPackets::Party::SetLootMethod packet containing the requested
      loot method settings for the player's group
  returns: null
  examples:
  - title: Setting Master Loot Method
    code: 'WorldPackets::Party::SetLootMethod packet;

      packet.Method = LOOT_METHOD_MASTER;

      packet.MasterLooterGuid = playerGuid;

      packet.LootThreshold = ITEM_QUALITY_UNCOMMON;

      this->HandleSetLootMethodOpcode(packet);'
    language: cpp
  notes: This method requires the player to be in a group and have group leadership
    permissions. The packet validation ensures that only valid loot methods are accepted.
    Changes take immediate effect on the group's loot settings.
  warnings: Improper handling of loot method packets can lead to inconsistent group
    loot behavior. Ensure proper permission checks before allowing players to modify
    group loot settings.
  related:
  - HandleSetLootMethodOpcode
  - GetGroup
  - IsGroupLeader
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T19:17:47.413787'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
