api:
  class: InstanceScriptDataWriter
  method: GetString
  signature: std::string InstanceScriptDataWriter::GetString()
documentation:
  brief: Retrieves the serialized string data from the InstanceScriptDataWriter instance
  description: The GetString method returns the complete serialized string representation
    of all data that has been written to the InstanceScriptDataWriter. This method
    is typically used in World of Warcraft TrinityCore instances to serialize quest
    data, NPC states, or other instance-specific information that needs to be saved
    to the database. The returned string contains all the written data in a format
    suitable for persistence. The writer must have had data written to it previously
    using methods like WriteInt, WriteString, or similar serialization functions before
    calling this method. Once called, the writer's internal buffer is typically reset
    or marked as cleared, depending on implementation details.
  parameters: []
  returns: A std::string containing the complete serialized data that was written
    to the InstanceScriptDataWriter instance. Returns an empty string if no data has
    been written yet.
  examples:
  - title: Basic Usage Example
    code: 'InstanceScriptDataWriter writer;

      writer.WriteInt(42);

      writer.WriteString("Hello World");

      std::string serialized = writer.GetString();

      // serialized now contains the encoded data'
    language: cpp
  - title: Saving Instance Data Example
    code: "class MyInstanceScript : public InstanceScript\n{\npublic:\n    void SaveToDB()\
      \ override\n    {\n        InstanceScriptDataWriter writer;\n        writer.WriteInt(m_data1);\n\
      \        writer.WriteString(m_data2);\n        writer.WriteBool(m_flag);\n \
      \       \n        // Save the serialized string to database\n        std::string\
      \ data = writer.GetString();\n        // ... save data to DB ...\n    }\n};"
    language: cpp
  notes: This method is commonly used in conjunction with database persistence systems
    within TrinityCore's instance scripting framework. The serialized string format
    should be compatible with the corresponding InstanceScriptDataReader class for
    proper deserialization. The writer maintains an internal buffer that gets flushed
    when GetString() is called, making it important to call this method only when
    all data has been written.
  warnings: Calling GetString() multiple times on the same writer instance may result
    in unexpected behavior or empty strings if the internal buffer is cleared after
    the first call. Ensure that all required data has been written before calling
    this method. The returned string should not be modified directly as it might affect
    the writer's internal state.
  related:
  - InstanceScriptDataWriter::WriteInt
  - InstanceScriptDataWriter::WriteString
  - InstanceScriptDataWriter::WriteBool
  - InstanceScriptDataReader::GetString
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T13:44:33.567097'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
