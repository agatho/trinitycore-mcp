api:
  class: AuraEffect
  method: HandleAuraModMaxPowerPct
  signature: void AuraEffect::HandleAuraModMaxPowerPct(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Modifies the maximum power percentage of a unit affected by an aura.
  description: The HandleAuraModMaxPowerPct method adjusts the maximum power (such
    as mana, rage, or energy) of a unit by a specified percentage. This method is
    typically invoked when an aura application is applied or removed from a unit.
    It modifies the unit's power stat based on the aura's effect and the mode parameter
    which determines whether the modification is additive or multiplicative. The method
    ensures that the power percentage change is correctly calculated and applied to
    the affected unit's statistics.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura being
      applied or removed. This parameter provides context about which aura is affecting
      the unit.
  - name: mode
    description: An unsigned 8-bit integer indicating the mode of application. The
      value determines how the power percentage modification is applied (e.g., additive,
      multiplicative).
  - name: apply
    description: Boolean flag indicating whether to apply (true) or remove (false)
      the aura effect on the unit.
  returns: null
  examples:
  - title: Applying a Power Percentage Aura
    code: 'AuraEffect* aura = new AuraEffect();

      AuraApplication* app = new AuraApplication();

      aura->HandleAuraModMaxPowerPct(app, 1, true); // Apply aura with mode 1'
    language: cpp
  - title: Removing a Power Percentage Aura
    code: 'AuraEffect* aura = new AuraEffect();

      AuraApplication* app = new AuraApplication();

      aura->HandleAuraModMaxPowerPct(app, 2, false); // Remove aura with mode 2'
    language: cpp
  notes: This method interacts directly with the unit's power statistics and should
    be called only when necessary to avoid unnecessary performance overhead. The exact
    behavior of the percentage modification depends on the implementation details
    of how 'mode' is interpreted in the aura system.
  warnings: Improper use of this method can lead to incorrect power calculations,
    potentially causing gameplay inconsistencies or visual bugs. Ensure that the mode
    parameter is correctly set according to the aura's intended effect.
  related:
  - AuraEffect::HandleAuraModMaxPower
  - AuraApplication::GetTarget
  - Unit::ModifyPower
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T13:15:59.428944'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
