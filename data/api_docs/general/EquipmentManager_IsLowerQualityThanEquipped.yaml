api:
  class: EquipmentManager
  method: IsLowerQualityThanEquipped
  signature: bool EquipmentManager::IsLowerQualityThanEquipped(int * player, int *
    item)
documentation:
  brief: Checks if a player's item is of lower quality than their currently equipped
    item.
  description: The IsLowerQualityThanEquipped method evaluates whether the specified
    item has a lower quality rating compared to the player's currently equipped item
    in the same slot. This method is typically used during item replacement or equipping
    operations to determine if an item should be allowed to replace an existing equipped
    item. The comparison takes into account the item's quality level, which is determined
    by the game's internal quality system (e.g., Poor, Common, Uncommon, Rare, Epic,
    Legendary). This check helps enforce game rules around item progression and prevents
    players from downgrading their equipment unintentionally.
  parameters:
  - name: player
    description: Pointer to the player object whose equipped items are being compared
      against. Must be a valid player instance.
  - name: item
    description: Pointer to the item object that is being evaluated for quality comparison.
      Must be a valid item instance.
  returns: Returns true if the specified item has a lower quality than the currently
    equipped item in the same slot; otherwise returns false.
  examples:
  - title: Basic Quality Check
    code: "Player* player = ...;\nItem* newItem = ...;\nbool isLower = EquipmentManager::IsLowerQualityThanEquipped(&player,\
      \ &newItem);\nif (isLower) {\n    // Handle case where item quality is lower\
      \ than equipped\n}"
    language: cpp
  - title: Preventing Item Downgrade
    code: "Player* player = ...;\nItem* newItem = ...;\nif (!EquipmentManager::IsLowerQualityThanEquipped(&player,\
      \ &newItem)) {\n    // Allow item to be equipped\n    player->EquipItem(newItem);\n\
      } else {\n    // Prevent downgrading equipment\n    player->SendNotification(\"\
      Cannot equip item of lower quality.\");\n}"
    language: cpp
  notes: This method relies on the internal quality system of TrinityCore and assumes
    that both player and item objects are properly initialized. It may not account
    for special cases such as temporary enchantments or unique item properties that
    could affect perceived quality.
  warnings: Ensure that both player and item parameters are valid pointers before
    calling this method to avoid undefined behavior. The method does not handle edge
    cases involving items with identical quality levels, so additional logic might
    be needed for complete validation.
  related:
  - GetEquippedItem
  - EquipItem
  - CompareItemQuality
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T14:33:31.211156'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
