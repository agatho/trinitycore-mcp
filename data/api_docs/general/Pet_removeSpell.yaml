api:
  class: Pet
  method: removeSpell
  signature: bool Pet::removeSpell(uint32 spell_id, bool learn_prev, bool clear_ab)
documentation:
  brief: Removes a spell from the pet's spell book and optionally learns previous
    spell in the chain.
  description: The removeSpell method removes a specified spell from the pet's spell
    list. It can also optionally learn the previous spell in the spell chain if the
    learn_prev parameter is set to true. The clear_ab parameter controls whether the
    spell's action bar entries are cleared as well. This method is typically used
    when a pet's spell learning state needs to be modified, such as when a spell is
    unlearned or replaced by another spell in a spell chain. The operation affects
    the pet's current spell book and may update the pet's action bar if clear_ab is
    true.
  parameters:
  - name: spell_id
    description: The ID of the spell to be removed from the pet's spell list. Must
      correspond to a valid spell in the game's database.
  - name: learn_prev
    description: If true, attempts to learn the previous spell in the spell chain
      for the removed spell. If false, no previous spell is learned.
  - name: clear_ab
    description: If true, clears the spell's entries from the pet's action bar. If
      false, action bar entries remain unchanged.
  returns: Returns true if the spell was successfully removed and any related operations
    completed without error; otherwise returns false.
  examples:
  - title: Basic removal of a pet spell
    code: "if (pet->removeSpell(12345, false, true)) {\n    // Spell removed successfully\n\
      }"
    language: cpp
  - title: Remove spell and learn previous in chain
    code: "if (pet->removeSpell(12346, true, false)) {\n    // Spell removed and previous\
      \ spell learned\n}"
    language: cpp
  notes: This method modifies the pet's internal spell list and may trigger UI updates.
    It should not be called during critical sections of code where spell state consistency
    is required. The method relies on the spell chain system in TrinityCore, so removing
    a spell that is part of a chain may affect other spells in the chain.
  warnings: Calling this method with invalid spell_id values can lead to undefined
    behavior or crashes. Always verify that the spell exists before attempting removal.
    Additionally, be cautious when using clear_ab=true as it affects the pet's action
    bar state which might be used by other systems.
  related:
  - addSpell
  - hasSpell
  - learnSpell
  - removeAllSpells
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T21:04:15.083764'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
