api:
  class: DynamicQuestSystem
  method: GetZoneQuests
  signature: int DynamicQuestSystem::GetZoneQuests(uint32 zoneId, Player * bot)
documentation:
  brief: Retrieves the number of quests available in a specified zone for a given
    player bot.
  description: The GetZoneQuests method determines how many quests are currently available
    within a specific zone for a particular player bot. This function is typically
    used in dynamic quest systems to manage quest availability, progression, and reward
    distribution based on player location and progress. It evaluates the zone's quest
    database against the player's current quest log and completion status to return
    an accurate count of active quests. The method relies on internal TrinityCore
    quest management systems and may consider factors such as player level, faction,
    and quest prerequisites when calculating available quests.
  parameters:
  - name: zoneId
    description: The unique identifier of the zone for which to retrieve quest information.
      This value corresponds to the ZoneID field in the database tables.
  - name: bot
    description: Pointer to the Player object representing the bot for whom quests
      are being evaluated. The method uses this player's quest log and status to determine
      quest availability.
  returns: Returns an integer value representing the count of available quests in
    the specified zone for the given player bot. A return value of 0 indicates no
    quests are currently available, while positive integers indicate the number of
    active quests.
  examples:
  - title: Basic usage to check quest availability
    code: "uint32 zoneId = 1234;\nPlayer* playerBot = ...; // Assume this is initialized\n\
      int questCount = dynamicQuestSystem->GetZoneQuests(zoneId, playerBot);\nif (questCount\
      \ > 0)\n{\n    // Proceed with quest handling logic\n    printf(\"Found %d quests\
      \ in zone %u\\n\", questCount, zoneId);\n}"
    language: cpp
  - title: Using the result to determine quest eligibility
    code: "uint32 currentZone = player->GetZoneId();\nint availableQuests = dynamicQuestSystem->GetZoneQuests(currentZone,\
      \ player);\nif (availableQuests > 0)\n{\n    // Player has quests available\
      \ in their current zone\n    // Can trigger quest acceptance or update UI\n\
      \    player->SendNotification(\"You have %d quests available in this zone.\"\
      , availableQuests);\n}\nelse\n{\n    // No quests available, possibly send a\
      \ message or update quest tracker\n    player->SendNotification(\"No quests\
      \ available in this zone.\");\n}"
    language: cpp
  notes: This method likely performs database queries to fetch quest information and
    may cache results for performance. The implementation might vary depending on
    how the DynamicQuestSystem is configured and what quest filters are active. Ensure
    that the Player object passed is valid and properly initialized before calling
    this function.
  warnings: Calling this method with a null player pointer will likely result in undefined
    behavior or crashes. Always validate the player parameter before use. Additionally,
    zoneId values should be verified against valid zone IDs from the database to prevent
    incorrect quest filtering.
  related:
  - GetPlayerQuests
  - GetAvailableQuests
  - IsQuestAvailable
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T09:10:46.357932'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
