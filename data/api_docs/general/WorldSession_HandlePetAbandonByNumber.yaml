api:
  class: WorldSession
  method: HandlePetAbandonByNumber
  signature: void WorldSession::HandlePetAbandonByNumber(const WorldPackets::Pet::PetAbandonByNumber
    & petAbandonByNumber)
documentation:
  brief: Removes a pet from the player's control by its unique identifier number.
  description: The HandlePetAbandonByNumber method processes a client request to abandon
    a specific pet, effectively dismissing it from the player's party or companion
    list. This action removes the pet from the player's control and returns it to
    the wild, unless it is a summoned creature that will despawn after a certain time.
    The method handles the packet communication between the client and server to ensure
    proper state synchronization. It typically occurs when players use the abandon
    pet command in-game or through UI interactions.
  parameters:
  - name: petAbandonByNumber
    description: A packet containing the unique identifier number of the pet to be
      abandoned. This value corresponds to the pet's index in the player's pet list.
  returns: null
  examples:
  - title: Basic Pet Abandon Usage
    code: "void WorldSession::HandlePetAbandonByNumber(const WorldPackets::Pet::PetAbandonByNumber\
      \ & petAbandonByNumber)\n{\n    if (Player* player = GetPlayer())\n    {\n \
      \       if (Unit* pet = player->GetPet())\n        {\n            // Remove\
      \ the pet from the player's control\n            player->RemovePet(pet, PET_SAVE_AS_CURRENT);\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method assumes that the player has an active pet and that the pet exists
    in the player's current party or companion list. The actual removal of the pet
    is handled by internal logic within the Player class, which may vary depending
    on pet type (summoned vs. owned).
  warnings: Abandoning a pet permanently removes it from the player's control and
    cannot be undone without reacquiring the pet through normal means such as summoning
    or taming another creature.
  related:
  - HandlePetAbandon
  - RemovePet
  - GetPet
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:17:27.287173'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
