api:
  class: ShamanAI
  method: UpdateEnhancementRotation
  signature: bool ShamanAI::UpdateEnhancementRotation(int * target)
documentation:
  brief: Updates the enhancement shaman's combat rotation logic and returns true if
    a spell was cast or scheduled.
  description: The UpdateEnhancementRotation method is responsible for managing the
    AI behavior of an enhancement shaman during combat. It evaluates the current target,
    available spells, and player state to determine the optimal sequence of abilities
    to execute. This includes handling weapon swaps, applying appropriate buffs, and
    selecting the most effective offensive spells based on the shaman's current rotation
    strategy. The method typically integrates with the core AI framework to ensure
    proper timing and resource management. It returns true when a spell is successfully
    cast or scheduled for casting, allowing the calling code to understand whether
    action was taken. This method is part of the ShamanAI class and specifically targets
    enhancement shamans in the context of TrinityCore's AI system.
  parameters: []
  returns: Returns true if a spell was cast or scheduled during the update cycle;
    otherwise returns false if no action was taken.
  examples:
  - title: Basic usage in AI update loop
    code: "void ShamanAI::UpdateAI(const uint32 diff)\n{\n    if (UpdateEnhancementRotation(nullptr))\n\
      \        return;\n\n    // Additional AI logic here\n}"
    language: cpp
  notes: This method is typically called within the main UpdateAI loop of the ShamanAI
    class. It assumes that the shaman has a valid target and that the necessary resources
    (mana, weapon states) are available for spell casting. The method may modify internal
    state variables related to cooldowns or spell priorities.
  warnings: Ensure that this method is only called when the shaman is in combat mode
    and has a valid target. Calling it outside of combat may lead to undefined behavior
    or incorrect spell selection. Avoid calling it from multiple threads simultaneously
    without proper synchronization.
  related:
  - ShamanAI::UpdateAI
  - ShamanAI::DoCastSpell
  - ShamanAI::GetNextSpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T23:41:35.956163'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
