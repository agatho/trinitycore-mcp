api:
  class: CombatReference
  method: EndCombat
  signature: void CombatReference::EndCombat()
documentation:
  brief: Ends an active combat session for the referenced unit
  description: The EndCombat method terminates the current combat state for a unit,
    clearing all combat-related flags and resetting combat timers. This method is
    typically invoked when a unit exits combat either through natural resolution,
    forced removal, or when transitioning to a non-combat state. The method ensures
    that any ongoing combat effects are properly cleared and that the unit's combat
    status is updated accordingly. It also handles cleanup of combat-related data
    structures such as threat lists, combat targets, and associated timers.
  parameters: []
  returns: null
  examples:
  - title: Basic Combat Termination
    code: "CombatReference* combatRef = unit->GetCombatReference();\nif (combatRef)\n\
      {\n    combatRef->EndCombat();\n}"
    language: cpp
  notes: This method should only be called when the unit is actually in combat to
    avoid unnecessary processing. The method internally handles cleanup of combat-related
    data and ensures that combat state transitions are properly synchronized with
    the game world.
  warnings: Calling EndCombat on a unit not currently in combat may result in undefined
    behavior or inconsistent combat state. Always verify the combat status before
    invoking this method.
  related:
  - BeginCombat
  - IsInCombat
  - GetCombatTime
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T17:08:24.708475'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
