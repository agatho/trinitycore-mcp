api:
  class: DungeonScript
  method: GetMapId
  signature: uint32 DungeonScript::GetMapId() const
documentation:
  brief: Retrieves the unique map identifier associated with the dungeon script instance.
  description: The GetMapId method returns the unique identifier (ID) of the map that
    this DungeonScript instance is associated with. This ID corresponds to the MapEntry
    in the game's database and is used internally by TrinityCore to manage dungeon-specific
    behaviors, loading, and scripting contexts. The returned value typically represents
    the MapID as defined in the dbc files or database entries for maps. This method
    is commonly used within dungeon-related scripts to identify which specific dungeon
    or instance they are operating within, enabling conditional logic based on map
    type or instance data.
  parameters: []
  returns: A uint32 value representing the unique identifier of the map associated
    with this dungeon script. This ID corresponds to the MapID field in the game's
    map database entries and can be used to distinguish between different dungeons,
    instances, or zones.
  examples:
  - title: Basic Usage in Dungeon Script
    code: "class MyDungeonScript : public DungeonScript\n{\npublic:\n    void OnPlayerEnter(Player*\
      \ player) override\n    {\n        uint32 mapId = GetMapId();\n        if (mapId\
      \ == 1234)\n        {\n            // Specific logic for map ID 1234\n     \
      \       player->SendNotification(\"Entered instance 1234\");\n        }\n  \
      \  }\n};"
    language: cpp
  - title: Using Map ID for Conditional Logic
    code: "class BossEncounterScript : public DungeonScript\n{\npublic:\n    void\
      \ OnCreatureDeath(Creature* creature) override\n    {\n        uint32 mapId\
      \ = GetMapId();\n        switch (mapId)\n        {\n            case 534: //\
      \ Karazhan\n                DoSomethingForKarazhan();\n                break;\n\
      \            case 720: // Vault of Archavon\n                DoSomethingForVaultOfArchavon();\n\
      \                break;\n        }\n    }\n};"
    language: cpp
  notes: This method is a const function and does not modify the state of the DungeonScript
    instance. It's typically called during script execution phases such as OnPlayerEnter,
    OnCreatureDeath, or other event handlers where map context is needed. The returned
    map ID should be used carefully in comparisons to ensure proper dungeon identification.
  warnings: Ensure that the DungeonScript instance has been properly initialized with
    a valid map context before calling this method. Calling GetMapId on an uninitialized
    or invalid script instance may return unexpected values. Additionally, map IDs
    can vary between different TrinityCore versions or custom configurations, so code
    using this value should be tested accordingly.
  related:
  - GetDifficulty
  - GetInstanceId
  - GetMap
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T14:12:37.908289'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
