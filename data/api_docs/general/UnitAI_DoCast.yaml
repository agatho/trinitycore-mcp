api:
  class: UnitAI
  method: DoCast
  signature: int UnitAI::DoCast(Unit * victim, uint32 spellId, const int & args)
documentation:
  brief: Initiates casting of a specified spell on a target unit with optional arguments.
  description: The DoCast method is used by AI units to cast spells on target units.
    It handles the logic for spell preparation, casting time, and execution. The method
    takes a victim unit to cast the spell on, a spell ID to cast, and an optional
    argument parameter that can be used to pass additional data or modifiers to the
    spell. This method is typically called from AI behavior scripts to control when
    and how spells are cast during combat. The return value indicates success or failure
    of the casting attempt, with 0 usually representing success and non-zero values
    indicating various error conditions.
  parameters:
  - name: victim
    description: Pointer to the Unit object that will be targeted by the spell. Can
      be nullptr if the spell targets self or has no specific target.
  - name: spellId
    description: The unique identifier of the spell to be cast. Must correspond to
      a valid spell entry in the game's spell database.
  - name: args
    description: Optional integer argument that can be used to pass additional parameters
      or modifiers to the spell casting logic. The meaning and usage of this parameter
      depends on the specific implementation and spell behavior.
  returns: Returns an integer value indicating the result of the casting attempt.
    A return value of 0 typically indicates successful casting, while non-zero values
    may represent various error conditions such as invalid target, insufficient mana,
    or spell restrictions.
  examples:
  - title: Basic spell casting on a target
    code: "if (Unit *target = me->GetVictim())\n{\n    DoCast(target, 12345);\n}"
    language: cpp
  - title: Spell casting with additional arguments
    code: "if (Unit *target = me->GetVictim())\n{\n    int customArg = 100;\n    DoCast(target,\
      \ 67890, customArg);\n}"
    language: cpp
  notes: This method is part of the AI system and should only be called from AI behavior
    contexts. The spell casting process includes handling cooldowns, mana costs, line-of-sight
    requirements, and other game mechanics. The args parameter allows for flexible
    spell behavior customization but requires careful implementation to ensure compatibility
    with spell definitions.
  warnings: Calling DoCast with an invalid spellId may cause undefined behavior or
    crashes. Always validate that the spell exists in the database before calling
    this method. Be cautious when using nullptr as victim, as it may lead to unexpected
    spell targeting behavior.
  related:
  - DoCastSpell
  - DoCastVictim
  - DoCastSelf
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T00:18:56.199399'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
