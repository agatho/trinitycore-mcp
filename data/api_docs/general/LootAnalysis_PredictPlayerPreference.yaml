api:
  class: LootAnalysis
  method: PredictPlayerPreference
  signature: void LootAnalysis::PredictPlayerPreference(Player * player, const LootItem
    & item, float & needProbability, float & greedProbability)
documentation:
  brief: Predicts the likelihood that a player will need or greed on a specific loot
    item.
  description: 'The PredictPlayerPreference method estimates two probabilities for
    a given player and loot item: the probability that the player will ''Need'' the
    item (indicating it''s useful for their current role or gear), and the probability
    that they will ''Greed'' the item (indicating it''s desirable but not essential).
    This prediction is based on various factors such as the player''s class, specialization,
    current gear, and historical loot behavior. The method populates the provided
    float references with these probabilities, which can be used to influence loot
    distribution decisions or UI feedback in the game client.'
  parameters:
  - name: player
    description: A pointer to the Player object for whom the preference is being predicted.
      Must not be null.
  - name: item
    description: A const reference to the LootItem structure representing the item
      being evaluated. The item's properties such as item level, class, subclass,
      and quality are used in the prediction algorithm.
  - name: needProbability
    description: A reference to a float that will be set to the calculated probability
      (0.0 to 1.0) that the player will choose 'Need' for this item.
  - name: greedProbability
    description: A reference to a float that will be set to the calculated probability
      (0.0 to 1.0) that the player will choose 'Greed' for this item.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'Player* player = ...;

      LootItem item = ...;

      float needProb, greedProb;

      LootAnalysis::PredictPlayerPreference(player, item, needProb, greedProb);

      // Use needProb and greedProb to determine loot distribution strategy'
    language: cpp
  notes: This method is likely used internally by TrinityCore's loot system to make
    intelligent decisions about how items are distributed among group members. The
    prediction algorithm may consider player statistics, gear priorities, and server-side
    loot rules. It's important to note that these probabilities are estimates and
    may not reflect the actual player choice in all cases.
  warnings: Ensure that the Player pointer is valid before calling this method; passing
    a null pointer will result in undefined behavior. The probabilities returned are
    relative estimations and should be used as guidelines rather than absolute truths
    for loot decisions.
  related: []
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T01:24:32.439700'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
