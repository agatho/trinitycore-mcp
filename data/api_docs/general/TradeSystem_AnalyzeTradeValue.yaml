api:
  class: TradeSystem
  method: AnalyzeTradeValue
  signature: float TradeSystem::AnalyzeTradeValue(Player * player, const TradeSession
    & session)
documentation:
  brief: Analyzes and returns the total value of items in a trade session for a given
    player.
  description: The AnalyzeTradeValue method calculates the cumulative monetary value
    of all items currently present in a trade session from the perspective of a specific
    player. This function is typically used to determine whether a trade offer is
    balanced or to evaluate potential gains/losses from accepting a trade. The method
    considers item worth, stack sizes, and any applicable modifiers within the context
    of the World of Warcraft trading system. It requires a valid player object and
    an active trade session to operate correctly.
  parameters:
  - name: player
    description: Pointer to the Player object whose perspective is used for evaluating
      the trade value. Must be a valid, non-null pointer to an active player in the
      game world.
  - name: session
    description: Reference to the TradeSession object containing the items being evaluated.
      The session must be in an active state with valid trade data.
  returns: A float value representing the total monetary worth of all items in the
    trade session from the player's perspective. Returns zero if no items are present
    or if the session is invalid.
  examples:
  - title: Basic Trade Value Analysis
    code: "Player* player = ...; // Valid player pointer\nTradeSession session = ...;\
      \ // Active trade session\nfloat value = TradeSystem::AnalyzeTradeValue(player,\
      \ session);\nif (value > 0)\n{\n    // Proceed with trade evaluation\n    sLog->outString(\"\
      Trade value is %.2f gold.\", value / 10000);\n}"
    language: cpp
  - title: Comparing Trade Values
    code: "Player* player = ...;\nTradeSession session1 = ...;\nTradeSession session2\
      \ = ...;\nfloat value1 = TradeSystem::AnalyzeTradeValue(player, session1);\n\
      float value2 = TradeSystem::AnalyzeTradeValue(player, session2);\nif (value1\
      \ > value2)\n{\n    sLog->outString(\"First trade offers better value.\");\n\
      }"
    language: cpp
  notes: This method assumes that the player and session objects are valid and properly
    initialized. It does not perform any validation on the input parameters beyond
    basic null checks. The returned value is expressed in copper units (1 gold = 10000
    copper). Performance may be impacted by large trade sessions with many items.
  warnings: Do not call this method with invalid or uninitialized player/session objects
    as it will likely result in undefined behavior or crashes. Be aware that the returned
    value reflects only the current state of the trade session and does not account
    for any pending changes or delayed effects.
  related:
  - GetTradeSession
  - ValidateTrade
  - CalculateItemValue
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T00:41:02.852147'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
