api:
  class: ScriptMgr
  method: OnNetworkStop
  signature: void ScriptMgr::OnNetworkStop()
documentation:
  brief: Notifies scripts that the network connection has been stopped
  description: The OnNetworkStop method is a callback function invoked by the TrinityCore
    server when a network connection is terminated. This method allows script developers
    to perform cleanup operations or trigger specific behaviors when a client disconnects
    from the server. It is typically called during the shutdown process of a session
    or when a player logs out. The method does not accept any parameters and does
    not return any value, making it suitable for executing side effects such as saving
    data, releasing resources, or logging disconnection events.
  parameters: []
  returns: null
  examples:
  - title: Basic Implementation Example
    code: "class MyScript : public ScriptObject\n{\npublic:\n    MyScript() : ScriptObject(\"\
      MyScript\") {}\n\n    void OnNetworkStop() override\n    {\n        // Perform\
      \ cleanup operations here\n        sLog->outString(\"Network connection stopped\
      \ for a client\");\n    }\n};"
    language: cpp
  notes: This method is part of the scripting interface and should be implemented
    in custom script classes that inherit from ScriptObject. It's typically called
    during session cleanup, so any heavy operations here may impact performance. Ensure
    thread safety if this method is accessed from multiple threads.
  warnings: Do not perform blocking operations within this method as it can delay
    the shutdown of network connections. Avoid accessing resources that might already
    be destroyed or in an inconsistent state during disconnection handling.
  related:
  - OnNetworkStart
  - OnPlayerLogin
  - OnPlayerLogout
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T22:30:29.075089'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
