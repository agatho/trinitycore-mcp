api:
  class: ScheduledChangeAI
  method: JustStartedThreateningMe
  signature: void ScheduledChangeAI::JustStartedThreateningMe(int * param0)
documentation:
  brief: Handles the event when the AI creature begins threatening the player
  description: The JustStartedThreateningMe method is invoked by the ScheduledChangeAI
    class to notify the AI behavior when a creature starts actively threatening the
    player. This typically occurs during combat initiation or when the creature's
    threat level surpasses a certain threshold. The method allows for custom AI logic
    to be executed in response to this specific event, such as initiating special
    animations, playing sound effects, or modifying the creature's behavior pattern.
    It is part of the AI's state management system and integrates with the broader
    threat management framework within TrinityCore's combat mechanics.
  parameters:
  - name: param0
    description: Pointer to an integer parameter that may represent threat level,
      target ID, or other contextual data related to the threatening event. The exact
      meaning depends on implementation context.
  returns: null
  examples:
  - title: Basic AI Threat Response
    code: "void ScheduledChangeAI::JustStartedThreateningMe(int* param0)\n{\n    //\
      \ Play a threat sound\n    me->PlayDirectSound(12345);\n    \n    // Set creature\
      \ to aggressive mode\n    me->SetAggressive(true);\n    \n    // Log the event\n\
      \    sLog->outString(\"Creature %u has started threatening player.\", me->GetEntry());\n\
      }"
    language: cpp
  - title: Advanced Threat Handling with Parameter Usage
    code: "void ScheduledChangeAI::JustStartedThreateningMe(int* param0)\n{\n    if\
      \ (param0 != nullptr)\n    {\n        int threatLevel = *param0;\n        \n\
      \        // Adjust behavior based on threat level\n        if (threatLevel >\
      \ 100)\n        {\n            DoCast(SPELL_ENRAGE);\n        }\n        else\
      \ if (threatLevel > 50)\n        {\n            me->SetSpeed(MOVE_RUN, 1.5f);\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method is typically called from within the AI's update loop or threat
    management system. Developers should ensure that any modifications to creature
    state are thread-safe and do not interfere with core combat mechanics. The parameter
    may be null or contain arbitrary values depending on how it was set by the calling
    code.
  warnings: Improper handling of the param0 pointer could lead to crashes or undefined
    behavior. Always validate pointer contents before dereferencing. This method is
    part of an AI system that can significantly affect combat balance, so changes
    should be thoroughly tested in a controlled environment.
  related:
  - JustStoppedThreateningMe
  - UpdateAI
  - AddThreat
  - GetThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T03:11:41.586841'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
