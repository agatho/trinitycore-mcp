api:
  class: TargetSelector
  method: IsFleeing
  signature: bool TargetSelector::IsFleeing(Unit * target) const
documentation:
  brief: Checks if the specified unit is currently fleeing from combat.
  description: The IsFleeing method determines whether a given Unit object is in a
    fleeing state, which typically occurs when the unit has entered combat and is
    attempting to escape. This method evaluates the unit's current AI state and movement
    behavior to ascertain if it is actively running away from enemies. It is commonly
    used by AI scripts and combat logic to make decisions about engagement or retreat
    strategies.
  parameters: []
  returns: Returns true if the target unit is currently fleeing, false otherwise.
    The method will return false if the unit is not in a fleeing state or if the unit
    pointer is invalid.
  examples:
  - title: Basic usage to check if a target is fleeing
    code: "if (targetSelector->IsFleeing(targetUnit)) {\n    // Handle the case where\
      \ the target is fleeing\n    targetSelector->SetTarget(nullptr);\n}"
    language: cpp
  - title: Using IsFleeing in AI decision making
    code: "if (IsFleeing(currentTarget) && !currentTarget->HasAura(SpellId::FearAura))\
      \ {\n    // Target is fleeing but not under fear effect\n    // Consider switching\
      \ to a different target or maintaining distance\n    DoNotAttack();\n}"
    language: cpp
  notes: This method relies on the internal AI state tracking of the unit. It may
    return false for units that are in combat but not actively moving away, such as
    those standing still or using defensive abilities. The method does not account
    for fleeing due to fear effects specifically; it checks general fleeing behavior.
  warnings: Ensure that the Unit pointer passed to this method is valid and not null
    before calling to avoid undefined behavior. This method should only be called
    on units that are part of active combat or AI systems, as it may return unexpected
    results on idle or inactive units.
  related:
  - IsInCombat
  - GetTarget
  - SetTarget
  - HasAura
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T09:20:59.806175'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
