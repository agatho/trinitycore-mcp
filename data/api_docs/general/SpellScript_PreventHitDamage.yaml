api:
  class: SpellScript
  method: PreventHitDamage
  signature: void SpellScript::PreventHitDamage()
documentation:
  brief: Prevents the spell from dealing damage to the target.
  description: The PreventHitDamage method is used within SpellScript implementations
    to stop a spell from applying its normal damage effect to the target. This method
    is typically called during the spell's hit phase, allowing scripters to conditionally
    block damage without completely canceling the spell. It modifies the spell's behavior
    at runtime by preventing the application of damage modifiers and effects that
    would normally occur upon a successful hit. The method does not prevent other
    aspects of the spell such as visual effects or aura applications, only the actual
    damage calculation and application.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in SpellScript
    code: "class MySpellScript : public SpellScript\n{\npublic:\n    void HandleHit()\
      \ override\n    {\n        if (GetHitUnit()->HasAura(12345)) // If target has\
      \ specific aura\n            PreventHitDamage(); // Prevent damage\n    }\n\
      };"
    language: cpp
  - title: Conditional Damage Prevention Based on Target Type
    code: "class AdvancedSpellScript : public SpellScript\n{\npublic:\n    void HandleHit()\
      \ override\n    {\n        Unit* target = GetHitUnit();\n        if (target\
      \ && target->IsPlayer() && target->ToPlayer()->GetTeam() == GetCaster()->ToPlayer()->GetTeam())\n\
      \            PreventHitDamage(); // Prevent friendly fire damage\n    }\n};"
    language: cpp
  notes: This method should be called during the spell's hit phase, typically within
    the HandleHit() or similar override methods. It only affects the direct damage
    component of the spell and does not interfere with other effects like healing,
    buffing, or debuffing. The method is part of the SpellScript framework which allows
    for custom spell behavior in TrinityCore.
  warnings: Calling PreventHitDamage() will completely prevent the spell's damage
    from being applied to the target. If you need to modify damage rather than prevent
    it entirely, consider using ModifyHitDamage() instead. Be careful when using this
    method in combination with other damage prevention mechanisms as it may lead to
    unexpected behavior.
  related:
  - PreventHit
  - ModifyHitDamage
  - GetHitUnit
  - GetCaster
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T21:01:40.942220'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
