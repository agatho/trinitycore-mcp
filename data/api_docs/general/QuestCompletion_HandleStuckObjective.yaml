api:
  class: QuestCompletion
  method: HandleStuckObjective
  signature: void QuestCompletion::HandleStuckObjective(Player * bot, QuestObjectiveData
    & objective)
documentation:
  brief: Handles the 'stuck' quest objective for a bot player, typically triggered
    when the player becomes trapped or unable to progress.
  description: The HandleStuckObjective method is responsible for managing quest objectives
    that involve a player becoming stuck or blocked in their progression. This method
    is commonly used in AI-driven quest completion systems where bots need to detect
    and respond to situations where a character cannot continue with a quest due to
    environmental obstacles, pathfinding issues, or other game mechanics preventing
    movement. The method likely evaluates the current state of the bot's position
    and quest progress, and may trigger alternative quest actions or reset the objective
    if necessary. It is part of the broader QuestCompletion system designed to automate
    quest handling for bots in TrinityCore environments.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that is encountering
      the stuck objective. This player instance contains all relevant state information
      including position, quest data, and current objective status.
  - name: objective
    description: Reference to a QuestObjectiveData structure containing detailed information
      about the specific quest objective that has become stuck. This includes objective
      type, progress status, required items, or location data needed to determine
      how to handle the stuck state.
  returns: null
  examples:
  - title: Basic usage in quest completion logic
    code: "void MyQuestHandler::ProcessStuckObjective(Player* bot, QuestObjectiveData&\
      \ objective)\n{\n    QuestCompletion completion;\n    completion.HandleStuckObjective(bot,\
      \ objective);\n}"
    language: cpp
  - title: Integration with AI quest state machine
    code: "void BotAI::UpdateQuestProgress()\n{\n    if (currentQuest && IsObjectiveStuck(currentQuest->GetActiveObjective()))\n\
      \    {\n        QuestCompletion completion;\n        completion.HandleStuckObjective(bot,\
      \ currentQuest->GetActiveObjective());\n        // Attempt alternative quest\
      \ path or reset objective\n    }\n}"
    language: cpp
  notes: This method is typically invoked during automated quest handling in bot scripts.
    It may perform internal checks for player position validity and quest state consistency.
    The implementation likely includes logic to prevent infinite loops by tracking
    how many times an objective has been marked as stuck.
  warnings: Care must be taken when calling this method from within other quest completion
    handlers, as recursive calls or improper state management could lead to unexpected
    behavior. Ensure that the bot's position and quest data are valid before invoking
    this method.
  related:
  - QuestCompletion::HandleObjectiveComplete
  - QuestCompletion::HandleObjectiveUpdate
  - Player::GetQuestStatus
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T05:08:09.989787'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
