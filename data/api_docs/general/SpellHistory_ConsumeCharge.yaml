api:
  class: SpellHistory
  method: ConsumeCharge
  signature: void SpellHistory::ConsumeCharge(int chargeCategoryId)
documentation:
  brief: Consumes a charge from the specified spell charge category.
  description: The ConsumeCharge method reduces the available charge count for a given
    spell charge category by one. This method is typically used in conjunction with
    spell cooldowns and charge-based mechanics, such as those found in abilities that
    have limited uses per reset period. It updates internal tracking of charges and
    may trigger related events or state changes depending on the implementation. The
    method does not validate whether a charge exists before consuming it, so calling
    this method without prior checks may result in negative charge counts.
  parameters:
  - name: chargeCategoryId
    description: The identifier of the spell charge category to consume a charge from.
      This value typically corresponds to a defined category ID used internally by
      the TrinityCore spell system to group related charges.
  returns: null
  examples:
  - title: Consuming a Charge for a Spell
    code: 'SpellHistory* spellHistory = player->GetSpellHistory();

      spellHistory->ConsumeCharge(12345); // Consumes one charge from category 12345'
    language: cpp
  - title: Checking Charge Availability Before Consumption
    code: "SpellHistory* spellHistory = player->GetSpellHistory();\nif (spellHistory->HasCharge(12345))\
      \ {\n    spellHistory->ConsumeCharge(12345);\n    // Proceed with spell execution\n\
      } else {\n    // Handle no charge available case\n}"
    language: cpp
  notes: This method is part of the SpellHistory class which manages cooldowns and
    charges for spells. It's commonly used in spell processing logic where abilities
    have limited uses before they can be used again. The method assumes that the charge
    category ID passed is valid and corresponds to an existing charge group.
  warnings: Calling this method without verifying that a charge exists may lead to
    incorrect state management. Always ensure that charges are available before consuming
    them, especially when implementing custom spell behaviors or mechanics.
  related:
  - HasCharge
  - GetChargeCount
  - ResetCharge
  - AddCharge
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T02:00:54.403515'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
