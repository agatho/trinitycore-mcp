api:
  class: PriestAI
  method: CanUseAbility
  signature: bool PriestAI::CanUseAbility(int spellId)
documentation:
  brief: Determines whether a priest AI can use a specified spell ability based on
    current game state and conditions.
  description: The CanUseAbility method evaluates if a priest AI character is capable
    of casting a given spell ability. It checks various preconditions such as mana
    availability, cooldown status, target validity, and other game mechanics relevant
    to the priest class. This method is typically used within the AI decision-making
    process to ensure that only valid and appropriate abilities are selected for execution.
    The evaluation considers both immediate requirements (like resource costs) and
    contextual factors (such as combat state or target conditions).
  parameters:
  - name: spellId
    description: The unique identifier of the spell ability to check for usability.
      This corresponds to the Spell ID used in TrinityCore's spell system.
  returns: Returns true if the specified spell can be used under current conditions,
    otherwise returns false. A return value of false indicates that one or more prerequisites
    for casting the spell are not met.
  examples:
  - title: Basic Usage in AI Logic
    code: "if (priestAI->CanUseAbility(SPELL_FLASH_HEAL)) {\n    // Execute flash\
      \ heal\n    priestAI->DoCastVictim(SPELL_FLASH_HEAL);\n}"
    language: cpp
  - title: Conditional Ability Selection
    code: "if (priestAI->CanUseAbility(SPELL_POWER_WORD_SHIELD)) {\n    if (priestAI->GetHealthPct()\
      \ < 50) {\n        priestAI->DoCastSelf(SPELL_POWER_WORD_SHIELD);\n    }\n}"
    language: cpp
  notes: This method likely integrates with TrinityCore's spell system and AI framework
    to evaluate spell castability. It may internally check for cooldowns, mana costs,
    line of sight, target validity, and other spell-specific constraints. Developers
    should ensure that the spellId passed corresponds to a valid priest spell in the
    database.
  warnings: Incorrect spell IDs may lead to unexpected behavior or failed ability
    checks. Always validate spell IDs against the TrinityCore spell database before
    using this method. The method assumes the AI has access to necessary context information
    like current health, mana, and target status.
  related:
  - DoCastVictim
  - DoCastSelf
  - GetHealthPct
  - GetPowerPct
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T21:04:44.944691'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
