api:
  class: VendorInteraction
  method: HandleVendorList
  signature: void VendorInteraction::HandleVendorList(Player * bot, const WorldPacket
    & packet)
documentation:
  brief: Handles the vendor list request from a player bot, retrieving and sending
    available items for purchase.
  description: The HandleVendorList method processes a vendor interaction packet sent
    by a player bot, typically in response to opening a vendor's inventory interface.
    It retrieves the list of items that the vendor is offering for sale, formats this
    information according to the World of Warcraft client protocol, and sends it back
    to the requesting player. This method is part of the VendorInteraction class which
    manages all interactions with NPC vendors within the TrinityCore framework. The
    method ensures that only valid, purchasable items are displayed to the player,
    respecting item availability, player level requirements, and vendor-specific restrictions.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot requesting the
      vendor list. This parameter identifies which character is making the vendor
      interaction request.
  - name: packet
    description: Reference to the WorldPacket containing the vendor list request data
      sent by the client. This packet typically includes vendor GUID and other contextual
      information needed to process the request.
  returns: null
  examples:
  - title: Basic Vendor List Request Handling
    code: "void example() {\n    Player* bot = ...; // Get player bot instance\n \
      \   WorldPacket packet(CMSG_VENDOR_LIST); // Create vendor list request packet\n\
      \    packet << uint64(vendorGuid); // Add vendor GUID to packet\n    VendorInteraction\
      \ interaction;\n    interaction.HandleVendorList(bot, packet);\n}"
    language: cpp
  notes: This method is typically invoked during NPC vendor interactions in bot AI
    logic. The implementation assumes that the player has sufficient proximity and
    line-of-sight to the vendor. Performance considerations include efficient item
    filtering and packet construction. This method may be called from different threads
    depending on how the TrinityCore server handles network packets.
  warnings: Ensure that the vendor GUID in the packet is valid before processing,
    as invalid GUIDs could cause crashes or undefined behavior. Be aware that this
    method does not validate whether the player can actually afford items; that validation
    occurs during purchase handling.
  related:
  - HandleVendorBuy
  - HandleVendorSell
  - GetVendorItems
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T20:54:42.355841'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
