api:
  class: QuestValidation
  method: CheckPreviousQuest
  signature: bool QuestValidation::CheckPreviousQuest(const Quest * quest, Player
    * bot)
documentation:
  brief: Checks if a player has completed the required previous quest before being
    able to accept the specified quest.
  description: The CheckPreviousQuest method validates whether a player has met the
    prerequisite quest requirements for accepting a new quest. It ensures that any
    quest marked as a dependency (i.e., a quest that must be completed before another
    can be accepted) has indeed been finished by the player. This method is typically
    used during quest acceptance logic to enforce quest ordering and progression rules
    within the game world. The validation considers both the completion status of
    the prerequisite quest and whether the player meets any additional conditions
    such as level requirements or specific item requirements tied to the previous
    quest.
  parameters:
  - name: quest
    description: Pointer to the Quest object that is being checked for prerequisite
      requirements. This represents the quest that the player is attempting to accept.
  - name: bot
    description: Pointer to the Player object representing the player who is attempting
      to accept the quest. Used to check the player's quest completion status and
      other relevant conditions.
  returns: Returns true if all prerequisite quests have been completed by the player
    or if there are no prerequisites defined for the quest. Returns false if one or
    more required previous quests have not yet been completed.
  examples:
  - title: Basic Usage in Quest Accept Logic
    code: "if (sQuestValidation->CheckPreviousQuest(quest, player)) {\n    // Proceed\
      \ with quest acceptance logic\n    player->AddQuest(quest);\n} else {\n    //\
      \ Inform player they cannot accept the quest yet\n    player->SendNotification(\"\
      You must complete the previous quest first.\");\n}"
    language: cpp
  - title: Integration with Custom Quest System
    code: "bool CanAcceptQuest(Player* player, Quest* quest) {\n    if (!quest ||\
      \ !player) return false;\n    \n    // Check previous quests before allowing\
      \ acceptance\n    if (sQuestValidation->CheckPreviousQuest(quest, player)) {\n\
      \        // Additional validation logic here\n        return true;\n    }\n\
      \    return false;\n}"
    language: cpp
  notes: This method is part of the core quest validation system in TrinityCore and
    should be called before allowing a player to accept a new quest. It does not modify
    any player state or quest data directly; it only performs a read-only check. The
    method respects all standard quest prerequisites including those defined in the
    database, such as required quest IDs, level requirements, and item dependencies.
  warnings: Ensure that both the 'quest' and 'bot' parameters are valid pointers before
    calling this method to avoid crashes. The method assumes that the quest object
    has been properly loaded from the database with all prerequisite information intact.
    Do not rely on this method alone for complex quest progression logic; additional
    checks may be needed depending on your specific implementation requirements.
  related:
  - QuestValidation::CheckQuestStatus
  - QuestValidation::CanPlayerAcceptQuest
  - Player::HasQuest
metadata:
  confidence: 0.95
  generated_at: '2025-11-07T21:01:01.241589'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
