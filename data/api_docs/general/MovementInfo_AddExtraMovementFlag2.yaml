api:
  class: MovementInfo
  method: AddExtraMovementFlag2
  signature: void MovementInfo::AddExtraMovementFlag2(uint32 flag)
documentation:
  brief: Adds a specified movement flag to the extra movement flags set for this MovementInfo
    object.
  description: The AddExtraMovementFlag2 method is used to append a given movement
    flag to the existing set of extra movement flags within a MovementInfo structure.
    This functionality is typically utilized in World of Warcraft's TrinityCore server
    implementation to manage and update player or creature movement states during
    network synchronization. The method modifies the internal state of the MovementInfo
    object by incorporating the provided flag into its current set of active flags,
    allowing for complex movement behaviors such as flying, swimming, or other special
    movement types. It is important to note that this method operates on a bitfield-based
    system where each flag represents a distinct movement attribute.
  parameters:
  - name: flag
    description: The movement flag value to be added to the extra movement flags set.
      This should be one of the predefined movement flag constants defined in the
      TrinityCore codebase, such as MOVEFLAG2_GRAVITY, MOVEFLAG2_FLYING, etc.
  returns: null
  examples:
  - title: Adding a Flying Movement Flag
    code: 'MovementInfo movementInfo;

      movementInfo.AddExtraMovementFlag2(MOVEFLAG2_FLYING);'
    language: cpp
  - title: Combining Multiple Movement Flags
    code: 'MovementInfo movementInfo;

      movementInfo.AddExtraMovementFlag2(MOVEFLAG2_FLYING);

      movementInfo.AddExtraMovementFlag2(MOVEFLAG2_CAN_FLY);'
    language: cpp
  notes: This method directly modifies the internal flag state of the MovementInfo
    object. It is commonly used in packet handling and movement update logic within
    TrinityCore's core systems. The method assumes that the provided flag value is
    valid and corresponds to a known movement flag constant.
  warnings: Ensure that the flag parameter passed to this method is a valid movement
    flag constant from the TrinityCore codebase. Passing invalid or undefined flags
    may lead to unexpected behavior during movement processing or network synchronization.
  related:
  - GetExtraMovementFlags2
  - HasExtraMovementFlag2
  - RemoveExtraMovementFlag2
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T23:41:16.236066'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
