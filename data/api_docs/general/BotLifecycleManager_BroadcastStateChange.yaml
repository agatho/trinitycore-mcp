api:
  class: BotLifecycleManager
  method: BroadcastStateChange
  signature: void BotLifecycleManager::BroadcastStateChange(int botGuid, BotLifecycleState
    oldState, BotLifecycleState newState)
documentation:
  brief: Notifies all connected clients about a bot's lifecycle state transition
  description: The BroadcastStateChange method is responsible for propagating changes
    in a bot's lifecycle state to all connected clients within the World of Warcraft
    server environment. This ensures that client-side systems, such as the user interface
    or automation tools, are aware of when a bot transitions between different states
    (e.g., from inactive to active, or from idle to engaged). The method typically
    sends a network message containing the bot's unique identifier and its new state
    to all relevant parties in the game world. This mechanism supports real-time synchronization
    of bot behavior across multiple players and systems.
  parameters:
  - name: botGuid
    description: The unique global identifier (GUID) of the bot whose state is being
      changed. This value uniquely identifies the specific bot instance within the
      TrinityCore server environment.
  - name: oldState
    description: The previous lifecycle state of the bot before the change occurred.
      This parameter allows tracking of state transitions for logging, debugging,
      or conditional logic purposes.
  - name: newState
    description: The new lifecycle state that the bot is transitioning into. This
      value represents the updated state after the change has been applied.
  returns: null
  examples:
  - title: Broadcasting a State Change from Inactive to Active
    code: BotLifecycleManager::instance()->BroadcastStateChange(12345, BotLifecycleState::INACTIVE,
      BotLifecycleState::ACTIVE);
    language: cpp
  - title: Handling State Transition in a Bot Management System
    code: "void OnBotStateChanged(int botGuid, BotLifecycleState oldState, BotLifecycleState\
      \ newState)\n{\n    // Log the state change\n    LOG_INFO(\"bot\", \"Bot {}\
      \ transitioned from {} to {}\", botGuid, GetStateName(oldState), GetStateName(newState));\n\
      \    \n    // Notify all connected clients\n    BotLifecycleManager::instance()->BroadcastStateChange(botGuid,\
      \ oldState, newState);\n}"
    language: cpp
  notes: This method likely uses TrinityCore's messaging system to send updates to
    players' clients. It may involve serialization of the state information and network
    transmission over the game's protocol. The implementation might cache or batch
    updates for performance reasons in high-traffic scenarios.
  warnings: Ensure that botGuid is valid before calling this method, as invalid GUIDs
    could lead to undefined behavior or client-side errors. Also, be cautious about
    calling this method too frequently during rapid state changes, which could overwhelm
    the network layer.
  related:
  - GetBotState
  - SetBotState
  - NotifyClientsOfBotChange
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T05:41:07.250410'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
