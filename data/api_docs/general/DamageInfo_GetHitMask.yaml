api:
  class: DamageInfo
  method: GetHitMask
  signature: ProcFlagsHit DamageInfo::GetHitMask() const
documentation:
  brief: Retrieves the hit mask indicating which types of hits occurred during a damage
    event.
  description: The GetHitMask method returns a ProcFlagsHit value that represents
    the specific types of hits that occurred during a damage calculation. This bitmask
    is used internally by TrinityCore to track and process different kinds of combat
    outcomes such as critical strikes, glancing blows, or normal hits. The returned
    value can be used to determine how a damage event was processed and to trigger
    appropriate effects or procs based on the hit type. The method does not modify
    any internal state and is safe for repeated calls during the same damage calculation
    cycle.
  parameters: []
  returns: A ProcFlagsHit bitmask indicating the types of hits that occurred during
    the damage event. Common values include PROC_HIT_CRITICAL, PROC_HIT_NORMAL, PROC_HIT_MISS,
    etc., which can be combined using bitwise operations to represent multiple hit
    types simultaneously.
  examples:
  - title: Checking for Critical Hit
    code: "DamageInfo* damageInfo = ...;\nProcFlagsHit hitMask = damageInfo->GetHitMask();\n\
      if (hitMask & PROC_HIT_CRITICAL)\n{\n    // Handle critical hit logic\n    printf(\"\
      Critical hit occurred!\\n\");\n}"
    language: cpp
  - title: Processing Multiple Hit Types
    code: "DamageInfo* damageInfo = ...;\nProcFlagsHit hitMask = damageInfo->GetHitMask();\n\
      \nif (hitMask & PROC_HIT_NORMAL)\n{\n    // Normal hit processing\n}\nelse if\
      \ (hitMask & PROC_HIT_CRITICAL)\n{\n    // Critical hit processing\n}\n\n//\
      \ Check for multiple hit types\nif ((hitMask & (PROC_HIT_CRITICAL | PROC_HIT_NORMAL))\
      \ == (PROC_HIT_CRITICAL | PROC_HIT_NORMAL))\n{\n    // Both critical and normal\
      \ hits occurred\n}"
    language: cpp
  notes: The ProcFlagsHit return value is constructed from the internal hit state
    of the DamageInfo object. This method should only be called after a damage event
    has been fully processed, as the hit mask may not be valid during early stages
    of damage calculation. The returned value is typically used in conjunction with
    other methods like GetDamage() and GetTarget() to fully understand the context
    of a combat event.
  warnings: Do not modify the returned ProcFlagsHit value directly as it's a const
    reference. If you need to perform bitwise operations, make sure to copy the value
    first. The hit mask may contain flags that are not explicitly documented in the
    public API but are used internally by TrinityCore's combat system.
  related:
  - GetDamage
  - GetTarget
  - GetHitResult
  - GetProcFlags
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T09:48:44.613950'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
