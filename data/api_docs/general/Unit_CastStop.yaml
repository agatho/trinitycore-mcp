api:
  class: Unit
  method: CastStop
  signature: void Unit::CastStop(uint32 except_spellid)
documentation:
  brief: Stops the current cast process for the unit, with optional exception spell
    handling.
  description: The CastStop method terminates any ongoing spell casting process for
    the Unit. It prevents further spell execution and clears the casting state. The
    method accepts an optional parameter to specify a spell ID that should be exempted
    from the stoppage, allowing certain spells to continue casting even when this
    method is invoked. This behavior is particularly useful in scenarios where specific
    spells need to maintain their casting state despite other interruptions.
  parameters:
  - name: except_spellid
    description: An optional spell ID that will be exempted from the cast stoppage.
      If specified, this spell will continue casting even if CastStop is invoked.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'Unit* unit = new Unit;

      unit->CastStop();

      // Stops all casting for the unit'
    language: cpp
  - title: Exception Spell Example
    code: 'Unit* unit = new Unit;

      unit->CastStop(12345);

      // Stops all casting except spell ID 12345'
    language: cpp
  notes: This method is typically used in conjunction with other casting-related methods
    to manage spell states. It's important to note that the method does not immediately
    clear the cast, but rather stops further execution of the current spell. Performance
    considerations include potential delays in spell state updates if multiple calls
    are made rapidly.
  warnings: Improper use of this method may lead to inconsistent spell states or unexpected
    behavior during combat. It's crucial to ensure proper handling of spell IDs when
    using the exception parameter, as incorrect values can cause unintended casting
    behavior.
  related:
  - CastStart
  - CastCancel
  - CastSuccess
  - CastFailed
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T21:20:04.790775'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
