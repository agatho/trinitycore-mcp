api:
  class: InstanceScriptDataReader
  method: ParseBossStates
  signature: Result InstanceScriptDataReader::ParseBossStates()
documentation:
  brief: Parses and initializes boss encounter states for an instance script.
  description: The ParseBossStates method reads and processes saved boss encounter
    data from the database, setting up the initial state of bosses within an instance.
    This method is typically invoked during instance loading to restore the previous
    encounter states, ensuring that players can resume encounters from where they
    left off. It handles parsing of encounter IDs, kill status, and any associated
    variables or timers needed for proper boss state restoration. The method ensures
    that all boss-related data is correctly initialized before the instance becomes
    accessible to players.
  parameters: []
  returns: A Result object indicating success or failure of the parsing operation.
    On success, it typically returns a positive value or indicates successful state
    restoration; on failure, it may return an error code or indicate parsing issues
    with boss data.
  examples:
  - title: Basic usage in instance script
    code: "class ExampleInstanceScript : public InstanceScript\n{\npublic:\n    ExampleInstanceScript(Map*\
      \ map) : InstanceScript(map) {}\n\n    void Load(const char* data) override\n\
      \    {\n        if (data)\n        {\n            InstanceScriptDataReader reader(data);\n\
      \            auto result = reader.ParseBossStates();\n            if (!result)\n\
      \            {\n                // Handle parsing error\n                LOG_ERROR(\"\
      sql.sql\", \"Failed to parse boss states for instance {}\", GetInstanceId());\n\
      \            }\n        }\n    }\n};"
    language: cpp
  notes: This method should only be called during the instance loading phase, typically
    after the map has been initialized but before players are allowed to enter. It
    assumes that the input data string is properly formatted and contains valid encounter
    state information. The method may perform database queries internally to retrieve
    additional boss-related data if needed.
  warnings: Calling this method outside of the appropriate loading context can lead
    to undefined behavior or corrupted instance state. Ensure that the input data
    string is validated before passing it to this method, as malformed data could
    cause parsing failures or inconsistent boss states.
  related:
  - Load
  - Save
  - GetInstanceData
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T05:30:50.698258'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
