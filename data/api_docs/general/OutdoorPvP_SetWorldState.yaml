api:
  class: OutdoorPvP
  method: SetWorldState
  signature: void OutdoorPvP::SetWorldState(int worldStateId, int value)
documentation:
  brief: Sets a world state value for the OutdoorPvP area, updating client-side UI
    elements.
  description: The SetWorldState method updates a specific world state identifier
    with a given integer value within the context of an OutdoorPvP zone. This mechanism
    is used by TrinityCore to synchronize game state information between the server
    and clients, such as capturing progress, control status, or other dynamic UI elements.
    The method directly affects the visual representation and gameplay mechanics tied
    to the OutdoorPvP system. It typically triggers a network update to all players
    within the affected zone, ensuring that their client interfaces reflect the current
    state of the outdoor battleground. This method should be called when changes occur
    in the PvP zone's state that need immediate client-side visibility.
  parameters:
  - name: worldStateId
    description: The unique identifier for the world state to be updated. This ID
      corresponds to predefined game states used by the OutdoorPvP system, such as
      capture bar values or control flags.
  - name: value
    description: The integer value to assign to the specified world state. The meaning
      of this value depends on the worldStateId and can represent counts, percentages,
      flags, or other numeric indicators relevant to the OutdoorPvP zone's behavior.
  returns: null
  examples:
  - title: Update Capture Bar Value
    code: "OutdoorPvP* pvp = sOutdoorPvPMgr->GetOutdoorPvPToZoneId(1234);\nif (pvp)\n\
      {\n    pvp->SetWorldState(WORLDSTATE_CAPTURE_BAR_VALUE, 75);\n}"
    language: cpp
  - title: Set Control Flag
    code: "OutdoorPvP* pvp = sOutdoorPvPMgr->GetOutdoorPvPToZoneId(5678);\nif (pvp)\n\
      {\n    pvp->SetWorldState(WORLDSTATE_CONTROLLED_BY_ALLIANCE, 1);\n}"
    language: cpp
  notes: This method is typically invoked internally by the OutdoorPvP system when
    state changes occur. Developers should ensure that worldStateId values are valid
    identifiers defined within the game's world state system. The update is automatically
    broadcast to all players in the affected zone, so performance considerations should
    be taken into account for frequent updates.
  warnings: Avoid calling this method with invalid worldStateId values as it may cause
    client-side errors or undefined behavior. Ensure that the value parameter represents
    a meaningful state for the given world state ID; arbitrary numeric values might
    not render correctly on the client side.
  related:
  - GetWorldState
  - SendUpdateWorldState
  - HandlePlayerEnter
  - HandlePlayerLeave
metadata:
  confidence: 0.95
  generated_at: '2025-11-03T22:21:59.032965'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
