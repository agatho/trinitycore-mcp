api:
  class: SpellHistory
  method: HasCharge
  signature: bool SpellHistory::HasCharge(int chargeCategoryId) const
documentation:
  brief: Checks if a spell charge category has available charges.
  description: The HasCharge method determines whether a specific spell charge category
    currently has any usable charges remaining. This is commonly used in spell systems
    to verify if a player can cast a spell that requires charges, such as abilities
    with limited uses per minute or cooldown periods. The method typically checks
    internal charge tracking data within the SpellHistory class, which manages cooldowns
    and charge states for spells. It returns true if at least one charge is available
    for the specified category, and false otherwise.
  parameters:
  - name: chargeCategoryId
    description: The unique identifier for the spell charge category to check. This
      ID corresponds to a specific set of charges in the spell system, often defined
      by spell effects or abilities that consume charges.
  returns: Returns true if the specified charge category has at least one available
    charge; otherwise returns false.
  examples:
  - title: Basic Usage
    code: "if (player->GetSpellHistory()->HasCharge(12345)) {\n    // Player can cast\
      \ the spell with charges\n    player->CastSpell(target, SPELL_ID, true);\n}\
      \ else {\n    // No charges available\n    player->SendSpellFailed(clientGuid,\
      \ SPELL_ID, SPELL_FAILED_NO_CHARGES);\n}"
    language: cpp
  - title: Charge Validation Before Casting
    code: "SpellHistory* spellHistory = player->GetSpellHistory();\nuint32 chargeCatId\
      \ = 67890; // Example charge category ID\nif (spellHistory->HasCharge(chargeCatId))\
      \ {\n    // Proceed with spell casting logic\n    player->CastSpell(target,\
      \ SPELL_ID, true);\n    // Deduct charge after successful cast\n    spellHistory->RemoveCharge(chargeCatId);\n\
      } else {\n    // Handle insufficient charges\n    ChatHandler(player->GetSession()).SendSysMessage(\"\
      You have no charges remaining for this ability.\");\n}"
    language: cpp
  notes: This method is typically used in conjunction with other SpellHistory methods
    like RemoveCharge and AddCharge to manage spell charge states. It's important
    to note that charge categories are usually defined by the spell's effect properties
    rather than being arbitrary numbers.
  warnings: Ensure that the chargeCategoryId passed corresponds to a valid category
    defined in the spell system, otherwise behavior may be undefined or result in
    incorrect charge state tracking.
  related:
  - RemoveCharge
  - AddCharge
  - GetChargeCount
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T18:00:27.855162'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
