api:
  class: EnhancedBotAI
  method: OnDeath
  signature: void EnhancedBotAI::OnDeath()
documentation:
  brief: Handles the bot's behavior when it dies, including cleanup and potential
    respawn logic.
  description: The OnDeath method is invoked when an EnhancedBotAI instance experiences
    death within the TrinityCore environment. This method manages post-death actions
    such as cleaning up AI state, notifying the system of the bot's demise, and potentially
    triggering respawn or recovery mechanisms. It ensures that the bot's resources
    are properly released and that its AI state is reset appropriately to prevent
    undefined behavior. The method is typically called by the core game loop or combat
    system when a bot's health reaches zero and it is removed from the world.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in AI override
    code: "class MyBotAI : public EnhancedBotAI {\npublic:\n    void OnDeath() override\
      \ {\n        // Custom logic on death\n        EnhancedBotAI::OnDeath();\n \
      \   }\n};"
    language: cpp
  notes: This method is part of the AI lifecycle and should not be called directly
    unless implementing a custom bot behavior. The base implementation handles core
    cleanup tasks such as removing AI references, resetting internal state flags,
    and potentially notifying the parent bot manager. It's important to call the base
    class implementation if overriding to ensure proper behavior.
  warnings: Overriding this method without calling the base implementation may lead
    to resource leaks or inconsistent AI states. Ensure that any custom logic does
    not interfere with core cleanup procedures that are essential for maintaining
    server stability.
  related:
  - OnEnterCombat
  - OnLeaveCombat
  - OnRespawn
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T14:47:21.680131'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
