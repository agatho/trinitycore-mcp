api:
  class: Research
  method: WriteCreate
  signature: void Research::WriteCreate(ByteBuffer & data, const Player * owner, const
    Player * receiver) const
documentation:
  brief: Writes research creation data to a ByteBuffer for network transmission to
    players.
  description: The WriteCreate method serializes research-related data into a ByteBuffer
    format suitable for sending over the network. This method is typically invoked
    when a research object needs to be created and communicated to client players,
    including relevant metadata such as research ID, owner information, and recipient
    details. It ensures that all necessary fields are properly encoded and formatted
    according to TrinityCore's packet structure conventions. The method takes into
    account both the owner and receiver player objects to correctly populate the serialized
    data with appropriate identifiers and state information.
  parameters:
  - name: data
    description: Reference to a ByteBuffer where the serialized research creation
      data will be written. This buffer is typically used for constructing network
      packets.
  - name: owner
    description: Pointer to the Player object who owns the research. May be null if
      no owner exists or during initialization phases.
  - name: receiver
    description: Pointer to the Player object who will receive the research data.
      Can be null if broadcast or global distribution is intended.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'ByteBuffer data;

      Player* owner = ...; // Get player instance

      Player* receiver = ...; // Get receiver player instance

      research->WriteCreate(data, owner, receiver);

      // Send data over network to client(s)'
    language: cpp
  - title: Usage in Packet Construction
    code: 'WorldPacket packet(SMSG_RESEARCH_DATA_CREATE);

      Player* owner = session->GetPlayer();

      Player* receiver = nullptr; // For broadcast

      research->WriteCreate(packet, owner, receiver);

      session->SendPacket(&packet);'
    language: cpp
  notes: This method is part of the research system's serialization logic and should
    be called only when preparing data for network transmission. It does not perform
    any validation on input parameters beyond basic null checks. The ByteBuffer must
    be properly initialized before calling this method to avoid undefined behavior.
  warnings: Ensure that both owner and receiver player pointers are valid before calling
    this method, as dereferencing invalid pointers will result in crashes. Also note
    that the method assumes proper initialization of the ByteBuffer object and does
    not handle memory allocation failures.
  related:
  - Research::ReadCreate
  - Research::WriteUpdate
  - Research::WriteDestroy
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T20:52:55.118375'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
