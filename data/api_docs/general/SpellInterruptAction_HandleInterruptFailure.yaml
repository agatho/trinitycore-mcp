api:
  class: SpellInterruptAction
  method: HandleInterruptFailure
  signature: void SpellInterruptAction::HandleInterruptFailure(BotAI * ai, const InterruptContext
    & context, const std::string & reason)
documentation:
  brief: Handles the failure case when a spell interruption attempt is unsuccessful
    in the bot's AI system.
  description: The HandleInterruptFailure method is responsible for managing the scenario
    where an attempt to interrupt a spell fails within the BotAI framework. This typically
    occurs when a bot tries to interrupt an ongoing spell cast but is unable to do
    so, possibly due to timing, spell properties, or AI decision-making constraints.
    The method logs the failure reason and updates the AI's internal state or decision
    tree accordingly. It plays a crucial role in maintaining consistent behavior for
    bots during combat scenarios where spell interruption is a strategic element.
  parameters:
  - name: ai
    description: Pointer to the BotAI instance that initiated the interrupt attempt.
      This provides access to the bot's current state, spell data, and decision-making
      context.
  - name: context
    description: The InterruptContext object containing details about the spell being
      interrupted, including target information, spell ID, and timing data.
  - name: reason
    description: A descriptive string explaining why the interrupt attempt failed.
      This could include reasons like 'target not casting', 'spell immunity', or 'cooldown
      active'.
  returns: null
  examples:
  - title: Basic Usage in BotAI Logic
    code: "void MyBotAI::OnSpellCastFailed(Spell* spell)\n{\n    InterruptContext\
      \ context;\n    context.spellId = spell->m_spellInfo->Id;\n    context.targetGuid\
      \ = spell->m_targets.GetUnitTargetGuid();\n    HandleInterruptFailure(this,\
      \ context, \"Spell not interruptible\");\n}"
    language: cpp
  notes: This method is part of the SpellInterruptAction class and is typically invoked
    internally by the AI system when spell interruption logic fails. It does not directly
    modify game state but influences future AI decisions based on failed attempts.
  warnings: Ensure that the InterruptContext object passed to this method contains
    valid data, as invalid or uninitialized context values may lead to incorrect logging
    or AI behavior.
  related:
  - SpellInterruptAction::HandleInterruptSuccess
  - SpellInterruptAction::TryInterruptSpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T09:29:17.711646'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
