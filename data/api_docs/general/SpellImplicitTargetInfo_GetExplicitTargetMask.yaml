api:
  class: SpellImplicitTargetInfo
  method: GetExplicitTargetMask
  signature: uint32 SpellImplicitTargetInfo::GetExplicitTargetMask(bool & srcSet,
    bool & dstSet) const
documentation:
  brief: Calculates and returns the explicit target mask for spell implicit target
    information, while updating source and destination set flags.
  description: The GetExplicitTargetMask method computes the explicit target mask
    used in spell targeting logic within TrinityCore. It evaluates the spell's implicit
    target information to determine which targets are explicitly defined, returning
    a bitmask that represents these targets. The method also updates two boolean reference
    parameters, srcSet and dstSet, indicating whether source and destination targets
    have been set respectively. This functionality is crucial for proper spell execution
    and targeting validation in World of Warcraft's combat system, particularly when
    handling complex spell effects with multiple target types or conditional targeting.
  parameters:
  - name: srcSet
    description: Reference to a boolean flag that will be set to true if the source
      target is explicitly defined, false otherwise.
  - name: dstSet
    description: Reference to a boolean flag that will be set to true if the destination
      target is explicitly defined, false otherwise.
  returns: A uint32 bitmask representing the explicit targets for the spell. Each
    bit in the mask corresponds to a specific target type or category as defined by
    the spell's implicit targeting rules.
  examples:
  - title: Basic Usage Example
    code: "SpellImplicitTargetInfo targetInfo;\nbool srcSet = false;\nbool dstSet\
      \ = false;\nuint32 mask = targetInfo.GetExplicitTargetMask(srcSet, dstSet);\n\
      if (srcSet) {\n    // Handle source target logic\n}\nif (dstSet) {\n    // Handle\
      \ destination target logic\n}"
    language: cpp
  - title: Spell Targeting Validation
    code: "void ValidateSpellTargets(SpellInfo const* spellInfo) {\n    SpellImplicitTargetInfo\
      \ targetInfo = spellInfo->GetImplicitTargetInfo();\n    bool srcSet = false;\n\
      \    bool dstSet = false;\n    uint32 explicitMask = targetInfo.GetExplicitTargetMask(srcSet,\
      \ dstSet);\n    \n    // Check if both source and destination are explicitly\
      \ defined\n    if (srcSet && dstSet) {\n        // Proceed with full targeting\
      \ validation\n        sLog->outString(\"Spell %u has explicit source and destination\
      \ targets.\", spellInfo->Id);\n    } else {\n        sLog->outString(\"Spell\
      \ %u requires additional target resolution.\", spellInfo->Id);\n    }\n}"
    language: cpp
  notes: This method is primarily used during spell initialization and targeting phase.
    The returned mask value should be interpreted according to the spell's target
    type definitions. The srcSet and dstSet flags provide additional context about
    the completeness of target information, which can be useful for debugging or advanced
    targeting logic implementations.
  warnings: The boolean reference parameters are modified by this method, so ensure
    they are properly initialized before calling. Incorrect handling of these flags
    may lead to inconsistent spell targeting behavior. This method should only be
    called after the SpellImplicitTargetInfo object has been properly initialized
    with valid target data.
  related:
  - SpellImplicitTargetInfo::GetTargetMask
  - SpellImplicitTargetInfo::GetTargetType
  - SpellImplicitTargetInfo::IsExplicitTarget
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T17:56:06.026734'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
