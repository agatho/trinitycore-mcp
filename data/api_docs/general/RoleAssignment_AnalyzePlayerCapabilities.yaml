api:
  class: RoleAssignment
  method: AnalyzePlayerCapabilities
  signature: PlayerRoleProfile RoleAssignment::AnalyzePlayerCapabilities(Player *
    player)
documentation:
  brief: Analyzes a player's capabilities and returns their role profile based on
    class, specialization, and gear statistics.
  description: The AnalyzePlayerCapabilities method evaluates a given player's current
    in-game attributes including their class, active specialization, equipped items,
    and other relevant gameplay factors to determine an appropriate role assignment.
    This function is typically used for group matching, raid positioning, or balancing
    purposes within TrinityCore's framework. The returned PlayerRoleProfile contains
    structured data about the player's primary role (e.g., tank, healer, damage dealer)
    along with supporting metrics that help identify their suitability for various
    game activities such as dungeons, raids, or PvP scenarios.
  parameters: []
  returns: A PlayerRoleProfile object containing detailed information about the player's
    identified role, including class type, specialization, gear score, and role category
    (tank, healer, or damage dealer). Returns an empty or default profile if no valid
    data can be determined for the player.
  examples:
  - title: Basic Usage Example
    code: "Player* targetPlayer = ...; // Assume this is a valid Player pointer\n\
      PlayerRoleProfile roleProfile = RoleAssignment::AnalyzePlayerCapabilities(targetPlayer);\n\
      if (roleProfile.GetRoleType() == ROLE_TANK)\n{\n    // Handle tank-specific\
      \ logic\n}"
    language: cpp
  - title: Role-Based Group Assignment
    code: "Player* player = ...;\nPlayerRoleProfile profile = RoleAssignment::AnalyzePlayerCapabilities(player);\n\
      switch (profile.GetRoleType())\n{\n    case ROLE_TANK:\n        // Assign to\
      \ tank group\n        break;\n    case ROLE_HEALER:\n        // Assign to healer\
      \ group\n        break;\n    case ROLE_DAMAGE:\n        // Assign to damage\
      \ group\n        break;\n}"
    language: cpp
  notes: This method relies heavily on accurate player data being present in the game
    state. It may perform multiple internal lookups including item database queries
    and specialization checks, which could impact performance if called frequently
    without caching. The role determination logic is based on TrinityCore's standard
    implementation of class and spec definitions.
  warnings: Do not call this method during critical gameplay moments where performance
    is crucial, as it may involve expensive computations or database lookups. Ensure
    that the Player pointer passed is valid and not null to avoid undefined behavior.
  related:
  - GetPlayerRoleType
  - AssignPlayerToGroup
  - UpdatePlayerRoleCache
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T03:45:06.067603'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
