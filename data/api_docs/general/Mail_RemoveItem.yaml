api:
  class: Mail
  method: RemoveItem
  signature: bool Mail::RemoveItem(int item_guid)
documentation:
  brief: Removes an item from the mail object by its GUID and returns true if successful.
  description: The RemoveItem method attempts to remove a specific item from the mail
    object using its unique identifier (GUID). This method is typically used when
    processing mail items that have been retrieved or claimed by the recipient. The
    operation will succeed if the item exists within the mail's item list and can
    be safely removed. If the item does not exist or cannot be removed for any reason,
    the method returns false. This functionality is integral to managing mailbox contents
    in World of Warcraft's TrinityCore server implementation.
  parameters:
  - name: item_guid
    description: The unique identifier (GUID) of the item to be removed from the mail
      object. This value must correspond to an existing item within the mail's item
      collection.
  returns: Returns true if the item with the specified GUID was successfully found
    and removed from the mail object. Returns false if no item with the given GUID
    exists in the mail or if the removal operation failed for any reason.
  examples:
  - title: Basic Usage
    code: "Mail* mail = ...; // Assume mail is initialized\nbool success = mail->RemoveItem(12345);\n\
      if (success) {\n    printf(\"Item removed successfully\\n\");\n} else {\n  \
      \  printf(\"Failed to remove item\\n\");\n}"
    language: cpp
  - title: Checking Before Removal
    code: "Mail* mail = ...; // Assume mail is initialized\nuint32 itemGuid = 67890;\n\
      if (mail->HasItem(itemGuid)) {\n    bool removed = mail->RemoveItem(itemGuid);\n\
      \    if (removed) {\n        printf(\"Item %u successfully removed from mail\\\
      n\", itemGuid);\n    } else {\n        printf(\"Failed to remove item %u\\n\"\
      , itemGuid);\n    }\n} else {\n    printf(\"Item %u not found in mail\\n\",\
      \ itemGuid);\n}"
    language: cpp
  notes: This method is part of the core mail system implementation and should be
    used carefully during mail processing. The method assumes that the item GUID passed
    corresponds to a valid item within the mail's internal data structure. Performance-wise,
    this operation is generally O(n) where n is the number of items in the mail, as
    it may need to search through the list of items to find the one with the matching
    GUID.
  warnings: Ensure that the item_guid parameter corresponds to an actual item present
    in the mail object before calling this method. Calling RemoveItem with a non-existent
    item_guid will return false but may indicate a logic error in your code flow.
    Also, be cautious when removing items from mails that are being processed or sent
    to players, as concurrent access might cause race conditions.
  related:
  - HasItem
  - AddItem
  - GetItems
  - ClearItems
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T00:01:08.997479'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
