api:
  class: TargetSelector
  method: CalculateVulnerabilityScore
  signature: float TargetSelector::CalculateVulnerabilityScore(Unit * target, const
    SelectionContext & context)
documentation:
  brief: Calculates a vulnerability score for a target unit based on selection context.
  description: The CalculateVulnerabilityScore method evaluates and returns a float
    value representing how vulnerable a given target unit is within the current AI
    selection context. This score is typically used by AI decision-making systems
    to prioritize targets, with higher scores indicating more favorable or exploitable
    targets. The calculation considers various factors such as target health, threat
    level, proximity, and other contextual attributes defined in the SelectionContext
    parameter. This method is integral to the targeting logic of AI-controlled entities
    in TrinityCore's game engine.
  parameters:
  - name: target
    description: Pointer to the Unit object representing the target whose vulnerability
      score will be calculated. Must not be null.
  - name: context
    description: Reference to a SelectionContext object containing contextual data
      that influences the vulnerability calculation, such as current threat levels,
      distance, and AI behavior settings.
  returns: A float value representing the calculated vulnerability score of the target.
    Higher values indicate higher vulnerability or desirability for targeting. The
    exact range and interpretation depend on internal AI logic but typically falls
    within a normalized scale.
  examples:
  - title: Basic Usage in AI Target Selection
    code: "float score = selector.CalculateVulnerabilityScore(targetUnit, context);\n\
      if (score > 0.7f)\n{\n    // Consider this target for attack\n}"
    language: cpp
  - title: Using Vulnerability Score for Target Prioritization
    code: "std::vector<std::pair<Unit*, float>> targetsWithScores;\nfor (auto& unit\
      \ : nearbyUnits)\n{\n    float score = selector.CalculateVulnerabilityScore(unit,\
      \ context);\n    targetsWithScores.emplace_back(unit, score);\n}\ntargetsWithScores.sort([](const\
      \ auto& a, const auto& b) { return a.second > b.second; });"
    language: cpp
  notes: This method is part of the AI targeting system and may be called frequently
    during combat decision loops. It relies on accurate unit state data and context
    information to produce meaningful results. The score calculation logic may vary
    depending on the specific AI behavior module or script in use.
  warnings: Ensure that the target pointer is valid and not null before calling this
    method, as passing a null pointer will likely result in undefined behavior or
    crashes. Also, be aware that the context object must contain up-to-date information
    for accurate scoring.
  related:
  - SelectTarget
  - GetSelectionContext
  - IsTargetVulnerable
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T18:27:42.604468'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
