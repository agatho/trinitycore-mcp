api:
  class: InterruptCoordinatorFixed
  method: AssignBotToSpell
  signature: bool InterruptCoordinatorFixed::AssignBotToSpell(int botGuid, CastingSpellInfo
    & castInfo)
documentation:
  brief: Assigns a bot to a spell casting operation for interrupt coordination.
  description: The AssignBotToSpell method is responsible for associating a specific
    bot (identified by its GUID) with a particular spell casting operation represented
    by CastingSpellInfo. This allows the InterruptCoordinatorFixed class to manage
    and coordinate interruptions of spells cast by bots, ensuring proper handling
    of spell interupts within the game's AI system. The method typically checks if
    the assignment is valid and updates internal tracking structures accordingly.
    It plays a crucial role in maintaining synchronization between bot behavior and
    spell interruption logic.
  parameters:
  - name: botGuid
    description: The unique identifier (GUID) of the bot that will be assigned to
      the spell casting operation. This value must correspond to an existing bot within
      the game world.
  - name: castInfo
    description: Reference to a CastingSpellInfo object containing details about the
      spell being cast, including spell ID, caster information, and casting state.
      This data is used to properly track and coordinate interruptions.
  returns: Returns true if the bot was successfully assigned to the spell casting
    operation; otherwise returns false. The assignment may fail if the bot does not
    exist, the spell info is invalid, or if there are conflicts with existing assignments.
  examples:
  - title: Basic Bot Assignment
    code: "uint64 botGuid = 12345;\nCastingSpellInfo spellInfo;\nspellInfo.spellId\
      \ = 1234;\nspellInfo.casterGuid = botGuid;\nbool result = interruptCoordinator.AssignBotToSpell(botGuid,\
      \ spellInfo);\nif (result) {\n    // Bot successfully assigned to spell\n}"
    language: cpp
  - title: Assignment with Error Handling
    code: "uint64 botGuid = 12345;\nCastingSpellInfo spellInfo;\nspellInfo.spellId\
      \ = 1234;\nspellInfo.casterGuid = botGuid;\n\n// Attempt to assign bot to spell\n\
      bool success = interruptCoordinator.AssignBotToSpell(botGuid, spellInfo);\n\
      if (!success) {\n    // Handle assignment failure - possibly log error or retry\n\
      \    sLog->outError(\"Failed to assign bot %u to spell %u\", botGuid, spellInfo.spellId);\n\
      }"
    language: cpp
  notes: This method is part of the interrupt coordination system and should be called
    whenever a bot begins casting a spell that might need interruption. The internal
    state management of the InterruptCoordinatorFixed class relies on these assignments
    to properly track which bots are involved in which spell casts.
  warnings: Ensure that the botGuid corresponds to an actual active bot, as assigning
    a non-existent bot may lead to undefined behavior or crashes. Also, avoid calling
    this method with invalid CastingSpellInfo data, as it could corrupt internal tracking
    structures.
  related:
  - GetBotForSpell
  - RemoveBotFromSpell
  - IsSpellInterruptible
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T11:42:48.275077'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
