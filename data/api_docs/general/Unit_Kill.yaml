api:
  class: Unit
  method: Kill
  signature: void Unit::Kill(Unit * attacker, Unit * victim, bool durabilityLoss,
    bool skipSettingDeathState)
documentation:
  brief: Kills a unit by applying damage and setting death state
  description: The Kill method is used to simulate the death of a unit in World of
    Warcraft, typically through direct damage application or by triggering death state.
    It handles both the damage calculation and the setting of death state for the
    victim. The method supports optional durability loss and skipping death state
    setting, making it flexible for various game mechanics scenarios including combat,
    questing, and player vs. player interactions.
  parameters:
  - name: attacker
    description: The unit that is performing the kill action, typically a player or
      NPC. This parameter determines the source of damage and may influence how death
      state is applied.
  - name: victim
    description: The unit being killed, which could be a player or NPC. This parameter
      defines the target of the kill operation and determines what happens to the
      victim's health and death state.
  - name: durabilityLoss
    description: When true, this parameter indicates that the victim's equipment durability
      should be reduced during the kill process. This is commonly used in PvP scenarios
      or when dealing with player characters.
  - name: skipSettingDeathState
    description: When true, this parameter bypasses setting the death state for the
      victim, allowing for more control over how the kill is processed. This is useful
      when handling special cases like boss fights or when death state needs to be
      handled differently.
  returns: null
  examples:
  - title: Basic usage example
    code: 'Unit* attacker = new Unit();

      Unit* victim = new Unit();

      attacker->Kill(victim, attacker, true, false);'
    language: cpp
  - title: Advanced usage example with durability loss
    code: 'Unit* player = new Unit();

      Unit* npc = new Unit();

      player->Kill(npc, player, true, false);

      // This would reduce the NPC''s equipment durability

      // while setting death state on the NPC'
    language: cpp
  notes: The method is primarily used in combat situations where a unit is killed
    by another unit. It may be used internally by TrinityCore for handling death state,
    damage application, and player interaction. The implementation involves checking
    if the victim has sufficient health to die, and applying necessary damage or setting
    death state accordingly.
  warnings: Improper use of this method can lead to incorrect death state handling,
    which may cause issues with game mechanics such as quest completion or player
    behavior. Care must be taken when using skipSettingDeathState parameter to avoid
    bypassing critical game logic.
  related:
  - Unit::DealDamage
  - Unit::SetDeathState
  - Unit::GetHealth
metadata:
  confidence: 0.9
  generated_at: '2025-10-30T21:00:11.479869'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
