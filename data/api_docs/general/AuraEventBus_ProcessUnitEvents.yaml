api:
  class: AuraEventBus
  method: ProcessUnitEvents
  signature: uint32 AuraEventBus::ProcessUnitEvents(int unitGuid, uint32 diff)
documentation:
  brief: Processes queued aura events for a specified unit, updating their state and
    applying effects based on elapsed time.
  description: The ProcessUnitEvents method handles the execution of queued aura events
    associated with a specific unit identified by its GUID. It iterates through all
    active auras on the unit, evaluates their current state, and applies any necessary
    updates or effects based on the time difference (diff) passed to the function.
    This method is typically invoked during the game loop to ensure that auras are
    properly updated in real-time as the simulation progresses. The method returns
    the number of processed events, which can be used for performance monitoring or
    debugging purposes.
  parameters:
  - name: unitGuid
    description: The unique identifier (GUID) of the unit whose aura events need to
      be processed. This value identifies a specific player, creature, or game object
      in the World of Warcraft instance.
  - name: diff
    description: The time difference in milliseconds since the last call to this method.
      Used to calculate how much time has passed for aura duration and tick updates.
  returns: Returns a uint32 value representing the total number of aura events that
    were successfully processed during this invocation.
  examples:
  - title: Basic Usage in Game Loop
    code: 'uint32 processedEvents = auraEventBus->ProcessUnitEvents(playerGuid, diff);

      // Use processedEvents for logging or performance tracking'
    language: cpp
  - title: Integration with Core Update Loop
    code: "void World::Update(uint32 diff)\n{\n    // ... other updates\n    auraEventBus->ProcessUnitEvents(playerGuid,\
      \ diff);\n    // ... more updates\n}"
    language: cpp
  notes: This method is part of the core aura system and should only be called from
    within the main game thread. It's crucial that this function is invoked regularly
    to maintain proper aura behavior and prevent outdated effects from persisting.
  warnings: Incorrect handling of the 'diff' parameter may lead to inaccurate aura
    durations or timing issues. Ensure that the time difference is accurately calculated
    and passed to avoid unexpected behavior in active auras.
  related:
  - AddAuraEvent
  - RemoveAuraEvent
  - GetAuraEventsForUnit
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T21:03:09.076030'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
