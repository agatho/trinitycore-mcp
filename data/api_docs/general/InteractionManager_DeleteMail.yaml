api:
  class: InteractionManager
  method: DeleteMail
  signature: bool InteractionManager::DeleteMail(Player * bot, uint32 mailId)
documentation:
  brief: Deletes a specific mail item from the player's mailbox.
  description: The DeleteMail method removes a specified mail entry from the player's
    mailbox. It is typically used by bots or automated systems to manage mail items,
    such as deleting old or unwanted messages. The method requires a valid Player
    object and a valid mail ID to perform the deletion. If the mail ID does not exist
    or the player is invalid, the operation will fail and return false. This function
    interacts directly with the World of Warcraft mailbox system and updates the database
    accordingly.
  parameters:
  - name: bot
    description: Pointer to the Player object whose mailbox will be modified. Must
      be a valid player instance.
  - name: mailId
    description: Unique identifier of the mail item to delete. Must correspond to
      an existing mail entry in the player's mailbox.
  returns: Returns true if the mail was successfully deleted, false otherwise. Failure
    can occur due to invalid player object, non-existent mail ID, or database errors.
  examples:
  - title: Basic Mail Deletion
    code: "Player* bot = ...; // Assume valid player\nuint32 mailId = 12345;\nbool\
      \ result = sInteractionManager->DeleteMail(bot, mailId);\nif (result)\n{\n \
      \   TC_LOG_INFO(\"ai.bot\", \"Mail with ID %u deleted successfully.\", mailId);\n\
      }\nelse\n{\n    TC_LOG_ERROR(\"ai.bot\", \"Failed to delete mail with ID %u.\"\
      , mailId);\n}"
    language: cpp
  notes: This method directly modifies the player's mailbox database entry. It should
    be used carefully in automated systems to avoid unintended data loss. The operation
    is synchronous and may block briefly during database transaction handling.
  warnings: Ensure that the mail ID provided actually exists in the player's mailbox
    before calling this function, otherwise it will silently fail. Also, be cautious
    when using this in bot scripts as deleting important mails (like quest rewards)
    might break gameplay logic.
  related:
  - GetMail
  - SendMail
  - HasMail
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T02:31:42.223328'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
