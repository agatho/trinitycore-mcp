api:
  class: InstanceScript
  method: SetHeaders
  signature: void InstanceScript::SetHeaders(const std::string & dataHeaders)
documentation:
  brief: Sets the data headers for the instance script, typically used to define encounter
    or boss-related metadata.
  description: The SetHeaders method is used within TrinityCore's InstanceScript class
    to assign a string of data headers that define various properties or states of
    an instance. These headers are commonly used in dungeon and raid encounters to
    track progress, set flags, or store encounter-specific information. This method
    allows scripts to communicate metadata about the instance state to other systems
    or components that may rely on this information for proper functionality. The
    headers string is usually parsed by the game engine or other scripts to determine
    how to handle various events or transitions within the instance.
  parameters:
  - name: dataHeaders
    description: A string containing the data headers to be set for this instance
      script. This typically contains key-value pairs or structured data that defines
      encounter states, progress flags, or other metadata relevant to the instance's
      behavior.
  returns: null
  examples:
  - title: Setting Basic Instance Headers
    code: "class ExampleInstanceScript : public InstanceScript\n{\npublic:\n    void\
      \ Initialize() override\n    {\n        SetHeaders(\"boss1_defeated=1;boss2_defeated=0;encounter_complete=0\"\
      );\n    }\n};"
    language: cpp
  - title: Updating Headers Based on Encounter State
    code: "void ExampleInstanceScript::OnBossKilled(uint32 bossId)\n{\n    std::string\
      \ currentHeaders = GetHeaders(); // Assume getter exists\n    if (bossId ==\
      \ 1)\n        SetHeaders(currentHeaders + \";boss1_defeated=1\");\n    else\
      \ if (bossId == 2)\n        SetHeaders(currentHeaders + \";boss2_defeated=1\"\
      );\n}"
    language: cpp
  notes: This method is typically called during instance initialization or when significant
    state changes occur. The format of the dataHeaders string should be consistent
    with other systems that parse this information to avoid unexpected behavior. It's
    recommended to validate header formats before setting them to prevent corruption
    of instance state.
  warnings: Improperly formatted headers can cause parsing errors or unexpected behavior
    in encounter logic. This method should not be called during critical sections
    where race conditions might occur, as it may affect other systems that rely on
    consistent header data.
  related:
  - GetHeaders
  - SetData
  - GetData
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T03:03:54.755701'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
