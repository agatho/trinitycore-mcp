api:
  class: Aura
  method: CallScriptEffectCalcCritChanceHandlers
  signature: void Aura::CallScriptEffectCalcCritChanceHandlers(const AuraEffect *
    aurEff, const AuraApplication * aurApp, const Unit * victim, float & critChance)
documentation:
  brief: Calls all script handlers registered for calculating critical strike chance
    effects on an aura.
  description: This method invokes all registered script handlers that modify or calculate
    the critical strike chance associated with a specific aura effect. It is typically
    called during combat calculations when determining the chance of a critical hit
    based on applied auras. The method allows custom scripts to influence how critical
    strike chance is computed for a given aura application and victim. This provides
    extensibility for custom spell effects, talents, or abilities that modify critical
    strike probability.
  parameters:
  - name: aurEff
    description: Pointer to the AuraEffect object that defines the specific effect
      being processed. This contains the effect type and parameters used in the calculation.
  - name: aurApp
    description: Pointer to the AuraApplication object representing how this aura
      is applied to a unit. Contains information about the application state, duration,
      and target.
  - name: victim
    description: Pointer to the Unit object that is being affected by the aura. This
      represents the target of the critical strike calculation.
  - name: critChance
    description: Reference to a float value that will be modified by script handlers
      to reflect the calculated critical strike chance. The initial value may be adjusted
      by various script effects.
  returns: null
  examples:
  - title: Basic usage in custom aura effect handler
    code: "void MyAuraScript::HandleCalcCritChance(AuraEffect const* aurEff, AuraApplication\
      \ const* aurApp, Unit const* victim, float& critChance)\n{\n    // Modify crit\
      \ chance based on some condition\n    if (victim->HasAura(12345))\n        critChance\
      \ += 10.0f;\n    \n    // Call base handler to allow other scripts to modify\n\
      \    CallScriptEffectCalcCritChanceHandlers(aurEff, aurApp, victim, critChance);\n\
      }"
    language: cpp
  notes: This method is part of the aura scripting system and should only be called
    during active combat calculations. It's designed for use within custom aura scripts
    to allow multiple handlers to modify critical strike chance values progressively.
  warnings: Modifying the critChance reference directly can affect other script handlers
    that may also modify it. Ensure proper ordering or synchronization if multiple
    scripts are modifying the same value.
  related:
  - Aura::CallScriptEffectApplyHandler
  - Aura::CallScriptEffectRemoveHandler
  - Aura::CallScriptEffectCalcSpellModHandlers
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T14:05:19.947634'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
