api:
  class: WorldSession
  method: GetExpansion
  signature: uint8 WorldSession::GetExpansion() const
documentation:
  brief: Returns the expansion level of the player's account
  description: The GetExpansion method retrieves the expansion level associated with
    the WorldSession, which corresponds to the maximum expansion that the player's
    account is entitled to access. This value determines which content, zones, and
    features are available to the player based on their subscription or game version.
    The expansion level is typically represented as a numeric value where 0 indicates
    Classic, 1 indicates The Burning Crusade, 2 indicates Wrath of the Lich King,
    3 indicates Cataclysm, 4 indicates Mists of Pandaria, 5 indicates Warlords of
    Draenor, 6 indicates Legion, and 7 indicates Battle for Azeroth. This method is
    commonly used to enforce expansion-specific content restrictions and to tailor
    gameplay experiences based on account entitlements.
  parameters: []
  returns: A uint8 value representing the expansion level of the session's account.
    Valid values typically range from 0 (Classic) to 7 (Battle for Azeroth), though
    higher values may exist for newer expansions. Returns 0 if no expansion is set
    or if the session is invalid.
  examples:
  - title: Basic Usage to Check Expansion Level
    code: "uint8 expansion = session->GetExpansion();\nif (expansion >= 6) {\n   \
      \ // Player has access to Legion content\n    SendPacket(...);\n}"
    language: cpp
  - title: Using Expansion Level for Content Restriction
    code: "void CheckPlayerAccess(WorldSession* session) {\n    uint8 expansion =\
      \ session->GetExpansion();\n    switch (expansion) {\n        case 0: // Classic\n\
      \            // Allow Classic content only\n            break;\n        case\
      \ 1: // TBC\n            // Allow TBC content\n            break;\n        case\
      \ 6: // Legion\n            // Allow Legion content\n            break;\n  \
      \      default:\n            // Default behavior for other expansions\n    \
      \        break;\n    }\n}"
    language: cpp
  notes: This method is typically used in conjunction with expansion-specific checks
    within the TrinityCore framework. The returned value should not be modified directly
    as it reflects account entitlements rather than player state. This method is thread-safe
    and can be called from any thread that has access to a valid WorldSession instance.
  warnings: Do not assume that a higher expansion level automatically grants access
    to all content - some features may require additional checks or specific account
    flags. Be cautious when using this value for hard-coded restrictions, as new expansions
    may be added in future updates.
  related:
  - GetPlayer()
  - GetAccountId()
  - HasExpansion()
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T19:59:00.319694'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
