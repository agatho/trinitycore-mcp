api:
  class: PositionUtils
  method: IsInSpellRange
  signature: bool PositionUtils::IsInSpellRange(Player * bot, Unit * target, uint32
    spellId)
documentation:
  brief: Determines whether a target unit is within the spell range of a player for
    a given spell.
  description: The IsInSpellRange method checks if a specified target unit is within
    the effective casting range of a player's spell. This utility function evaluates
    the distance between the player and target, comparing it against the maximum range
    defined by the spell's properties in the game database. It accounts for both the
    base range and any applicable modifiers such as range buffs or debuffs. The method
    is commonly used in AI logic to determine whether a spell can be cast on a target
    without requiring a full spell validation process.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the caster. Must not be
      null.
  - name: target
    description: Pointer to the Unit object representing the target of the spell.
      Must not be null.
  - name: spellId
    description: The unique identifier of the spell being evaluated. Used to retrieve
      spell range data from the game database.
  returns: Returns true if the target is within the spell's effective range, false
    otherwise.
  examples:
  - title: Basic usage in AI decision making
    code: "if (PositionUtils::IsInSpellRange(playerBot, targetUnit, SPELL_FIREBALL))\
      \ {\n    playerBot->CastSpell(targetUnit, SPELL_FIREBALL, true);\n} else {\n\
      \    playerBot->MoveTowards(targetUnit);\n}"
    language: cpp
  - title: Checking multiple spell ranges for targeting logic
    code: "uint32 spellIds[] = {SPELL_FIREBALL, SPELL_FROSTBOLT, SPELL_HEAL};\nfor\
      \ (uint32 spellId : spellIds) {\n    if (PositionUtils::IsInSpellRange(playerBot,\
      \ targetUnit, spellId)) {\n        playerBot->CastSpell(targetUnit, spellId,\
      \ true);\n        break;\n    }\n}"
    language: cpp
  notes: This method relies on the TrinityCore spell database entries to determine
    range values. It does not consider line-of-sight or other environmental factors
    beyond distance. The method performs a simple Euclidean distance check and may
    not reflect complex game mechanics like movement-based range adjustments.
  warnings: Ensure that both player and target pointers are valid before calling this
    method, as passing null pointers will result in undefined behavior. This function
    does not validate if the spell is actually learnable or usable by the player.
  related:
  - GetSpellRange
  - IsInFront
  - IsWithinDist
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T21:07:22.937512'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
