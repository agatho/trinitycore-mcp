api:
  class: SpatialHostileCache
  method: ScanZoneForHostiles
  signature: void SpatialHostileCache::ScanZoneForHostiles(ZoneCache * cache)
documentation:
  brief: Scans the specified zone cache for hostile units and updates internal tracking.
  description: The ScanZoneForHostiles method performs a spatial scan of the provided
    ZoneCache to identify and track hostile units within that zone. It iterates through
    all entities in the zone, evaluates their faction status, and maintains an internal
    cache of detected hostiles. This functionality is typically used by AI systems
    or spatial awareness modules to determine which units pose a threat in a given
    area. The method does not return any value but modifies the internal state of
    the SpatialHostileCache instance.
  parameters:
  - name: cache
    description: Pointer to the ZoneCache object that contains the zone data to be
      scanned for hostiles. Must not be null.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'SpatialHostileCache hostileCache;

      ZoneCache* zone = GetZoneCacheForCurrentMap();

      hostileCache.ScanZoneForHostiles(zone);'
    language: cpp
  - title: Integration with AI System
    code: "void UpdateAI()\n{\n    SpatialHostileCache hostileCache;\n    ZoneCache*\
      \ currentZone = GetPlayer()->GetZoneCache();\n    hostileCache.ScanZoneForHostiles(currentZone);\n\
      \    // Process detected hostiles\n    std::vector<Unit*> hostiles = hostileCache.GetDetectedHostiles();\n\
      \    for (Unit* hostile : hostiles)\n    {\n        if (hostile && hostile->IsAlive())\n\
      \        {\n            // Perform AI logic based on hostile presence\n    \
      \    }\n    }\n}"
    language: cpp
  notes: This method is typically called during zone update cycles or when a unit
    enters a new zone. It assumes that the ZoneCache is properly initialized and contains
    valid spatial data. The scanning process may be computationally expensive depending
    on the number of units in the zone, so it should not be called too frequently
    without optimization.
  warnings: Ensure that the ZoneCache pointer passed to this method is valid and not
    null. Passing an invalid or uninitialized cache can lead to undefined behavior
    or crashes. Also, calling this method from multiple threads simultaneously may
    cause race conditions unless proper synchronization mechanisms are in place.
  related:
  - GetDetectedHostiles
  - ClearCache
  - IsHostileDetected
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T11:09:51.566441'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
