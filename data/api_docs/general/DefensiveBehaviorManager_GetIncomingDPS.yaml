api:
  class: DefensiveBehaviorManager
  method: GetIncomingDPS
  signature: float DefensiveBehaviorManager::GetIncomingDPS() const
documentation:
  brief: Calculates and returns the total incoming damage per second (DPS) that the
    unit is expected to receive.
  description: The GetIncomingDPS method computes the average damage per second that
    a defensive unit is anticipated to take from all current attackers. This value
    is typically used by AI behavior systems to determine appropriate defensive actions,
    such as when to activate protective abilities or reposition. The calculation considers
    active threat targets and their attack speeds, damage output, and any ongoing
    damage-over-time effects. This method does not account for mitigation factors
    like armor or resistance; it returns raw incoming DPS. The result is updated dynamically
    based on the current combat state and may vary between calls.
  parameters: []
  returns: A float value representing the total incoming damage per second (DPS) that
    the unit is expected to receive. Returns zero if there are no active attackers
    or if the unit is not in combat.
  examples:
  - title: Basic Usage in AI Decision Making
    code: "void MyAI::Update()\n{\n    float incomingDps = m_unit->GetDefensiveBehaviorManager()->GetIncomingDPS();\n\
      \    if (incomingDps > 100.0f)\n    {\n        // Activate defensive cooldown\
      \ or ability\n        m_unit->CastSpell(m_unit, SPELL_PROTECTIVE_AURA);\n  \
      \  }\n}"
    language: cpp
  notes: This method performs calculations based on the current state of combat targets
    and may be computationally expensive if called frequently. It is recommended to
    cache the result when used in performance-sensitive contexts such as AI update
    loops.
  warnings: The returned DPS value does not include mitigation from armor, resistances,
    or other defensive mechanisms. Additionally, this method assumes that all attackers
    are actively contributing damage and may not reflect situations where some enemies
    are stunned or incapacitated.
  related:
  - GetThreatList
  - GetAttackers
  - IsInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T14:20:03.583023'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
