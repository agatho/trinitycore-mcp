api:
  class: SmartScript
  method: DecPhase
  signature: void SmartScript::DecPhase(uint32 p)
documentation:
  brief: Decrements the phase mask of the SmartScript by the specified value.
  description: The DecPhase method reduces the current phase mask value of a SmartScript
    instance by the provided uint32 parameter. This functionality is commonly used
    in World of Warcraft AI scripting to manage object visibility or interaction states
    based on phase masks. Phase masks are used extensively in TrinityCore to control
    which objects are visible or interactable to players under certain conditions,
    such as during quests, events, or specific game states. The method modifies the
    internal phase state directly without returning a value. It is typically invoked
    within smart scripts to adjust phase settings dynamically during NPC behavior
    execution.
  parameters:
  - name: p
    description: The uint32 value by which to decrement the current phase mask. Must
      be a positive integer representing the phase shift amount.
  returns: null
  examples:
  - title: Decrementing Phase Mask by 1
    code: "void OnGossipHello(Player* player) override\n{\n    // Decrement current\
      \ phase mask by 1\n    me->GetAI()->DecPhase(1);\n}"
    language: cpp
  - title: Adjusting Phase for Event Completion
    code: "void OnQuestComplete(Player* player, Quest const* quest) override\n{\n\
      \    // Decrement phase mask when quest is completed to reveal new content\n\
      \    if (quest->GetQuestId() == 12345)\n        me->GetAI()->DecPhase(10);\n\
      }"
    language: cpp
  notes: This method directly modifies the internal phase mask state of the SmartScript.
    It should be used carefully to avoid unintended visibility or interaction changes
    in game objects. The decrement operation is typically applied to phase masks that
    are managed through bit flags, where each bit represents a different phase state.
  warnings: Incorrect usage of this method can lead to unexpected behavior in quest
    progression, event triggers, or object visibility. Ensure that the decrement value
    aligns with the intended phase mask logic and does not cause negative phase values
    or overflow issues.
  related:
  - IncPhase
  - SetPhase
  - GetPhase
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T23:34:52.387396'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
