api:
  class: ShamanAI
  method: OnCombatEnd
  signature: void ShamanAI::OnCombatEnd()
documentation:
  brief: Handles cleanup and state reset when a Shaman AI character exits combat.
  description: The OnCombatEnd method is invoked when a Shaman AI character transitions
    out of combat mode. This method performs necessary cleanup operations such as
    resetting combat-related flags, clearing target references, and ensuring the AI
    returns to its default non-combat behavior. It is typically called by the core
    game loop when the shaman's combat state changes, allowing the AI to properly
    transition back to idle or patrol states. The method ensures that all temporary
    combat data is cleared and that the shaman's AI logic can safely resume normal
    operations.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in custom shaman AI implementation
    code: "class MyShamanAI : public ShamanAI {\npublic:\n    void OnCombatEnd() override\
      \ {\n        // Custom cleanup logic\n        ShamanAI::OnCombatEnd();\n   \
      \     // Additional post-combat reset operations\n    }\n};"
    language: cpp
  notes: This method is automatically called by the TrinityCore framework during combat
    state transitions. Developers should not manually invoke this method unless implementing
    custom AI behavior that requires explicit control over combat exit logic.
  warnings: Do not call this method directly from outside the AI framework as it may
    cause inconsistent AI states or memory corruption. The method assumes proper combat
    state management by the core system.
  related:
  - OnCombatStart
  - UpdateAI
  - IsInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T03:01:03.753451'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
