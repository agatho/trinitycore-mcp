api:
  class: BattlegroundMgr
  method: QueuePlayerForArena
  signature: void BattlegroundMgr::QueuePlayerForArena(const Player * player, uint8
    teamSize, uint8 roles)
documentation:
  brief: Queues a player for an arena match based on team size and roles.
  description: The QueuePlayerForArena method is responsible for adding a player to
    the arena queue system within the Battleground Manager. It takes into account
    the specified team size and player roles to determine appropriate matchmaking.
    This method integrates with TrinityCore's battleground and arena systems to facilitate
    organized competitive play. The player will be matched with others of similar
    skill levels based on their arena rating and other factors. The method does not
    directly start the match but prepares the player for queue processing which eventually
    leads to arena instantiation.
  parameters:
  - name: player
    description: Pointer to the Player object that is being queued for an arena. Must
      be a valid player instance with proper arena rating and matchmaking data.
  - name: teamSize
    description: The size of the arena team to queue for (e.g., 2 for 2v2, 3 for 3v3,
      5 for 5v5). Valid values are typically 2, 3, or 5. Must be a supported arena
      format.
  - name: roles
    description: Bitmask representing the player's preferred roles in the arena (e.g.,
      tank, healer, damage dealer). Values are defined by arena role constants and
      can be combined using bitwise OR operations.
  returns: null
  examples:
  - title: Queue a player for 3v3 arena
    code: 'Player* player = ...; // Valid player instance

      uint8 teamSize = 3;

      uint8 roles = ARENA_ROLE_DPS | ARENA_ROLE_TANK;

      BattlegroundMgr::instance()->QueuePlayerForArena(player, teamSize, roles);'
    language: cpp
  - title: Queue a player for 5v5 arena with specific roles
    code: 'Player* player = ...; // Valid player instance

      uint8 teamSize = 5;

      uint8 roles = ARENA_ROLE_HEALER;

      BattlegroundMgr::instance()->QueuePlayerForArena(player, teamSize, roles);'
    language: cpp
  notes: This method is typically called internally by the game system when a player
    selects an arena queue from the UI or through command. The actual matchmaking
    process occurs asynchronously after this call. The method performs basic validation
    on inputs but relies on the underlying battleground manager to handle complex
    matchmaking logic.
  warnings: Calling this method with invalid team sizes (not 2, 3, or 5) may result
    in undefined behavior or queue rejection. Ensure that the player pointer is valid
    and the player has proper arena rating data before calling this method.
  related:
  - BattlegroundMgr::RemovePlayerFromQueue
  - BattlegroundMgr::GetArenaQueue
  - BattlegroundMgr::CreateArena
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T12:34:03.808198'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
