api:
  class: FormationUtils
  method: DetermineOptimalRole
  signature: FormationRole FormationUtils::DetermineOptimalRole(Player * player)
documentation:
  brief: Determines the optimal role for a player within a formation based on their
    class, specialization, and current combat capabilities.
  description: The DetermineOptimalRole method evaluates a player's character data
    to assign them an appropriate role within a group or raid formation. This includes
    analyzing the player's class, primary and secondary specs, equipped gear, and
    current combat stats to determine whether they are best suited for tanking, healing,
    or damage-dealing roles. The method considers both individual performance metrics
    and team composition needs to make an informed decision about optimal role assignment.
    It is typically used in dynamic group management systems where roles may shift
    based on encounter requirements or player availability.
  parameters: []
  returns: Returns a FormationRole enum value indicating the recommended role for
    the player. Possible values include FORMATION_ROLE_TANK, FORMATION_ROLE_HEALER,
    FORMATION_ROLE_DAMAGE, and FORMATION_ROLE_NONE if no suitable role can be determined.
  examples:
  - title: Basic usage in group formation
    code: "Player* player = ...; // Get player reference\nFormationRole role = FormationUtils::DetermineOptimalRole(player);\n\
      switch (role)\n{\n    case FORMATION_ROLE_TANK:\n        // Assign to tank position\n\
      \        break;\n    case FORMATION_ROLE_HEALER:\n        // Assign to healer\
      \ position\n        break;\n    case FORMATION_ROLE_DAMAGE:\n        // Assign\
      \ to damage dealer position\n        break;\n    default:\n        // Handle\
      \ unknown role\n        break;\n}"
    language: cpp
  notes: This method relies on the player's current specialization and gear information.
    The determination is made at runtime based on the most up-to-date character state,
    so calling this method multiple times during a session may return different results
    if the player's role eligibility changes due to gear upgrades or spec switching.
  warnings: The method assumes that the player object passed in is valid and properly
    initialized. Passing a null pointer will likely result in undefined behavior or
    crashes. Additionally, the method does not account for temporary buffs or debuffs
    that may affect role suitability during combat situations.
  related:
  - GetPlayerRole
  - SetPlayerRole
  - EvaluateFormationCompatibility
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T14:05:15.134490'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
