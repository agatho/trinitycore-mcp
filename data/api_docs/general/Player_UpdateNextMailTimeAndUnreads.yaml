api:
  class: Player
  method: UpdateNextMailTimeAndUnreads
  signature: void Player::UpdateNextMailTimeAndUnreads()
documentation:
  brief: Updates the player's next mail time and unread mail count
  description: This method updates the internal tracking of when the player's next
    mail will arrive and recalculates the number of unread mails in their mailbox.
    It is typically called when mail status changes, such as when new mail arrives
    or when existing mail is read or deleted. The method ensures that the client UI
    accurately reflects the current mail state by updating both the next mail delivery
    time and the unread mail counter. This functionality is crucial for maintaining
    synchronization between server-side mail data and the player's client interface.
  parameters: []
  returns: null
  examples:
  - title: Basic usage after mail delivery
    code: 'Player* player = ...;

      player->UpdateNextMailTimeAndUnreads();'
    language: cpp
  notes: This method likely interacts with the player's mailbox system and may trigger
    UI updates on the client side. It should be called whenever mail status changes
    to maintain data consistency.
  warnings: null
  related:
  - GetNextMailTime
  - GetUnreadMails
  - AddNewMail
metadata:
  confidence: 0.9
  generated_at: '2025-10-29T18:50:51.482139'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
