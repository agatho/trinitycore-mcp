api:
  class: ScriptedAI
  method: HealthBelowPct
  signature: bool ScriptedAI::HealthBelowPct(int pct) const
documentation:
  brief: Checks if the AI's current health percentage is below a specified threshold.
  description: The HealthBelowPct method evaluates whether the ScriptedAI instance's
    current health percentage is less than the provided threshold. This utility function
    is commonly used in AI behavior logic to trigger specific actions when an NPC's
    health drops below a critical level. The method performs a straightforward comparison
    between the current health and the maximum health of the creature, calculating
    the percentage and comparing it against the input value. It is typically used
    within AI update routines or event handlers to determine when to initiate defensive
    behaviors, flee mechanisms, or summon assistance.
  parameters: []
  returns: Returns true if the current health percentage is strictly less than the
    specified threshold; otherwise returns false. If the creature has no health or
    the threshold is invalid (negative), the behavior may be undefined but typically
    defaults to returning false.
  examples:
  - title: Basic Health Check for Casting Spell
    code: "if (me->GetAI()->HealthBelowPct(30))\n{\n    me->CastSpell(me, SPELL_CRITICAL_HEALTH_SPELL,\
      \ true);\n}"
    language: cpp
  - title: Health-Based Flee Behavior
    code: "if (me->GetAI()->HealthBelowPct(15))\n{\n    me->GetAI()->DoFlee();\n \
      \   return;\n}\n// Continue normal AI logic..."
    language: cpp
  notes: This method relies on the creature's current health and maximum health values
    being properly maintained by the core. It does not perform any direct health modifications
    but rather provides a read-only check. The percentage is calculated as (current_health
    / max_health) * 100, so it works with fractional health values.
  warnings: Ensure that the AI instance has valid health data before calling this
    method. In rare cases involving creatures with unusual health mechanics or during
    certain game states, this check might not behave as expected if health values
    are manipulated outside of normal gameplay.
  related:
  - GetHealth
  - GetMaxHealth
  - IsInCombat
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T21:45:18.813107'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
