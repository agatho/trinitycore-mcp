api:
  class: WorldSession
  method: SendTradeStatus
  signature: void WorldSession::SendTradeStatus(WorldPackets::Trade::TradeStatus &
    status)
documentation:
  brief: Sends a trade status packet to the client, updating the player's trade window
    with the specified status information.
  description: The SendTradeStatus method is used by the WorldSession class to transmit
    trade status updates to a connected client. This method sends a WorldPackets::Trade::TradeStatus
    packet that informs the player about the current state of their trade interaction,
    such as when a trade is accepted, cancelled, or when an item is added or removed
    from the trade window. The method operates within the context of World of Warcraft's
    trading system, ensuring that both parties in a trade receive synchronized updates
    about the trade's progress and status. It is typically invoked during various
    stages of the trading process to maintain communication between the server and
    client regarding trade negotiations.
  parameters:
  - name: status
    description: A reference to a WorldPackets::Trade::TradeStatus object containing
      the specific trade status information to be sent to the client. This includes
      details such as trade status type, item updates, acceptance states, and any
      error conditions that should be communicated to the player.
  returns: null
  examples:
  - title: Sending a Trade Accepted Status
    code: 'WorldPackets::Trade::TradeStatus status;

      status.Status = TRADE_STATUS_ACCEPTED;

      SendTradeStatus(status);'
    language: cpp
  - title: Sending an Item Update During Trade
    code: 'WorldPackets::Trade::TradeStatus status;

      status.Status = TRADE_STATUS_CHANGED;

      status.Item = itemGuid;

      SendTradeStatus(status);'
    language: cpp
  notes: This method directly interacts with the network layer to send packets to
    the client, so it should only be called from within the main game thread. The
    status parameter must be properly initialized before being passed to this method
    to avoid sending invalid trade state information to players.
  warnings: Improper initialization of the TradeStatus packet can result in clients
    displaying incorrect trade states or even crashing. Always ensure that the status
    field and any associated data are valid before calling this method.
  related:
  - SendTradeUpdate
  - SendTradeStatusError
  - GetPlayer
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T19:07:13.790175'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
