api:
  class: CalendarMgr
  method: RemovePlayerGuildEventsAndSignups
  signature: void CalendarMgr::RemovePlayerGuildEventsAndSignups(int guid, int guildId)
documentation:
  brief: Removes all calendar events and signup entries associated with a specific
    player and guild.
  description: 'The RemovePlayerGuildEventsAndSignups method is responsible for cleaning
    up calendar-related data when a player is removed from a guild or when guild membership
    changes. This function ensures that any events created by the player or signups
    they made within the context of a specific guild are properly deleted from the
    calendar system. The method takes two parameters: the player''s global unique
    identifier (GUID) and the guild''s identifier, allowing for precise targeting
    of data removal. It is typically invoked during guild leave operations or when
    handling player transfers between guilds to maintain calendar integrity and prevent
    orphaned event references.'
  parameters:
  - name: guid
    description: The global unique identifier (GUID) of the player whose events and
      signups are to be removed from the calendar system. This value uniquely identifies
      the player within the game world.
  - name: guildId
    description: The identifier of the guild associated with the events and signups
      to be removed. This parameter ensures that only calendar data related to the
      specified guild is affected.
  returns: null
  examples:
  - title: Removing Player Events When Leaving Guild
    code: "void HandlePlayerLeaveGuild(Player* player, uint32 guildId)\n{\n    sCalendarMgr->RemovePlayerGuildEventsAndSignups(player->GetGUID().GetCounter(),\
      \ guildId);\n    // Additional logic for guild leave handling\n}"
    language: cpp
  - title: Cleanup During Player Transfer Between Guilds
    code: "void TransferPlayerToNewGuild(Player* player, uint32 oldGuildId, uint32\
      \ newGuildId)\n{\n    // Remove old guild events and signups\n    sCalendarMgr->RemovePlayerGuildEventsAndSignups(player->GetGUID().GetCounter(),\
      \ oldGuildId);\n    \n    // Proceed with new guild assignment\n    // ... other\
      \ logic ...\n}"
    language: cpp
  notes: This method likely performs database operations to delete calendar entries
    and related signup records. It should be called only when appropriate player/guild
    state changes occur to avoid unintended data loss. The method may also trigger
    internal cleanup routines within the calendar subsystem.
  warnings: Calling this method with incorrect GUID or guildId values could result
    in unintended removal of calendar data. Ensure that both parameters are validated
    before invoking this function, especially in scenarios involving player transfers
    or guild dissolution.
  related:
  - CalendarMgr::AddGuildEvent
  - CalendarMgr::RemoveEvent
  - CalendarMgr::GetPlayerEvents
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T10:19:34.755652'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
