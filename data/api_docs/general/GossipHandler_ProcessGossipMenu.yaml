api:
  class: GossipHandler
  method: ProcessGossipMenu
  signature: int32 GossipHandler::ProcessGossipMenu(::Player * bot, uint32 menuId,
    ::WorldObject * target, InteractionType desiredType)
documentation:
  brief: Processes a gossip menu interaction for a bot player with specified target
    and desired interaction type.
  description: The ProcessGossipMenu method handles the logic for interacting with
    a gossip menu in World of Warcraft through the TrinityCore framework. It takes
    a player bot, a menu identifier, a target object (such as an NPC), and a desired
    interaction type to determine how the gossip menu should be processed. This method
    is typically used by AI systems to automate player interactions with NPCs, allowing
    bots to navigate dialogue trees and select appropriate options based on game state
    or strategy. The method returns an integer indicating success or failure of the
    operation, which can be used for further decision-making in AI logic.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that will interact
      with the gossip menu. Must not be null.
  - name: menuId
    description: Unique identifier for the gossip menu to be processed. This corresponds
      to the menu entry in the database.
  - name: target
    description: Pointer to the WorldObject that is the target of the interaction
      (e.g., an NPC). Must not be null.
  - name: desiredType
    description: Enumeration value indicating the type of interaction desired. This
      determines how the gossip menu will be handled, such as selecting a specific
      option or proceeding through dialogue.
  returns: Returns an int32 value where 0 typically indicates successful processing
    of the gossip menu, while negative values may indicate errors or failure to process
    the interaction. Positive non-zero values might represent specific success codes
    or state transitions.
  examples:
  - title: Basic Gossip Menu Processing
    code: "int32 result = handler->ProcessGossipMenu(bot, 12345, npc, InteractionType::TALK);\n\
      if (result == 0) {\n    // Successfully processed the gossip menu\n    printf(\"\
      Gossip menu processed successfully\\n\");\n} else {\n    // Handle error case\n\
      \    printf(\"Failed to process gossip menu with code: %d\\n\", result);\n}"
    language: cpp
  - title: Advanced Gossip Menu Handling with Decision Logic
    code: "uint32 menuId = GetGossipMenuForNpc(npc);\nInteractionType type = DetermineInteractionType(bot,\
      \ npc);\nint32 result = handler->ProcessGossipMenu(bot, menuId, npc, type);\n\
      switch (result) {\n    case 0:\n        // Success - continue with next action\n\
      \        break;\n    case -1:\n        // Menu not found or invalid\n      \
      \  bot->SendNotification(\"Invalid gossip menu\");\n        break;\n    default:\n\
      \        // Other error codes\n        bot->SendNotification(\"Gossip processing\
      \ failed\");\n        break;\n}"
    language: cpp
  notes: This method is part of the AI framework and assumes that the player bot has
    proper access to the target object and that the menuId corresponds to a valid
    gossip entry in the database. It's designed for use within AI decision-making
    loops where automated NPC interaction is required. The method may internally trigger
    database lookups or network packets depending on the implementation.
  warnings: Ensure that all parameters are properly validated before calling this
    method, especially the bot and target pointers, as null references can lead to
    crashes. Be aware that incorrect menuId values will likely result in failed processing.
    The interaction type must match expected values for proper behavior.
  related:
  - GetGossipMenuForNpc
  - HandleGossipSelectOption
  - SendGossipMenu
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T04:13:28.782102'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
