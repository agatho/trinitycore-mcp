api:
  class: AuraEffect
  method: HandleModHealingDonePct
  signature: void AuraEffect::HandleModHealingDonePct(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Modifies the percentage of healing done by the aura application.
  description: The HandleModHealingDonePct method adjusts the amount of healing performed
    by a unit affected by this aura. It is called during aura application or removal
    to modify the healing bonus or penalty applied to the target. This method directly
    influences how much healing is dealt by spells and effects while the aura is active,
    making it useful for buffs that increase healing output or debuffs that reduce
    it. The change is applied based on the mode parameter which determines whether
    the effect is being applied or removed.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura application
      context. This contains information about how the aura affects the target, including
      the target unit and aura properties.
  - name: mode
    description: Specifies the mode of operation for the aura effect. Typically used
      to determine whether the effect is being applied (1) or removed (0). The exact
      values may vary depending on implementation but generally control how the percentage
      modifier is processed.
  - name: apply
    description: Boolean flag indicating whether to apply (true) or remove (false)
      the healing percentage modification. When true, the aura increases healing done
      by the specified percentage; when false, it removes that increase.
  returns: null
  examples:
  - title: Applying a Healing Increase Aura
    code: "void ApplyHealingBoost(AuraEffect* auraEffect, Unit* target) {\n    AuraApplication*\
      \ app = new AuraApplication(target, target, auraEffect);\n    auraEffect->HandleModHealingDonePct(app,\
      \ 1, true);\n}"
    language: cpp
  - title: Removing a Healing Reduction Effect
    code: "void RemoveHealingPenalty(AuraEffect* auraEffect, Unit* target) {\n   \
      \ AuraApplication* app = target->GetAuraApplication(auraEffect->GetId());\n\
      \    if (app) {\n        auraEffect->HandleModHealingDonePct(app, 0, false);\n\
      \    }\n}"
    language: cpp
  notes: This method is part of the aura handling system in TrinityCore and directly
    modifies the healing calculation logic. It should be used carefully as changes
    to healing modifiers can significantly impact gameplay balance. The method assumes
    that the AuraEffect has been properly initialized with correct percentage values
    before being called.
  warnings: Improper use of this method may lead to incorrect healing calculations,
    which could affect game balance or cause unexpected behavior in combat systems.
    Ensure that percentage values are within valid ranges and that the aura application
    context is correctly set up before calling this function.
  related:
  - AuraEffect::HandleModHealingDone
  - AuraEffect::HandleModSpellPower
  - AuraEffect::ApplyAura
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T12:37:03.742891'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
