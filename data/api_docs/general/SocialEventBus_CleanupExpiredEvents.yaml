api:
  class: SocialEventBus
  method: CleanupExpiredEvents
  signature: uint32 SocialEventBus::CleanupExpiredEvents()
documentation:
  brief: Removes expired social events from the event bus and returns the count of
    cleaned up events.
  description: 'The CleanupExpiredEvents method iterates through all registered social
    events in the SocialEventBus and removes those that have exceeded their valid
    time window or have been marked as expired. This method is typically invoked periodically
    by the game server to maintain a clean state of active social events. It ensures
    that outdated events do not consume unnecessary memory or processing resources.
    The method performs no external dependencies or database operations directly;
    it only manages internal event tracking within the SocialEventBus. Precondition:
    The SocialEventBus must be initialized and contain registered events. Postcondition:
    All expired events are removed from the internal collection, and the method returns
    the number of events that were cleaned up.'
  parameters: []
  returns: A uint32 value representing the total number of expired social events that
    were successfully removed from the SocialEventBus.
  examples:
  - title: Basic Usage
    code: 'uint32 cleanedCount = sSocialEventBus->CleanupExpiredEvents();

      TC_LOG_INFO("social", "Cleaned up %u expired social events.", cleanedCount);'
    language: cpp
  notes: This method is usually called from a periodic cleanup task or during server
    maintenance cycles. It's designed to be efficient and avoid locking the entire
    event bus during cleanup, though internal synchronization may still occur depending
    on implementation details.
  warnings: null
  related: []
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T19:28:29.431729'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
