api:
  class: MovementInfo
  method: AddExtraMovementFlag
  signature: void MovementInfo::AddExtraMovementFlag(uint32 flag)
documentation:
  brief: Adds a movement flag to the MovementInfo object's extra flags bitfield.
  description: The AddExtraMovementFlag method is used to set a specific movement
    flag within the extra flags portion of a MovementInfo structure. This is commonly
    utilized in World of Warcraft's TrinityCore server implementation to modify player
    or creature movement behavior, such as enabling flight, swimming, or other special
    movement states. The method directly manipulates the internal bitfield that tracks
    these additional movement characteristics, allowing for dynamic modification of
    movement properties during gameplay. It is typically called when a character's
    movement state needs to be updated based on game events, spell effects, or environmental
    changes.
  parameters:
  - name: flag
    description: The movement flag value to add to the extra flags bitfield. This
      should be one of the predefined movement flag constants such as MOVEFLAG_NONE,
      MOVEFLAG_FORWARD, MOVEFLAG_BACKWARD, MOVEFLAG_STRAFE_LEFT, MOVEFLAG_STRAFE_RIGHT,
      MOVEFLAG_PITCH_UP, MOVEFLAG_PITCH_DOWN, MOVEFLAG_WALK_MODE, MOVEFLAG_FLYING,
      MOVEFLAG_CAN_FLY, etc. The value must be a valid flag from the MovementFlags
      enumeration.
  returns: null
  examples:
  - title: Adding Flying Movement Flag
    code: 'MovementInfo movementInfo;

      movementInfo.AddExtraMovementFlag(MOVEFLAG_FLYING);

      // This enables flying movement for the entity associated with this MovementInfo.'
    language: cpp
  - title: Enabling Multiple Movement Flags
    code: 'MovementInfo movementInfo;

      movementInfo.AddExtraMovementFlag(MOVEFLAG_FLYING);

      movementInfo.AddExtraMovementFlag(MOVEFLAG_CAN_FLY);

      movementInfo.AddExtraMovementFlag(MOVEFLAG_SWIMMING);

      // This sets up the entity to be able to fly, can fly, and is currently swimming.'
    language: cpp
  notes: This method modifies the internal state of the MovementInfo object directly.
    It's important to ensure that the flag being added is valid and appropriate for
    the context in which it's used. The method does not perform any validation on
    the input flag value, so developers should ensure they're using proper movement
    flags from the MovementFlags enumeration. This method is typically called during
    movement updates or when applying movement-related effects.
  warnings: Be cautious when adding movement flags as incorrect combinations can lead
    to unexpected behavior in client-server synchronization. Adding invalid or unsupported
    flags may cause desynchronization between the server and client, potentially leading
    to visual glitches or movement anomalies. Always verify that the flag being added
    is appropriate for the current game state and entity type.
  related:
  - RemoveExtraMovementFlag
  - HasExtraMovementFlag
  - GetExtraMovementFlags
metadata:
  confidence: 0.95
  generated_at: '2025-11-08T23:41:44.238153'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
