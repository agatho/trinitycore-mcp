api:
  class: SimpleCharmedPlayerAI
  method: OnCharmed
  signature: void SimpleCharmedPlayerAI::OnCharmed(bool isNew)
documentation:
  brief: Initializes AI behavior when a player is charmed by an NPC
  description: The OnCharmed method is called when a player character becomes charmed
    by an NPC in the game world. This method handles the setup and initialization
    of the AI behavior for the charmed player, including updating internal state flags,
    registering with the charm system, and preparing the player for controlled movement
    or actions. The method is typically invoked during the charm process to ensure
    proper synchronization between the player's AI state and the NPC that controls
    them.
  parameters:
  - name: isNew
    description: A boolean flag indicating whether this is a new charm event (true)
      or an existing charm being reactivated (false). When true, the method performs
      full initialization of the charmed state. When false, it may perform minimal
      setup or validation.
  returns: null
  examples:
  - title: Basic OnCharmed Usage
    code: "class MyCharmedAI : public SimpleCharmedPlayerAI {\npublic:\n    void OnCharmed(bool\
      \ isNew) override {\n        // Perform initialization when player is charmed\n\
      \        if (isNew) {\n            // Set up initial charm state\n         \
      \   m_charmState = CHARM_STATE_ACTIVE;\n        }\n        // Call base implementation\n\
      \        SimpleCharmedPlayerAI::OnCharmed(isNew);\n    }\n};"
    language: cpp
  notes: This method is part of the AI system for managing player behavior when charmed.
    It should be implemented to handle any necessary state changes or event registration
    required by the specific AI implementation.
  warnings: Ensure that this method is only called during valid charm transitions,
    as improper invocation may lead to inconsistent AI states or unexpected behavior
    in the game world.
  related:
  - OnUncharmed
  - UpdateAI
  - IsCharmed
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T02:59:36.857098'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
