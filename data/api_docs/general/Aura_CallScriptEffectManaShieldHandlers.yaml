api:
  class: Aura
  method: CallScriptEffectManaShieldHandlers
  signature: void Aura::CallScriptEffectManaShieldHandlers(AuraEffect * aurEff, const
    AuraApplication * aurApp, DamageInfo & dmgInfo, uint32 & absorbAmount, bool &
    defaultPrevented)
documentation:
  brief: Invokes script handlers for mana shield effect application during damage
    absorption.
  description: The CallScriptEffectManaShieldHandlers method is responsible for executing
    custom script logic associated with the mana shield aura effect. It processes
    damage information and absorb amounts when a mana shield absorbs incoming damage,
    allowing scripted behaviors to modify or react to the absorption event. This method
    is typically called internally by the aura system during damage processing, particularly
    when mana shield effects are active and need to trigger their scripted components.
    The method modifies the absorb amount and can prevent default behavior through
    the defaultPrevented flag.
  parameters:
  - name: aurEff
    description: Pointer to the AuraEffect object representing the mana shield effect
      that is being processed.
  - name: aurApp
    description: Pointer to the AuraApplication object containing application context
      for the aura effect.
  - name: dmgInfo
    description: Reference to a DamageInfo structure containing details about the
      incoming damage being absorbed.
  - name: absorbAmount
    description: Reference to a uint32 value that represents the current absorb amount;
      can be modified by script handlers.
  - name: defaultPrevented
    description: Reference to a boolean flag indicating whether default mana shield
      behavior should be prevented; can be set by script handlers.
  returns: null
  examples:
  - title: Basic usage in custom aura effect handler
    code: "void CustomManaShieldHandler(AuraEffect const* aurEff, AuraApplication\
      \ const* aurApp, DamageInfo& dmgInfo, uint32& absorbAmount, bool& defaultPrevented)\n\
      {\n    // Call the script effect handlers for mana shield\n    aurEff->GetAura()->CallScriptEffectManaShieldHandlers(aurEff,\
      \ aurApp, dmgInfo, absorbAmount, defaultPrevented);\n}"
    language: cpp
  - title: Modifying absorb amount in script handler
    code: "void ModifyManaShieldAbsorb(AuraEffect const* aurEff, AuraApplication const*\
      \ aurApp, DamageInfo& dmgInfo, uint32& absorbAmount, bool& defaultPrevented)\n\
      {\n    // Allow default behavior\n    defaultPrevented = false;\n    \n    //\
      \ Increase the absorb amount by 50%\n    absorbAmount += (absorbAmount * 50)\
      \ / 100;\n    \n    // Call script handlers\n    aurEff->GetAura()->CallScriptEffectManaShieldHandlers(aurEff,\
      \ aurApp, dmgInfo, absorbAmount, defaultPrevented);\n}"
    language: cpp
  notes: This method is part of the TrinityCore's aura scripting system and should
    only be called from within aura effect handlers. The method modifies parameters
    by reference, so changes to absorbAmount or defaultPrevented will affect the overall
    aura processing flow.
  warnings: Improper handling of the defaultPrevented flag may cause unexpected behavior
    in mana shield functionality. Modifying absorbAmount directly can lead to incorrect
    damage calculations if not handled carefully.
  related:
  - Aura::CallScriptEffectHandlers
  - Aura::GetEffect
  - AuraApplication::GetAura
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T14:03:50.809268'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
