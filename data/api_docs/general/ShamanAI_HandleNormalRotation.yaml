api:
  class: ShamanAI
  method: HandleNormalRotation
  signature: bool ShamanAI::HandleNormalRotation(int * target)
documentation:
  brief: Executes the standard combat rotation logic for a Shaman AI unit
  description: The HandleNormalRotation method implements the core decision-making
    logic for a Shaman's normal combat behavior. It evaluates the current target,
    available spells, and player state to determine the appropriate action in the
    rotation sequence. This includes selecting and casting appropriate spells such
    as Lightning Bolt, Healing Wave, or Totem placement based on combat conditions
    and resource availability. The method returns true if an action was successfully
    executed, or false if no suitable action could be determined or performed. It
    is typically called during the AI's update cycle to maintain optimal spell usage
    and positioning.
  parameters: []
  returns: Returns true if a rotation action was successfully executed, false otherwise.
    The method may return false when there is no valid target, insufficient mana,
    or when no appropriate spell can be cast based on current conditions.
  examples:
  - title: Basic usage in AI update loop
    code: "void ShamanAI::UpdateAI(const uint32 diff)\n{\n    if (!UpdateVictim())\n\
      \        return;\n\n    if (HandleNormalRotation(nullptr))\n        return;\n\
      \n    // Fallback behavior\n    DoMeleeAttackIfReady();\n}"
    language: cpp
  notes: This method is part of the Shaman AI's core combat logic and should only
    be called when the AI unit has a valid target. The method assumes that the AI
    unit has proper access to its spell database and current resource states. Performance
    considerations include avoiding unnecessary spell checks when resources are low
    or when no valid targets exist.
  warnings: Do not call this method without ensuring the AI unit has a valid target,
    as it may lead to undefined behavior or incorrect spell casting. The method does
    not handle all edge cases of combat state management, so additional checks should
    be performed in calling code.
  related:
  - ShamanAI::HandleHealRotation
  - ShamanAI::HandleDpsRotation
  - ShamanAI::UpdateVictim
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T19:47:41.214378'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
