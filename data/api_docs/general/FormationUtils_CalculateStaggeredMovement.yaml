api:
  class: FormationUtils
  method: CalculateStaggeredMovement
  signature: int FormationUtils::CalculateStaggeredMovement(const int & members, const
    int & destination)
documentation:
  brief: Calculates staggered movement values for formation members based on destination
    coordinates
  description: The CalculateStaggeredMovement method computes adjusted movement parameters
    for group members in a formation to prevent collision and maintain tactical positioning.
    It takes into account the number of members in the formation and their target
    destination to determine optimal staggered movement offsets. This method is typically
    used in AI pathfinding and group movement logic within TrinityCore's creature
    and player movement systems. The calculation considers spatial relationships between
    formation members to ensure smooth, coordinated movement patterns.
  parameters:
  - name: members
    description: The total number of members in the formation that will be calculating
      staggered movement
  - name: destination
    description: The destination coordinate or identifier that all formation members
      are moving toward
  returns: Returns an integer value representing the calculated staggered movement
    offset or adjustment factor. A positive value indicates forward movement adjustment,
    while a negative value may indicate backward or lateral movement correction. Zero
    typically represents no adjustment needed.
  examples:
  - title: Basic Usage for Formation Movement
    code: 'int offset = FormationUtils::CalculateStaggeredMovement(5, 100);

      // Returns staggered movement offset for 5-member formation moving toward destination
      100'
    language: cpp
  - title: Integration with AI Movement System
    code: 'int memberCount = group->GetMembersCount();

      int destCoord = target->GetPositionX();

      int staggerOffset = FormationUtils::CalculateStaggeredMovement(memberCount,
      destCoord);

      // Apply offset to individual member movement calculations

      creature->SetPosition(creature->GetPositionX() + staggerOffset, ...);'
    language: cpp
  notes: This method is primarily used in group AI behavior for creatures following
    formation patterns. The calculation algorithm likely considers formation type,
    member spacing, and destination proximity to determine optimal movement adjustments.
    Performance is generally low as it's called infrequently during pathfinding operations.
  warnings: The method signature shows parameters passed by const reference but the
    description indicates they are not actually used in the method body. This could
    be a documentation error or indicate that the implementation has been simplified
    or removed from the source code. Ensure parameter usage aligns with actual implementation
    if available.
  related:
  - CalculateFormationSpacing
  - GetFormationPosition
  - AdjustMovementForFormation
metadata:
  confidence: 0.75
  generated_at: '2025-11-06T14:05:37.570247'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
