api:
  class: BotNpcLocationService
  method: FindNearestService
  signature: NpcLocationResult BotNpcLocationService::FindNearestService(Player *
    bot, NpcServiceType serviceType)
documentation:
  brief: Finds the nearest NPC service location for a given bot and service type.
  description: The FindNearestService method locates the closest available NPC that
    provides the specified service type for a given player bot. It searches through
    known NPC locations within the bot's current zone or relevant areas, returning
    the most geographically proximate service provider. This method is typically used
    by AI systems to determine optimal navigation paths or interaction points for
    bots performing various in-game activities such as vendor interactions, quest
    givers, or trainers. The result includes both the NPC's location coordinates and
    a reference to the NPC itself if found.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot for which to find
      the nearest service. Must not be null.
  - name: serviceType
    description: Enumeration value indicating the type of NPC service required (e.g.,
      vendor, trainer, quest giver). Determines which NPCs are considered during the
      search.
  returns: An NpcLocationResult object containing the coordinates and reference to
    the nearest NPC providing the requested service. Returns an invalid result if
    no suitable NPC is found within the search area.
  examples:
  - title: Find nearest vendor for a bot
    code: "Player* myBot = ...;\nNpcLocationResult result = BotNpcLocationService::FindNearestService(myBot,\
      \ NpcServiceType::Vendor);\nif (result.IsValid()) {\n    // Use result.GetPosition()\
      \ to navigate to the vendor\n}"
    language: cpp
  - title: Find nearest trainer for a bot
    code: "Player* myBot = ...;\nNpcLocationResult result = BotNpcLocationService::FindNearestService(myBot,\
      \ NpcServiceType::Trainer);\nif (result.IsValid()) {\n    Position pos = result.GetPosition();\n\
      \    // Move bot to trainer position\n    myBot->GetMotionMaster()->MovePoint(0,\
      \ pos);\n}"
    language: cpp
  notes: This method performs a spatial search using cached NPC location data and
    may not account for dynamic changes in NPC positions during runtime. The search
    radius is configurable but defaults to a reasonable value based on the bot's current
    zone. For performance reasons, it caches results when possible.
  warnings: Ensure that the provided Player pointer is valid and represents an active
    bot before calling this method. Failure to do so may lead to undefined behavior
    or crashes. Also note that if no NPCs are registered for a specific service type
    in the current area, the method will return an invalid result without throwing
    exceptions.
  related:
  - FindNearestVendor
  - FindNearestTrainer
  - FindNearestQuestGiver
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T03:26:57.857860'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
