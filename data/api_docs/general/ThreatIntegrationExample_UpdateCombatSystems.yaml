api:
  class: ThreatIntegrationExample
  method: UpdateCombatSystems
  signature: void ThreatIntegrationExample::UpdateCombatSystems(ThreatCoordinator
    * threatCoord, InterruptCoordinator * interruptCoord, uint32 diff)
documentation:
  brief: Updates all active combat-related systems including threat management and
    interrupt handling.
  description: The UpdateCombatSystems method is responsible for synchronizing and
    processing the state of combat-related systems within the TrinityCore framework.
    It takes in a ThreatCoordinator and an InterruptCoordinator to manage enemy targeting
    behaviors and spell interruption mechanics respectively. This method is typically
    invoked during each game tick to ensure real-time responsiveness of combat systems.
    The method processes time-based updates for threat generation, interrupt conditions,
    and maintains synchronization between various combat subsystems. It ensures that
    all entities involved in combat are accurately tracked for threat levels and that
    interrupts are properly handled according to game rules.
  parameters:
  - name: threatCoord
    description: Pointer to the ThreatCoordinator instance managing threat calculations
      and target switching logic for mobs and players.
  - name: interruptCoord
    description: Pointer to the InterruptCoordinator instance handling spell interruption
      conditions and related combat events.
  - name: diff
    description: Time delta in milliseconds since last update, used for time-based
      calculations within combat systems.
  returns: null
  examples:
  - title: Basic Usage in Combat Update Loop
    code: "void ExampleAI::UpdateAI(uint32 diff)\n{\n    if (m_threatCoord && m_interruptCoord)\n\
      \        m_threatIntegration->UpdateCombatSystems(m_threatCoord, m_interruptCoord,\
      \ diff);\n}"
    language: cpp
  - title: Advanced Usage with Conditional Updates
    code: "void CombatManager::UpdateAllCombatSystems(uint32 diff)\n{\n    if (IsInCombat()\
      \ && m_threatCoord && m_interruptCoord)\n    {\n        UpdateCombatSystems(m_threatCoord,\
      \ m_interruptCoord, diff);\n        // Additional combat logic here\n    }\n\
      }"
    language: cpp
  notes: This method should be called regularly during the game loop to maintain accurate
    combat state. The threatCoord and interruptCoord parameters must not be null when
    calling this method. Performance is optimized by using delta time (diff) for smooth
    updates rather than fixed intervals.
  warnings: Passing null pointers for threatCoord or interruptCoord will result in
    undefined behavior. Ensure that both coordinators are properly initialized before
    calling this method. This function modifies internal combat state, so it should
    not be called from multiple threads simultaneously without proper synchronization.
  related:
  - GetThreatCoordinator
  - GetInterruptCoordinator
  - SetThreatCoordinator
  - SetInterruptCoordinator
metadata:
  confidence: 0.92
  generated_at: '2025-11-07T18:16:12.171705'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
