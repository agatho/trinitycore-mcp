api:
  class: DemonologyWarlockRefactored
  method: ExecuteAoERotation
  signature: void DemonologyWarlockRefactored::ExecuteAoERotation(int * target, uint32
    enemyCount)
documentation:
  brief: Executes the demonology warlock's AoE rotation strategy based on enemy count
    and target selection.
  description: The ExecuteAoERotation method implements the core logic for a demonology
    warlock's area-of-effect combat rotation. It evaluates the current combat scenario,
    including the number of enemies present and the selected target, to determine
    optimal spell casting order and abilities. This method typically coordinates the
    use of AoE spells like Shadow Bolt, Rain of Fire, and other damage-over-time effects
    while managing pet behavior and resource allocation. The implementation considers
    factors such as enemy proximity, threat levels, and cooldown states to maximize
    damage output in group or raid encounters.
  parameters:
  - name: target
    description: Pointer to an integer representing the index or identifier of the
      primary target. Used for selecting which enemy to focus initial attacks on.
  - name: enemyCount
    description: Unsigned 32-bit integer indicating the total number of enemies currently
      in combat. Determines whether to use single-target or AoE spells and abilities.
  returns: null
  examples:
  - title: Basic AoE Rotation Execution
    code: 'int primaryTarget = 0;

      uint32 numEnemies = 5;

      warlock->ExecuteAoERotation(&primaryTarget, numEnemies);'
    language: cpp
  - title: Dynamic Target Selection with AoE Rotation
    code: 'int* target = &player->GetSelectedUnit()->GetGUID();

      uint32 enemyCount = instance->GetPlayers().size();

      warlock->ExecuteAoERotation(target, enemyCount);'
    language: cpp
  notes: This method assumes that the warlock has already validated its current combat
    state and that necessary resources (such as soul shards or mana) are available.
    The implementation may vary depending on the specific version of TrinityCore and
    the configured AI behavior tree.
  warnings: Ensure that enemyCount is properly calculated before calling this method
    to avoid incorrect spell selection. Improper handling of target pointers can lead
    to undefined behavior or crashes in combat scenarios.
  related:
  - ExecuteSingleTargetRotation
  - CheckPetHealth
  - ManageCooldowns
  - SelectBestTarget
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T09:47:40.081364'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
