api:
  class: WorldSession
  method: HandleInitiateRolePoll
  signature: void WorldSession::HandleInitiateRolePoll(WorldPackets::Party::InitiateRolePoll
    & packet)
documentation:
  brief: Initiates a role poll for the player's current party or raid group
  description: The HandleInitiateRolePoll method processes a client-initiated request
    to start a role poll within the player's current group. This functionality allows
    players to vote on roles such as tank, healer, or damage dealer for group activities
    like dungeons or raids. The method validates that the player is in a valid group
    context and then broadcasts the role poll initiation to all group members. It
    ensures that only one role poll can be active at a time within a group and handles
    the necessary synchronization between the client and server for role assignment.
  parameters: []
  returns: null
  examples:
  - title: Basic Role Poll Initiation
    code: "void WorldSession::HandleInitiateRolePoll(WorldPackets::Party::InitiateRolePoll&\
      \ packet)\n{\n    if (!GetPlayer() || !GetPlayer()->GetGroup())\n        return;\n\
      \n    // Validate group context and initiate role poll\n    GetPlayer()->GetGroup()->InitiateRolePoll(GetPlayer());\n\
      }"
    language: cpp
  notes: This method is typically called when a player clicks the 'Initiate Role Poll'
    button in the party interface. The server must ensure that the initiating player
    has sufficient permissions to start a role poll, and that no other role poll is
    currently active in the group. The method relies on proper group synchronization
    to maintain consistent role assignments across all members.
  warnings: Improper handling of concurrent role polls can lead to inconsistent role
    assignments or client-server desynchronization. Ensure that only one role poll
    is active per group at any given time to prevent conflicts.
  related:
  - WorldSession::HandleRolePoll
  - Group::InitiateRolePoll
  - Group::SendUpdate
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:53:07.734478'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
