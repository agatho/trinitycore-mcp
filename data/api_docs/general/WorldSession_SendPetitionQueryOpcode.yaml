api:
  class: WorldSession
  method: SendPetitionQueryOpcode
  signature: void WorldSession::SendPetitionQueryOpcode(int petitionguid)
documentation:
  brief: Sends a petition query opcode to the client with the specified petition GUID.
  description: The SendPetitionQueryOpcode method is used by the WorldSession class
    to transmit a petition query packet to the connected client. This method is typically
    invoked when a player requests information about a specific petition, such as
    when they click on a petition in their inventory or when the server needs to refresh
    petition data. The method takes a single parameter representing the unique identifier
    (GUID) of the petition and formats an appropriate opcode packet for transmission.
    This functionality supports the World of Warcraft petition system, which allows
    players to create and sign various types of petitions including guild petitions,
    character name change requests, and other in-game formal requests.
  parameters:
  - name: petitionguid
    description: The unique identifier (GUID) of the petition to query. This value
      represents the database entry identifier for a specific petition record in the
      World of Warcraft database.
  returns: null
  examples:
  - title: Basic petition query usage
    code: "void HandlePetitionQuery(WorldSession* session, uint32 petitionGuid)\n\
      {\n    session->SendPetitionQueryOpcode(petitionGuid);\n}"
    language: cpp
  - title: Sending petition query in response to player action
    code: "void Player::RequestPetitionInfo(uint32 petitionId)\n{\n    if (GetSession())\n\
      \    {\n        GetSession()->SendPetitionQueryOpcode(petitionId);\n    }\n}"
    language: cpp
  notes: This method is part of the WorldSession's packet handling system and directly
    interacts with the client's network communication layer. The petition GUID parameter
    should be validated before calling this method to ensure it corresponds to an
    existing petition in the database. This method does not perform any validation
    on the petition GUID itself but relies on the calling code to provide a valid
    identifier.
  warnings: Calling this method with an invalid or non-existent petition GUID may
    result in client-side errors or undefined behavior. The method assumes that the
    petition data exists and is accessible by the session's associated player. It
    is recommended to verify the petition exists before invoking this method to prevent
    potential client disconnections or crashes.
  related:
  - SendPetitionSignOpcode
  - SendPetitionQueryResponse
  - HandlePetitionQueryOpcode
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T19:13:53.388357'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
