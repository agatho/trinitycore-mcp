api:
  class: FollowBehaviorUtils
  method: GetOptimalFormationRole
  signature: int FollowBehaviorUtils::GetOptimalFormationRole(Player * bot)
documentation:
  brief: Determines the optimal formation role for a bot player based on its current
    state and group dynamics.
  description: The GetOptimalFormationRole method evaluates a bot player's attributes,
    class, current combat status, and group composition to determine the most effective
    role it should assume within a formation. This role typically influences how the
    bot behaves in group settings, such as whether it should focus on tanking, healing,
    or dealing damage. The method considers factors like the bot's level, specialization,
    available resources (mana, health), and the presence of other players in the group.
    It returns an integer value representing a specific formation role identifier
    that can be used by the AI system to assign appropriate behaviors and actions.
  parameters: []
  returns: Returns an integer representing the optimal formation role for the bot
    player. Possible values may include constants such as ROLE_TANK, ROLE_HEALER,
    or ROLE_DPS, though exact values depend on the implementation details of the FollowBehaviorUtils
    class. A return value of -1 typically indicates an error or inability to determine
    a suitable role.
  examples:
  - title: Basic Usage
    code: "Player* bot = ...; // Assume bot is initialized\nint role = FollowBehaviorUtils::GetOptimalFormationRole(bot);\n\
      if (role != -1)\n{\n    // Use the determined role to set bot behavior\n   \
      \ switch (role)\n    {\n        case ROLE_TANK:\n            // Set tanking\
      \ behavior\n            break;\n        case ROLE_HEALER:\n            // Set\
      \ healing behavior\n            break;\n        case ROLE_DPS:\n           \
      \ // Set DPS behavior\n            break;\n    }\n}"
    language: cpp
  notes: This method is typically called during bot initialization or when group composition
    changes. It may involve performance considerations if called frequently, as it
    requires evaluating multiple player attributes and group states. The implementation
    likely caches results for efficiency but may recalculate when significant changes
    occur.
  warnings: Ensure that the Player* parameter is valid and not null before calling
    this method, as passing a null pointer could lead to undefined behavior or crashes.
    Also, be aware that the returned role value might change dynamically based on
    the bot's current state and group conditions.
  related:
  - SetFormationRole
  - GetBotRolePreference
  - UpdateFormationBehavior
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T08:25:03.161602'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
