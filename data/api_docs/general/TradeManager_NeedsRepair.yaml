api:
  class: TradeManager
  method: NeedsRepair
  signature: bool TradeManager::NeedsRepair() const
documentation:
  brief: Determines whether the player's items require repair in the trade window.
  description: The NeedsRepair method checks if any of the player's items in the current
    trade window need to be repaired. This method is typically used during the trading
    process to determine if the player has damaged items that should be repaired before
    finalizing the trade. It evaluates the durability status of all items being offered
    for trade and returns true if at least one item requires repair. The check considers
    both the item's current durability and its maximum durability, determining if
    the ratio falls below a certain threshold that would require repair.
  parameters: []
  returns: Returns true if any item in the trade window needs repair, false otherwise.
    This indicates whether the player's items are at a durability level that requires
    repair before the trade can be completed.
  examples:
  - title: Check if trade items need repair
    code: "if (tradeManager.NeedsRepair()) {\n    // Display repair prompt or warning\n\
      \    ChatHandler->PSendSysMessage(\"Some of your items need repair before trading.\"\
      );\n}"
    language: cpp
  notes: This method is primarily used in the context of player-to-player trading
    within TrinityCore. It's typically called when a trade is initiated or updated
    to determine if any items require repair. The implementation likely checks item
    durability values against predefined thresholds for repair necessity.
  warnings: null
  related:
  - GetTradeItem
  - SetTradeItem
  - AcceptTrade
  - CancelTrade
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T20:19:51.137928'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
