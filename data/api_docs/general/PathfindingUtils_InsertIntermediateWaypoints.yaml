api:
  class: PathfindingUtils
  method: InsertIntermediateWaypoints
  signature: int PathfindingUtils::InsertIntermediateWaypoints(const int & waypoints,
    float maxDistance)
documentation:
  brief: Inserts intermediate waypoints into a path to ensure smooth navigation within
    specified distance constraints.
  description: The InsertIntermediateWaypoints method calculates and adds additional
    waypoints between existing path points to maintain a consistent maximum distance
    between consecutive waypoints. This is particularly useful in World of Warcraft's
    pathfinding system to prevent units from taking overly sharp turns or skipping
    large distances during movement. The method modifies the internal waypoint list
    by inserting new intermediate points where necessary, ensuring that no two consecutive
    waypoints exceed the provided maxDistance threshold. It operates on the current
    path stored within the PathfindingUtils instance and returns the number of waypoints
    that were inserted.
  parameters:
  - name: waypoints
    description: Reference to an integer representing the total number of waypoints
      in the current path. This parameter is likely used as input to determine how
      many intermediate points need to be calculated and inserted.
  - name: maxDistance
    description: A float value specifying the maximum allowed distance between consecutive
      waypoints. If any two adjacent waypoints exceed this distance, intermediate
      waypoints will be inserted to bridge the gap.
  returns: Returns an integer indicating the number of intermediate waypoints that
    were successfully inserted into the path. A return value of zero means no new
    waypoints were needed, while a positive value indicates how many were added.
  examples:
  - title: Basic usage with default parameters
    code: 'PathfindingUtils pathfinder;

      int insertedCount = pathfinder.InsertIntermediateWaypoints(5, 10.0f);

      // Inserts intermediate waypoints to ensure max distance of 10.0 between points

      std::cout << "Inserted " << insertedCount << " waypoints" << std::endl;'
    language: cpp
  - title: Using with dynamic path data
    code: "int currentWaypoints = pathfinder.GetCurrentWaypointCount();\nfloat maxDist\
      \ = 15.0f;\nint newPoints = pathfinder.InsertIntermediateWaypoints(currentWaypoints,\
      \ maxDist);\nif (newPoints > 0) {\n    std::cout << \"Added \" << newPoints\
      \ << \" intermediate waypoints\" << std::endl;\n}"
    language: cpp
  notes: This method is typically used internally by the TrinityCore movement system
    to refine paths for creatures or players. It assumes that the path has already
    been computed and stored in the PathfindingUtils instance. Performance may be
    impacted when dealing with long paths or very small maxDistance values, as more
    intermediate points will need to be calculated.
  warnings: Be cautious when using very small maxDistance values, as this can result
    in a large number of intermediate waypoints being inserted, potentially causing
    performance issues. Also, ensure that the path has been properly initialized before
    calling this method, otherwise undefined behavior may occur.
  related:
  - GetCurrentWaypointCount
  - GetWaypointAt
  - SetWaypoints
  - ClearWaypoints
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T06:42:52.817336'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
