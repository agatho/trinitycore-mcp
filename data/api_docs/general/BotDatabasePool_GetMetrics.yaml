api:
  class: BotDatabasePool
  method: GetMetrics
  signature: const DatabaseMetrics & BotDatabasePool::GetMetrics() const
documentation:
  brief: Retrieves database connection metrics from the bot database pool.
  description: The GetMetrics method returns a constant reference to the DatabaseMetrics
    object that contains performance and usage statistics for the bot database connection
    pool. This includes information such as total connections opened, active connections,
    failed connection attempts, and query execution times. The returned metrics are
    updated in real-time as database operations occur within the bot system, providing
    insight into the health and efficiency of database interactions. This method is
    typically used for monitoring and debugging purposes to understand how bots interact
    with the database infrastructure.
  parameters: []
  returns: A constant reference to a DatabaseMetrics object containing detailed statistics
    about database pool usage including connection counts, query performance, and
    error rates.
  examples:
  - title: Basic Usage for Monitoring
    code: 'const DatabaseMetrics& metrics = botDatabasePool.GetMetrics();

      TC_LOG_INFO(LOG_FILTER_BOTS, "Active connections: %u", metrics.activeConnections);'
    language: cpp
  - title: Logging All Metrics
    code: "const DatabaseMetrics& metrics = botDatabasePool.GetMetrics();\nTC_LOG_INFO(LOG_FILTER_BOTS,\
      \ \"Bot DB Pool Metrics - Active: %u, Total: %u, Failed: %u, Avg Query Time:\
      \ %.2fms\",\n    metrics.activeConnections,\n    metrics.totalConnections,\n\
      \    metrics.failedConnections,\n    metrics.averageQueryTime);"
    language: cpp
  notes: The returned DatabaseMetrics reference is valid only while the BotDatabasePool
    instance exists and should not be stored for later use. The metrics are thread-safe
    and can be accessed from multiple threads simultaneously without additional synchronization.
    This method does not perform any database operations itself, making it lightweight
    for frequent calls.
  warnings: Do not modify the returned DatabaseMetrics object as it's a constant reference.
    Modifications would have no effect on the actual metrics collection. Be aware
    that accessing metrics during high-traffic periods may introduce slight performance
    overhead due to internal locking mechanisms.
  related:
  - BotDatabasePool::GetConnection
  - BotDatabasePool::ReleaseConnection
  - BotDatabasePool::GetStats
metadata:
  confidence: 0.92
  generated_at: '2025-11-01T17:19:11.681404'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
