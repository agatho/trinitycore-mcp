api:
  class: Unit
  method: UpdateResistances
  signature: void Unit::UpdateResistances(uint32 school)
documentation:
  brief: Updates the resistance values for the specified school of magic for this
    unit.
  description: The UpdateResistances method recalculates and applies the resistance
    values for a given magical school to the Unit. This method is typically invoked
    when a unit's resistances change due to buffs, debuffs, equipment changes, or
    other game mechanics that affect magical resistance. It ensures that the unit's
    current resistance state is accurately reflected in its combat calculations. The
    method operates on the specified school of magic and updates internal resistance
    values accordingly.
  parameters:
  - name: school
    description: The magical school (spell school) for which to update resistances.
      Valid values are defined by SpellSchool enum constants such as SPELL_SCHOOL_NORMAL,
      SPELL_SCHOOL_HOLY, SPELL_SCHOOL_FIRE, etc.
  returns: null
  examples:
  - title: Update Fire Resistance
    code: 'Unit* target = ...; // some unit

      uint32 fireSchool = SPELL_SCHOOL_FIRE;

      target->UpdateResistances(fireSchool);'
    language: cpp
  - title: Update All Resistances
    code: "Unit* player = ...; // a player unit\nfor (int i = 0; i < MAX_SPELL_SCHOOL;\
      \ ++i)\n{\n    player->UpdateResistances(i);\n}"
    language: cpp
  notes: This method typically triggers recalculations of damage mitigation and spell
    effectiveness for the specified school. It may also update client-side resistance
    values if the unit is a player. The method does not directly modify any external
    state beyond the unit's internal resistance tracking.
  warnings: Calling this method with an invalid school index may lead to undefined
    behavior or incorrect resistance calculations. Ensure that the school parameter
    corresponds to valid SpellSchool enum values.
  related:
  - GetResistance
  - SetResistance
  - CalculateSpellDamage
  - ModifyResistance
metadata:
  confidence: 0.9
  generated_at: '2025-10-29T16:17:28.834864'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
