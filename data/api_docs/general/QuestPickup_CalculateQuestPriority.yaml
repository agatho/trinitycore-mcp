api:
  class: QuestPickup
  method: CalculateQuestPriority
  signature: float QuestPickup::CalculateQuestPriority(uint32 questId, Player * bot,
    QuestAcceptanceStrategy strategy)
documentation:
  brief: Calculates and returns the priority value of a quest for a specific bot player
    based on the given acceptance strategy.
  description: The CalculateQuestPriority method determines how important or urgent
    a quest is for a particular bot player by evaluating various factors such as quest
    level, rewards, and player progress. It uses the specified QuestAcceptanceStrategy
    to influence the calculation logic, which can affect whether the quest should
    be prioritized for acceptance. This method is typically used in AI-driven questing
    systems within TrinityCore to decide which quests to pursue first. The returned
    float value represents a normalized priority score, where higher values indicate
    more important or urgent quests.
  parameters:
  - name: questId
    description: The unique identifier of the quest for which the priority is being
      calculated. Must be a valid quest ID present in the game database.
  - name: bot
    description: Pointer to the Player object representing the bot player for whom
      the quest priority is being evaluated. The player must be valid and active.
  - name: strategy
    description: An enum value of type QuestAcceptanceStrategy that defines how the
      quest priority should be calculated. This influences factors like reward weighting,
      level requirements, and quest chain importance.
  returns: A float value representing the calculated quest priority. Higher values
    indicate higher priority. The exact range depends on implementation but typically
    falls between 0.0 (lowest priority) and 1.0 (highest priority). Returns 0.0 if
    the quest cannot be evaluated or is invalid.
  examples:
  - title: Basic Usage Example
    code: "float priority = questPickup->CalculateQuestPriority(12345, botPlayer,\
      \ QuestAcceptanceStrategy::DEFAULT);\nif (priority > 0.7f) {\n    // Accept\
      \ the quest\n}"
    language: cpp
  - title: Advanced Usage with Strategy Selection
    code: "QuestAcceptanceStrategy strategy = QuestAcceptanceStrategy::HIGH_REWARD;\n\
      float priority = questPickup->CalculateQuestPriority(12345, botPlayer, strategy);\n\
      // Use the priority to determine if quest should be accepted based on reward\
      \ focus\nif (priority > 0.8f) {\n    // Accept high-reward quest\n}"
    language: cpp
  notes: This method relies heavily on internal quest data and player state. Performance
    may vary depending on the complexity of the QuestAcceptanceStrategy used. The
    method does not modify any game state directly; it only computes a priority value.
  warnings: Ensure that the provided Player pointer is valid and not null before calling
    this method, as passing an invalid pointer can lead to undefined behavior. Also,
    make sure the questId corresponds to an existing quest in the database.
  related:
  - GetQuestPriority
  - EvaluateQuestAcceptance
  - ProcessQuestAcceptance
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T21:33:35.581352'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
