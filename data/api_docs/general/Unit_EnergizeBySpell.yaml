api:
  class: Unit
  method: EnergizeBySpell
  signature: void Unit::EnergizeBySpell(Unit * victim, const SpellInfo * spellInfo,
    int32 damage, int powerType)
documentation:
  brief: Energizes a target unit by a spell, applying damage and power type effects.
  description: This method performs the action of energizing another unit using a
    spell, which typically involves applying damage or healing to the target based
    on the spell's properties. It is commonly used in game mechanics where a caster
    applies a spell effect to a target, such as when a player casts a spell that heals
    or damages another player or creature. The method handles both the application
    of damage and power type calculations, making it essential for spell processing
    in TrinityCore.
  parameters:
  - name: victim
    description: The target unit that receives the energy effect from the spell. This
      could be a player, NPC, or creature.
  - name: spellInfo
    description: Pointer to the SpellInfo structure containing details about the spell
      being applied. This includes information like spell ID, effects, and other attributes.
  - name: damage
    description: The amount of damage or healing to apply to the target. Negative
      values typically indicate damage, while positive values indicate healing.
  - name: powerType
    description: The power type (mana, rage, focus, etc.) that is affected by the
      spell. This determines how the energy is applied and what type of resource is
      consumed or added.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'Unit* target = GetTarget();

      SpellInfo* spell = GetSpellInfo();

      int32 damage = 100;

      int powerType = POWER_MANA;

      unit->EnergizeBySpell(target, spell, damage, powerType);'
    language: cpp
  - title: Advanced Usage Example
    code: '// Example with multiple targets

      Unit* target1 = GetTarget();

      Unit* target2 = GetTarget();

      SpellInfo* spell = GetSpellInfo();

      int32 damage = 50;

      int powerType = POWER_RAGE;

      unit->EnergizeBySpell(target1, spell, damage, powerType);

      unit->EnergizeBySpell(target2, spell, damage, powerType);'
    language: cpp
  notes: This method is typically used in conjunction with other spell-related functions
    such as Spell::Effect and Spell::Cast. It's important to note that the method
    does not directly handle the actual spell effect execution; instead it applies
    the energy effect based on the provided parameters, which may be used in combination
    with other methods to fully process the spell.
  warnings: This method should only be called when the target unit is valid and the
    spellInfo is properly initialized. Using invalid pointers or incorrect power types
    can result in undefined behavior or crashes. Also, ensure that the damage value
    is correctly interpreted as either damage or healing depending on context.
  related:
  - Spell::Effect
  - Spell::Cast
  - Unit::EnergizeBySpell
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T21:10:48.402321'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
