api:
  class: AuraEffect
  method: HandleModOverrideZonePVPType
  signature: void AuraEffect::HandleModOverrideZonePVPType(const AuraApplication *
    aurApp, uint8 mode, bool apply) const
documentation:
  brief: Modifies the PvP type override for a zone based on aura application state.
  description: The HandleModOverrideZonePVPType method is responsible for adjusting
    the Player vs Player (PvP) type settings of a specific zone when an aura effect
    is applied or removed. This method interacts with the aura application context
    to determine whether to enable, disable, or modify PvP rules within a particular
    zone. It typically handles zone-specific PvP behavior changes such as converting
    a zone from normal PvP to sanctuary or contested territory. The method operates
    based on the aura's application state and mode flags, ensuring that zone PvP settings
    are correctly updated in response to aura effects.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura being
      applied or removed. This parameter provides context about which aura is triggering
      the zone PvP type change.
  - name: mode
    description: An 8-bit unsigned integer indicating the mode of operation for the
      PvP type override. Valid values typically represent different PvP state types
      such as normal, sanctuary, contested, or combat zones.
  - name: apply
    description: Boolean flag indicating whether to apply (true) or remove (false)
      the PvP type override. When true, the zone's PvP settings are modified according
      to the aura effect; when false, previous settings may be restored.
  returns: null
  examples:
  - title: Applying a PvP Override Aura
    code: "void ApplyPvPOverrideAura(Player* player, uint8 pvpMode)\n{\n    AuraApplication*\
      \ auraApp = new AuraApplication(player, player, nullptr);\n    AuraEffect* auraEffect\
      \ = new AuraEffect();\n    auraEffect->HandleModOverrideZonePVPType(auraApp,\
      \ pvpMode, true);\n}"
    language: cpp
  - title: Removing a PvP Override Aura
    code: "void RemovePvPOverrideAura(Player* player)\n{\n    AuraApplication* auraApp\
      \ = player->GetAuraApplication(12345);\n    if (auraApp)\n    {\n        AuraEffect*\
      \ auraEffect = auraApp->GetBase()->GetEffect(0);\n        auraEffect->HandleModOverrideZonePVPType(auraApp,\
      \ 0, false);\n    }\n}"
    language: cpp
  notes: This method is part of the TrinityCore's aura handling system and directly
    affects zone PvP mechanics. It should only be called from within the aura application
    process to ensure proper synchronization with other player and zone state updates.
    The method does not perform any direct database operations but relies on internal
    game state management.
  warnings: Improper use of this method may result in incorrect zone PvP behavior
    or inconsistent player experience. Ensure that the mode parameter is valid for
    the intended zone type, and always verify that aura applications are properly
    managed to prevent memory leaks or invalid state changes.
  related:
  - AuraEffect::HandleModPvPType
  - AuraApplication::GetBase
  - Player::UpdateZonePvP
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T12:31:11.935845'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
