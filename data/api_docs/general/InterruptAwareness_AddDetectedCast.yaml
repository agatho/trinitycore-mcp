api:
  class: InterruptAwareness
  method: AddDetectedCast
  signature: void InterruptAwareness::AddDetectedCast(const DetectedSpellCast & cast)
documentation:
  brief: Adds a detected spell cast to the interrupt awareness system for tracking
    and potential interruption.
  description: The AddDetectedCast method is used to register a spell cast that has
    been detected by the interrupt awareness system. This method allows the system
    to track ongoing spell casts that may be interrupted by certain events or abilities.
    The detected cast information is stored internally for potential future interruption
    checks, such as when a player is stunned, silenced, or otherwise prevented from
    completing their casting. This functionality is crucial for implementing proper
    spell interruption mechanics in World of Warcraft-style gameplay where certain
    conditions can halt spell casting.
  parameters:
  - name: cast
    description: A const reference to a DetectedSpellCast object containing information
      about the detected spell cast, including caster, target, spell ID, and casting
      state.
  returns: null
  examples:
  - title: Basic usage of AddDetectedCast
    code: 'InterruptAwareness awareness;

      DetectedSpellCast cast;

      cast.caster = playerGuid;

      cast.spellId = 12345;

      cast.target = targetGuid;

      awareness.AddDetectedCast(cast);'
    language: cpp
  - title: Adding a detected cast during spell event handling
    code: "void OnSpellCastStart(Player* player, SpellInfo const* spellInfo)\n{\n\
      \    DetectedSpellCast cast;\n    cast.caster = player->GetGUID();\n    cast.spellId\
      \ = spellInfo->Id;\n    cast.target = player->GetTarget();\n    interruptAwareness.AddDetectedCast(cast);\n\
      }"
    language: cpp
  notes: This method is typically called during spell casting events or when a spell
    is detected as being cast by an entity. The internal storage of detected casts
    allows for efficient lookup and interruption checks without requiring repeated
    scanning of the game world. The system may use this information to determine if
    a spell should be interrupted based on various conditions such as player status
    changes, environmental effects, or combat events.
  warnings: Ensure that the DetectedSpellCast object passed to this method contains
    valid data before calling. Passing invalid or uninitialized cast data could lead
    to undefined behavior or incorrect interruption logic. The method does not validate
    the input parameters beyond basic type checking.
  related:
  - RemoveDetectedCast
  - HasDetectedCast
  - GetDetectedCasts
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T02:08:16.353414'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
