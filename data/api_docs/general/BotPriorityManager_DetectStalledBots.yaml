api:
  class: BotPriorityManager
  method: DetectStalledBots
  signature: void BotPriorityManager::DetectStalledBots(uint32 currentTime, uint32
    stallThresholdMs)
documentation:
  brief: Detects and processes bots that have exceeded the specified stall threshold
    time.
  description: The DetectStalledBots method evaluates all active bot instances within
    the system to identify those that have been inactive or unresponsive for longer
    than the defined stall threshold. This mechanism helps maintain server performance
    by flagging or handling bots that may be stuck in loops, frozen, or otherwise
    non-functional. The method uses the current timestamp and a configurable stall
    duration to determine which bots require attention. It is typically invoked during
    periodic maintenance cycles or system checks to ensure optimal resource utilization.
  parameters:
  - name: currentTime
    description: The current Unix timestamp in milliseconds representing the point
      in time when the detection is performed.
  - name: stallThresholdMs
    description: The maximum allowed time (in milliseconds) a bot can remain inactive
      before being classified as stalled. This value defines the threshold for identifying
      problematic bots.
  returns: null
  examples:
  - title: Basic Usage in Game Loop
    code: "void GameLoop()\n{\n    uint32 currentTime = getMSTime();\n    uint32 stallThresholdMs\
      \ = 60000; // 1 minute\n    botPriorityManager->DetectStalledBots(currentTime,\
      \ stallThresholdMs);\n}"
    language: cpp
  - title: Integration with Bot Management System
    code: "class BotManager\n{\npublic:\n    void Update()\n    {\n        uint32\
      \ now = getMSTime();\n        botPriorityManager->DetectStalledBots(now, 30000);\
      \ // 30 second stall threshold\n    }\n};"
    language: cpp
  notes: This method assumes that each bot maintains its own last activity timestamp.
    It is recommended to call this function regularly (e.g., every few seconds) to
    ensure timely detection of stalled bots. The implementation may involve iterating
    through all active bots and comparing their last update times against the provided
    threshold.
  warnings: Improperly setting the stall threshold can lead to false positives or
    missed detections. A very low threshold may flag legitimate but slow bots, while
    a high threshold might delay necessary intervention on truly stalled bots.
  related:
  - GetBotStallStatus
  - ResetBotActivityTimer
  - HandleStalledBot
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T11:11:37.903225'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
