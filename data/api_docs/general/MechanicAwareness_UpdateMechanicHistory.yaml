api:
  class: MechanicAwareness
  method: UpdateMechanicHistory
  signature: void MechanicAwareness::UpdateMechanicHistory(Unit * target, const MechanicInfo
    & mechanic)
documentation:
  brief: Updates the mechanic history for a target unit with the provided mechanic
    information.
  description: The UpdateMechanicHistory method is responsible for maintaining a record
    of mechanics applied to a specific unit within the game world. This functionality
    is typically used in conjunction with the MechanicAwareness system, which tracks
    and manages how different game mechanics affect units. The method accepts a pointer
    to a Unit object (the target) and a MechanicInfo structure containing details
    about the mechanic being applied. It updates internal tracking data structures
    to reflect the new mechanic application, potentially affecting unit behavior,
    spell interactions, or AI decision-making processes. This method is crucial for
    implementing complex game mechanics such as crowd control effects, debuffs, or
    status conditions that persist over time.
  parameters:
  - name: target
    description: Pointer to the Unit object whose mechanic history will be updated.
      Must not be null and must represent a valid unit in the game world.
  - name: mechanic
    description: Reference to a MechanicInfo structure containing information about
      the mechanic being applied. This includes details such as mechanic type, duration,
      intensity, and other relevant properties that define how the mechanic affects
      the target.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'Unit* target = player->GetVictim();

      MechanicInfo mechanic;

      mechanic.type = MECHANIC_ROOT;

      mechanic.duration = 5000;

      mechanic.intensity = 1.0f;

      mechanicAwareness->UpdateMechanicHistory(target, mechanic);'
    language: cpp
  - title: Advanced Usage with Multiple Mechanics
    code: "Unit* target = creature;\nfor (int i = 0; i < 3; ++i)\n{\n    MechanicInfo\
      \ mechanic;\n    mechanic.type = static_cast<MechnicType>(MECHANIC_ROOT + i);\n\
      \    mechanic.duration = 3000 + i * 1000;\n    mechanic.intensity = 0.5f + i\
      \ * 0.2f;\n    mechanismAwareness->UpdateMechanicHistory(target, mechanic);\n\
      }"
    language: cpp
  notes: This method likely operates within a larger system that tracks unit states
    and mechanics for AI decision-making, combat calculations, or spell effects. The
    internal data structures may use hash maps or similar containers to efficiently
    store and retrieve mechanic information per unit. Performance considerations should
    be taken into account when calling this method frequently during combat situations.
  warnings: Ensure the target Unit pointer is valid before calling this method, as
    dereferencing a null pointer will cause a crash. The MechanicInfo structure must
    contain valid data; invalid or uninitialized fields may lead to unexpected behavior
    in the tracking system.
  related:
  - GetMechanicHistory
  - ClearMechanicHistory
  - HasMechanicApplied
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T01:41:36.494197'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
