api:
  class: InstanceScript
  method: GetEntranceLocationForCompletedEncounters
  signature: int InstanceScript::GetEntranceLocationForCompletedEncounters(uint32
    completedEncountersMask) const
documentation:
  brief: Retrieves the entrance location index for completed encounters in an instance.
  description: This method determines the appropriate entrance location within an
    instance based on which encounters have been completed. It uses a bitmask representing
    completed encounters to calculate and return a specific location identifier. The
    method is typically used during instance progression or reset logic to ensure
    players are teleported to the correct entrance point after completing certain
    encounters. This functionality supports dynamic instance behavior where player
    progress affects their starting position within the dungeon or raid.
  parameters: []
  returns: An integer representing the index of the entrance location for completed
    encounters. A value of -1 typically indicates an error or invalid state, while
    positive values correspond to valid entrance locations defined in the instance's
    configuration.
  examples:
  - title: Basic usage to determine entrance location
    code: "uint32 completedMask = ENCOUNTER_1_COMPLETED | ENCOUNTER_2_COMPLETED;\n\
      int entranceIndex = instanceScript->GetEntranceLocationForCompletedEncounters(completedMask);\n\
      if (entranceIndex >= 0)\n{\n    // Teleport player to the determined entrance\
      \ location\n    player->TeleportTo(instanceMap, entranceLocations[entranceIndex].x,\
      \ entranceLocations[entranceIndex].y, entranceLocations[entranceIndex].z, entranceLocations[entranceIndex].orientation);\n\
      }"
    language: cpp
  notes: This method is likely used in conjunction with encounter tracking and instance
    reset logic. The bitmask parameter should represent valid encounter flags defined
    for the specific instance type. Implementation may rely on internal mapping tables
    or configuration data that defines which encounters correspond to which entrance
    locations.
  warnings: Ensure that the completedEncountersMask parameter contains only valid
    encounter flags for the current instance. Invalid bits in the mask could lead
    to unexpected behavior or incorrect location selection. This method should not
    be called during active combat or when instance state is unstable.
  related:
  - GetCompletedEncounters
  - SetCompletedEncounters
  - IsEncounterComplete
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T12:49:21.865532'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
