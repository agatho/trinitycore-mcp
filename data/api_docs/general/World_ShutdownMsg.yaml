api:
  class: World
  method: ShutdownMsg
  signature: void World::ShutdownMsg(bool show, Player * player, const std::string
    & reason)
documentation:
  brief: Displays a shutdown message to players with an optional reason and player-specific
    context.
  description: The ShutdownMsg method is used to broadcast a shutdown message to players
    in the game world. It allows for conditional display based on a boolean flag,
    and can include specific information about the shutdown reason. The method accepts
    a player pointer which may be used to customize the message for that particular
    player or to determine if the message should be shown at all. This functionality
    is typically invoked during server shutdown procedures or maintenance events to
    inform players of impending disconnections.
  parameters:
  - name: show
    description: Boolean flag indicating whether the shutdown message should be displayed.
      If false, no message will be sent to players.
  - name: player
    description: Pointer to a Player object that may receive a customized shutdown
      message. Can be nullptr if the message is intended for all players.
  - name: reason
    description: String containing the reason for the shutdown, which will be included
      in the displayed message to players.
  returns: null
  examples:
  - title: Basic Shutdown Message Display
    code: World::instance()->ShutdownMsg(true, nullptr, "Server maintenance in 5 minutes.");
    language: cpp
  - title: Player-Specific Shutdown Message
    code: 'Player* targetPlayer = ...; // Assume player is already obtained

      World::instance()->ShutdownMsg(true, targetPlayer, "You are being disconnected
      due to account violation.");'
    language: cpp
  notes: This method likely interacts with the WorldSession system to send packets
    to connected players. It's designed to be called during server shutdown or maintenance
    events to provide clear communication to users.
  warnings: Ensure that the 'reason' string is sanitized to prevent injection attacks
    or inappropriate content in messages sent to players. The player parameter should
    be validated before use to avoid null pointer dereferences.
  related:
  - World::SendServerMessage
  - World::KickPlayer
  - World::Shutdown
metadata:
  confidence: 0.85
  generated_at: '2025-11-05T23:30:15.600269'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
