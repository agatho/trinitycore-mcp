api:
  class: SceneMgr
  method: PlayScene
  signature: uint32 SceneMgr::PlayScene(uint32 sceneId, const Position * position)
documentation:
  brief: Initiates a scene playback with the specified ID at the given position.
  description: The PlayScene method triggers the execution of a predefined scene associated
    with the given sceneId at the specified position. Scenes in TrinityCore are used
    to play cinematic sequences, quest events, or other scripted animations. The method
    returns a unique identifier for the started scene instance which can be used for
    tracking or stopping the scene later. The Position parameter defines where the
    scene will be played relative to the player or world coordinates. This method
    is typically called by game systems when an event needs to be visually represented
    through a scripted sequence.
  parameters:
  - name: sceneId
    description: The unique identifier of the scene to play. This ID corresponds to
      a scene defined in the database or script files. Valid values are positive integers
      that match existing scene entries.
  - name: position
    description: Pointer to a Position structure defining where the scene should be
      played. The position contains X, Y, Z coordinates and orientation (O). Must
      not be null; invalid positions may cause the scene to fail or play at default
      location.
  returns: Returns a uint32 identifier for the created scene instance. This ID can
    be used in subsequent calls to stop or modify the scene. A return value of 0 typically
    indicates failure to start the scene.
  examples:
  - title: Basic Scene Playback
    code: "Position pos;\npos.m_positionX = 1234.5f;\npos.m_positionY = 6789.0f;\n\
      pos.m_positionZ = 100.0f;\nuint32 sceneInstanceId = sSceneMgr->PlayScene(42,\
      \ &pos);\nif (sceneInstanceId != 0)\n{\n    // Scene started successfully\n}"
    language: cpp
  - title: Scene Playback with Player Position
    code: "Player* player = ...; // Get player reference\nPosition pos = player->GetPosition();\n\
      uint32 sceneInstanceId = sSceneMgr->PlayScene(101, &pos);\nif (sceneInstanceId\
      \ != 0)\n{\n    // Scene played at player's location\n}"
    language: cpp
  notes: This method is part of the scene system that integrates with TrinityCore's
    event handling and can be used for quest progression, NPC dialogue sequences,
    or world events. Scene instances are managed internally by the SceneMgr class
    and may have a limited lifetime before automatic cleanup.
  warnings: Ensure the sceneId exists in the database or script files; otherwise,
    the method will likely return 0 without error. Passing a null position pointer
    will result in undefined behavior or failure to play the scene. Scene playback
    can be resource-intensive and should not be called excessively in performance-critical
    code paths.
  related:
  - StopScene
  - HasScene
  - GetSceneInstance
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T23:15:41.323629'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
