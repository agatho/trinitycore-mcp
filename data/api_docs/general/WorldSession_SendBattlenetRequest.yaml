api:
  class: WorldSession
  method: SendBattlenetRequest
  signature: void WorldSession::SendBattlenetRequest(uint32 serviceHash, uint32 methodId,
    const pb::Message * request)
documentation:
  brief: Sends a Battle.net request to the client with specified service hash, method
    ID, and request message.
  description: The SendBattlenetRequest method is used to transmit a Battle.net protocol
    message to the connected client. It allows the server to communicate with the
    Battle.net service layer through the WorldSession connection. The method takes
    a service hash that identifies the target service, a method ID that specifies
    the operation within that service, and a protobuf message containing the request
    data. This functionality is essential for integrating with Blizzard's Battle.net
    infrastructure, enabling features such as authentication, matchmaking, and in-game
    social interactions. The callback parameter determines how the server handles
    responses from the client.
  parameters:
  - name: serviceHash
    description: A unique hash identifying the target Battle.net service. This value
      is typically derived from the service name and used to route the request to
      the correct subsystem.
  - name: methodId
    description: The method identifier within the specified service. This determines
      which specific operation or function will be invoked on the Battle.net side.
  - name: request
    description: A pointer to a protobuf message containing the request data. The
      message must be properly formatted according to the expected protocol for the
      given service and method.
  - name: callback
    description: An integer identifier that specifies how the server should handle
      the response from the client. This value is used internally by the Battle.net
      system to determine callback behavior.
  returns: null
  examples:
  - title: Basic Battle.net Request
    code: 'WorldSession* session = player->GetSession();

      // Send a basic authentication request

      session->SendBattlenetRequest(0x12345678, 1, &authRequest, 0);'
    language: cpp
  notes: This method is typically used in conjunction with Battle.net protocol handling
    and requires proper initialization of the Battle.net subsystem. The protobuf message
    must be compatible with the expected service interface. The callback parameter
    should match predefined values used by the Battle.net system.
  warnings: Improperly formatted protobuf messages or incorrect service/method hashes
    can cause connection issues or protocol errors. This method should only be called
    when the session is properly connected and authenticated with Battle.net services.
  related:
  - SendBattlenetResponse
  - HandleBattlenetRequest
  - GetBattlenetSession
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T19:45:49.563000'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
