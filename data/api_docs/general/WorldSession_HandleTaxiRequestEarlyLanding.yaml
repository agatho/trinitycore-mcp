api:
  class: WorldSession
  method: HandleTaxiRequestEarlyLanding
  signature: void WorldSession::HandleTaxiRequestEarlyLanding(WorldPackets::Taxi::TaxiRequestEarlyLanding
    & taxiRequestEarlyLanding)
documentation:
  brief: Handles a client request to prematurely land a taxi flight.
  description: The HandleTaxiRequestEarlyLanding method processes a client-initiated
    request to end a taxi flight before reaching its intended destination. This typically
    occurs when a player wishes to disembark from a taxi at an intermediate location
    rather than completing the full journey. The method validates the request, ensures
    the player is in a valid state for taxi travel, and triggers the appropriate landing
    sequence. It interacts with the player's current taxi path and updates their position
    accordingly. The method is part of TrinityCore's taxi system implementation and
    handles client-server communication related to flight scheduling and passenger
    movement.
  parameters:
  - name: taxiRequestEarlyLanding
    description: A packet containing the client's request to end a taxi flight early,
      including relevant flight path data and player state information.
  returns: null
  examples:
  - title: Basic usage in packet handling context
    code: "void WorldSession::HandleTaxiRequestEarlyLanding(WorldPackets::Taxi::TaxiRequestEarlyLanding&\
      \ taxiRequestEarlyLanding)\n{\n    // Validate player is on a taxi\n    if (!GetPlayer()->IsInFlight())\n\
      \        return;\n    \n    // Process early landing request\n    GetPlayer()->GetMotionMaster()->MoveLand(0.0f,\
      \ 0.0f, 0.0f);\n    // Additional logic for handling the landing\n}"
    language: cpp
  notes: This method is typically invoked during active taxi travel when a player
    sends a packet indicating they want to exit the flight early. The implementation
    must ensure that the player's position and state are correctly updated upon early
    landing, and any pending flight path data should be cleared or adjusted accordingly.
  warnings: Improper handling of this method may result in players being stuck in
    flight or experiencing incorrect positioning after an early landing. Ensure proper
    validation of player state before processing the request to prevent exploits related
    to taxi system manipulation.
  related:
  - HandleTaxiQueryDestinations
  - HandleTaxiAction
  - Player::GetMotionMaster
  - Player::IsInFlight
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T20:15:25.929616'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
