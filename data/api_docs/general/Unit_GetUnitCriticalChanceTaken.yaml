api:
  class: Unit
  method: GetUnitCriticalChanceTaken
  signature: float Unit::GetUnitCriticalChanceTaken(const Unit * attacker, int attackType,
    float critDone) const
documentation:
  brief: Calculates the critical chance that a unit will take during an attack.
  description: This method determines the critical chance that a unit receives when
    being attacked by another unit. It takes into account the attacker's attack type
    and the critical chance already applied to the target unit. The function returns
    a float value representing the chance of a critical hit occurring against the
    unit, which is influenced by various game mechanics including base critical chance,
    modifiers, and combat calculations. This method is essential for understanding
    combat behavior in World of Warcraft.
  parameters:
  - name: attacker
    description: Pointer to the Unit that is performing the attack. This parameter
      determines the attack type and critical chance modifiers applied to the target
      unit.
  - name: attackType
    description: Integer representing the type of attack being performed. This could
      be melee, ranged, or spell attack types, affecting how critical chance is calculated.
  - name: critDone
    description: Float representing the critical chance already applied to the target
      unit. This value influences the final calculation and represents the amount
      of critical chance already accounted for.
  returns: Returns a float value representing the chance of a critical hit occurring
    against the unit, ranging from 0.0 to 100.0. Values below 0 indicate no critical
    chance, while values above 100 represent increased critical chance due to modifiers.
  examples:
  - title: Basic usage example
    code: 'float chance = unit->GetUnitCriticalChanceTaken(attacker, attackType, critDone);


      // Example: Calculate critical chance for a player attacking a mob

      Unit* attacker = player;

      int attackType = ATTACK_TYPE_MELEE;

      float critDone = 0.0f;

      float chance = unit->GetUnitCriticalChanceTaken(attacker, attackType, critDone);'
    language: cpp
  notes: This method is part of the combat system and should be used in conjunction
    with other critical chance calculations for accurate results. Performance considerations
    include checking for null pointers before calling this method.
  warnings: This method may return values outside normal ranges if modifiers are applied
    incorrectly or if the unit is not properly initialized. Ensure that attacker and
    target units are valid before calling this method.
  related:
  - GetUnitCriticalChance
  - GetUnitCritChance
  - GetUnitAttackPower
metadata:
  confidence: 0.85
  generated_at: '2025-10-30T12:32:15.186529'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
