api:
  class: Unit
  method: SpellHealingPctDone
  signature: float Unit::SpellHealingPctDone(Unit * victim, const SpellInfo * spellProto)
    const
documentation:
  brief: Calculates the percentage of healing done by a spell on a target unit.
  description: This method computes the percentage modifier applied to healing spells
    based on the target unit's resistance and other factors. It is used in spell processing
    to determine how much healing is actually delivered when a spell hits a target.
    The method considers the spell's proto information and the victim's resistance
    levels to calculate the final healing percentage modifier, which affects the actual
    healing amount. This functionality is essential for proper spell mechanics handling
    in World of Warcraft.
  parameters:
  - name: victim
    description: The target unit receiving the healing. Must be a valid Unit pointer,
      typically representing the player or creature being healed.
  - name: spellProto
    description: The spell information structure defining the healing spell properties.
      This contains details about the spell type, school, and other relevant attributes
      that affect healing calculations.
  returns: Returns a float value representing the percentage modifier applied to healing.
    The value typically ranges from 0.0 to 1.0, where 1.0 means no reduction (full
    healing) and values less than 1.0 indicate reduced healing due to resistance or
    other factors. Values can be negative in certain cases indicating over healing
    or special effects.
  examples:
  - title: Basic Healing Calculation Example
    code: 'float healingModifier = unit->SpellHealingPctDone(target, spellInfo);

      float finalHealing = baseHealing * healingModifier;'
    language: cpp
  - title: Advanced Healing Modifier Usage
    code: "float healingModifier = unit->SpellHealingPctDone(target, spellInfo);\n\
      if (healingModifier > 0.0f)\n{\n    // Apply the modifier to actual healing\n\
      \    float finalHealing = baseHealing * healingModifier;\n}\nelse\n{\n    //\
      \ Handle special cases like over healing\n    float finalHealing = baseHealing;\n\
      }"
    language: cpp
  notes: This method is part of the core spell processing system and should be used
    in conjunction with other healing-related methods. It typically involves calculations
    based on target resistance, spell school, and various modifiers. Performance considerations
    include avoiding unnecessary calls when the same victim and spell are processed
    repeatedly.
  warnings: The method may return negative values in certain edge cases where over
    healing occurs or special effects apply. Care should be taken when using this
    method with different spell types as it might not always behave consistently across
    all healing spells.
  related:
  - SpellHealingPctDone
  - SpellHealingDone
  - SpellHealingMod
  - SpellDamageDone
metadata:
  confidence: 0.85
  generated_at: '2025-10-30T20:11:54.253398'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
