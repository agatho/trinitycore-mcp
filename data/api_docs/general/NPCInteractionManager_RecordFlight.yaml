api:
  class: NPCInteractionManager
  method: RecordFlight
  signature: void NPCInteractionManager::RecordFlight(uint32 cost)
documentation:
  brief: Records a flight cost for the current NPC interaction session.
  description: The RecordFlight method stores the cost associated with a flight path
    in the NPC interaction manager's internal state. This method is typically invoked
    during flight path selection or activation to track the financial cost of travel.
    The recorded cost can later be retrieved or used to validate player payment when
    initiating a flight. This functionality supports the game's flight system and
    ensures proper currency deduction for travel services provided by NPCs.
  parameters:
  - name: cost
    description: The monetary cost associated with the flight path being recorded.
      This value represents the amount of currency required to initiate the flight,
      typically in copper units.
  returns: null
  examples:
  - title: Recording Flight Cost During NPC Interaction
    code: "void OnGossipHello(Player* player, Creature* creature)\n{\n    // Set up\
      \ a flight path with a specific cost\n    uint32 flightCost = 5000; // 50 silver\n\
      \    sNPCInteractionManager->RecordFlight(flightCost);\n    \n    // Continue\
      \ with gossip menu...\n    player->ADD_GOSSIP_ITEM(GOSSIP_ICON_TAXI, \"Fly to\
      \ Stormwind\", GOSSIP_SENDER_MAIN, 1);\n    player->SEND_GOSSIP_MENU(DEFAULT_GOSSIP_MESSAGE,\
      \ creature->GetGUID());\n}"
    language: cpp
  notes: This method is part of the NPC interaction system and should only be called
    within valid NPC interaction contexts. The recorded flight cost is typically used
    in conjunction with other flight-related methods such as ValidateFlightPayment()
    or GetFlightCost(). Ensure that the cost value passed is non-negative to avoid
    unexpected behavior.
  warnings: Calling this method outside of an active NPC interaction session may lead
    to undefined behavior or data corruption. Do not pass negative values for the
    cost parameter, as this could cause issues with currency validation logic.
  related:
  - ValidateFlightPayment
  - GetFlightCost
  - ClearFlightRecord
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T05:12:44.508003'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
