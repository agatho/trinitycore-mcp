api:
  class: AdvancedBehaviorManager
  method: GetMemoryUsage
  signature: size_t AdvancedBehaviorManager::GetMemoryUsage() const
documentation:
  brief: Calculates and returns the total memory usage of all active behaviors managed
    by the AdvancedBehaviorManager instance.
  description: The GetMemoryUsage method computes the cumulative memory footprint
    of all behavior instances currently managed by this AdvancedBehaviorManager. This
    includes memory allocated for behavior objects, their associated data structures,
    and any internal tracking mechanisms. The method provides insight into the memory
    consumption of AI behaviors within a TrinityCore instance, which is particularly
    useful for performance monitoring and debugging. It performs a comprehensive scan
    of all registered behaviors to determine total allocated memory, making it an
    essential tool for developers managing large-scale AI systems or investigating
    memory leaks. The returned value represents bytes of memory used and can be used
    to track memory growth over time or identify potential memory issues in behavior
    implementations.
  parameters: []
  returns: Returns a size_t value representing the total memory usage in bytes of
    all active behaviors managed by this AdvancedBehaviorManager instance. A value
    of zero indicates no behaviors are currently registered or active.
  examples:
  - title: Basic Memory Usage Check
    code: 'AdvancedBehaviorManager* behaviorManager = sObjectMgr->GetAdvancedBehaviorManager();

      size_t memoryUsed = behaviorManager->GetMemoryUsage();

      TC_LOG_INFO("ai.behavior", "Current AI memory usage: %zu bytes", memoryUsed);'
    language: cpp
  - title: Monitoring Memory Growth Over Time
    code: "AdvancedBehaviorManager* manager = sObjectMgr->GetAdvancedBehaviorManager();\n\
      for (int i = 0; i < 100; ++i)\n{\n    // Create some behaviors\n    size_t currentMemory\
      \ = manager->GetMemoryUsage();\n    TC_LOG_INFO(\"ai.behavior\", \"Iteration\
      \ %d: %zu bytes\", i, currentMemory);\n}"
    language: cpp
  notes: This method may cause performance overhead when called frequently due to
    the need to iterate through all active behaviors. It should be used primarily
    for debugging and monitoring rather than in performance-critical code paths. The
    memory calculation includes both heap-allocated memory and internal data structures,
    but excludes any memory that might be cached or pre-allocated by the underlying
    system.
  warnings: Calling this method during high-frequency AI updates may introduce noticeable
    lag. It's recommended to call it sparingly or only when necessary for debugging
    purposes. The returned value is an approximation and may not reflect exactly allocated
    memory due to memory fragmentation or system-level caching.
  related:
  - GetBehaviorCount
  - IsBehaviorActive
  - ClearBehaviors
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T16:15:52.801383'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
