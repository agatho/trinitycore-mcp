api:
  class: TradeData
  method: GetServerStateIndex
  signature: int TradeData::GetServerStateIndex() const
documentation:
  brief: Returns the server state index associated with the trade data instance.
  description: The GetServerStateIndex method retrieves an integer identifier that
    represents the current server state relevant to the trade operation. This index
    is typically used internally by TrinityCore's trade system to track the state
    of a trade session across different server states or phases. The returned value
    may be utilized for synchronization purposes, logging, or determining the validity
    of a trade transaction within the game's state machine. This method does not modify
    any internal state and is read-only in nature.
  parameters: []
  returns: An integer representing the server state index. The exact meaning of this
    index depends on the internal implementation of the trade system and may correspond
    to specific trade states such as 'initiated', 'accepted', or 'completed'. Negative
    values may indicate an error or invalid state, while positive values typically
    represent valid server states.
  examples:
  - title: Basic Usage Example
    code: "TradeData* tradeData = player->GetTradeData();\nint stateIndex = tradeData->GetServerStateIndex();\n\
      if (stateIndex >= 0)\n{\n    // Proceed with trade logic based on server state\n\
      \    sLog->outString(\"Current trade server state index: %d\", stateIndex);\n\
      }"
    language: cpp
  notes: This method is part of the internal trade data management system and should
    only be used when directly interacting with trade-related game mechanics. The
    actual meaning of returned indices may vary depending on the version of TrinityCore
    and custom modifications to the trade system.
  warnings: Do not rely on specific numeric values returned by this method as they
    may change between different versions or patches of TrinityCore. Always validate
    the return value before using it in conditional logic.
  related:
  - TradeData::SetServerStateIndex
  - TradeData::GetTradeState
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T05:20:28.563381'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
