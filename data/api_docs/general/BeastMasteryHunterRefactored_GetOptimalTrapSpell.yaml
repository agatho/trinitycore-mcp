api:
  class: BeastMasteryHunterRefactored
  method: GetOptimalTrapSpell
  signature: uint32 BeastMasteryHunterRefactored::GetOptimalTrapSpell() const
documentation:
  brief: Returns the spell ID of the most optimal trap spell available to the beast
    mastery hunter.
  description: This method determines and returns the highest priority trap spell
    that is currently available for use by a beast mastery hunter. It evaluates the
    hunter's current state, including pet status, resource availability, and cooldowns
    to select the most effective trap spell from the set of known trap abilities.
    The returned value represents a valid SpellID from the game's spell database which
    can be used directly with core spell systems or action execution mechanisms.
  parameters: []
  returns: A uint32 representing the SpellID of the optimal trap spell. Returns 0
    if no valid trap spell is available or if the hunter does not have access to any
    trap spells.
  examples:
  - title: Basic Usage
    code: "uint32 trapSpellId = hunter->GetOptimalTrapSpell();\nif (trapSpellId !=\
      \ 0)\n{\n    // Execute the optimal trap spell\n    hunter->CastSpell(hunter,\
      \ trapSpellId, true);\n}"
    language: cpp
  notes: The method considers pet state and resources when determining optimal trap
    selection. It is recommended to call this method before attempting to cast any
    trap spell to ensure proper targeting and avoid invalid spell casts.
  warnings: null
  related:
  - GetTrapSpell
  - HasAvailableTrapSpell
  - CastTrapSpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T10:21:15.752653'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
