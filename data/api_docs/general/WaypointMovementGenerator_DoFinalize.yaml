api:
  class: WaypointMovementGenerator
  method: DoFinalize
  signature: void WaypointMovementGenerator::DoFinalize(Creature * param0, bool param1,
    bool param2)
documentation:
  brief: Finalizes waypoint movement for a creature, cleaning up resources and resetting
    movement state.
  description: The DoFinalize method is responsible for completing the waypoint movement
    process for a Creature object. It handles cleanup operations such as releasing
    any held references, resetting internal movement flags, and ensuring that the
    creature's movement state is properly reset after waypoint execution has concluded.
    This method is typically called internally by the AI system when a waypoint path
    has been fully traversed or when movement needs to be terminated early. The method
    ensures that the creature can safely transition to other movement behaviors or
    remain idle without leaving dangling references or inconsistent states.
  parameters:
  - name: param0
    description: Pointer to the Creature object whose waypoint movement is being finalized.
      This parameter represents the target entity for which movement cleanup operations
      are performed.
  - name: param1
    description: Boolean flag indicating whether to clear the creature's current waypoint
      path. If true, any active waypoints will be discarded and the movement generator
      will be reset.
  - name: param2
    description: Boolean flag controlling whether to send movement update packets
      to nearby players. If true, client-side movement updates are broadcasted to
      maintain synchronization with player clients.
  returns: null
  examples:
  - title: Basic Finalization Call
    code: 'Creature* creature = ...;

      bool clearPath = true;

      bool sendUpdate = false;

      waypointGenerator->DoFinalize(creature, clearPath, sendUpdate);'
    language: cpp
  - title: Complete Movement Cleanup with Client Updates
    code: 'Creature* creature = ...;

      waypointGenerator->DoFinalize(creature, true, true);

      // This ensures all movement references are cleared and clients are notified
      of the change'
    language: cpp
  notes: This method should only be called from within the AI subsystem or during
    controlled cleanup scenarios. It assumes that the provided Creature pointer is
    valid and not null. The method internally manages reference counts and ensures
    no memory leaks occur during movement finalization.
  warnings: Calling DoFinalize with incorrect parameters may result in inconsistent
    movement states or client desynchronization. Avoid calling this method on creatures
    that are currently being destroyed or are in an invalid state.
  related:
  - DoInitialize
  - DoUpdate
  - Initialize
  - MovementExpired
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T16:56:05.141663'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
