api:
  class: PaladinAI
  method: UpdateRotation
  signature: void PaladinAI::UpdateRotation(int * target)
documentation:
  brief: Updates the paladin's combat rotation logic based on current target and spell
    availability
  description: The UpdateRotation method is responsible for determining and executing
    the optimal sequence of spells and abilities for a paladin AI during combat. It
    evaluates the current target's status, available spells, mana levels, and combat
    situation to decide which abilities should be cast next. This method typically
    integrates with the paladin's AI decision-making system to ensure efficient resource
    usage and maximum damage output or healing effectiveness depending on the paladin's
    role. The method operates within the context of TrinityCore's AI framework and
    interacts with the core game mechanics such as spell cooldowns, mana management,
    and target prioritization.
  parameters:
  - name: target
    description: Pointer to an integer representing the current target's ID or index.
      This parameter is used to determine which enemy or ally to focus the paladin's
      actions on during rotation updates.
  returns: null
  examples:
  - title: Basic usage in AI update loop
    code: "void PaladinAI::Update()\n{\n    int targetId = GetTargetId();\n    UpdateRotation(&targetId);\n\
      }"
    language: cpp
  - title: Integration with spell casting logic
    code: "void PaladinAI::UpdateRotation(int* target)\n{\n    if (*target != 0)\n\
      \    {\n        // Logic to determine next spell based on target state\n   \
      \     CastRighteousFury();\n        CastJudgment();\n        CastHolyLight();\n\
      \    }\n}"
    language: cpp
  notes: This method is typically called periodically within the AI update cycle.
    It assumes that the target parameter points to a valid combat entity and that
    all necessary spell data has been initialized. The implementation may vary depending
    on the paladin's specialization (Holy, Protection, Retribution) which affects
    the rotation priorities.
  warnings: Ensure that the target pointer is properly validated before dereferencing
    to avoid segmentation faults. This method should not be called outside of combat
    situations as it relies on active combat state variables.
  related:
  - GetTargetId
  - CastSpell
  - IsSpellReady
  - UpdateCombatState
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T02:06:22.087502'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
