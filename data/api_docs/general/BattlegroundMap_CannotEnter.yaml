api:
  class: BattlegroundMap
  method: CannotEnter
  signature: TransferAbortParams BattlegroundMap::CannotEnter(Player * player)
documentation:
  brief: Determines if a player cannot enter a battleground and returns transfer abort
    parameters.
  description: The CannotEnter method evaluates whether a given player is prevented
    from entering a battleground. It checks various conditions such as player level
    requirements, instance limits, group status, and battleground restrictions. The
    method returns a TransferAbortParams structure that contains information about
    why the player cannot enter, including specific error codes and messages. This
    functionality is crucial for maintaining game balance and ensuring players are
    only allowed to join battlegrounds under appropriate circumstances.
  parameters: []
  returns: A TransferAbortParams structure containing details about why the player
    cannot enter the battleground, including error codes and localized messages that
    can be used to inform the player of the restriction.
  examples:
  - title: Basic usage to check if player can enter battleground
    code: "Player* player = ...; // Get player reference\nTransferAbortParams abortParams\
      \ = battlegroundMap->CannotEnter(player);\nif (abortParams.reason != TRANSFER_ABORT_NONE)\n\
      {\n    // Handle the transfer abort - show error message to player\n    player->SendTransferAborted(player->GetMapId(),\
      \ abortParams.reason);\n}"
    language: cpp
  notes: This method is typically called before attempting to add a player to a battleground
    queue or when checking if a player can be teleported to a battleground. The implementation
    likely involves checking player state, level requirements, instance restrictions,
    and group composition rules. It's important to note that this method does not
    perform the actual teleportation but only determines eligibility.
  warnings: This method should not be called directly for teleporting players - it's
    meant for validation purposes only. The returned TransferAbortParams should be
    properly handled to provide appropriate feedback to players. Do not assume all
    players will have valid battleground access as this method may return various
    abort reasons depending on game state and restrictions.
  related:
  - CanEnter
  - Player::SendTransferAborted
  - Battleground::GetStatus
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T15:26:25.054646'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
