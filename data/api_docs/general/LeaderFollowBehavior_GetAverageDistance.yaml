api:
  class: LeaderFollowBehavior
  method: GetAverageDistance
  signature: float LeaderFollowBehavior::GetAverageDistance() const
documentation:
  brief: Calculates and returns the average distance between the leader and followers
    in the behavior.
  description: The GetAverageDistance method computes the mean Euclidean distance
    from the leader entity to all follower entities managed by this LeaderFollowBehavior
    instance. This calculation is typically used in AI pathfinding and group movement
    logic within World of Warcraft's TrinityCore framework. The method iterates through
    all active followers, calculates their individual distances to the leader, and
    returns the arithmetic average of these distances. It assumes that both leader
    and followers have valid position data and are within the same game world context.
  parameters: []
  returns: A float value representing the average distance in game units (typically
    yards) between the leader and all followers. Returns 0.0f if there are no followers
    or if the leader is not properly initialized.
  examples:
  - title: Basic Usage to Check Group Spacing
    code: "float avgDist = behavior->GetAverageDistance();\nif (avgDist > 10.0f)\n\
      {\n    // Group is too spread out\n    // Trigger grouping logic\n}"
    language: cpp
  - title: Using Average Distance for AI Decision Making
    code: "float distance = leaderBehavior->GetAverageDistance();\nif (distance <\
      \ 2.0f)\n{\n    // Followers are too close, consider spreading out\n    leaderBehavior->SetFormation(Formation::Spread);\n\
      }\nelse if (distance > 8.0f)\n{\n    // Followers are too far, consider moving\
      \ closer\n    leaderBehavior->SetFormation(Formation::Close);\n}"
    language: cpp
  notes: This method performs a linear scan through all followers, so performance
    may degrade with large groups. The calculation is based on 3D Euclidean distance
    using the current positions of entities. It's recommended to cache this value
    if it's accessed frequently in tight loops.
  warnings: The method will return 0.0f if no followers exist or if the leader entity
    has not been properly initialized. This can lead to incorrect behavior if not
    checked before usage. Additionally, the returned value may be inaccurate if followers
    are in different zones or if position data is stale.
  related:
  - GetLeader
  - GetFollowers
  - SetFormation
  - UpdateDistance
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T01:46:06.514937'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
