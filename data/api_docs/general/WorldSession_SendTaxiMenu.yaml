api:
  class: WorldSession
  method: SendTaxiMenu
  signature: void WorldSession::SendTaxiMenu(Creature * unit)
documentation:
  brief: Sends a taxi menu to the player for interaction with a creature.
  description: The SendTaxiMenu method displays the in-game taxi network interface
    to the player, allowing them to select destinations from a list of available flight
    paths. This method is typically invoked when a player interacts with a taxi master
    NPC, such as a flight master or guild master who provides taxi services. The method
    prepares and sends the appropriate packet to the client, which renders the graphical
    taxi menu. It handles the logic for determining which flight paths are accessible
    to the player based on their current location, faction, and quest progress. The
    method does not directly handle path selection or movement; it merely presents
    the available options.
  parameters:
  - name: unit
    description: A pointer to the Creature object representing the taxi master NPC
      that the player is interacting with. This parameter determines which flight
      paths are displayed and is essential for proper menu generation.
  returns: null
  examples:
  - title: Basic usage when a player interacts with a taxi master
    code: "void HandlePlayerTaxiInteraction(Player* player, Creature* taxiMaster)\n\
      {\n    if (player && taxiMaster)\n    {\n        WorldSession* session = player->GetSession();\n\
      \        if (session)\n        {\n            session->SendTaxiMenu(taxiMaster);\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method is part of the core WorldSession class and is typically called
    during NPC interaction events. The actual flight path data is retrieved from the
    database using the creature's entry ID to determine which taxi nodes are available
    to the player. It's important to verify that the Creature pointer is valid before
    calling this method to avoid potential crashes.
  warnings: Calling this method without a valid Creature pointer can result in undefined
    behavior or client-side errors. The method assumes that the player has proper
    access to the taxi system and that the creature being passed is indeed a valid
    taxi master. It's recommended to validate the interaction context before invoking
    this method.
  related:
  - SendTaxiMenu
  - SendShowTaxiMenu
  - HandleTaxiNodeStatus
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T19:08:21.758556'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
