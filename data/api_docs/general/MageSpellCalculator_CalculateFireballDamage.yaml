api:
  class: MageSpellCalculator
  method: CalculateFireballDamage
  signature: uint32 MageSpellCalculator::CalculateFireballDamage(Player * caster,
    ::Unit * target)
documentation:
  brief: Calculates the damage output of a Fireball spell cast by a mage player on
    a target unit.
  description: The CalculateFireballDamage method determines the total damage dealt
    by a Fireball spell based on the caster's spell power, the target's resistance,
    and other relevant game mechanics. This method is typically invoked during spell
    casting to compute the final damage value before applying it to the target. It
    accounts for critical strikes, spell modifiers, and any applicable buffs or debuffs
    that may affect the spell's effectiveness. The calculation considers both base
    spell damage and any additional effects from mage talents or gear.
  parameters:
  - name: caster
    description: Pointer to the Player object representing the mage casting the Fireball
      spell. Must be a valid player with mage class and active spell casting state.
  - name: target
    description: Pointer to the Unit object that is being targeted by the Fireball
      spell. Can be any valid unit type (player, NPC, or creature) that can receive
      spell damage.
  returns: Returns a uint32 value representing the calculated total damage dealt by
    the Fireball spell. A value of 0 indicates no damage was dealt, which may occur
    due to immunity, avoidance, or other protective effects.
  examples:
  - title: Basic Usage Example
    code: "Player* mage = ...; // Get player instance\nUnit* target = ...; // Get\
      \ target unit\nuint32 damage = MageSpellCalculator::CalculateFireballDamage(mage,\
      \ target);\n// Apply damage to target\nif (damage > 0)\n{\n    target->DealDamage(mage,\
      \ damage, NULL, DIRECT_DAMAGE, SPELL_SCHOOL_MASK_FIRE, NULL, false);\n}"
    language: cpp
  - title: Advanced Usage with Critical Strike Check
    code: "Player* mage = ...;\nUnit* target = ...;\nuint32 baseDamage = MageSpellCalculator::CalculateFireballDamage(mage,\
      \ target);\nfloat critChance = mage->GetFloatValue(PLAYER_CRIT_PERCENTAGE);\n\
      if (rand() % 100 < critChance)\n{\n    baseDamage *= 2; // Apply critical strike\
      \ multiplier\n}\n// Apply final damage\nif (baseDamage > 0)\n{\n    target->DealDamage(mage,\
      \ baseDamage, NULL, DIRECT_DAMAGE, SPELL_SCHOOL_MASK_FIRE, NULL, false);\n}"
    language: cpp
  notes: This method assumes that the caster is a valid mage player and that the target
    is a valid unit capable of receiving damage. The calculation does not include
    direct spell modifiers or talents beyond standard spell power effects. This function
    should only be called when the spell is actually being cast, not during preparation
    or channeling phases.
  warnings: Ensure that both caster and target pointers are valid before calling this
    method to avoid segmentation faults. Do not call this method if the player is
    not a mage class or if the target is immune to fire damage. The returned damage
    value should be checked for zero before applying it to prevent unnecessary processing.
  related:
  - CalculateFrostboltDamage
  - CalculateArcaneMissilesDamage
  - CalculateSpellPower
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T08:59:40.825643'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
