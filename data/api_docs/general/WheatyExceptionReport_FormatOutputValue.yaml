api:
  class: WheatyExceptionReport
  method: FormatOutputValue
  signature: void WheatyExceptionReport::FormatOutputValue(char * pszCurrBuffer, BasicType
    basicType, DWORD64 length, PVOID pAddress, size_t bufferSize, size_t countOverride)
documentation:
  brief: Formats a value into a character buffer for exception reporting, handling
    different basic data types and memory addresses.
  description: The FormatOutputValue method is responsible for converting various
    basic data types and memory addresses into a formatted string representation within
    a provided character buffer. This function is typically used in exception handling
    and debugging scenarios to provide detailed information about variables and memory
    contents when an error occurs. It supports different basic types such as integers,
    pointers, and other fundamental data types, allowing developers to inspect the
    state of variables at the time of an exception. The method handles buffer size
    management and ensures that output does not exceed the provided buffer limits,
    preventing potential buffer overflows during crash reporting.
  parameters:
  - name: pszCurrBuffer
    description: Pointer to the character buffer where formatted output will be written.
      Must be a valid memory location with sufficient space for the formatted value.
  - name: basicType
    description: Enumeration or identifier specifying the type of data being formatted
      (e.g., integer, pointer, floating point). Used to determine formatting behavior
      and output style.
  - name: length
    description: Size in bytes of the data pointed to by pAddress. This parameter
      helps determine how much data should be interpreted or displayed for certain
      types.
  - name: pAddress
    description: Pointer to the memory address containing the value to be formatted.
      Can point to any basic data type or structure in memory.
  - name: bufferSize
    description: Total size of the pszCurrBuffer in bytes, used to prevent buffer
      overflows during formatting operations.
  - name: countOverride
    description: Optional override value that may specify how many elements or characters
      should be formatted, particularly useful for arrays or strings. Zero indicates
      default behavior.
  returns: null
  examples:
  - title: Formatting a pointer value
    code: 'char buffer[256];

      WheatyExceptionReport report;

      report.FormatOutputValue(buffer, BasicType::Pointer, sizeof(void*), &someVariable,
      sizeof(buffer), 0);'
    language: cpp
  - title: Formatting an integer value with custom count override
    code: 'char buffer[128];

      int myInt = 42;

      WheatyExceptionReport report;

      report.FormatOutputValue(buffer, BasicType::Integer, sizeof(int), &myInt, sizeof(buffer),
      1);'
    language: cpp
  notes: This method is part of the WheatyExceptionReport class used for crash reporting
    in TrinityCore. It's designed to be thread-safe and should not cause side effects
    when called from different threads. The implementation assumes that all parameters
    are valid unless otherwise specified, so callers must ensure proper memory allocation
    and parameter validation.
  warnings: Ensure that pszCurrBuffer is properly allocated with sufficient space
    before calling this method. Passing invalid pAddress values or incorrect basicType
    identifiers can lead to undefined behavior or crashes. The method does not validate
    the contents of pAddress beyond ensuring it's a valid pointer, so callers should
    ensure data integrity.
  related:
  - WheatyExceptionReport::GenerateExceptionReport
  - WheatyExceptionReport::WriteMiniDump
  - WheatyExceptionReport::FormatOutputString
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T16:51:10.998242'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
