api:
  class: BotActionProcessor
  method: ExecuteCastSpell
  signature: BotActionResult BotActionProcessor::ExecuteCastSpell(Player * bot, const
    BotAction & action)
documentation:
  brief: Executes a spell casting action for a bot player based on the provided action
    data.
  description: The ExecuteCastSpell method processes a BotAction object to cast a
    spell using the specified bot player. It handles spell validation, target selection,
    and execution logic within the TrinityCore framework. The method ensures that
    the bot follows proper spell casting mechanics including cooldown management,
    line-of-sight checks, and resource consumption. This function is typically invoked
    as part of the bot's AI decision-making process to perform offensive, defensive,
    or utility actions.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that will cast
      the spell. Must be a valid player instance with proper spell data loaded.
  - name: action
    description: Reference to a BotAction object containing the spell casting parameters
      including spell ID, target information, and casting conditions.
  returns: Returns a BotActionResult enum indicating the success or failure of the
    spell casting operation. Possible values include SUCCESS, FAILED, INVALID_TARGET,
    COOLDOWN, INSUFFICIENT_RESOURCES, or OTHER_ERROR depending on execution outcome.
  examples:
  - title: Basic Spell Casting
    code: "BotAction action;\naction.spellId = 12345;\naction.targetGuid = player->GetGUID();\n\
      BotActionResult result = processor.ExecuteCastSpell(bot, action);\nif (result\
      \ == BotActionResult::SUCCESS) {\n    // Spell cast successfully\n}"
    language: cpp
  - title: Handling Different Result Types
    code: "BotAction action;\naction.spellId = 67890;\naction.targetGuid = target->GetGUID();\n\
      BotActionResult result = processor.ExecuteCastSpell(bot, action);\nswitch (result)\
      \ {\n    case BotActionResult::SUCCESS:\n        // Handle successful cast\n\
      \        break;\n    case BotActionResult::COOLDOWN:\n        // Handle cooldown\
      \ wait\n        break;\n    case BotActionResult::INSUFFICIENT_RESOURCES:\n\
      \        // Handle resource shortage\n        break;\n    default:\n       \
      \ // Handle other errors\n        break;\n}"
    language: cpp
  notes: This method assumes the bot player has been properly initialized with spell
    data and that the action contains valid parameters. The implementation may perform
    internal checks for spell validity, target eligibility, and resource availability
    before attempting to cast. Thread safety is not guaranteed if multiple threads
    access the same bot instance simultaneously.
  warnings: Do not call this method with invalid or null player pointers as it will
    likely cause a crash. Ensure that the BotAction object contains valid spell IDs
    and targets before execution. Be aware that repeated calls without proper cooldown
    handling may result in failed casts due to server-side restrictions.
  related:
  - ExecuteMoveTo
  - ExecuteAttack
  - ExecuteItemUse
  - GetSpellInfo
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T08:25:26.409142'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
