api:
  class: DoubleBufferedSpatialGrid
  method: Update
  signature: void DoubleBufferedSpatialGrid::Update() const
documentation:
  brief: Updates the spatial grid data structure by swapping buffers and processing
    pending entity movements.
  description: The Update method in DoubleBufferedSpatialGrid is responsible for maintaining
    consistency between two buffered versions of a spatial grid used for efficient
    object location and retrieval. It performs a buffer swap operation, transferring
    the current state from the write buffer to the read buffer, and processes any
    queued movement updates or entity changes that occurred since the last update
    cycle. This method ensures that spatial queries return consistent results by preventing
    concurrent modifications during query execution. The implementation typically
    involves locking mechanisms to maintain thread safety while minimizing performance
    impact on active game systems.
  parameters: []
  returns: null
  examples:
  - title: Basic Update Usage
    code: 'DoubleBufferedSpatialGrid grid;

      // ... populate grid with entities ...

      grid.Update(); // Synchronize buffer states and process pending updates'
    language: cpp
  notes: This method should be called regularly in the game loop to maintain grid
    consistency. The double buffering approach prevents race conditions during spatial
    queries while allowing concurrent entity updates. Performance is optimized through
    minimal locking and efficient buffer swapping strategies.
  warnings: Calling Update() while other threads are actively querying the grid may
    cause temporary inconsistencies or blocking behavior. Ensure that all entity movement
    operations are completed before calling this method to avoid partial state updates.
  related:
  - GetReadBuffer
  - GetWriteBuffer
  - AddEntity
  - RemoveEntity
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T08:31:58.139712'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
