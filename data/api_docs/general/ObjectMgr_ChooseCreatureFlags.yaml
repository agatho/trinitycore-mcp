api:
  class: ObjectMgr
  method: ChooseCreatureFlags
  signature: void ObjectMgr::ChooseCreatureFlags(const int * cInfo, uint64 * npcFlags,
    uint32 * unitFlags, uint32 * unitFlags2, uint32 * unitFlags3, const int & staticFlags,
    const int * data)
documentation:
  brief: Sets creature flags based on creature information and static flags.
  description: The ChooseCreatureFlags method determines and assigns appropriate NPC
    flags, unit flags, and unit flags 2 and 3 for a creature based on its configuration
    data and static flags. This method is used internally by the ObjectMgr to properly
    initialize creature properties during loading or spawning. It evaluates the provided
    creature information array and applies flag logic to ensure creatures behave correctly
    within the game world, including interaction behavior, combat state, and visibility
    settings.
  parameters:
  - name: cInfo
    description: Pointer to an integer array containing creature information such
      as type, family, rank, and other classification data used to determine flags.
  - name: npcFlags
    description: Pointer to a uint64 value that will be set with the appropriate NPC
      flags for the creature, determining how the creature interacts with players
      (e.g., vendor, trainer, etc.).
  - name: unitFlags
    description: Pointer to a uint32 value that will be set with unit flags defining
      general behavior and state of the creature (e.g., server controlled, selectable,
      etc.).
  - name: unitFlags2
    description: Pointer to a uint32 value that will be set with additional unit flags
      for more specific behaviors or client-side rendering settings.
  - name: unitFlags3
    description: Pointer to a uint32 value that will be set with further unit flags,
      typically used for advanced or custom creature behaviors.
  - name: staticFlags
    description: A constant integer flag value that defines static properties of the
      creature, such as whether it is a pet, guardian, or has special AI behavior.
  - name: data
    description: Pointer to an integer array containing additional data used in flag
      calculations, potentially including creature model info, faction settings, or
      other dynamic attributes.
  returns: null
  examples:
  - title: Setting Creature Flags for a Vendor NPC
    code: '#include "ObjectMgr.h"


      int cInfo[10] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };

      uint64 npcFlags = 0;

      uint32 unitFlags = 0;

      uint32 unitFlags2 = 0;

      uint32 unitFlags3 = 0;

      int staticFlags = 0;

      int data[5] = { 100, 200, 300, 400, 500 };


      ObjectMgr::ChooseCreatureFlags(cInfo, &npcFlags, &unitFlags, &unitFlags2, &unitFlags3,
      staticFlags, data);

      // npcFlags now contains vendor-specific flags'
    language: cpp
  notes: This method is typically invoked during creature creation or loading from
    database. It's important to note that flag values are bitwise and must be carefully
    combined to avoid conflicts or unintended behavior. The exact mapping of cInfo
    elements to flag assignments depends on internal TrinityCore logic.
  warnings: Incorrectly setting flags can cause creatures to behave unexpectedly,
    such as not appearing in combat, failing to respond to player interaction, or
    displaying incorrect icons in the UI. Ensure that all input parameters are valid
    and initialized before calling this method.
  related:
  - GetCreatureTemplate
  - LoadCreatureTemplates
  - UpdateCreatureFlags
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T02:45:40.261675'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
