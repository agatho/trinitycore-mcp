api:
  class: InteractionManager
  method: SendMail
  signature: bool InteractionManager::SendMail(Player * bot, const std::string & recipient,
    const std::string & subject, const std::string & body, uint32 money, Item * item)
documentation:
  brief: Sends a mail message from a bot player to a specified recipient with optional
    money and item attachments.
  description: The SendMail method facilitates sending in-game mail through the InteractionManager
    class. It allows a bot player to send messages to other players, including optional
    monetary and item attachments. The method handles validation of the recipient's
    existence, checks for sufficient funds if money is attached, and ensures the item
    (if any) can be properly mailed. This function is typically used in automated
    bot behaviors or AI systems within TrinityCore-based World of Warcraft servers.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the sending bot character.
      Must be a valid player instance with proper access rights.
  - name: recipient
    description: String containing the name of the intended mail recipient. Must correspond
      to an existing player in the game world.
  - name: subject
    description: String representing the subject line of the mail message. Should
      not exceed the maximum allowed subject length (typically 120 characters).
  - name: body
    description: String containing the main body text of the mail message. Can be
      empty or contain up to the maximum allowed message length.
  - name: money
    description: Unsigned 32-bit integer representing the amount of copper coins to
      attach to the mail. Zero value indicates no money attachment.
  - name: item
    description: Pointer to an Item object that will be attached to the mail. Can
      be NULL if no item is being sent.
  returns: Returns true if the mail was successfully sent and processed by the game
    server, false otherwise. Failure conditions include invalid recipient, insufficient
    funds, or failed item handling.
  examples:
  - title: Basic Mail Sending
    code: "Player* bot = ...; // Valid player instance\nstd::string recipient = \"\
      TargetPlayer\";\nstd::string subject = \"Greetings\";\nstd::string body = \"\
      Hello there!\";\nbool success = sInteractionManager->SendMail(bot, recipient,\
      \ subject, body, 0, nullptr);\nif (success) {\n    // Mail sent successfully\n\
      }"
    language: cpp
  - title: Sending Mail with Money and Item
    code: "Player* bot = ...; // Valid player instance\nItem* item = ...; // Valid\
      \ item instance\nstd::string recipient = \"AnotherPlayer\";\nstd::string subject\
      \ = \"Gift for you\";\nstd::string body = \"This is a gift from me.\";\nbool\
      \ success = sInteractionManager->SendMail(bot, recipient, subject, body, 10000,\
      \ item);\nif (success) {\n    // Mail with 100 silver and an item sent successfully\n\
      }"
    language: cpp
  notes: This method relies on the underlying mail system of TrinityCore which enforces
    various game rules such as mail limits, cooldowns, and item restrictions. Ensure
    that the bot player has sufficient permissions and resources before calling this
    function.
  warnings: Do not call this method with invalid or NULL pointers for the bot parameter.
    The recipient name must exist in the database; otherwise, the operation will fail
    silently. Be cautious when attaching items to mail as some items may not be mailable
    due to game restrictions.
  related:
  - SendMail
  - GetMailStatus
  - CheckMailAvailability
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T02:16:16.496233'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
