api:
  class: BfGraveyard
  method: SetSpirit
  signature: void BfGraveyard::SetSpirit(Creature * spirit, int team)
documentation:
  brief: Sets the spirit creature associated with the graveyard for the specified
    team.
  description: The SetSpirit method assigns a Creature object as the spirit guide
    for a specific team within the battlefield graveyard system. This method is typically
    used during battlefield initialization or team assignment to link the graveyard's
    spirit companion to the appropriate faction. The spirit creature serves as a visual
    and functional element that players can interact with to respawn or receive rewards.
    The method does not validate whether the provided creature is actually a spirit
    type, so developers must ensure proper creature types are passed. This method
    is part of the Battlefield Graveyard system which manages player respawns and
    team-based objectives in battlegrounds.
  parameters:
  - name: spirit
    description: Pointer to the Creature object that will serve as the spirit guide
      for this graveyard. Must not be null, and should represent a valid spirit-type
      creature.
  - name: team
    description: Integer value representing the team for which this spirit is assigned.
      Typically 0 for Alliance (0) or 1 for Horde (1), though other values may be
      used in custom implementations.
  returns: null
  examples:
  - title: Basic Spirit Assignment
    code: 'Creature* spirit = creature->GetMap()->GetCreature(ObjectGuid(HighGuid::Unit,
      12345));

      BfGraveyard* graveyard = sBattlefieldMgr->GetBattlefieldGraveyard(0);

      graveyard->SetSpirit(spirit, TEAM_ALLIANCE);'
    language: cpp
  - title: Dynamic Spirit Assignment Based on Team
    code: "uint32 teamId = player->GetTeamId();\nCreature* spirit = nullptr;\nif (teamId\
      \ == TEAM_ALLIANCE)\n    spirit = creature->GetMap()->GetCreature(ObjectGuid(HighGuid::Unit,\
      \ 12345));\nelse\n    spirit = creature->GetMap()->GetCreature(ObjectGuid(HighGuid::Unit,\
      \ 67890));\nBfGraveyard* graveyard = sBattlefieldMgr->GetBattlefieldGraveyard(0);\n\
      graveyard->SetSpirit(spirit, teamId);"
    language: cpp
  notes: This method directly modifies internal state of the BfGraveyard object and
    should only be called during appropriate initialization or state change phases.
    The spirit creature must remain valid throughout the battlefield's lifecycle to
    avoid dangling pointer issues. Consider using this method in conjunction with
    SetTeam() for complete graveyard setup.
  warnings: Passing a null pointer for the spirit parameter will likely cause undefined
    behavior or crashes. Ensure that the Creature object passed is properly initialized
    and registered with the map before calling this method.
  related:
  - GetSpirit
  - SetTeam
  - GetTeam
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T15:09:59.392287'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
