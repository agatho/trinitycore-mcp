api:
  class: WorldObject
  method: MagicSpellHitResult
  signature: int WorldObject::MagicSpellHitResult(Unit * victim, const SpellInfo *
    spellInfo) const
documentation:
  brief: Calculates and returns the spell hit result for a target unit
  description: This method determines the outcome of a magical spell against a target
    unit, including whether the spell hits, misses, or is resisted. It considers factors
    such as spell power, target resistance, and various game mechanics like critical
    chance and spell penetration. The method is typically used in spell processing
    to determine damage or healing outcomes. This function is part of the core World
    of Warcraft combat system and is essential for calculating spell effectiveness.
  parameters:
  - name: victim
    description: The target unit that the spell is being cast upon. Must be a valid
      Unit object, typically representing an enemy or ally depending on the spell
      context.
  - name: spellInfo
    description: Pointer to the SpellInfo structure defining the spell being cast.
      This contains information about the spell such as its ID, effects, and other
      properties that influence the hit result calculation.
  returns: Returns an integer value representing the spell hit result. Possible values
    include 0 for miss, 1 for hit, 2 for critical hit, and 3 for resisted. The exact
    meaning depends on the specific spell and game context.
  examples:
  - title: Basic Spell Hit Calculation
    code: "int result = this->MagicSpellHitResult(target, spellInfo);\nif (result\
      \ == 1)\n    // Spell hit\nelse if (result == 2)\n    // Critical hit\nelse\
      \ if (result == 3)\n    // Resisted"
    language: cpp
  - title: Spell Damage Calculation
    code: "int result = this->MagicSpellHitResult(target, spellInfo);\nif (result\
      \ == 1 || result == 2)\n{\n    // Calculate damage based on hit result\n   \
      \ int damage = CalculateSpellDamage(result);\n}\nelse if (result == 3)\n{\n\
      \    // Spell was resisted\n    int damage = 0;\n}"
    language: cpp
  notes: This method is part of the core spell processing system and should be used
    carefully in combat calculations. It may involve complex interactions between
    various game mechanics such as spell power, target resistance, and critical chance.
    Performance considerations include avoiding unnecessary calls when not needed.
  warnings: The method should only be called when the spell is actually being processed
    against a valid target. Incorrect usage can lead to invalid damage calculations
    or unexpected behavior. Ensure that both victim and spellInfo are valid before
    calling this method.
  related:
  - SpellHitResult
  - CalculateSpellDamage
  - SpellCast
metadata:
  confidence: 0.85
  generated_at: '2025-10-30T19:43:23.457507'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
