api:
  class: VendorInteraction
  method: HandleInnkeeperServices
  signature: void VendorInteraction::HandleInnkeeperServices(Player * player, uint32
    innkeeperGuid)
documentation:
  brief: Handles innkeeper service interactions for a player, typically used to display
    available services like resting or mail.
  description: The HandleInnkeeperServices method manages the interaction between
    a player and an innkeeper NPC. It is invoked when a player interacts with an innkeeper
    to access services such as resting to recover health and mana, or accessing mailbox
    functionality. This method typically checks the player's state, validates whether
    the innkeeper is properly configured for service, and displays the appropriate
    service menu or performs the requested action. The method may also handle related
    game mechanics like quest tracking, faction reputation, or cooldowns associated
    with innkeeper services.
  parameters:
  - name: player
    description: Pointer to the Player object representing the interacting player.
      Must be a valid player instance; otherwise, behavior is undefined.
  - name: innkeeperGuid
    description: The unique identifier (GUID) of the innkeeper NPC. This value must
      correspond to a valid GameObject or Creature in the game world to ensure proper
      service handling.
  returns: null
  examples:
  - title: Basic Innkeeper Service Interaction
    code: "void OnPlayerGossipHello(Player* player, Creature* innkeeper)\n{\n    uint32\
      \ guid = innkeeper->GetGUID().GetRawValue();\n    VendorInteraction::HandleInnkeeperServices(player,\
      \ guid);\n}"
    language: cpp
  notes: This method is typically called as part of the gossip system in TrinityCore.
    It assumes that the player and innkeeper are within valid interaction range and
    that the innkeeper has been properly configured with the necessary service data
    (e.g., resting zones, mailboxes). Developers should ensure proper validation of
    the GUID and player state before invoking this method.
  warnings: Calling this method without validating that the innkeeper is a valid NPC
    or that the player is in a valid state may result in undefined behavior. Also,
    improper handling of the GUID can lead to incorrect service delivery or crashes
    if the GUID does not correspond to an actual game object.
  related:
  - Player::GetSession
  - Creature::GetGUID
  - WorldSession::SendGossipMenu
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T00:01:04.651606'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
