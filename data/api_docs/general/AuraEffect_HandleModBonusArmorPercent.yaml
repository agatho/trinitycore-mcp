api:
  class: AuraEffect
  method: HandleModBonusArmorPercent
  signature: void AuraEffect::HandleModBonusArmorPercent(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Modifies the armor bonus percentage for a target based on aura application
    state.
  description: The HandleModBonusArmorPercent method is responsible for adjusting
    the armor bonus percentage of a target when an aura effect is applied or removed.
    This method is typically invoked during aura application or removal events to
    dynamically modify the target's armor statistics. The adjustment is determined
    by the aura's properties and the specified mode (application or removal). It ensures
    that armor bonuses from auras are correctly calculated and applied to the target's
    overall defensive capabilities.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura being
      applied or removed. This parameter provides context about the aura effect, including
      its properties and duration.
  - name: mode
    description: An unsigned 8-bit integer indicating the mode of operation. Typically
      used to distinguish between application (1) and removal (0) of the aura effect.
  - name: apply
    description: Boolean flag indicating whether the aura is being applied (true)
      or removed (false). This determines the direction of the armor bonus adjustment.
  returns: null
  examples:
  - title: Applying Armor Bonus Aura
    code: 'AuraEffect* effect = new AuraEffect();

      AuraApplication app;

      uint8 mode = 1; // Application mode

      bool apply = true;

      effect->HandleModBonusArmorPercent(&app, mode, apply);'
    language: cpp
  - title: Removing Armor Bonus Aura
    code: 'AuraEffect* effect = new AuraEffect();

      AuraApplication app;

      uint8 mode = 0; // Removal mode

      bool apply = false;

      effect->HandleModBonusArmorPercent(&app, mode, apply);'
    language: cpp
  notes: This method is part of the aura handling system in TrinityCore and integrates
    with the core combat mechanics. It modifies the target's armor bonus directly,
    affecting their defensive capabilities. The implementation assumes that the aura
    application context is valid and properly initialized.
  warnings: Improper use of this method can lead to incorrect armor calculations,
    potentially affecting gameplay balance. Ensure that the aura application object
    is correctly initialized before calling this method.
  related:
  - AuraEffect::HandleModArmorPercent
  - AuraEffect::ApplyAura
  - AuraEffect::RemoveAura
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T12:42:47.038940'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
