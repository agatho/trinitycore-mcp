api:
  class: NavMeshInterface
  method: GetNearestPosition
  signature: bool NavMeshInterface::GetNearestPosition(Map * map, const int & position,
    int & result, float searchDist) const
documentation:
  brief: Finds the nearest valid navigation position to a given coordinate within
    a specified search distance.
  description: The GetNearestPosition method searches for the closest valid navigable
    point on the NavMesh for a given map and position. It is commonly used in pathfinding
    and movement logic to ensure units move along valid terrain rather than through
    walls or obstacles. The method takes into account the provided search distance
    to limit how far it will look for a valid position. If a valid position is found
    within the search range, it returns true and updates the result parameter with
    the nearest navigable coordinate. This function is essential for maintaining realistic
    movement behavior in World of Warcraft's game world, particularly when dealing
    with complex terrain or AI pathfinding.
  parameters:
  - name: map
    description: Pointer to the Map object where the navigation search will be performed.
      Must not be null and should represent a valid map instance within the game world.
  - name: position
    description: The starting coordinate or position from which to search for the
      nearest navigable point. This is typically represented as an integer value that
      encodes x,y coordinates (e.g., using a packed format).
  - name: result
    description: Reference to an integer where the resulting nearest valid navigation
      position will be stored upon successful completion. The value will be updated
      only if the method returns true.
  - name: searchDist
    description: Maximum distance to search for a valid navigable point. This parameter
      controls how far the algorithm will look from the initial position before giving
      up. Should be a positive float value.
  returns: Returns true if a valid navigation position was found within the search
    distance, otherwise false. A return of false typically indicates that no suitable
    position could be located within the specified range.
  examples:
  - title: Basic usage to find nearest navigable position
    code: "Map* map = ...; // Get current map\nint startPosition = 123456; // Some\
      \ coordinate\nint nearestPosition;\nfloat searchDistance = 5.0f;\nif (navMeshInterface->GetNearestPosition(map,\
      \ startPosition, nearestPosition, searchDistance)) {\n    // Use nearestPosition\
      \ for movement or pathfinding\n    printf(\"Found valid position: %d\\n\", nearestPosition);\n\
      } else {\n    printf(\"No valid position found within search distance\\n\");\n\
      }"
    language: cpp
  notes: This method relies on the underlying NavMesh data structure and assumes that
    navigation data has been properly loaded for the given map. Performance may degrade
    if searchDist is set too high or if there are many obstacles in the area. The
    position parameter is expected to be in a format compatible with the internal
    navigation system, often using packed coordinate representations.
  warnings: Ensure that the 'map' parameter is valid and not null before calling this
    method; otherwise, it will likely cause a crash or undefined behavior. Be cautious
    when setting very large search distances as it may impact performance significantly.
    The result value should only be considered valid if the method returns true.
  related:
  - GetPath
  - IsInLineOfSight
  - FindNearestPoint
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T23:03:50.330445'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
