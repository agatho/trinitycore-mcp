api:
  class: BehaviorAdaptation
  method: CalculateReward
  signature: float BehaviorAdaptation::CalculateReward(BotAI * ai, const ActionContext
    & context, bool success) const
documentation:
  brief: Calculates and returns a reward value based on AI behavior adaptation for
    a given action context and success status.
  description: The CalculateReward method computes a floating-point reward value that
    reflects how beneficial or detrimental an action was for a bot's behavior adaptation.
    It takes into account the AI instance, the action context in which the action
    occurred, and whether the action was successful. This reward is used by the behavior
    adaptation system to adjust future decision-making patterns. The method is part
    of the BehaviorAdaptation class and is typically invoked during bot AI processing
    to evaluate actions and update internal reward models. It does not modify any
    external state but returns a value that can be used for learning or adjustment
    purposes.
  parameters:
  - name: ai
    description: Pointer to the BotAI instance that is evaluating the action. This
      represents the bot's current AI context and state.
  - name: context
    description: Reference to an ActionContext object containing details about the
      action being evaluated, such as target, action type, and environmental factors.
  - name: success
    description: Boolean flag indicating whether the action resulted in a successful
      outcome. True indicates success, false indicates failure.
  returns: A float value representing the calculated reward for the action. Positive
    values indicate beneficial outcomes, while negative values indicate detrimental
    outcomes. The magnitude of the reward reflects the strength of the feedback.
  examples:
  - title: Basic usage in behavior adaptation
    code: 'float reward = adaptation.CalculateReward(ai, context, true);

      // reward is used to update bot''s decision-making model'
    language: cpp
  - title: Using reward for reinforcement learning
    code: "BehaviorAdaptation adaptation;\nBotAI* ai = ...;\nActionContext context\
      \ = ...;\nfloat reward = adaptation.CalculateReward(ai, context, false);\nif\
      \ (reward < 0) {\n    // Penalize the action in the bot's behavior model\n}"
    language: cpp
  notes: This method is typically called within a reinforcement learning loop where
    rewards guide future actions. The reward calculation may involve complex heuristics
    or machine learning models depending on the implementation of BehaviorAdaptation.
    Ensure that the ActionContext is properly initialized before calling this method.
  warnings: Incorrectly setting the success flag can lead to incorrect behavior adaptation,
    potentially causing bots to learn suboptimal strategies. Be cautious when using
    this method in high-frequency loops as it may impact performance if reward calculations
    are computationally expensive.
  related:
  - BehaviorAdaptation::UpdateReward
  - BehaviorAdaptation::GetReward
  - BotAI::ExecuteAction
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T19:59:06.150926'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
