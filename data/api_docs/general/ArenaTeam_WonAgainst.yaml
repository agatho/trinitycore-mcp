api:
  class: ArenaTeam
  method: WonAgainst
  signature: int32 ArenaTeam::WonAgainst(uint32 Own_MMRating, uint32 Opponent_MMRating,
    int32 & rating_change)
documentation:
  brief: Updates arena team rating and calculates MMR change after a win against an
    opponent
  description: The WonAgainst method is used to process the outcome of an arena match
    where the team has won. It takes the team's current MMR rating and the opponent's
    MMR rating as inputs, then calculates the appropriate rating change based on the
    Elo rating system or similar mechanism. This method updates internal team statistics
    and adjusts the team's MMR accordingly. The method is typically called by the
    game engine when an arena match concludes with a victory for the team.
  parameters:
  - name: Own_MMRating
    description: The current MMR rating of the arena team that won the match
  - name: Opponent_MMRating
    description: The MMR rating of the opposing arena team
  - name: rating_change
    description: Reference to an integer that will be updated with the calculated
      rating change value (positive for gain, negative for loss)
  returns: Returns an integer representing the outcome of the calculation. Typically
    returns 0 on success or a positive error code if the operation fails.
  examples:
  - title: Basic Usage Example
    code: "uint32 myTeamRating = arenaTeam->GetRating();\nuint32 opponentRating =\
      \ 1800;\nint32 change;\nint32 result = arenaTeam->WonAgainst(myTeamRating, opponentRating,\
      \ change);\nif (result == 0) {\n    // Update team rating with change\n    arenaTeam->SetRating(arenaTeam->GetRating()\
      \ + change);\n}"
    language: cpp
  - title: Advanced Usage with Error Handling
    code: "uint32 myTeamRating = arenaTeam->GetRating();\nuint32 opponentRating =\
      \ 2100;\nint32 ratingChange;\n\nint32 result = arenaTeam->WonAgainst(myTeamRating,\
      \ opponentRating, ratingChange);\nif (result == 0) {\n    // Apply the rating\
      \ change to the team\n    uint32 newRating = arenaTeam->GetRating() + ratingChange;\n\
      \    arenaTeam->SetRating(newRating);\n    // Log or broadcast the rating update\n\
      } else {\n    // Handle error case\n    sLog->outError(\"Failed to process arena\
      \ win for team %u\", arenaTeam->GetId());\n}"
    language: cpp
  notes: This method is part of the arena team management system in TrinityCore. It
    assumes that all necessary preconditions for a match result have been met (e.g.,
    match was valid, both teams were registered). The rating change calculation likely
    follows an Elo-based algorithm with adjustments for MMR variance and team size.
    This method should only be called after verifying that the match outcome is legitimate.
  warnings: This method modifies internal team state directly. Ensure that all preconditions
    are met before calling to avoid inconsistent team data. The rating_change parameter
    is passed by reference and will be modified regardless of success or failure of
    the operation. Calling this method without proper validation may result in incorrect
    MMR values.
  related:
  - ArenaTeam::LostAgainst
  - ArenaTeam::GetRating
  - ArenaTeam::SetRating
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T21:43:39.306343'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
