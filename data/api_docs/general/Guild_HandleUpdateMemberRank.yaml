api:
  class: Guild
  method: HandleUpdateMemberRank
  signature: void Guild::HandleUpdateMemberRank(WorldSession * session, int guid,
    bool demote)
documentation:
  brief: Updates a guild member's rank, either promoting or demoting them based on
    the specified flag.
  description: The HandleUpdateMemberRank method is responsible for modifying a guild
    member's rank within the TrinityCore framework. It takes a WorldSession pointer,
    a GUID identifying the member, and a boolean flag indicating whether to promote
    (false) or demote (true) the member. This method typically handles the server-side
    logic for rank changes initiated by guild officers through in-game commands or
    UI interactions. The functionality ensures proper validation of permissions and
    updates internal guild data structures accordingly. It is part of the core guild
    management system that maintains hierarchical control within guilds.
  parameters:
  - name: session
    description: Pointer to the WorldSession object representing the player's active
      session who initiated the rank change request.
  - name: guid
    description: Integer value representing the unique identifier (GUID) of the guild
      member whose rank is being updated.
  - name: demote
    description: Boolean flag indicating whether to demote (true) or promote (false)
      the member. When true, the member's rank decreases; when false, it increases.
  returns: null
  examples:
  - title: Demote Guild Member
    code: 'Guild* guild = session->GetPlayer()->GetGuild();

      guild->HandleUpdateMemberRank(session, targetGuid, true);'
    language: cpp
  - title: Promote Guild Member
    code: 'Guild* guild = session->GetPlayer()->GetGuild();

      guild->HandleUpdateMemberRank(session, targetGuid, false);'
    language: cpp
  notes: This method likely performs permission checks to ensure that the calling
    player has sufficient rank privileges to modify another member's rank. It may
    also trigger updates to the guild's member list and send notifications to other
    guild members about the rank change.
  warnings: Improper use of this method without proper session validation or rank
    checks could lead to unauthorized rank modifications, potentially disrupting guild
    hierarchy and gameplay balance.
  related:
  - Guild::HandleMemberRankChange
  - Guild::UpdateMemberRank
  - Guild::GetMemberByGuid
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T11:38:50.978890'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
