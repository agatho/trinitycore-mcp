api:
  class: QuestObjectiveCriteriaMgr
  method: CanCompleteCriteriaTree
  signature: bool QuestObjectiveCriteriaMgr::CanCompleteCriteriaTree(const int * tree)
documentation:
  brief: Determines whether a quest criteria tree can be completed based on current
    player progress
  description: The CanCompleteCriteriaTree method evaluates whether all requirements
    within a specified quest criteria tree have been met by the player. This method
    is typically used during quest completion checks to verify that all objective
    criteria have been satisfied before allowing the quest to be turned in or marked
    as complete. The method processes the criteria tree structure and compares it
    against the player's current progress, returning true only if all conditions are
    fulfilled. It plays a crucial role in maintaining quest integrity and ensuring
    proper progression through the game's quest system.
  parameters:
  - name: tree
    description: Pointer to an array of integers representing the criteria tree structure.
      Each element typically corresponds to a specific criterion ID or flag that defines
      the requirements for completing the quest objective.
  returns: Returns true if all criteria in the specified tree have been completed
    by the player, false otherwise. A return value of true indicates that the quest
    objective can be considered complete and eligible for reward fulfillment.
  examples:
  - title: Basic usage to check quest completion
    code: "if (questObjectiveMgr->CanCompleteCriteriaTree(criteriaTree)) {\n    //\
      \ Quest can be completed\n    player->CompleteQuest(questId);\n} else {\n  \
      \  // Quest requirements not yet met\n    player->SendNotification(\"Quest requirements\
      \ not yet fulfilled.\");\n}"
    language: cpp
  - title: Integration with quest validation system
    code: "class QuestValidator {\npublic:\n    bool ValidateQuestCompletion(Player*\
      \ player, uint32 questId) {\n        if (auto criteriaTree = sObjectMgr->GetQuestCriteriaTree(questId))\
      \ {\n            return sQuestObjectiveMgr->CanCompleteCriteriaTree(criteriaTree);\n\
      \        }\n        return false;\n    }\n};"
    language: cpp
  notes: This method likely performs internal caching or state tracking to efficiently
    evaluate criteria trees. It may interact with player data structures such as quest
    log entries, objective progress counters, and criterion completion flags. The
    method assumes that the input tree pointer is valid and properly initialized.
  warnings: Ensure that the criteria tree parameter points to a valid memory location
    containing properly structured criteria data. Passing null or malformed criteria
    trees could lead to undefined behavior or crashes. This method should only be
    called when quest validation is required, as frequent calls may impact performance.
  related:
  - GetQuestCriteriaTree
  - CompleteQuest
  - UpdateQuestObjective
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T20:20:30.925368'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
