api:
  class: InteractionManager
  method: CompleteQuest
  signature: bool InteractionManager::CompleteQuest(Player * bot, int * questGiver,
    uint32 questId)
documentation:
  brief: Completes a specified quest for the player bot and updates quest giver state.
  description: The CompleteQuest method is responsible for finalizing a quest in the
    game world by marking it as completed for the specified player bot. It handles
    the necessary internal state changes, reward distribution, and updates the quest
    giver's interaction state to reflect that the quest has been finished. This method
    typically gets invoked when a player has fulfilled all quest requirements and
    is ready to turn in the quest. The method ensures proper quest progression and
    maintains consistency within the TrinityCore quest system.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that is completing
      the quest. Must be a valid player instance.
  - name: questGiver
    description: Pointer to an integer representing the quest giver's identifier or
      state. This parameter may be used to track or update the quest giver's status
      after completion.
  - name: questId
    description: Unique identifier of the quest to be completed. Must correspond to
      a valid quest in the game database.
  returns: Returns true if the quest was successfully completed and all associated
    actions were processed, false otherwise. A return value of false may indicate
    invalid input parameters, missing quest data, or failure during reward distribution.
  examples:
  - title: Basic Quest Completion
    code: "Player* bot = ...; // Get player instance\nint questGiver = 12345;\nuint32\
      \ questId = 98765;\nbool success = sInteractionManager->CompleteQuest(bot, &questGiver,\
      \ questId);\nif (success)\n{\n    // Quest completed successfully\n}"
    language: cpp
  - title: Quest Completion with Error Handling
    code: "Player* bot = ...;\nint questGiver = 0;\nuint32 questId = 1001;\nif (sInteractionManager->CompleteQuest(bot,\
      \ &questGiver, questId))\n{\n    // Handle successful completion\n    bot->SendAreaTriggerMessage(\"\
      Quest completed!\");\n}\nelse\n{\n    // Handle failure case\n    bot->SendAreaTriggerMessage(\"\
      Failed to complete quest.\");\n}"
    language: cpp
  notes: This method assumes that all preconditions for quest completion have already
    been validated, such as player having met quest requirements and possessing necessary
    items. The quest giver state update may involve database writes depending on the
    implementation. The method does not perform any validation of the quest giver's
    validity or availability.
  warnings: Ensure that the bot pointer is valid before calling this method to prevent
    crashes. Passing an invalid questId or null questGiver pointer can lead to undefined
    behavior or failed quest completion. This method should only be called when the
    player has actually completed the quest requirements, otherwise it may cause inconsistencies
    in quest tracking.
  related:
  - GetQuestStatus
  - StartQuest
  - RewardQuest
  - UpdateQuestGiver
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T02:32:14.241032'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
