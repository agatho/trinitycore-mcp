api:
  class: AssistanceMovementGenerator
  method: Finalize
  signature: void AssistanceMovementGenerator::Finalize(int * owner, bool active,
    bool movementInform)
documentation:
  brief: Completes the assistance movement behavior for a creature, handling cleanup
    and state transitions.
  description: The Finalize method in AssistanceMovementGenerator is responsible for
    cleaning up and concluding the movement behavior of a creature that was following
    an assisted target. This method ensures proper state management by notifying the
    owner (typically the creature's AI) about the completion of the assistance movement.
    It handles internal cleanup operations such as resetting movement flags, clearing
    references to the target, and potentially triggering further AI actions or transitions
    based on the movement outcome. The method is typically invoked when the creature
    has finished moving towards its assistance target or when the assistance movement
    needs to be interrupted.
  parameters:
  - name: owner
    description: Pointer to an integer representing the owner of this movement generator,
      likely used for identifying the creature or AI context that initiated the assistance
      movement.
  - name: active
    description: Boolean flag indicating whether the movement generator is currently
      active. This determines if cleanup operations should be performed or if the
      movement was already concluded.
  - name: movementInform
    description: Boolean flag that specifies whether to inform the owner about the
      completion of movement. When true, it signals that the movement has finished
      and appropriate actions should be taken by the AI.
  returns: null
  examples:
  - title: Basic usage in AI context
    code: "void MyCreatureAI::OnAssistanceMovementComplete()\n{\n    int owner = GetCreature()->GetGUID().GetRawValue();\n\
      \    bool isActive = true;\n    bool informOwner = true;\n    m_movementGenerator.Finalize(&owner,\
      \ isActive, informOwner);\n}"
    language: cpp
  - title: Handling movement interruption
    code: "void MyCreatureAI::InterruptAssistanceMovement()\n{\n    int owner = GetCreature()->GetGUID().GetRawValue();\n\
      \    bool isActive = false;\n    bool informOwner = false;\n    m_movementGenerator.Finalize(&owner,\
      \ isActive, informOwner);\n}"
    language: cpp
  notes: This method is part of the TrinityCore's movement generator system and should
    only be called from within the creature's AI context or movement handling logic.
    It assumes that the owner pointer points to a valid integer identifier for the
    creature or AI instance. The method does not perform any direct movement actions
    but rather manages the state transition after movement has occurred.
  warnings: Calling this method with incorrect parameters, especially an invalid owner
    pointer, can lead to undefined behavior or crashes. Ensure that the 'active' and
    'movementInform' flags accurately reflect the current state of the movement generator
    before calling Finalize.
  related:
  - AssistanceMovementGenerator::Initialize
  - AssistanceMovementGenerator::Update
  - AssistanceMovementGenerator::DoInitialize
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T09:14:26.997982'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
