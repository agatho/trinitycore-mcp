api:
  class: EnhancedBotAI
  method: UpdateAI
  signature: void EnhancedBotAI::UpdateAI(uint32 diff)
documentation:
  brief: Updates the AI behavior and state of the enhanced bot based on elapsed time.
  description: The UpdateAI method is responsible for driving the core artificial
    intelligence logic of an EnhancedBotAI instance. It processes the bot's current
    state, evaluates environmental conditions, and executes appropriate actions such
    as movement, targeting, or spell casting. This method is typically called by the
    game loop at regular intervals with a time delta parameter that represents milliseconds
    since the last update. The implementation handles various AI states including
    combat, looting, following, and idle behavior, ensuring the bot responds dynamically
    to its surroundings within the World of Warcraft environment.
  parameters:
  - name: diff
    description: The time elapsed in milliseconds since the last AI update call. This
      value is used to determine how much time has passed for timing-based AI decisions,
      such as cooldowns, movement speed adjustments, and behavior transitions.
  returns: null
  examples:
  - title: Basic UpdateAI Call
    code: "void BotManager::UpdateBots(uint32 diff)\n{\n    for (auto& bot : m_bots)\n\
      \    {\n        if (bot->IsInWorld())\n            bot->GetBotAI()->UpdateAI(diff);\n\
      \    }\n}"
    language: cpp
  - title: Integration with Game Loop
    code: "void World::Update(uint32 diff)\n{\n    // ... other world updates ...\n\
      \    \n    // Update all active bots\n    sEnhancedBotMgr->UpdateBots(diff);\n\
      \    \n    // ... rest of world update ...\n}"
    language: cpp
  notes: This method should be called regularly from the game's main update loop.
    The 'diff' parameter is crucial for time-based AI decisions and must accurately
    reflect the actual elapsed time to ensure proper behavior timing. The method may
    perform multiple internal state checks and updates, so performance considerations
    are important when dealing with many bots simultaneously.
  warnings: Do not call this method directly from outside the game loop without understanding
    its dependencies on other systems. Improper handling of the 'diff' parameter can
    cause erratic bot behavior or timing issues. Avoid calling UpdateAI in a tight
    loop as it may lead to excessive CPU usage.
  related:
  - EnhancedBotAI::Initialize
  - EnhancedBotAI::Reset
  - EnhancedBotAI::GetAIState
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T08:07:03.586279'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
