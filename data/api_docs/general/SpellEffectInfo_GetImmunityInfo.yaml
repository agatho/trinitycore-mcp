api:
  class: SpellEffectInfo
  method: GetImmunityInfo
  signature: const ImmunityInfo * SpellEffectInfo::GetImmunityInfo() const
documentation:
  brief: Retrieves the immunity information associated with this spell effect.
  description: The GetImmunityInfo method returns a pointer to an ImmunityInfo structure
    that contains data about which types of effects or conditions this spell effect
    can immunize against. This is used internally by the TrinityCore spell system
    to determine how spells interact with various immunity mechanics such as magic
    resistance, dispel effects, or damage type immunities. The returned pointer may
    be null if no immunity information is defined for this specific spell effect.
    This method does not modify any internal state and is safe for read-only access
    during spell processing.
  parameters: []
  returns: A constant pointer to an ImmunityInfo structure containing the immunity
    data for this spell effect, or nullptr if no immunity information exists for this
    effect.
  examples:
  - title: Basic Usage to Check Immunity Info
    code: "SpellEffectInfo const* effect = spell->GetEffect(0);\nif (effect)\n{\n\
      \    const ImmunityInfo* immunityInfo = effect->GetImmunityInfo();\n    if (immunityInfo)\n\
      \    {\n        // Process immunity information\n        sLog->outString(\"\
      Spell effect has immunity info for type: %u\", immunityInfo->Type);\n    }\n\
      \    else\n    {\n        sLog->outString(\"No immunity info found for this\
      \ spell effect.\");\n    }\n}"
    language: cpp
  notes: This method is typically used during spell initialization and application
    phases. The returned ImmunityInfo structure should not be modified directly as
    it's managed by the core spell system. Accessing this information after spell
    destruction may result in undefined behavior.
  warnings: Do not assume that a non-null return value means immunity is active or
    effective; the actual immunity logic depends on other factors like target state
    and spell context. Also, always check for null returns before dereferencing the
    pointer to avoid crashes.
  related:
  - SpellEffectInfo::GetEffect
  - SpellInfo::GetEffect
  - SpellInfo::GetSpellEffect
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T18:11:02.254679'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
