api:
  class: PriestAI
  method: CalculateDamageDealt
  signature: int PriestAI::CalculateDamageDealt(int * target) const
documentation:
  brief: Calculates and returns the total damage dealt by a priest AI instance to
    a specified target.
  description: The CalculateDamageDealt method computes the amount of damage that
    a Priest AI character will deal to a given target. This calculation typically
    takes into account various factors such as the priest's spell power, damage modifiers,
    critical strike chances, and any applicable buffs or debuffs. The method is designed
    to be used within the context of TrinityCore's AI system for NPCs, specifically
    those classified as priests. It returns an integer value representing the calculated
    damage amount. This function may be invoked during combat logic when determining
    the outcome of an attack or spell cast by the AI-controlled priest.
  parameters:
  - name: target
    description: A pointer to the target object against which damage is being calculated.
      The target must be a valid unit (Creature or Player) within the game world for
      the calculation to proceed correctly.
  returns: An integer value representing the total calculated damage dealt to the
    specified target. A return value of zero may indicate that no damage was dealt
    due to miss, immunity, or other game mechanics.
  examples:
  - title: Basic Usage in Combat
    code: "void OnCombatStart(Unit* target)\n{\n    int damage = this->CalculateDamageDealt(&target);\n\
      \    if (damage > 0)\n    {\n        target->DealDamage(this, damage, NULL,\
      \ DIRECT_DAMAGE, SPELL_SCHOOL_MASK_NORMAL, NULL, false);\n    }\n}"
    language: cpp
  - title: Using with Critical Strike Handling
    code: "int PriestAI::CalculateDamageDealt(int* target)\n{\n    int baseDamage\
      \ = 100;\n    float critChance = 0.15f;\n    if (rand() % 100 < critChance *\
      \ 100)\n        baseDamage *= 2; // Double damage on critical hit\n    return\
      \ baseDamage;\n}"
    language: cpp
  notes: The method assumes that the target is a valid unit and may not handle null
    or invalid targets gracefully. It should only be called when the AI is in an active
    combat state with a valid target. Performance-wise, this function should execute
    quickly as it's part of real-time combat calculations.
  warnings: Ensure that the target pointer passed to this method points to a valid
    unit object; otherwise, dereferencing it could lead to undefined behavior or crashes.
    Avoid calling this method outside of combat scenarios where damage calculation
    is expected.
  related:
  - GetSpellPower
  - CalculateDamageTaken
  - IsInCombat
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T22:03:29.295650'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
