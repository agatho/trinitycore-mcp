api:
  class: PlayerbotGroupScript
  method: OnChangeLeader
  signature: void PlayerbotGroupScript::OnChangeLeader(Group * group, int newLeaderGuid,
    int oldLeaderGuid)
documentation:
  brief: Notifies when a group leader is changed in a player bot group
  description: This method is invoked whenever the leadership of a player bot group
    is transferred from one member to another. It serves as a callback mechanism for
    scripts to react to leadership changes within bot groups. The method provides
    information about both the old and new leaders, allowing scripts to update their
    internal state or perform actions based on the change in group leadership. This
    is particularly useful for maintaining proper bot behavior and coordination when
    group dynamics shift.
  parameters:
  - name: group
    description: Pointer to the Group object whose leader has changed. This represents
      the group context where the leadership transition occurred.
  - name: newLeaderGuid
    description: Global Unique Identifier (GUID) of the player who is now the group
      leader. This value identifies the new leader within the game world.
  - name: oldLeaderGuid
    description: Global Unique Identifier (GUID) of the player who was previously
      the group leader. This value identifies the former leader within the game world.
  returns: null
  examples:
  - title: Basic implementation example
    code: "void MyPlayerbotScript::OnChangeLeader(Group* group, int newLeaderGuid,\
      \ int oldLeaderGuid)\n{\n    // Log the leadership change\n    sLog->outString(\"\
      Group leader changed from %d to %d\", oldLeaderGuid, newLeaderGuid);\n    \n\
      \    // Perform actions based on new leader\n    if (newLeaderGuid == GetPlayer()->GetGUID())\n\
      \    {\n        // We are now the leader\n        sLog->outString(\"I am now\
      \ the group leader\");\n    }\n}"
    language: cpp
  notes: This method is typically called from within the TrinityCore framework during
    group leadership transitions. It's important to note that this callback may be
    invoked multiple times during a single session, especially if there are rapid
    succession of leadership changes. The GUID values provided are consistent with
    the World of Warcraft GUID system where each player has a unique identifier.
  warnings: Be cautious when modifying group state within this callback as it might
    cause recursive calls or unexpected behavior. Avoid performing operations that
    could alter the group structure during the execution of this method, as it may
    lead to undefined behavior or crashes.
  related:
  - OnGroupJoin
  - OnGroupLeave
  - OnGroupDisband
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T00:53:04.352242'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
