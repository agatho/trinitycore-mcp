api:
  class: InstanceMap
  method: Reset
  signature: InstanceResetResult InstanceMap::Reset(InstanceResetMethod method)
documentation:
  brief: Resets the instance map to its initial state based on the specified reset
    method.
  description: The InstanceMap::Reset method clears all active encounters, resets
    player positions, and reinitializes the instance's game objects and creatures
    to their default states. This method is typically invoked when players leave an
    instance or when a reset is required due to time limits or player disconnections.
    The behavior of the reset depends on the provided InstanceResetMethod parameter
    which determines whether the reset is immediate, scheduled, or based on specific
    conditions such as player activity. The method ensures that all game state within
    the instance is properly cleaned up and restored to allow for new gameplay sessions.
  parameters: []
  returns: Returns an InstanceResetResult enum value indicating the outcome of the
    reset operation. Possible values include SUCCESS, FAILED, IN_PROGRESS, or NOT_READY
    depending on whether the reset was completed successfully, encountered an error,
    is currently processing, or cannot be performed at this time.
  examples:
  - title: Basic instance reset
    code: "InstanceResetResult result = instanceMap->Reset(InstanceResetMethod::IMMEDIATE);\n\
      if (result == InstanceResetResult::SUCCESS)\n{\n    // Reset completed successfully\n\
      \    sLog->outString(\"Instance reset successful\");\n}"
    language: cpp
  - title: Conditional reset with error handling
    code: "InstanceResetResult result = instanceMap->Reset(InstanceResetMethod::TIME_LIMIT);\n\
      switch (result)\n{\n    case InstanceResetResult::SUCCESS:\n        sLog->outString(\"\
      Instance reset completed\");\n        break;\n    case InstanceResetResult::FAILED:\n\
      \        sLog->outError(\"Failed to reset instance\");\n        break;\n   \
      \ default:\n        sLog->outString(\"Reset operation in progress or not ready\"\
      );\n        break;\n}"
    language: cpp
  notes: This method should only be called when the instance is in a valid state for
    reset operations. It's important to ensure that no players are actively engaged
    in combat or quests during the reset process to avoid unexpected behavior. The
    method may trigger internal cleanup routines that could affect performance if
    called frequently.
  warnings: Calling this method while players are still inside the instance can result
    in undefined behavior and potential client-side issues. Always verify that all
    players have left the instance before invoking Reset(). Additionally, calling
    Reset() during active combat or quest progression may cause data inconsistencies.
  related:
  - InstanceMap::Reset
  - InstanceMap::SaveToDB
  - InstanceMap::Unload
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T11:29:22.612674'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
