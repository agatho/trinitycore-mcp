api:
  class: WorldSession
  method: GetBattlenetAccountGUID
  signature: int WorldSession::GetBattlenetAccountGUID() const
documentation:
  brief: Returns the Battle.net account GUID associated with the current WorldSession.
  description: The GetBattlenetAccountGUID method retrieves the unique identifier
    (GUID) of the Battle.net account that is currently logged in through this session.
    This GUID is used internally by TrinityCore to track and manage account-level
    data, such as character ownership, account settings, and billing information.
    The method does not perform any validation or authentication checks; it simply
    returns the stored GUID value from the session object. It's important to note
    that for legacy accounts or accounts without a Battle.net linkage, this value
    may be zero or undefined.
  parameters: []
  returns: An integer representing the Battle.net account GUID. A value of 0 typically
    indicates an invalid or unlinked account, while any positive integer represents
    a valid Battle.net account identifier.
  examples:
  - title: Basic Usage
    code: "int battlenetGuid = session->GetBattlenetAccountGUID();\nif (battlenetGuid\
      \ > 0)\n{\n    // Account is linked to a valid Battle.net account\n    std::cout\
      \ << \"Battle.net GUID: \" << battlenetGuid << std::endl;\n}\nelse\n{\n    //\
      \ Account is not linked or invalid\n    std::cout << \"No Battle.net account\
      \ linked.\" << std::endl;\n}"
    language: cpp
  - title: Account Verification
    code: "void HandleAccountVerification(WorldSession* session)\n{\n    int guid\
      \ = session->GetBattlenetAccountGUID();\n    if (guid <= 0)\n    {\n       \
      \ // Send error message to player\n        session->SendNotification(\"Your\
      \ account is not linked to Battle.net.\");\n        return;\n    }\n    \n \
      \   // Proceed with Battle.net-specific logic\n    // e.g., check account permissions\
      \ or fetch additional data\n}"
    language: cpp
  notes: This method assumes that the session has already been authenticated and that
    the Battle.net GUID is properly set during login. It's commonly used in conjunction
    with other account-related methods to ensure proper user identification and access
    control within the TrinityCore framework.
  warnings: Be cautious when using this value for critical operations without verifying
    its validity, as a return value of zero may indicate an unlinked or invalid account
    state. Also note that this method does not perform any database lookups; it only
    returns the cached GUID from the session object.
  related:
  - GetPlayer
  - GetAccountId
  - IsBattlenetAccount
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T20:01:50.697964'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
