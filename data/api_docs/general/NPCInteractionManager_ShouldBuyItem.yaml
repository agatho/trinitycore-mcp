api:
  class: NPCInteractionManager
  method: ShouldBuyItem
  signature: bool NPCInteractionManager::ShouldBuyItem(const ItemTemplate * itemTemplate)
    const
documentation:
  brief: Determines whether an NPC should purchase a specific item from a player.
  description: The ShouldBuyItem method evaluates whether a non-player character (NPC)
    vendor will accept and buy a particular item from a player. This decision is based
    on various factors including the item's quality, type, vendor's buying criteria,
    and game rules such as item sellability. The method is typically called during
    NPC interaction when a player attempts to sell items to a vendor. It ensures that
    only appropriate items are accepted for purchase by vendors, maintaining game
    balance and preventing exploits.
  parameters: []
  returns: Returns true if the NPC vendor should buy the item; otherwise returns false.
    This indicates whether the vendor's buying logic permits acquisition of the specified
    item from the player.
  examples:
  - title: Basic Usage in Vendor Interaction
    code: "if (npcInteractionManager->ShouldBuyItem(itemTemplate)) {\n    // Proceed\
      \ with vendor buying logic\n    player->ModifyMoney(-itemValue);\n    npc->AddItemToVendor(itemTemplate);\n\
      } else {\n    // Item not accepted by vendor\n    player->SendNotification(\"\
      This item is not accepted by the vendor.\");\n}"
    language: cpp
  notes: The method likely checks against internal vendor data structures and may
    consider item flags, vendor categories, and global game settings. It's important
    to note that this check happens before any monetary or inventory transactions
    occur.
  warnings: null
  related:
  - CanSellItem
  - IsVendorItemValid
  - GetVendorItemCost
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T23:20:42.827077'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
