api:
  class: LootAnalysis
  method: CompareArmorItems
  signature: float LootAnalysis::CompareArmorItems(Player * player, const LootItem
    & newItem, const Item * currentItem)
documentation:
  brief: Compares two armor items to determine relative value for loot distribution
    decisions.
  description: The CompareArmorItems method evaluates and assigns a numerical value
    to a new armor item compared to an existing one currently equipped or in inventory
    by the player. This comparison takes into account various factors such as item
    level, stats, quality, and potential bonuses to determine which item is more beneficial
    for the player's current needs. The method is typically used during loot analysis
    or auto-loot scenarios within TrinityCore's loot system to make informed decisions
    about item distribution among group members. It returns a float value that represents
    the relative worth of the new item compared to the current one, where higher values
    indicate better value.
  parameters:
  - name: player
    description: Pointer to the Player object whose inventory and equipped items are
      being analyzed for comparison.
  - name: newItem
    description: Reference to a LootItem structure representing the new item being
      evaluated for potential replacement of currentItem.
  - name: currentItem
    description: Pointer to an Item object that represents the existing armor item
      currently in the player's possession or equipped.
  returns: A float value indicating the relative comparison score between the new
    and current armor items. Higher values suggest the new item is more valuable than
    the current one, while lower or negative values indicate the opposite. The exact
    scale and interpretation depend on internal scoring logic within the loot analysis
    system.
  examples:
  - title: Basic Usage in Loot Analysis
    code: "float score = lootAnalysis.CompareArmorItems(player, newLootItem, player->GetItemByPos(INVENTORY_SLOT_BAG_0,\
      \ EQUIPMENT_SLOT_CHEST));\nif (score > 0.0f) {\n    // New item is better; consider\
      \ equipping it\n}"
    language: cpp
  - title: Loot Distribution Decision Making
    code: "float currentScore = lootAnalysis.CompareArmorItems(player, newLootItem,\
      \ player->GetEquippedItem(EQUIPMENT_SLOT_CHEST));\nif (currentScore > 0.5f)\
      \ {\n    // Item is significantly better; prioritize for self\n} else if (currentScore\
      \ < -0.3f) {\n    // Item is worse; skip or pass to another player\n}"
    language: cpp
  notes: This method likely uses internal item evaluation algorithms that consider
    multiple factors including item level, stat weights, enchantments, gemming, and
    player class-specific preferences. The comparison logic may vary depending on
    whether the items are being compared for equipping or for general loot distribution
    purposes.
  warnings: Ensure that both newItem and currentItem are valid objects before calling
    this method to avoid undefined behavior. The method assumes proper initialization
    of LootItem and Item structures; invalid data can lead to incorrect scoring results.
  related:
  - GetLootItemValue
  - EvaluateItemStats
  - CompareWeaponItems
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T01:25:56.755927'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
