api:
  class: CooldownCalculator
  method: CalculateGCD
  signature: uint32 CooldownCalculator::CalculateGCD(uint32 spellId, int * caster)
documentation:
  brief: Calculates the Global Cooldown duration for a specified spell cast by a given
    caster.
  description: The CalculateGCD method determines the Global Cooldown (GCD) duration
    that applies to a specific spell being cast by a player or creature. The GCD represents
    the minimum time interval between spell casts, ensuring balanced gameplay and
    preventing spamming of abilities. This calculation considers the caster's attributes,
    such as haste modifiers, and the spell's inherent properties. The method returns
    the GCD value in milliseconds, which can be used to enforce cooldowns and timing
    restrictions during spell casting.
  parameters:
  - name: spellId
    description: The unique identifier of the spell for which the Global Cooldown
      is being calculated.
  - name: caster
    description: Pointer to the caster object (player or creature) that is casting
      the spell. This parameter influences the GCD calculation through haste modifiers
      and other caster-specific properties.
  returns: Returns the Global Cooldown duration in milliseconds for the specified
    spell cast by the given caster. A value of 0 may indicate an error or a spell
    with no GCD.
  examples:
  - title: Basic GCD Calculation
    code: "uint32 gcd = cooldownCalculator.CalculateGCD(12345, &player); // Calculate\
      \ GCD for Fireball spell cast by player\nif (gcd > 0)\n{\n    // Apply the calculated\
      \ GCD to prevent immediate spell casting\n    player.SetGlobalCooldown(gcd);\n\
      }"
    language: cpp
  - title: GCD Calculation with Creature Caster
    code: "Unit* creature = ...; // Get a creature instance\nuint32 gcd = cooldownCalculator.CalculateGCD(67890,\
      \ &creature);\n// Use the GCD to manage AI behavior or spell timing for NPCs\n\
      if (gcd > 0)\n{\n    creature->SetGlobalCooldown(gcd);\n}"
    language: cpp
  notes: The method relies on internal TrinityCore systems such as spell data tables,
    haste calculations, and caster state tracking. It is important to ensure that
    the caster object passed in is valid and properly initialized before calling this
    method. The GCD calculation may vary based on the type of caster (player vs. NPC)
    and their current stats.
  warnings: Passing an invalid or null pointer for the caster parameter can lead to
    undefined behavior or crashes. Always validate the spellId against known spell
    entries to avoid unexpected results. Be aware that some spells might have special
    GCD handling or override default calculations based on game mechanics.
  related:
  - GetSpellCooldown
  - SetGlobalCooldown
  - IsGlobalCooldownReady
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T16:45:22.939301'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
