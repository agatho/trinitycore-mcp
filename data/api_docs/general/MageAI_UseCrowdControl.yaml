api:
  class: MageAI
  method: UseCrowdControl
  signature: void MageAI::UseCrowdControl(::Unit * target)
documentation:
  brief: Attempts to apply a crowd control effect on the specified target unit.
  description: The UseCrowdControl method is responsible for applying a crowd control
    ability from the MageAI's repertoire to a given target unit. This method typically
    selects an appropriate crowd control spell or ability based on the current game
    state, target conditions, and AI decision-making logic. It evaluates whether the
    target is valid for crowd control application, checks cooldowns and resource requirements,
    and executes the chosen ability if all preconditions are met. The method operates
    within the context of a Mage's AI behavior system, ensuring that crowd control
    is used strategically during combat encounters.
  parameters:
  - name: target
    description: A pointer to the Unit object that will be subjected to the crowd
      control effect. This parameter must not be null and should represent a valid
      target within the AI's current engagement range.
  returns: null
  examples:
  - title: Basic Usage in Combat
    code: "void MageAI::UpdateAI(uint32 diff)\n{\n    if (Unit* target = SelectTarget(SELECT_TARGET_TOPAGGRO))\n\
      \    {\n        UseCrowdControl(target);\n    }\n}"
    language: cpp
  - title: Conditional Crowd Control Application
    code: "void MageAI::UseCrowdControl(Unit* target)\n{\n    if (!target || !target->IsAlive())\n\
      \        return;\n\n    // Check if target is already under crowd control\n\
      \    if (target->HasAuraType(SPELL_AURA_MOD_FEAR) || target->HasAuraType(SPELL_AURA_MOD_STUN))\n\
      \        return;\n\n    // Apply crowd control\n    DoCast(target, SPELL_FROST_NOVA);\n\
      }"
    language: cpp
  notes: This method is typically invoked during AI update cycles and may involve
    spell casting mechanics that consume mana or have cooldown restrictions. The implementation
    should consider target eligibility, line of sight, and spell range requirements
    before attempting to apply crowd control effects.
  warnings: Ensure the target parameter is validated before calling this method to
    prevent null pointer exceptions. Be aware that repeated calls to this method without
    proper cooldown management may result in resource exhaustion or invalid spell
    casting behavior.
  related:
  - SelectTarget
  - DoCast
  - HasAuraType
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T00:38:53.175625'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
