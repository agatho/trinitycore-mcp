api:
  class: PlayerMenu
  method: GetGossipOptionAction
  signature: uint32 PlayerMenu::GetGossipOptionAction(uint32 selection) const
documentation:
  brief: Retrieves the action identifier associated with a selected gossip option.
  description: The GetGossipOptionAction method retrieves the action identifier (uint32)
    that corresponds to a specific gossip option selected by the player. This identifier
    is typically used to determine what action should be executed when a player interacts
    with a particular gossip menu entry, such as initiating a quest, opening a vendor
    window, or triggering a custom script. The method operates on the current gossip
    menu state and returns the action code associated with the given selection index.
    It's commonly used in conjunction with Player::OnGossipSelect() to process player
    choices within NPC dialog systems.
  parameters: []
  returns: Returns a uint32 value representing the action identifier for the selected
    gossip option. This value typically corresponds to predefined action types such
    as quest start, vendor interaction, or custom script execution codes.
  examples:
  - title: Basic usage in gossip handler
    code: "void NPC::OnGossipSelect(Player* player, uint32 menuId, uint32 selection)\n\
      {\n    uint32 action = player->PlayerMenu->GetGossipOptionAction(selection);\n\
      \    switch (action)\n    {\n        case GOSSIP_ACTION_INFO_DEF:\n        \
      \    // Handle info definition\n            break;\n        case GOSSIP_ACTION_TRADE:\n\
      \            // Open vendor window\n            break;\n        default:\n \
      \           break;\n    }\n}"
    language: cpp
  notes: This method assumes that the player's gossip menu has been properly initialized
    and that the selection index is valid. The method should only be called after
    a valid gossip menu has been presented to the player, typically within the context
    of an OnGossipHello or OnGossipSelect handler.
  warnings: Ensure that the selection parameter is within valid bounds to avoid accessing
    invalid memory locations. This method may return unexpected values if called outside
    of a proper gossip interaction context.
  related:
  - PlayerMenu::GetGossipOptionIcon
  - PlayerMenu::GetGossipOptionNpcFlag
  - PlayerMenu::GetGossipOptionText
  - Player::OnGossipSelect
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T21:43:08.254863'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
