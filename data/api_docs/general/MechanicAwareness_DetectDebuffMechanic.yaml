api:
  class: MechanicAwareness
  method: DetectDebuffMechanic
  signature: MechanicInfo MechanicAwareness::DetectDebuffMechanic(Player * bot)
documentation:
  brief: Detects and returns the mechanic type of the most significant debuff affecting
    the player.
  description: The DetectDebuffMechanic method analyzes the current debuffs applied
    to a player character and identifies the primary mechanic type that is most impactful
    or relevant. This function is typically used in AI decision-making processes where
    understanding the nature of incoming debuffs can influence strategic actions such
    as spell selection, movement patterns, or defensive behavior. The method evaluates
    all active debuffs on the target player and returns a MechanicInfo structure that
    encapsulates details about the detected mechanic type, including its identifier
    and associated properties. It assumes that the bot player is already initialized
    and has access to valid target information.
  parameters: []
  returns: A MechanicInfo object containing detailed information about the most significant
    debuff mechanic affecting the player. The structure includes identifiers and flags
    related to the mechanic type, such as whether it's a stun, root, silence, or other
    disruptive effect.
  examples:
  - title: Basic Usage in AI Logic
    code: "MechanicInfo debuff = bot->GetMechanicAwareness()->DetectDebuffMechanic(bot);\n\
      if (debuff.GetMechanicType() != MECHANIC_NONE)\n{\n    // Handle the detected\
      \ debuff mechanic\n    switch (debuff.GetMechanicType())\n    {\n        case\
      \ MECHANIC_STUN:\n            // Perform evasion or interrupt logic\n      \
      \      break;\n        case MECHANIC_ROOT:\n            // Choose movement strategy\n\
      \            break;\n        default:\n            break;\n    }\n}"
    language: cpp
  notes: This method relies on the internal debuff tracking system of the TrinityCore
    engine. It may not return accurate results if the player's debuff state is not
    properly updated or if no debuffs are present. Performance-wise, this function
    should be used judiciously in high-frequency AI loops to avoid unnecessary overhead.
  warnings: Ensure that the Player pointer passed to the method is valid and not null
    before calling this function. Calling DetectDebuffMechanic on an uninitialized
    or invalid player object may result in undefined behavior or crashes.
  related:
  - GetMechanicInfo
  - IsDebuffActive
  - HasMechanic
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T00:12:39.423827'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
