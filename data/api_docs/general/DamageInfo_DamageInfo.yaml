api:
  class: DamageInfo
  method: DamageInfo
  signature: void DamageInfo::DamageInfo(const SpellNonMeleeDamage & spellNonMeleeDamage,
    DamageEffectType damageType, int attackType, ProcFlagsHit hitMask)
documentation:
  brief: Initializes a DamageInfo object with data from a SpellNonMeleeDamage structure
    and damage-related parameters.
  description: The DamageInfo constructor initializes internal state using data from
    a SpellNonMeleeDamage object, which contains information about spell-based damage
    that is not melee-related. This includes details such as the target, damage amount,
    school type, and other relevant combat data. The method also sets the damage effect
    type, attack type, and hit mask to properly categorize and process the damage
    event within TrinityCore's combat system. This initialization is typically used
    when processing spell damage that occurs outside of normal melee attacks, such
    as from spells like Fireball or Shadow Bolt.
  parameters:
  - name: spellNonMeleeDamage
    description: A reference to a SpellNonMeleeDamage structure containing the core
      damage data including target, damage amount, school type, and other spell-related
      combat information.
  - name: damageType
    description: The type of damage effect being processed, typically indicating whether
      this is direct damage, periodic damage, or another form of damage application.
  - name: attackType
    description: The attack type associated with the damage, such as normal attacks,
      off-hand attacks, or special attack types that affect combat mechanics and proc
      chances.
  - name: hitMask
    description: A bitmask representing the hit outcome and related flags (e.g., critical
      hit, glancing blow) that determine how the damage is processed and applied.
  returns: null
  examples:
  - title: Basic DamageInfo Initialization
    code: 'SpellNonMeleeDamage spellDamage;

      // ... populate spellDamage with relevant data ...

      DamageInfo damageInfo(spellDamage, DIRECT_DAMAGE, BASE_ATTACK, PROC_HIT);

      '
    language: cpp
  - title: Initializing DamageInfo for a Critical Spell Hit
    code: 'SpellNonMeleeDamage spellDamage;

      // ... populate spellDamage with relevant data ...

      DamageInfo damageInfo(spellDamage, DIRECT_DAMAGE, BASE_ATTACK, PROC_CRIT);

      '
    language: cpp
  notes: This constructor is part of the combat system's internal handling of non-melee
    spell damage. It should only be called when creating a new DamageInfo object for
    processing spell-based damage events. The method does not perform any validation
    on input parameters, so callers must ensure that all values are valid before calling.
  warnings: Incorrectly setting attackType or hitMask can lead to improper combat
    behavior such as wrong proc chances or incorrect damage calculations. Ensure that
    the SpellNonMeleeDamage object passed in is properly initialized with valid target
    and damage data.
  related:
  - GetDamage
  - GetSchoolMask
  - GetHitMask
  - GetAttackType
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T17:37:51.737583'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
