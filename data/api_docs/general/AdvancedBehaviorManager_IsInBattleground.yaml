api:
  class: AdvancedBehaviorManager
  method: IsInBattleground
  signature: bool AdvancedBehaviorManager::IsInBattleground() const
documentation:
  brief: Determines whether the player is currently inside a battleground area.
  description: The IsInBattleground method checks if the player character associated
    with this behavior manager is currently located within a battleground zone. This
    method is commonly used in AI scripts and behavior logic to conditionally execute
    actions based on the player's current game environment. The check considers both
    the player's map ID and the active game context to accurately determine battleground
    status, including instances like Alterac Valley, Eye of the Storm, or Warsong
    Gulch. This functionality is essential for implementing battle-specific behaviors,
    quest tracking, and zone-based event handling in custom AI systems.
  parameters: []
  returns: Returns true if the player is currently inside a battleground area; otherwise
    returns false. The method will return false when the player is in a regular zone,
    dungeon, raid instance, or any non-battleground location.
  examples:
  - title: Basic Usage in AI Script
    code: "if (behaviorManager->IsInBattleground()) {\n    // Execute battleground-specific\
      \ behavior\n    player->CastSpell(target, SPELL_BATTLE_SHOUT, true);\n} else\
      \ {\n    // Execute normal behavior\n    player->CastSpell(target, SPELL_POWER_WORD_SHIELD,\
      \ true);\n}"
    language: cpp
  - title: Conditional Behavior Based on Battleground Status
    code: "if (behaviorManager->IsInBattleground()) {\n    // Only allow certain abilities\
      \ in battlegrounds\n    if (player->GetHealthPct() < 30) {\n        player->CastSpell(player,\
      \ SPELL_HEALING_POTION, true);\n    }\n} else {\n    // In normal zones, use\
      \ different strategies\n    player->SetReactState(REACT_AGGRESSIVE);\n}"
    language: cpp
  notes: This method relies on the internal battleground state tracking system of
    TrinityCore. It may not immediately reflect changes if the player is transitioning
    between zones or instances. The method should be called frequently enough to ensure
    accurate real-time behavior updates, especially in dynamic AI systems. Performance
    impact is minimal as it only checks current zone context and game state flags.
  warnings: Do not use this method as a sole indicator for critical gameplay mechanics
    that require precise timing. The battleground status may change rapidly during
    transitions, so consider caching the result or using additional checks for time-sensitive
    behaviors. Also note that this method does not distinguish between different types
    of battlegrounds, only whether the player is in any battleground zone.
  related:
  - IsInArena
  - IsInInstance
  - GetZoneId
  - GetMapId
metadata:
  confidence: 0.95
  generated_at: '2025-11-07T16:13:11.437663'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
