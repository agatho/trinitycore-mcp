api:
  class: BalanceEclipseTracker
  method: Update
  signature: void BalanceEclipseTracker::Update(Player * bot)
documentation:
  brief: Updates the Eclipse balance state for the specified player character.
  description: The Update method in BalanceEclipseTracker is responsible for recalculating
    and synchronizing the Eclipse balance status for a given player. This typically
    occurs during gameplay events such as spell casting, damage application, or periodic
    updates to maintain accurate eclipse state tracking. The method processes the
    player's current eclipse conditions, adjusts their balance accordingly, and ensures
    that any visual or functional effects related to eclipse are properly reflected
    in the game state.
  parameters:
  - name: bot
    description: Pointer to the Player object whose Eclipse balance state will be
      updated. Must not be null.
  returns: null
  examples:
  - title: Basic Update Call
    code: 'Player* player = ...; // Obtain player reference

      BalanceEclipseTracker tracker;

      tracker.Update(player);'
    language: cpp
  - title: Update During Spell Execution
    code: "void OnSpellCast(Spell* spell)\n{\n    if (spell->GetSpellInfo()->HasAttribute(SPELL_ATTR0_CASTABLE_WHILE_MOVING))\n\
      \    {\n        BalanceEclipseTracker tracker;\n        tracker.Update(m_caster);\n\
      \    }\n}"
    language: cpp
  notes: This method is typically invoked by the game's core systems during regular
    update cycles or in response to specific player actions that affect eclipse mechanics.
    It may perform internal calculations based on player's current spell school, damage
    dealt, or other eclipse-related factors.
  warnings: Ensure that the Player pointer passed to this method is valid and not
    destroyed before the update completes. Passing a null pointer will likely result
    in undefined behavior or crashes.
  related:
  - GetEclipseState
  - SetEclipseState
  - ResetEclipse
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T08:48:56.258505'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
