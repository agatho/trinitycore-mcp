api:
  class: PriestAI
  method: HandleCooldownPriority
  signature: bool PriestAI::HandleCooldownPriority(int * target)
documentation:
  brief: Determines if a priest should prioritize using a cooldown ability on a target
    based on current combat state and spell availability.
  description: 'The HandleCooldownPriority method evaluates whether the PriestAI should
    use a cooldown ability immediately on a specified target. This method is typically
    called during the AI''s decision-making process to determine optimal timing for
    high-impact spells such as Power Word: Shield, Divine Hymn, or other cooldowns
    that provide significant utility or damage in combat. It considers factors like
    target health, available mana, current spell queue, and cooldown status of key
    abilities. The method returns true if the cooldown should be used immediately
    on the target; otherwise, it returns false to indicate that the AI should defer
    using the cooldown.'
  parameters:
  - name: target
    description: Pointer to an integer representing the target ID or index for which
      the cooldown priority is being evaluated. This value is typically a valid GameObject
      or Unit pointer cast to an integer, used internally by TrinityCore's AI system.
  returns: Returns true if the priest should immediately use a cooldown ability on
    the specified target; otherwise returns false if no immediate cooldown usage is
    recommended.
  examples:
  - title: Basic Usage in PriestAI Context
    code: "if (priestAI->HandleCooldownPriority(&targetId)) {\n    // Use cooldown\
      \ ability immediately\n    DoCooldownSpell(targetId);\n} else {\n    // Continue\
      \ normal AI behavior\n    DoNormalSpell(targetId);\n}"
    language: cpp
  - title: Integration with Combat Decision Logic
    code: "void PriestAI::UpdateAI(uint32 diff) {\n    if (!UpdateVictim())\n    \
      \    return;\n    \n    int target = GetVictim()->GetGUID().GetRawValue();\n\
      \    \n    if (HandleCooldownPriority(&target)) {\n        // Prioritize cooldown\
      \ usage\n        UseCooldownAbility(target);\n    } else {\n        // Proceed\
      \ with standard spell casting\n        CastSpellOnTarget(target);\n    }\n}"
    language: cpp
  notes: This method is part of the core AI decision-making logic for priest NPCs
    in TrinityCore. It relies heavily on internal state tracking and should only be
    called when the AI has a valid target and sufficient context about spell availability
    and cooldowns. The method may modify internal AI flags or state variables related
    to spell usage timing.
  warnings: Incorrectly passing an invalid or null target pointer can lead to undefined
    behavior or crashes within the AI system. Always ensure that the target is valid
    before calling this method, especially when used outside of standard AI update
    loops.
  related:
  - GetVictim
  - CastSpellOnTarget
  - IsSpellReady
  - HasCooldown
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T11:09:31.307515'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
