api:
  class: CombatStateAnalyzer
  method: GetSafeDistance
  signature: float CombatStateAnalyzer::GetSafeDistance() const
documentation:
  brief: Calculates and returns the safe distance for combat engagement based on current
    combat state.
  description: The GetSafeDistance method determines the optimal distance at which
    a unit can safely engage in combat without risking unnecessary damage or violating
    game mechanics. This value is typically used by AI systems to decide when to approach
    or retreat from opponents. The calculation considers factors such as weapon range,
    spell casting distances, and unit movement capabilities. The returned value represents
    the minimum distance that ensures safe combat engagement under current conditions.
  parameters: []
  returns: A float value representing the safe combat distance in yards. This distance
    is calculated based on the current combat state and represents the minimum distance
    required for safe engagement without violating game mechanics or risking self-damage.
  examples:
  - title: Basic Usage in Combat AI
    code: "float safeDist = combatAnalyzer.GetSafeDistance();\nif (player->GetDistance(enemy)\
      \ > safeDist)\n{\n    player->CastSpell(enemy, SPELL_COMBAT_STRIKE, true);\n\
      }"
    language: cpp
  - title: Using Safe Distance for Movement Decisions
    code: "float safeDistance = combatAnalyzer.GetSafeDistance();\nfloat currentDistance\
      \ = unit->GetDistance(target);\nif (currentDistance < safeDistance)\n{\n   \
      \ // Move back to maintain safe distance\n    unit->MoveBackward(safeDistance\
      \ - currentDistance);\n}\nelse if (currentDistance > safeDistance + 5.0f)\n\
      {\n    // Move forward to close the gap\n    unit->MoveForward(currentDistance\
      \ - safeDistance);\n}"
    language: cpp
  notes: This method is typically used in conjunction with other combat state analysis
    functions to make intelligent decisions about positioning and engagement. The
    returned value may vary based on the specific combat state, including whether
    the unit is melee, ranged, or spellcaster. The calculation accounts for both offensive
    and defensive capabilities of the unit.
  warnings: The safe distance value may change dynamically during combat as unit states
    evolve. It's important to re-evaluate this value frequently rather than caching
    it for extended periods. Using this value in movement calculations without considering
    terrain or obstacles may lead to unrealistic positioning decisions.
  related:
  - GetCombatState
  - IsInCombat
  - GetAttackDistance
  - GetSpellRange
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T19:07:25.045538'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
