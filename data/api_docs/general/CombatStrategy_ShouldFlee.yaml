api:
  class: CombatStrategy
  method: ShouldFlee
  signature: bool CombatStrategy::ShouldFlee(BotAI * ai) const
documentation:
  brief: Determines whether a bot should flee from combat based on its current health
    and threat level.
  description: The ShouldFlee method evaluates the bot's current combat state to decide
    if it should retreat from battle. It considers factors such as the bot's health
    percentage, the threat level from enemies, and the presence of nearby allies.
    This method is typically used by AI strategies to make tactical decisions during
    combat encounters. The decision-making process involves checking whether the bot's
    health falls below a certain threshold or if the threat level exceeds safe limits.
    If the conditions are met, the method returns true, indicating that fleeing is
    advisable; otherwise, it returns false.
  parameters: []
  returns: Returns true if the bot should flee from combat, false otherwise. The decision
    is based on health percentage, threat level, and proximity to allies.
  examples:
  - title: Basic usage in AI logic
    code: "if (strategy->ShouldFlee(ai)) {\n    ai->SetState(BotState::FLEE);\n}"
    language: cpp
  - title: Integration with combat strategy decision making
    code: "class MyCombatStrategy : public CombatStrategy {\npublic:\n    bool ShouldFlee(BotAI*\
      \ ai) const override {\n        if (ai->GetHealthPercent() < 30) {\n       \
      \     return true;\n        }\n        return false;\n    }\n};"
    language: cpp
  notes: This method is part of the core AI decision-making framework in TrinityCore.
    It's designed to be lightweight and fast, as it may be called frequently during
    combat updates. The implementation likely uses cached values for performance reasons.
  warnings: The method does not account for specific class abilities or spells that
    might allow a bot to survive dangerous situations without fleeing. Developers
    should consider additional context when implementing custom strategies.
  related:
  - CombatStrategy::ShouldAttack
  - CombatStrategy::ShouldHeal
  - BotAI::GetHealthPercent
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T10:55:01.597513'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
