api:
  class: TargetSelector
  method: SelectHealingTarget
  signature: Unit * TargetSelector::SelectHealingTarget(bool criticalOnly)
documentation:
  brief: Selects the most appropriate healing target based on priority and health
    status.
  description: The SelectHealingTarget method identifies and returns the best Unit
    to heal within the current AI context. It evaluates targets based on their health
    percentage, distance, and other relevant factors such as threat level or proximity
    to the healer. When criticalOnly is set to true, it prioritizes targets with the
    lowest health percentage, typically focusing on those in immediate danger. This
    method is commonly used by healing NPCs or player-controlled healers in TrinityCore's
    AI system to determine which target should receive healing next.
  parameters:
  - name: criticalOnly
    description: If true, only considers targets that are critically low on health
      (typically below a certain threshold). If false, selects from all valid healing
      targets based on general priority rules.
  returns: Returns a pointer to the Unit object representing the selected healing
    target. Returns nullptr if no suitable target is found within the current context
    or if all targets are already at full health.
  examples:
  - title: Basic Healing Target Selection
    code: "Unit* target = selector->SelectHealingTarget(false);\nif (target)\n{\n\
      \    // Proceed with healing logic\n    DoHeal(target);\n}"
    language: cpp
  - title: Critical Healing Target Selection
    code: "Unit* criticalTarget = selector->SelectHealingTarget(true);\nif (criticalTarget\
      \ && criticalTarget->GetHealthPct() < 30.0f)\n{\n    // Prioritize low health\
      \ targets\n    DoHeal(criticalTarget);\n}"
    language: cpp
  notes: This method is part of the AI decision-making process and relies on internal
    target prioritization logic. It may be influenced by factors like threat table,
    faction relationships, and target selection rules defined in the creature's AI
    behavior configuration.
  warnings: The returned Unit pointer should always be checked for null before using
    it to avoid potential crashes or undefined behavior. Additionally, calling this
    method during combat or while the AI is in an invalid state may return unexpected
    results.
  related:
  - SelectTarget
  - GetHealingTarget
  - IsHealer
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T01:16:06.242978'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
