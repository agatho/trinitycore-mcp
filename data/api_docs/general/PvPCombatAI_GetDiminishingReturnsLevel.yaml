api:
  class: PvPCombatAI
  method: GetDiminishingReturnsLevel
  signature: uint32 PvPCombatAI::GetDiminishingReturnsLevel(int * target, CCType ccType)
    const
documentation:
  brief: Calculates and returns the diminishing returns level for a crowd control
    effect applied to a target.
  description: The GetDiminishingReturnsLevel method determines the effective level
    of a crowd control (CC) effect based on the target's current state and previous
    CC applications. This method implements the diminishing returns system used in
    World of Warcraft to prevent players from being indefinitely controlled by the
    same type of CC. The returned value represents how much the CC effect is reduced
    due to prior applications, with higher values indicating stronger diminishing
    returns. The method takes a pointer to a target object and a CC type to compute
    the appropriate diminishing returns level.
  parameters:
  - name: target
    description: Pointer to the target object that the crowd control effect is applied
      to. This parameter must not be null and should point to a valid GameObject or
      Unit object.
  - name: ccType
    description: The type of crowd control effect being applied, represented as a
      CCType enumeration value. This determines which diminishing returns category
      the effect belongs to.
  returns: Returns a uint32 value representing the diminishing returns level for the
    specified crowd control effect. A value of 0 typically indicates no diminishing
    returns, while higher values indicate progressively stronger reduction in effect
    duration or strength.
  examples:
  - title: Basic Usage Example
    code: 'Unit* target = player->GetVictim();

      CCType ccType = CC_STUN;

      uint32 diminishingLevel = ai->GetDiminishingReturnsLevel(&target, ccType);

      // Use diminishingLevel to adjust effect duration or strength'
    language: cpp
  - title: Advanced Usage with Multiple CC Types
    code: 'Unit* target = player->GetVictim();

      uint32 level1 = ai->GetDiminishingReturnsLevel(&target, CC_STUN);

      uint32 level2 = ai->GetDiminishingReturnsLevel(&target, CC_FEAR);

      uint32 level3 = ai->GetDiminishingReturnsLevel(&target, CC_ROOT);

      // Apply different durations based on diminishing returns levels'
    language: cpp
  notes: This method is part of the PvPCombatAI system and relies on internal tracking
    of previous crowd control applications. The implementation uses a diminishing
    returns table that scales with player level and target resistance. The method
    should only be called when the target is a valid Unit object, otherwise behavior
    is undefined.
  warnings: Do not pass null pointers to the target parameter as this will likely
    cause a crash or undefined behavior. The CCType must be a valid enumeration value
    from the CCType enum; invalid values may produce incorrect results or trigger
    assertions in debug builds.
  related:
  - GetDiminishingReturnsTimer
  - ApplyDiminishingReturns
  - ResetDiminishingReturns
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T20:40:11.615359'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
