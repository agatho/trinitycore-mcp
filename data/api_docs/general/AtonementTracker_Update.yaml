api:
  class: AtonementTracker
  method: Update
  signature: void AtonementTracker::Update(Player * bot)
documentation:
  brief: Updates the atonement tracker state for the specified player.
  description: The Update method in AtonementTracker is responsible for refreshing
    or recalculating the atonement tracking data associated with a given player. This
    typically involves checking the player's current atonement status, updating internal
    counters or timers, and potentially modifying the player's state or buffs related
    to atonement mechanics. The method is usually called during game loop updates
    or when specific events occur that might affect atonement progression.
  parameters:
  - name: bot
    description: Pointer to the Player object whose atonement tracker state needs
      to be updated. This parameter must not be null and should reference a valid
      player instance in the game world.
  returns: void
  examples:
  - title: Basic Usage Example
    code: 'AtonementTracker tracker;

      Player* player = ...; // Valid player pointer

      tracker.Update(player);'
    language: cpp
  - title: Usage in Game Loop Context
    code: "void UpdateAtonementTrackers()\n{\n    for (auto& pair : sObjectAccessor->GetAllPlayers())\n\
      \    {\n        Player* player = pair.second;\n        if (player && player->IsInWorld())\n\
      \        {\n            AtonementTracker tracker;\n            tracker.Update(player);\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method is typically invoked by the game's main update loop or event
    handlers. It may perform database operations or modify player state, so it should
    be called with consideration for performance impact in high-frequency scenarios.
  warnings: Ensure that the Player pointer passed to this method is valid and not
    null. Passing an invalid or destroyed player reference can lead to undefined behavior
    or crashes.
  related:
  - GetAtonementAmount
  - SetAtonementAmount
  - ResetAtonement
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T09:13:01.623462'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
