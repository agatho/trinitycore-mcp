api:
  class: HolyPaladinBeaconTracker
  method: NeedsBeaconRefresh
  signature: bool HolyPaladinBeaconTracker::NeedsBeaconRefresh(Player * bot, int *
    target) const
documentation:
  brief: Determines whether a Holy Paladin's beacon ability requires a refresh based
    on target and bot state
  description: The NeedsBeaconRefresh method evaluates if the Holy Paladin bot's beacon
    ability needs to be refreshed. This typically occurs when the beacon target has
    changed, the beacon is no longer active, or the bot's current target has become
    invalid. The method checks the internal state of the beacon tracker and compares
    it against the provided bot's current target and state. It returns true if a refresh
    is needed, false otherwise. This method is crucial for maintaining optimal beacon
    usage in bot behavior scripts, ensuring that the Paladin maintains effective healing
    coverage for their designated target.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the Holy Paladin bot that
      owns this beacon tracker
  - name: target
    description: Pointer to an integer representing the current target ID that the
      bot is tracking. This value may be modified by the method if a refresh is needed.
  returns: Returns true if the beacon requires a refresh due to target changes or
    invalidation, false otherwise. A return of true indicates that the beacon should
    be re-applied to the current target.
  examples:
  - title: Basic beacon refresh check
    code: "if (beaconTracker.NeedsBeaconRefresh(playerBot, &currentTarget)) {\n  \
      \  // Refresh beacon logic here\n    beaconTracker.RefreshBeacon(playerBot,\
      \ currentTarget);\n}"
    language: cpp
  - title: Integration with bot AI loop
    code: "void HolyPaladinAI::UpdateBeacon() {\n    int targetId = GetTargetId();\n\
      \    if (beaconTracker.NeedsBeaconRefresh(player, &targetId)) {\n        //\
      \ Clear old beacon\n        ClearBeacon();\n        // Apply new beacon to updated\
      \ target\n        ApplyBeacon(targetId);\n    }\n}"
    language: cpp
  notes: This method likely interacts with internal tracking variables such as last
    known target ID, beacon duration timers, and target validity checks. The method
    may modify the target parameter if a new target is detected that requires beacon
    reapplication. Performance-wise, this should be called infrequently to avoid unnecessary
    computations during active combat.
  warnings: Ensure that the bot pointer passed is valid and not null before calling
    this method. Modifying the target parameter directly can affect downstream logic
    if not properly handled. This method may have side effects on internal beacon
    state tracking.
  related:
  - RefreshBeacon
  - GetBeaconTarget
  - IsBeaconActive
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T01:11:29.906557'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
