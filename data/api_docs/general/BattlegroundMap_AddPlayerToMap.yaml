api:
  class: BattlegroundMap
  method: AddPlayerToMap
  signature: bool BattlegroundMap::AddPlayerToMap(Player * player, bool initPlayer)
documentation:
  brief: Adds a player to the battleground map, initializing their presence in the
    game world.
  description: The AddPlayerToMap method is responsible for integrating a Player object
    into the battleground map environment. It handles the necessary setup and registration
    of the player within the battleground's context, including updating internal data
    structures and ensuring the player is properly positioned and initialized for
    gameplay. This method typically gets invoked during battleground start procedures
    or when players are queued to join a battleground. The initPlayer parameter controls
    whether additional initialization steps should be performed for the player, such
    as sending initial packets or setting up battleground-specific attributes. The
    method returns true if the player was successfully added to the map, and false
    otherwise.
  parameters:
  - name: player
    description: A pointer to the Player object that needs to be added to the battleground
      map. Must not be null.
  - name: initPlayer
    description: Boolean flag indicating whether to perform additional initialization
      steps for the player. If true, the player will receive initial packets and have
      battleground-specific attributes set up.
  returns: Returns true if the player was successfully added to the battleground map;
    returns false if the operation failed due to invalid state or other errors.
  examples:
  - title: Basic usage in battleground initialization
    code: "BattlegroundMap* bgMap = ...;\nPlayer* player = ...;\nbool success = bgMap->AddPlayerToMap(player,\
      \ true);\nif (success) {\n    // Player successfully added to the map\n}"
    language: cpp
  - title: Adding a player without additional initialization
    code: "BattlegroundMap* bgMap = ...;\nPlayer* player = ...;\nbool success = bgMap->AddPlayerToMap(player,\
      \ false);\nif (success) {\n    // Player added to map but not initialized\n}"
    language: cpp
  notes: This method is typically called internally by the battleground system during
    player join operations. It assumes that the player has already been validated
    and is eligible for the battleground. The method may perform synchronization with
    other subsystems like the game object manager or the player's session handler.
  warnings: Calling this method with a null player pointer will likely result in undefined
    behavior or crash. Ensure proper validation of the player object before calling
    this method. Also, avoid calling this method multiple times for the same player
    without removing them first.
  related:
  - RemovePlayerFromMap
  - GetPlayers
  - IsPlayerInBattleground
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T20:06:39.438105'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
