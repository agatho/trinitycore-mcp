api:
  class: EvokerAI
  method: UpdateRotation
  signature: void EvokerAI::UpdateRotation(int * target)
documentation:
  brief: Updates the evoker's spell rotation based on current target and combat state
  description: The UpdateRotation method manages the core spell casting logic for
    an Evoker AI, determining which spells to cast next based on the current target,
    available mana, and combat conditions. This method evaluates the target's health,
    distance, and status effects to select optimal abilities from the evoker's rotation
    sequence. It handles both single-target and AoE spell selection, considering cooldowns,
    resource management, and tactical positioning. The method is typically called
    during the AI update cycle to ensure proper spell casting behavior in combat situations.
  parameters:
  - name: target
    description: Pointer to the current target's integer identifier used for spell
      targeting and rotation decisions
  returns: null
  examples:
  - title: Basic Usage in Combat AI Loop
    code: "void EvokerAI::UpdateAI()\n{\n    if (Unit* target = SelectTarget(SELECT_TARGET_TOPAGGRO))\n\
      \    {\n        UpdateRotation(&target->GetGUID().GetRawValue());\n    }\n}"
    language: cpp
  - title: Integration with Custom Target Selection
    code: "void EvokerAI::UpdateRotation(int* target)\n{\n    if (!target || *target\
      \ <= 0)\n        return;\n    \n    Unit* unitTarget = ObjectAccessor::GetUnit(*this,\
      \ *target);\n    if (!unitTarget)\n        return;\n    \n    // Rotation logic\
      \ implementation\n    // ... spell selection and casting\n}"
    language: cpp
  notes: This method should only be called when the evoker is in combat mode. The
    target parameter must point to a valid unit GUID, otherwise undefined behavior
    may occur. The method assumes that all necessary combat state checks have been
    performed before calling.
  warnings: Do not call this method directly without proper target validation. Passing
    an invalid or null target pointer will likely cause crashes or unexpected behavior
    in the spell rotation system.
  related:
  - EvokerAI::UpdateAI
  - EvokerAI::SelectSpell
  - EvokerAI::CanCastSpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T07:49:39.842142'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
