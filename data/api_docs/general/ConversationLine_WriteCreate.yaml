api:
  class: ConversationLine
  method: WriteCreate
  signature: void ConversationLine::WriteCreate(ByteBuffer & data, const Conversation
    * owner, const Player * receiver) const
documentation:
  brief: Serializes and writes conversation line data to a ByteBuffer for client transmission.
  description: The WriteCreate method is responsible for serializing the conversation
    line data into a ByteBuffer format suitable for sending to a specific player client.
    This method prepares the necessary packet data that represents a single line within
    a conversation, including timing, text, and associated NPC information. It is
    typically invoked when initializing or updating a conversation state for a player,
    ensuring that the client receives properly formatted data to display the conversation
    line correctly. The method takes into account the owner of the conversation and
    the receiving player to customize the data appropriately.
  parameters:
  - name: data
    description: The ByteBuffer object where the serialized conversation line data
      will be written.
  - name: owner
    description: Pointer to the Conversation object that owns this line, used to determine
      line properties and timing.
  - name: receiver
    description: Pointer to the Player object who will receive this conversation line
      data, used for customization and filtering.
  returns: null
  examples:
  - title: Basic Usage in Conversation Initialization
    code: 'ConversationLine line;

      ByteBuffer data;

      Player* player = ...; // Valid player pointer

      Conversation* conv = ...; // Valid conversation pointer

      line.WriteCreate(data, conv, player);'
    language: cpp
  - title: Sending Conversation Line to Player
    code: "void SendConversationLineToPlayer(ConversationLine const& line, Player*\
      \ receiver, Conversation const* owner)\n{\n    ByteBuffer data;\n    line.WriteCreate(data,\
      \ owner, receiver);\n    receiver->SendDirectMessage(&data);\n}"
    language: cpp
  notes: This method is part of the internal packet serialization system for World
    of Warcraft conversations. It assumes that all input pointers are valid and properly
    initialized. The method does not perform any validation on the input parameters,
    so it's the caller's responsibility to ensure correctness.
  warnings: Incorrect usage of this method with null or invalid pointers can lead
    to undefined behavior or crashes. Ensure that both 'owner' and 'receiver' parameters
    point to valid objects before calling this method.
  related:
  - ConversationLine::WriteUpdate
  - ConversationLine::WriteDestroy
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T06:52:12.223112'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
