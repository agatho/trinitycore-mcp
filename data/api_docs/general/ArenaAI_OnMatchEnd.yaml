api:
  class: ArenaAI
  method: OnMatchEnd
  signature: void ArenaAI::OnMatchEnd(int * player, bool won)
documentation:
  brief: Handles the end of an arena match, updating player statistics and rewards
    based on victory or defeat.
  description: The OnMatchEnd method is invoked when an arena match concludes to process
    the outcome for participating players. It updates player statistics such as arena
    rating, wins, losses, and awards appropriate rewards or penalties. This method
    ensures proper handling of player data and maintains game balance by adjusting
    rankings according to match results. The method expects a pointer to an array
    of player identifiers and a boolean indicating whether the team won the match.
  parameters:
  - name: player
    description: Pointer to an integer array containing player identifiers (GUIDs)
      for players in the arena match.
  - name: won
    description: Boolean flag indicating if the player's team won the match (true)
      or lost (false).
  returns: null
  examples:
  - title: Basic usage in arena match end handler
    code: "void HandleArenaMatchEnd(Player* players[], bool victory)\n{\n    int playerGuids[MAX_ARENA_PLAYERS];\n\
      \    for (int i = 0; i < MAX_ARENA_PLAYERS; ++i)\n    {\n        playerGuids[i]\
      \ = players[i]->GetGUID().GetCounter();\n    }\n    arenaAI->OnMatchEnd(playerGuids,\
      \ victory);\n}"
    language: cpp
  notes: This method is typically called internally by the TrinityCore arena system
    upon match completion. It should not be invoked directly unless implementing custom
    arena logic. The player array must contain valid GUIDs and the won parameter must
    accurately reflect the match outcome.
  warnings: Incorrectly setting the 'won' parameter can lead to inaccurate arena rating
    adjustments and improper reward distribution. Ensure that player identifiers are
    correctly passed as a valid array of GUIDs.
  related:
  - ArenaAI::OnMatchStart
  - ArenaAI::UpdatePlayerStats
  - ArenaAI::AwardRewards
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T21:53:06.399092'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
