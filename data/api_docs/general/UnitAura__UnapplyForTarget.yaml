api:
  class: UnitAura
  method: _UnapplyForTarget
  signature: void UnitAura::_UnapplyForTarget(Unit * target, Unit * caster, AuraApplication
    * aurApp)
documentation:
  brief: Removes an aura application from a target unit, typically invoked during
    aura removal or expiration.
  description: The _UnapplyForTarget method is responsible for removing a specific
    aura application from a target unit within the TrinityCore framework. This internal
    method handles the cleanup and deactivation of an aura effect that was previously
    applied to a unit. It ensures proper removal of aura effects, updates relevant
    unit state information, and may trigger additional game mechanics such as debuff
    refreshes or cooldown resets. The method takes into account both the target unit
    and the caster who originally applied the aura, allowing for precise control over
    aura removal behavior. This function is typically called internally by the aura
    system when an aura expires, is manually removed, or when a unit is no longer
    eligible to maintain the aura.
  parameters:
  - name: target
    description: Pointer to the Unit object from which the aura application will be
      removed. Must not be null and must represent a valid unit in the game world.
  - name: caster
    description: Pointer to the Unit object that originally applied the aura. May
      be null if the aura was applied by an environment or non-unit source, but typically
      represents the caster who triggered the aura application.
  - name: aurApp
    description: Pointer to the AuraApplication object representing the specific aura
      instance being removed. This parameter defines exactly which aura effect and
      its properties should be unapplied from the target.
  returns: null
  examples:
  - title: Basic Aura Removal
    code: "UnitAura* aura = target->GetAuraBySpellId(spellId);\nif (aura)\n{\n   \
      \ AuraApplication* app = aura->GetAuraApplication();\n    aura->_UnapplyForTarget(target,\
      \ caster, app);\n}"
    language: cpp
  - title: Conditional Aura Removal
    code: "if (target && target->HasAura(spellId))\n{\n    UnitAura* aura = target->GetAuraBySpellId(spellId);\n\
      \    if (aura && aura->GetAuraApplication())\n    {\n        aura->_UnapplyForTarget(target,\
      \ caster, aura->GetAuraApplication());\n    }\n}"
    language: cpp
  notes: This is an internal method and should not be called directly by external
    code. It's part of the aura lifecycle management system in TrinityCore. The method
    performs necessary cleanup operations including updating unit state, removing
    visual effects, and notifying related systems about the aura removal.
  warnings: Calling this method directly without proper context may lead to inconsistent
    game state or unexpected behavior. Always ensure that the aura application is
    valid and properly initialized before calling this method. Improper usage can
    cause crashes or incorrect aura behavior in the game world.
  related:
  - _ApplyForTarget
  - RemoveAura
  - RemoveAuraApplication
  - GetAuraApplication
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T00:09:00.198761'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
