api:
  class: AuraEffect
  method: HandlePeriodicManaLeechAuraTick
  signature: void AuraEffect::HandlePeriodicManaLeechAuraTick(Unit * target, Unit
    * caster) const
documentation:
  brief: Applies a periodic mana leech effect to the target unit from the caster.
  description: The HandlePeriodicManaLeechAuraTick method is responsible for executing
    the tick logic of a periodic mana leech aura. When invoked, it drains mana from
    the target unit and transfers it to the caster unit. This method is typically
    called during aura tick events in the game loop. The amount of mana drained is
    determined by the aura's properties and may be influenced by various factors such
    as spell power or aura level. This mechanic is commonly used in spells like Drain
    Mana or similar effects that leech energy from enemies.
  parameters:
  - name: target
    description: The unit from which mana will be leeched. Must be a valid Unit object
      and typically represents the enemy target of the aura.
  - name: caster
    description: The unit that will receive the leached mana. Must be a valid Unit
      object and typically represents the caster of the aura or spell.
  returns: null
  examples:
  - title: Basic usage in aura tick handler
    code: "void MyAura::HandleTick(Unit* target, Unit* caster)\n{\n    HandlePeriodicManaLeechAuraTick(target,\
      \ caster);\n}"
    language: cpp
  - title: Custom mana leech with additional effects
    code: "void CustomManaLeechAura::HandlePeriodicManaLeechAuraTick(Unit* target,\
      \ Unit* caster) const\n{\n    if (!target || !caster)\n        return;\n\n \
      \   uint32 leechAmount = GetAmount();\n    if (target->GetPower(POWER_MANA)\
      \ >= leechAmount)\n    {\n        target->ModifyPower(POWER_MANA, -int32(leechAmount));\n\
      \        caster->ModifyPower(POWER_MANA, int32(leechAmount));\n    }\n}"
    language: cpp
  notes: This method is part of the aura tick system and should only be called during
    appropriate aura update cycles. The mana transfer occurs instantaneously without
    visual effects unless explicitly handled by other systems. Ensure that both target
    and caster units are valid before calling to prevent crashes.
  warnings: Do not call this method directly from outside the aura tick context as
    it may cause inconsistent behavior or unexpected mana transfers. Always verify
    that the target has sufficient mana before attempting to leech. Avoid recursive
    calls or infinite loops when overriding this method in custom implementations.
  related:
  - AuraEffect::HandlePeriodicTick
  - AuraEffect::ApplyAuraEffect
  - AuraEffect::RemoveAuraEffect
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T12:08:34.594754'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
