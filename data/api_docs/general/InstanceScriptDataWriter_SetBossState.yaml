api:
  class: InstanceScriptDataWriter
  method: SetBossState
  signature: void InstanceScriptDataWriter::SetBossState(const UpdateBossStateSaveDataEvent
    & data)
documentation:
  brief: Updates and saves the boss state data for an instance script.
  description: The SetBossState method is used to update the current state of a boss
    within an instance script, typically triggered when a boss is defeated or enters
    a new phase. This method serializes the boss state information into the save data
    structure, which is then persisted to the database or saved in memory for future
    reference. It ensures that the instance's progression and boss encounter states
    are accurately tracked across server restarts or player reloads. The method operates
    on an UpdateBossStateSaveDataEvent object that contains all necessary state information
    for the boss.
  parameters:
  - name: data
    description: An UpdateBossStateSaveDataEvent object containing the boss state
      data to be saved, including boss GUID, current state, and any associated encounter
      data.
  returns: null
  examples:
  - title: Basic Boss State Update
    code: 'InstanceScriptDataWriter writer;

      UpdateBossStateSaveDataEvent eventData;

      eventData.bossGuid = 12345;

      eventData.state = BOSS_STATE_DEAD;

      writer.SetBossState(eventData);'
    language: cpp
  - title: Updating Boss Phase State
    code: 'InstanceScriptDataWriter writer;

      UpdateBossStateSaveDataEvent eventData;

      eventData.bossGuid = 67890;

      eventData.state = BOSS_STATE_IN_PROGRESS;

      eventData.phase = 2;

      writer.SetBossState(eventData);'
    language: cpp
  notes: This method is typically called internally by the instance script system
    when boss encounters change state. Developers should ensure that the UpdateBossStateSaveDataEvent
    object contains valid data before calling this method, as invalid data may lead
    to inconsistent save states.
  warnings: Calling this method with an invalid boss GUID or incorrect state values
    can result in corrupted save data and unexpected behavior during instance reloads.
    Always validate boss encounter data before passing it to this method.
  related:
  - GetBossState
  - SaveInstanceData
  - UpdateBossState
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T13:43:43.620506'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
