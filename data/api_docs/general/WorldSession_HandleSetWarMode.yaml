api:
  class: WorldSession
  method: HandleSetWarMode
  signature: void WorldSession::HandleSetWarMode(WorldPackets::Misc::SetWarMode &
    packet)
documentation:
  brief: Toggles the player's war mode state, enabling or disabling combat-related
    behaviors in the game world.
  description: The HandleSetWarMode method processes a client request to enable or
    disable war mode for the player. War mode is a gameplay feature that affects various
    aspects of character behavior, such as PvP flagging, faction hostility, and certain
    combat mechanics. When war mode is enabled, the player becomes flagged for PvP
    combat and may be attacked by hostile players or creatures in certain zones. This
    method validates the request and updates the player's internal war mode state
    accordingly. The method does not directly send a response packet back to the client;
    instead, it relies on other systems to propagate the updated state.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in session handler
    code: "void WorldSession::HandleSetWarMode(WorldPackets::Misc::SetWarMode& packet)\n\
      {\n    Player* player = GetPlayer();\n    if (!player)\n        return;\n\n\
      \    // Toggle war mode state\n    player->SetInWarMode(packet.Enable);\n}"
    language: cpp
  notes: This method is typically invoked from the network packet handling system
    when a client sends a SetWarMode packet. The actual implementation may vary depending
    on the specific TrinityCore version and patch level, but generally involves updating
    internal player flags and notifying relevant subsystems of the change.
  warnings: null
  related:
  - Player::SetInWarMode
  - Player::IsInWarMode
  - WorldSession::SendSetWarMode
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T19:10:37.428714'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
