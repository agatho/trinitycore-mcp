api:
  class: Player
  method: UpdateEquipSpellsAtFormChange
  signature: void Player::UpdateEquipSpellsAtFormChange()
documentation:
  brief: Updates equipped spells when a player's form changes
  description: This method is responsible for managing spell updates when a player
    transitions between different combat forms, such as shifting between normal, stealth,
    or shapeshift forms. It ensures that appropriate spells are either added to or
    removed from the player's spell book based on their current form. The method typically
    gets invoked automatically by the core when form changes occur, but can also be
    manually called in special circumstances. This functionality is crucial for maintaining
    proper gameplay mechanics related to class abilities and form-specific spell availability.
  parameters: []
  returns: null
  examples:
  - title: Automatic Form Change Handling
    code: "void HandlePlayerFormChange(Player* player)\n{\n    // This method is typically\
      \ called internally by TrinityCore\n    // when a player's form changes (e.g.,\
      \ shapeshift, stealth)\n    player->UpdateEquipSpellsAtFormChange();\n}"
    language: cpp
  notes: This method likely iterates through the player's equipped items and checks
    if any spells need to be updated or removed based on form restrictions. It may
    also manage temporary spell effects that are specific to certain forms, such as
    those used by druids in different shapeshift forms.
  warnings: null
  related:
  - Player::UpdateSpells
  - Player::UpdateSpellCategoryState
  - Player::SetForm
  - Player::GetShapeshiftForm
metadata:
  confidence: 0.9
  generated_at: '2025-10-29T19:01:51.000288'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
