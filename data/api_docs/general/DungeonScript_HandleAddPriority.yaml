api:
  class: DungeonScript
  method: HandleAddPriority
  signature: void DungeonScript::HandleAddPriority(int * player, int * boss)
documentation:
  brief: Adds a player and boss priority to the dungeon script for handling encounter
    priorities.
  description: The HandleAddPriority method in the DungeonScript class is responsible
    for associating a player and a boss with a specific priority level within the
    dungeon encounter system. This functionality allows the game to manage which encounters
    should be prioritized when multiple events occur simultaneously, ensuring proper
    gameplay flow and balancing. The method takes two integer pointers as parameters
    representing the player identifier and boss identifier, and it updates internal
    data structures to reflect this priority relationship. This is typically used
    during dungeon encounters where certain bosses or players may have special handling
    requirements based on encounter progression or player roles.
  parameters:
  - name: player
    description: Pointer to an integer representing the unique identifier of the player
      involved in the encounter. This value should correspond to a valid player GUID
      within the TrinityCore system.
  - name: boss
    description: Pointer to an integer representing the unique identifier of the boss
      or encounter object. This value should correspond to a valid creature or game
      object GUID within the dungeon encounter context.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'DungeonScript* script = new DungeonScript();

      int playerId = 12345;

      int bossId = 67890;

      script->HandleAddPriority(&playerId, &bossId);'
    language: cpp
  - title: Usage with Dynamic Player and Boss IDs
    code: 'DungeonScript* script = sObjectAccessor->GetDungeonScript();

      Player* player = ...; // Get player reference

      Creature* boss = ...; // Get boss reference

      int playerId = player->GetGUID().GetCounter();

      int bossId = boss->GetGUID().GetCounter();

      script->HandleAddPriority(&playerId, &bossId);'
    language: cpp
  notes: This method is part of the internal dungeon encounter management system and
    should only be called during appropriate encounter events. The method assumes
    that both player and boss identifiers are valid and exist within the current dungeon
    context. It's important to ensure proper synchronization when calling this method
    from different threads or game systems.
  warnings: Calling this method with invalid or null pointers can lead to undefined
    behavior or crashes. Ensure that the player and boss identifiers passed are valid
    and correspond to active entities in the current dungeon instance. Improper use
    may disrupt encounter progression or cause unexpected gameplay behavior.
  related:
  - HandleRemovePriority
  - HandleGetPriority
  - DungeonScript::UpdateEncounterState
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T08:24:20.697055'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
