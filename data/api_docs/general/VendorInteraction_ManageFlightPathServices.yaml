api:
  class: VendorInteraction
  method: ManageFlightPathServices
  signature: void VendorInteraction::ManageFlightPathServices(Player * player, uint32
    flightMasterGuid)
documentation:
  brief: Manages flight path services for a player interacting with a flight master.
  description: The ManageFlightPathServices method handles all aspects of flight path
    interactions between a player and a flight master NPC. It validates the player's
    ability to use flight paths, checks if the player has learned the necessary flight
    paths, and manages the display of available flight destinations. This method is
    typically invoked when a player interacts with a flight master to access their
    services. The method ensures proper synchronization of flight path data between
    the client and server, including updating the player's known flight paths and
    presenting the appropriate UI for flight destination selection.
  parameters:
  - name: player
    description: Pointer to the Player object representing the interacting player.
      Must be a valid player instance with a valid session.
  - name: flightMasterGuid
    description: The unique identifier (GUID) of the flight master NPC with which
      the player is interacting. This GUID must correspond to a valid GameObject of
      type GAMEOBJECT_TYPE_TRANSPORT or similar flight master type.
  returns: null
  examples:
  - title: Basic Flight Path Service Management
    code: "void HandlePlayerFlightInteraction(Player* player, uint32 flightMasterGuid)\n\
      {\n    VendorInteraction vendorInteraction;\n    vendorInteraction.ManageFlightPathServices(player,\
      \ flightMasterGuid);\n}"
    language: cpp
  - title: Flight Path Service with Precondition Check
    code: "void HandleFlightPathInteraction(Player* player, uint32 flightMasterGuid)\n\
      {\n    if (!player || !player->GetSession())\n        return;\n\n    // Ensure\
      \ the player is not in combat or otherwise restricted\n    if (player->IsInCombat()\
      \ || player->HasUnitState(UNIT_STATE_STUNNED))\n        return;\n\n    VendorInteraction\
      \ vendorInteraction;\n    vendorInteraction.ManageFlightPathServices(player,\
      \ flightMasterGuid);\n}"
    language: cpp
  notes: This method relies on the TrinityCore's flight path system and requires that
    the player's character data is properly initialized with flight path information.
    The method internally handles UI updates for the flight master interface and ensures
    that only valid flight destinations are presented to the player based on their
    current location, faction, and quest progress.
  warnings: Do not call this method directly without ensuring the player object is
    valid and the flightMasterGuid refers to an actual flight master NPC. Improper
    usage may lead to client-side UI glitches or server-side crashes if the GUID is
    invalid or the player session is corrupted.
  related:
  - Player::GetSession
  - Player::HasSpell
  - Player::LearnSpell
  - Player::SendUpdateWorldState
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T00:00:43.311639'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
