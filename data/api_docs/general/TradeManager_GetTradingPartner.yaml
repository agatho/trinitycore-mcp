api:
  class: TradeManager
  method: GetTradingPartner
  signature: int TradeManager::GetTradingPartner() const
documentation:
  brief: Returns the GUID of the trading partner involved in the current trade.
  description: The GetTradingPartner method retrieves the unique identifier (GUID)
    of the player with whom the current character is engaged in a trade. This method
    is typically used within the context of a trade session, where two players are
    exchanging items or currency. It provides access to the trading partner's identity
    for validation, logging, or interaction purposes. The method assumes that a trade
    session is active and that the trading partner has been properly initialized.
    If no trade is currently in progress, the return value may be undefined or represent
    an invalid GUID.
  parameters: []
  returns: An integer representing the GUID of the trading partner. A valid GUID is
    typically a positive integer greater than zero. If no trade is active or the partner
    is not initialized, the method may return 0 or another sentinel value indicating
    an invalid state.
  examples:
  - title: Basic Usage in Trade Context
    code: "void HandleTradeUpdate()\n{\n    if (TradeManager* tradeMgr = player->GetTradeData())\n\
      \    {\n        int partnerGuid = tradeMgr->GetTradingPartner();\n        if\
      \ (partnerGuid > 0)\n        {\n            // Proceed with trade logic using\
      \ partnerGuid\n            sLog->outString(\"Trading with partner: %u\", partnerGuid);\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method is part of the TradeManager class and should only be called when
    a trade session is active. The returned GUID can be used to retrieve the associated
    Player object via ObjectAccessor or similar mechanisms. Ensure that trade state
    is validated before calling this method to avoid accessing stale data.
  warnings: Calling this method outside of an active trade session may result in undefined
    behavior or incorrect GUID values. Always verify that a trade is in progress and
    that the trading partner has been properly set before invoking this function.
  related:
  - TradeManager::GetTradeData
  - TradeManager::SetTradingPartner
  - TradeManager::IsTrading
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T05:10:08.535417'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
