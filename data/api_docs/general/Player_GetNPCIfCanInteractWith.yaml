api:
  class: Player
  method: GetNPCIfCanInteractWith
  signature: Creature * Player::GetNPCIfCanInteractWith(const int & guid, int npcFlags,
    int npcFlags2) const
documentation:
  brief: Returns a Creature object if the player can interact with the NPC identified
    by the given GUID.
  description: This method checks whether the player has the necessary conditions
    to interact with a specific NPC based on its GUID. It verifies that the NPC exists
    and is within interaction range, while also checking for valid NPC flags that
    determine what kind of interaction is allowed. The method returns a pointer to
    the Creature object if all conditions are met, otherwise it returns nullptr. This
    function is commonly used in quest and NPC interaction logic to ensure proper
    game mechanics handling.
  parameters:
  - name: guid
    description: The unique identifier (GUID) of the NPC being checked for interaction.
      This value must be a valid GUID representing an NPC object.
  - name: npcFlags
    description: The first set of NPC flags that determine interaction type. This
      parameter controls what kind of interaction is allowed with the NPC, such as
      vendor, quest giver, or gossip.
  - name: npcFlags2
    description: The second set of NPC flags that further refine interaction conditions.
      This parameter may include additional flags for more specific interactions like
      training or repair.
  returns: Returns a pointer to the Creature object if the player can interact with
    the NPC identified by guid, otherwise returns nullptr. The returned pointer may
    be null if the NPC does not exist or if interaction conditions are not met.
  examples:
  - title: Basic usage example
    code: "Creature *npc = player->GetNPCIfCanInteractWith(guid, npcFlags, npcFlags2);\n\
      if (npc)\n{\n    // Player can interact with the NPC\n    // Proceed with interaction\
      \ logic\n}"
    language: cpp
  - title: Advanced usage example
    code: "Creature *npc = player->GetNPCIfCanInteractWith(guid, npcFlags, npcFlags2);\n\
      if (npc && npc->IsQuestGiver())\n{\n    // Player can interact with the NPC\
      \ and it's a quest giver\n    // Proceed with quest interaction logic\n}"
    language: cpp
  notes: The method performs checks on both the existence of the NPC and the player's
    ability to interact with it. It should be used in conjunction with other interaction
    methods to ensure proper game mechanics are maintained. Performance considerations
    include checking for valid GUIDs before calling this method.
  warnings: This method may return nullptr if the NPC does not exist or if the player
    cannot interact with it due to distance or flags. Care must be taken when using
    this method in quest and NPC interaction logic as it can lead to null pointer
    dereferences if not handled properly.
  related:
  - GetNPCIfCanInteractWith
  - GetPlayerIfCanInteractWith
  - IsInWorld
metadata:
  confidence: 0.85
  generated_at: '2025-10-30T16:48:03.069023'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
