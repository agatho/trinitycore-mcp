api:
  class: SpellScript
  method: GetEffectInfo
  signature: const SpellEffectInfo & SpellScript::GetEffectInfo() const
documentation:
  brief: Retrieves the SpellEffectInfo structure for the current spell effect being
    processed by the SpellScript.
  description: The GetEffectInfo method provides access to detailed information about
    the specific spell effect that is currently being executed within a SpellScript
    context. This includes data such as the effect index, target type, implicit target,
    and other parameters associated with the spell effect. The returned reference
    points to an immutable structure, ensuring that the effect's metadata cannot be
    modified through this interface. This method is typically used in spell script
    implementations where detailed effect-specific behavior needs to be determined
    or manipulated during runtime execution.
  parameters: []
  returns: A constant reference to the SpellEffectInfo structure containing detailed
    metadata about the current spell effect, including effect index, targets, and
    other relevant parameters.
  examples:
  - title: Accessing Effect Information in a Spell Script
    code: "class MySpellScript : public SpellScript\n{\npublic:\n    void HandleEffect()\
      \ override\n    {\n        const SpellEffectInfo& effectInfo = GetEffectInfo();\n\
      \        // Use effectInfo to determine effect-specific behavior\n        if\
      \ (effectInfo.Effect == SPELL_EFFECT_SCHOOL_DAMAGE)\n        {\n           \
      \ // Apply custom damage logic\n        }\n    }\n};"
    language: cpp
  - title: Using Effect Info for Target Validation
    code: "class ValidateTargetSpellScript : public SpellScript\n{\npublic:\n    void\
      \ CheckTargets() override\n    {\n        const SpellEffectInfo& effectInfo\
      \ = GetEffectInfo();\n        if (effectInfo.TargetA.GetTarget() == TARGET_UNIT_CASTER)\n\
      \        {\n            // Perform caster-specific validation\n        }\n \
      \   }\n};"
    language: cpp
  notes: The returned SpellEffectInfo reference is valid only during the execution
    of the spell script and should not be stored for later use. The method assumes
    that the script is currently processing a spell effect, so calling it outside
    of an effect handler context may result in undefined behavior.
  warnings: Do not attempt to modify the SpellEffectInfo through this reference as
    it is const. Accessing this method outside of a valid spell effect execution context
    will lead to invalid memory access or incorrect data retrieval.
  related:
  - SpellScript::GetSpellInfo
  - SpellScript::GetEffectIndex
  - SpellScript::GetHitTarget
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T06:04:31.288559'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
