api:
  class: SmartScript
  method: DoSelectLowestHpPercentFriendly
  signature: Unit * SmartScript::DoSelectLowestHpPercentFriendly(float range, uint32
    minHpPct, uint32 maxHpPct) const
documentation:
  brief: Selects the lowest HP percentage friendly unit within a specified range.
  description: The DoSelectLowestHpPercentFriendly method searches for the friendly
    unit with the lowest health percentage within the given range. It filters units
    based on minimum and maximum HP percentage thresholds, returning the unit that
    meets these criteria. This method is commonly used in smart AI scripts to target
    the most injured ally for healing or support abilities. The search considers only
    units that are friendly to the caster and within the specified range. If no suitable
    unit is found, it returns nullptr.
  parameters:
  - name: range
    description: The maximum distance (in yards) to search for friendly units.
  - name: minHpPct
    description: Minimum health percentage threshold (0-100). Units must have at least
      this much HP.
  - name: maxHpPct
    description: Maximum health percentage threshold (0-100). Units must have no more
      than this much HP.
  returns: A pointer to the Unit with the lowest HP percentage within the specified
    range and thresholds, or nullptr if no valid unit is found.
  examples:
  - title: Basic usage in a smart script
    code: Unit* target = DoSelectLowestHpPercentFriendly(30.0f, 20, 80); // Find friendly
      unit with HP between 20% and 80% within 30 yards
    language: cpp
  - title: Using result for healing ability
    code: "Unit* target = DoSelectLowestHpPercentFriendly(25.0f, 10, 100);\nif (target\
      \ && target->IsAlive()) {\n    DoCast(target, SPELL_HEALING_TOUCH);\n}"
    language: cpp
  notes: This method performs a search within the specified range and filters units
    based on HP percentage. It does not consider unit threat or targeting priority
    beyond the health percentage. The method may return nullptr if no friendly units
    meet the criteria within the given range.
  warnings: Ensure that the range parameter is set appropriately to avoid performance
    issues with large searches. Be cautious when using very low minHpPct values as
    it might select units that are nearly dead, potentially leading to undesirable
    behavior in certain scenarios.
  related:
  - DoSelectLowestHpFriendly
  - DoSelectHighestHpPercentFriendly
  - DoSelectNearestTarget
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T21:27:23.395597'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
