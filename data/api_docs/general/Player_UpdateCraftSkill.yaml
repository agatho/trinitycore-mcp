api:
  class: Player
  method: UpdateCraftSkill
  signature: bool Player::UpdateCraftSkill(const int * spellInfo)
documentation:
  brief: Updates the player's crafting skill based on the provided spell information
  description: The UpdateCraftSkill method is responsible for modifying a player's
    crafting skill level when a crafting action is performed. This method typically
    gets called during the execution of a crafting spell to increment or adjust the
    player's skill in the corresponding profession. It handles the logic for skill
    progression, including checking if the skill has reached maximum value and potentially
    triggering skill-up notifications. The method requires valid spell information
    to determine which crafting skill to update and how much to increment it.
  parameters:
  - name: spellInfo
    description: Pointer to an array of integers containing spell information including
      skill requirements, progression values, and crafting parameters. The array typically
      contains at least the spell ID and related skill data needed for updating the
      crafting skill.
  returns: Returns true if the skill was successfully updated and the player's crafting
    skill level changed, false if the update failed or if the skill could not be modified
    (e.g., already at maximum level).
  examples:
  - title: Basic Usage in Crafting Context
    code: "void Player::HandleCraftSpell(int spellId)\n{\n    int spellData[] = {spellId,\
      \ 10, 5}; // spellId, skillIncrement, maxSkill\n    if (UpdateCraftSkill(spellData))\n\
      \    {\n        SendSkillUpdate();\n    }\n}"
    language: cpp
  - title: Advanced Usage with Skill Validation
    code: "bool Player::PerformAlchemyCraft(int spellId)\n{\n    int spellInfo[] =\
      \ {spellId, 15, 300}; // spellId, skillIncrement, maxSkill\n    if (UpdateCraftSkill(spellInfo))\n\
      \    {\n        // Check for skill level up\n        if (GetSkillValue(SKILL_ALCHEMY)\
      \ >= 300)\n        {\n            SendSystemMessage(\"Your alchemy skill has\
      \ reached its maximum!\");\n        }\n        return true;\n    }\n    return\
      \ false;\n}"
    language: cpp
  notes: This method is typically called internally by the TrinityCore crafting system
    when a player successfully completes a crafting action. The spellInfo parameter
    should contain valid data that corresponds to an actual crafting spell in the
    game database. The method may perform database updates and send skill update packets
    to the client.
  warnings: Do not call this method directly without proper validation of the spellInfo
    array contents, as invalid data could cause undefined behavior or database corruption.
    Ensure that the spell information matches a valid crafting spell in the game's
    spell database.
  related:
  - GetSkillValue
  - AddSkill
  - SendSkillUpdate
  - HandleCraftSpell
metadata:
  confidence: 0.85
  generated_at: '2025-10-29T19:06:32.018331'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
