api:
  class: AuraEffect
  method: HandleFeignDeath
  signature: void AuraEffect::HandleFeignDeath(const AuraApplication * aurApp, uint8
    mode, bool apply) const
documentation:
  brief: Handles the Feign Death aura effect application or removal on a target.
  description: The HandleFeignDeath method is responsible for managing the Feign Death
    aura effect, which makes a unit appear dead to enemies while remaining alive.
    This method is invoked during aura application or removal and controls the visual
    and gameplay effects associated with the Feign Death ability. It typically involves
    updating the unit's state, sending appropriate packets to clients, and potentially
    modifying combat behavior or threat distribution. The method operates based on
    the provided AuraApplication context, mode of operation (application/removal),
    and whether the effect is being applied or removed.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura instance
      being processed. Contains information about which unit has the aura and the
      aura's properties.
  - name: mode
    description: The mode of operation indicating how the aura is being applied or
      removed. Typically used to determine specific behavior during different phases
      of aura lifecycle.
  - name: apply
    description: Boolean flag indicating whether the aura is being applied (true)
      or removed (false). Controls the direction of effect handling.
  returns: null
  examples:
  - title: Basic usage in aura handler
    code: "void MyAuraHandler::HandleFeignDeath(const AuraApplication* aurApp, uint8\
      \ mode, bool apply) const {\n    if (apply) {\n        // Apply Feign Death\
      \ effect\n        Unit* target = aurApp->GetTarget();\n        target->SetFlag(UNIT_FIELD_FLAGS,\
      \ UNIT_FLAG_FEIGN_DEATH);\n        target->SendAuraUpdate();\n    } else {\n\
      \        // Remove Feign Death effect\n        Unit* target = aurApp->GetTarget();\n\
      \        target->RemoveFlag(UNIT_FIELD_FLAGS, UNIT_FLAG_FEIGN_DEATH);\n    \
      \    target->SendAuraUpdate();\n    }\n}"
    language: cpp
  notes: This method is part of the TrinityCore's aura system and should be called
    only from within the aura application context. The Feign Death effect is commonly
    used by rogues and other classes to trick enemies into stopping attacks, allowing
    for tactical retreat or repositioning.
  warnings: Improper handling of this method can lead to visual inconsistencies or
    gameplay exploits where units appear dead but are still active in combat. Ensure
    that all related state changes are properly synchronized with client updates.
  related:
  - AuraEffect::HandlePeriodicDummy
  - AuraEffect::HandleApply
  - AuraEffect::HandleRemove
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T12:50:20.893409'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
