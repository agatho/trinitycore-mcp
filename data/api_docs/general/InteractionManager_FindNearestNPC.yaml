api:
  class: InteractionManager
  method: FindNearestNPC
  signature: Creature * InteractionManager::FindNearestNPC(Player * bot, NPCType type,
    float maxRange) const
documentation:
  brief: Finds the nearest NPC of a specified type within a given range for a player
    bot.
  description: The FindNearestNPC method searches for the closest Creature object
    of a specific NPCType within the maximum range provided. It is typically used
    by AI systems or bot logic to locate nearby NPCs for interaction, quest progression,
    or other gameplay purposes. The method performs a spatial search using the player's
    current position and evaluates creatures based on their type and distance. This
    function is essential for automated behavior in TrinityCore's AI framework where
    bots need to identify and interact with specific types of NPCs.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that will be searching
      for the NPC.
  - name: type
    description: NPCType enumeration value specifying the type of NPC to search for
      (e.g., VENDOR, TRAINER, QUEST_GIVER).
  - name: maxRange
    description: Floating-point value representing the maximum distance in yards within
      which to search for the NPC.
  returns: Returns a pointer to the Creature object if a matching NPC is found within
    range; otherwise, returns nullptr if no suitable NPC exists within the specified
    parameters.
  examples:
  - title: Basic usage to find nearest vendor
    code: "Creature* vendor = interactionManager->FindNearestNPC(bot, NPCType::VENDOR,\
      \ 50.0f);\nif (vendor)\n{\n    // Interact with the vendor\n    bot->GetSession()->SendListInventory(vendor->GetGUID());\n\
      }"
    language: cpp
  - title: Find nearest quest giver within 30 yards
    code: "Creature* questGiver = interactionManager->FindNearestNPC(bot, NPCType::QUEST_GIVER,\
      \ 30.0f);\nif (questGiver)\n{\n    // Start or continue a quest\n    bot->PlayerTalkClass->GetQuestMenu().AddItem(0,\
      \ \"Accept Quest\", 1);\n}"
    language: cpp
  notes: This method uses spatial indexing and distance calculations to efficiently
    locate nearby NPCs. It may not account for line-of-sight or terrain obstacles;
    it only considers straight-line distance. The NPCType enum must be properly defined
    in the TrinityCore codebase, and the method assumes that the bot's position is
    valid.
  warnings: Be cautious when using large maxRange values as they can impact performance
    due to increased search space. Ensure that the NPCType parameter corresponds to
    a valid type; otherwise, the method may return nullptr even if NPCs exist in the
    world. Avoid calling this method during high-frequency AI loops without caching
    results.
  related:
  - FindNearestGameObject
  - FindNearestPlayer
  - GetNPCByType
metadata:
  confidence: 0.92
  generated_at: '2025-11-08T02:27:00.361804'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
