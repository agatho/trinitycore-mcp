api:
  class: Guild
  method: HandleSetNewGuildMaster
  signature: void Guild::HandleSetNewGuildMaster(WorldSession * session, std::string_view
    name, bool isSelfPromote)
documentation:
  brief: Sets a new guild master for the guild, transferring leadership to the specified
    member.
  description: The HandleSetNewGuildMaster method is responsible for transferring
    guild leadership from the current guild master to another player within the guild.
    This method validates that the requesting player has sufficient permissions (typically
    guild leader or officer status) to perform the promotion. It also ensures the
    target player is a valid guild member and not already the guild master. The operation
    updates internal guild state and sends relevant notifications to all guild members.
    In World of Warcraft's TrinityCore implementation, this method typically handles
    the protocol for guild master transfers initiated through in-game commands or
    UI interactions.
  parameters:
  - name: session
    description: Pointer to the WorldSession object representing the player initiating
      the guild master transfer request.
  - name: name
    description: String view containing the name of the target player who will become
      the new guild master.
  - name: isSelfPromote
    description: Boolean flag indicating whether the current player is promoting themselves
      to guild master (true) or promoting another player (false).
  returns: null
  examples:
  - title: Promoting Another Player to Guild Master
    code: "Guild* guild = session->GetPlayer()->GetGuild();\nif (guild)\n{\n    guild->HandleSetNewGuildMaster(session,\
      \ \"NewLeader\", false);\n}"
    language: cpp
  - title: Self-Promotion to Guild Master
    code: "Guild* guild = session->GetPlayer()->GetGuild();\nif (guild)\n{\n    guild->HandleSetNewGuildMaster(session,\
      \ \"Myself\", true);\n}"
    language: cpp
  notes: This method assumes that the calling player has appropriate permissions to
    promote another player. It does not validate character level or other game-specific
    requirements beyond basic guild membership and permission checks. The actual transfer
    of leadership is handled internally by the Guild class, including updating the
    database and sending updates to all guild members.
  warnings: Attempting to call this method without proper guild permissions will likely
    result in no action being taken or an error message being sent to the player.
    Ensure that the target player exists in the guild before calling this method to
    avoid unexpected behavior.
  related:
  - GetGuildMaster
  - SetGuildMaster
  - HasGuildPermission
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T15:03:11.418624'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
