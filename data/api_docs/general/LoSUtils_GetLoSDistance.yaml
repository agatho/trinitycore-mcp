api:
  class: LoSUtils
  method: GetLoSDistance
  signature: float LoSUtils::GetLoSDistance(Player * source, Unit * target)
documentation:
  brief: Calculates and returns the line-of-sight distance between a player and a
    target unit.
  description: The GetLoSDistance method computes the straight-line distance between
    a source Player and a target Unit, taking into account whether there is a clear
    line of sight between them. This calculation considers the 3D positions of both
    entities and may factor in environmental obstructions depending on the implementation
    details. The returned value represents the actual distance in yards or game units,
    which is commonly used for spell range checks, targeting validation, or gameplay
    mechanics that require accurate spatial measurements. This method is typically
    invoked during combat or spell casting to ensure that the player's target is within
    valid line-of-sight range.
  parameters:
  - name: source
    description: A pointer to the Player object from which the distance measurement
      originates. Must not be null.
  - name: target
    description: A pointer to the Unit object that serves as the destination for the
      distance calculation. Must not be null.
  returns: A float value representing the line-of-sight distance between the source
    player and the target unit in game units (typically yards). Returns 0.0f if either
    parameter is invalid or if there's no valid path between them.
  examples:
  - title: Basic usage to check distance
    code: "Player* player = ...;\nUnit* target = ...;\nfloat distance = LoSUtils::GetLoSDistance(player,\
      \ target);\nif (distance > 0.0f)\n{\n    // Valid line-of-sight distance\n \
      \   std::cout << \"Distance: \" << distance << \" yards\" << std::endl;\n}"
    language: cpp
  - title: Using distance for spell targeting
    code: "Player* player = ...;\nUnit* target = ...;\nfloat maxRange = 30.0f; //\
      \ Example spell range\nfloat distance = LoSUtils::GetLoSDistance(player, target);\n\
      if (distance <= maxRange)\n{\n    // Target is within spell range and in line\
      \ of sight\n    player->CastSpell(target, SPELL_ID, true);\n}\nelse\n{\n   \
      \ // Out of range or not in line of sight\n    player->SendSpellFailed(0, SPELL_ID,\
      \ 0, 1, 0); // Example error message\n}"
    language: cpp
  notes: This method relies on the underlying game engine's collision detection system
    to determine if a clear line of sight exists. It may perform additional checks
    beyond simple Euclidean distance calculation. The result is accurate for gameplay
    purposes but might differ slightly from visual perception due to server-side optimizations
    or network latency handling.
  warnings: Ensure that both Player and Unit pointers are valid before calling this
    method; passing null values will likely result in undefined behavior or crashes.
    Be cautious when using the returned value in performance-critical sections as
    it may involve complex spatial calculations.
  related:
  - GetDistance
  - IsInLineOfSight
  - GetDistance2D
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T01:12:47.502132'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
