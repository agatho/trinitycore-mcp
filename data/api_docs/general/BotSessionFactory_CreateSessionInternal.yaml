api:
  class: BotSessionFactory
  method: CreateSessionInternal
  signature: std::shared_ptr<BotSession> BotSessionFactory::CreateSessionInternal(uint32
    accountId, int characterGuid)
documentation:
  brief: Creates and returns a new bot session for the specified account and character.
  description: The CreateSessionInternal method is responsible for instantiating a
    new BotSession object within the TrinityCore framework. This method serves as
    an internal factory function that manages the creation of bot sessions, linking
    them to specific user accounts and characters. It handles the allocation and initialization
    of session resources necessary for bot operation, including setting up connection
    states, character data references, and session-specific configurations. The method
    ensures proper encapsulation of bot functionality while maintaining integration
    with the core World of Warcraft server architecture.
  parameters:
  - name: accountId
    description: Unique identifier for the player account associated with the bot
      session. Must be a valid, existing account ID in the database.
  - name: characterGuid
    description: Global unique identifier for the character that the bot will control.
      Can be negative to indicate a temporary or unassigned character state.
  returns: A shared pointer to the newly created BotSession object. Returns nullptr
    if session creation fails due to invalid parameters or resource constraints.
  examples:
  - title: Basic bot session creation
    code: "uint32 accountId = 12345;\nint characterGuid = 67890;\nstd::shared_ptr<BotSession>\
      \ session = sessionFactory->CreateSessionInternal(accountId, characterGuid);\n\
      if (session) {\n    // Session successfully created\n    session->Start();\n\
      }"
    language: cpp
  - title: Handling failed session creation
    code: "uint32 accountId = 0;\nint characterGuid = -1;\nstd::shared_ptr<BotSession>\
      \ session = sessionFactory->CreateSessionInternal(accountId, characterGuid);\n\
      if (!session) {\n    // Handle error case\n    sLog->outError(\"Failed to create\
      \ bot session for account %u\", accountId);\n}"
    language: cpp
  notes: This method is typically called internally by the bot management system and
    should not be invoked directly from external modules. The returned BotSession
    object is managed through smart pointers, ensuring automatic memory cleanup when
    no references remain. Implementation details include thread-safe session creation
    and proper initialization of all required session components.
  warnings: Calling this method with invalid account IDs or character GUIDs may result
    in undefined behavior or runtime exceptions. Ensure that the provided identifiers
    correspond to valid entries in the database before invoking this function.
  related:
  - GetSession
  - RemoveSession
  - IsSessionActive
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T05:20:20.438588'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
