api:
  class: BotAI
  method: QueueAction
  signature: void BotAI::QueueAction(std::shared_ptr<Action> action, const ActionContext
    & context)
documentation:
  brief: Queues an action for execution within the bot AI system, associating it with
    a specific context.
  description: The QueueAction method adds a given action to the bot's execution queue,
    allowing the AI to process and execute the action at a later time. This method
    is typically used in the context of TrinityCore's bot AI framework where actions
    are scheduled for execution based on various game conditions or priorities. The
    action is associated with a specific context that provides necessary data or state
    information required for the action to be executed properly. The method does not
    execute the action immediately but rather schedules it for future processing by
    the AI system.
  parameters:
  - name: action
    description: A shared pointer to an Action object that represents the action to
      be queued. This action will be processed by the bot's AI system at a later time.
  - name: context
    description: A constant reference to an ActionContext object containing contextual
      data required for executing the queued action. This context may include target
      information, state variables, or other relevant parameters needed for the action's
      execution.
  returns: null
  examples:
  - title: Basic Action Queueing
    code: 'std::shared_ptr<Action> attackAction = std::make_shared<AttackAction>();

      ActionContext context;

      context.SetTarget(bot->GetVictim());

      botAI->QueueAction(attackAction, context);'
    language: cpp
  - title: Queuing a Movement Action with Context
    code: 'std::shared_ptr<Action> moveAction = std::make_shared<MoveToAction>();

      ActionContext context;

      context.SetPosition(Position(100.0f, 200.0f, 300.0f));

      botAI->QueueAction(moveAction, context);'
    language: cpp
  notes: This method is part of the asynchronous AI processing system in TrinityCore
    bots. The actual execution of queued actions occurs during the bot's update cycle,
    not immediately upon queuing. The ActionContext should contain all necessary data
    for the action to execute correctly, as the action may be executed at a different
    time or under different conditions than when it was queued.
  warnings: Ensure that the shared_ptr to the action remains valid until the action
    is executed, as the AI system will hold a reference to it. Avoid queuing actions
    that are already in progress or have completed, as this can lead to undefined
    behavior or execution errors.
  related:
  - ExecuteAction
  - ClearQueue
  - GetNextAction
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T19:33:46.970393'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
