api:
  class: AuraEffect
  method: HandleAuraModExpertise
  signature: void AuraEffect::HandleAuraModExpertise(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Modifies the target's expertise rating when an aura is applied or removed.
  description: The HandleAuraModExpertise method adjusts the target's expertise rating
    based on the applied aura effect. Expertise reduces the chance for enemies to
    dodge or parry attacks. This method is invoked during aura application or removal
    to update the target's expertise stat accordingly. The change is typically applied
    to the player or creature that has the aura active. It ensures proper stat synchronization
    when an expertise-modifying aura is toggled on or off.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura being
      applied or removed. Contains information about the aura and its target.
  - name: mode
    description: The mode of operation, typically indicating whether the effect is
      being applied (1) or removed (0). Used internally by the aura system to determine
      behavior.
  - name: apply
    description: Boolean flag indicating if the aura is being applied (true) or removed
      (false). Controls the direction of stat modification.
  returns: null
  examples:
  - title: Applying Expertise Aura
    code: "void ApplyExpertiseAura(Unit* target, int32 expertiseValue)\n{\n    AuraApplication*\
      \ aurApp = new AuraApplication(target, target, SpellInfo);\n    AuraEffect*\
      \ auraEff = new AuraEffect(SpellInfo, 0, expertiseValue);\n    auraEff->HandleAuraModExpertise(aurApp,\
      \ 1, true);\n}"
    language: cpp
  - title: Removing Expertise Aura
    code: "void RemoveExpertiseAura(Unit* target)\n{\n    AuraApplication* aurApp\
      \ = target->GetAuraApplication(SpellInfo);\n    if (aurApp)\n    {\n       \
      \ AuraEffect* auraEff = aurApp->GetEffect(0);\n        auraEff->HandleAuraModExpertise(aurApp,\
      \ 1, false);\n    }\n}"
    language: cpp
  notes: This method is part of the TrinityCore's aura handling system and is automatically
    called by the engine when an aura with expertise modification is applied or removed.
    The target unit must support expertise calculations for this method to have any
    meaningful effect.
  warnings: Improper use of this method without valid AuraApplication objects may
    lead to undefined behavior or crashes. Ensure that the aura application and target
    are properly initialized before calling this method.
  related:
  - AuraEffect::HandleAuraModStat
  - AuraEffect::HandleAuraApply
  - AuraEffect::HandleAuraRemove
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T13:24:06.315999'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
