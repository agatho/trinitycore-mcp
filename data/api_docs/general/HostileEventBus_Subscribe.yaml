api:
  class: HostileEventBus
  method: Subscribe
  signature: void HostileEventBus::Subscribe(uint32 zoneId, EventHandler handler)
documentation:
  brief: Registers a handler function to be invoked when hostile events occur in a
    specified zone.
  description: The Subscribe method allows subsystems or modules to register event
    handlers that will be triggered whenever hostile events (such as player aggro,
    NPC hostility changes, or combat initiation) take place within a given zone. This
    mechanism enables modular and decoupled event-driven programming for game logic
    related to player-hostile interactions. The handler function receives notifications
    about these events, allowing for custom behavior implementation without tightly
    coupling components. Handlers are associated with specific zone IDs, ensuring
    that only relevant events trigger the registered callbacks.
  parameters:
  - name: zoneId
    description: The unique identifier of the game zone where hostile events should
      be monitored. This ID corresponds to a specific area in the game world and determines
      which events will invoke the handler.
  - name: handler
    description: A function pointer or callable object that will be invoked when hostile
      events occur in the specified zone. The handler must match the expected signature
      for hostile event notifications within the HostileEventBus system.
  returns: null
  examples:
  - title: Basic Subscription to Hostile Events
    code: "void MyEventHandler(uint32 zoneId, uint32 eventId) {\n    // Handle hostile\
      \ event\n}\n\n// Subscribe to hostile events in zone 1234\nHostileEventBus::Instance()->Subscribe(1234,\
      \ &MyEventHandler);"
    language: cpp
  - title: Using Lambda for Event Handling
    code: "auto lambdaHandler = [](uint32 zoneId, uint32 eventId) {\n    // Custom\
      \ logic for hostile event\n    if (eventId == 1001) {\n        // Handle specific\
      \ hostile event type\n    }\n};\n\nHostileEventBus::Instance()->Subscribe(5678,\
      \ lambdaHandler);"
    language: cpp
  notes: The HostileEventBus is designed to be thread-safe for subscription operations.
    Handlers are invoked synchronously during the event processing loop, so it's important
    that they do not block or perform heavy computations that could impact game performance.
    Multiple handlers can be registered for the same zone ID, and all will be called
    in an unspecified order when events occur.
  warnings: Registering too many handlers for frequently occurring hostile events
    may lead to performance degradation. Avoid performing expensive operations inside
    event handlers. Also, ensure that handler functions remain valid throughout the
    lifetime of the subscription, as dangling pointers can cause undefined behavior.
  related:
  - Unsubscribe
  - Publish
  - GetInstance
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T01:05:53.680416'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
