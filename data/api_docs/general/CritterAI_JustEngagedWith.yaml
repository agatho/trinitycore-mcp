api:
  class: CritterAI
  method: JustEngagedWith
  signature: void CritterAI::JustEngagedWith(int * param0)
documentation:
  brief: Called when the critter enters combat with a target
  description: The JustEngagedWith method is invoked by the TrinityCore AI system
    when a critter (such as a pet or companion creature) transitions into combat mode
    upon engaging with a hostile unit. This method serves as a hook for custom AI
    behavior during the initial engagement phase, allowing developers to implement
    specific actions like playing animations, casting spells, or triggering events.
    The method is part of the CritterAI class which manages the artificial intelligence
    for critters in the game world. It typically executes immediately after the combat
    state is established and before any regular AI tick logic begins.
  parameters:
  - name: param0
    description: Pointer to an integer parameter that may represent the engaged target's
      ID or other contextual data, though exact usage depends on implementation details
      within the specific critter AI configuration.
  returns: null
  examples:
  - title: Basic Override Implementation
    code: "void MyCritterAI::JustEngagedWith(int* targetId)\n{\n    // Play a combat\
      \ sound\n    if (targetId && *targetId > 0)\n    {\n        me->PlayDirectSound(12345);\n\
      \    }\n    // Call base implementation\n    CritterAI::JustEngagedWith(targetId);\n\
      }"
    language: cpp
  - title: Advanced Combat Behavior
    code: "void MyCritterAI::JustEngagedWith(int* targetId)\n{\n    if (!targetId\
      \ || *targetId <= 0)\n        return;\n    \n    // Set initial combat state\n\
      \    me->SetReactState(REACT_AGGRESSIVE);\n    \n    // Cast a spell immediately\
      \ upon engagement\n    if (me->GetEntry() == 12345) // Example critter entry\n\
      \    {\n        DoCast(*targetId, SPELL_CHARGE);\n    }\n    \n    // Log combat\
      \ start\n    sLog->outString(\"Critter %u engaged with target %d\", me->GetEntry(),\
      \ *targetId);\n    \n    CritterAI::JustEngagedWith(targetId);\n}"
    language: cpp
  notes: This method is typically called from within the core AI update loop, so avoid
    performing heavy operations that could block the game thread. The parameter may
    be null or invalid if the engagement occurs under special conditions such as scripted
    events or when the critter has no valid target.
  warnings: Do not call this method directly unless you understand the AI state machine;
    it's intended to be invoked by the core system only. Be cautious about modifying
    the target ID pointer passed in, as it might cause undefined behavior if not handled
    properly.
  related:
  - EnterCombat
  - UpdateAI
  - IsInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T16:01:46.282579'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
