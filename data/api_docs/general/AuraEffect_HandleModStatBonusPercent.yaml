api:
  class: AuraEffect
  method: HandleModStatBonusPercent
  signature: void AuraEffect::HandleModStatBonusPercent(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Applies or removes a percentage-based stat bonus effect from an aura application.
  description: The HandleModStatBonusPercent method is responsible for modifying a
    player's stats by a specified percentage when an aura is applied or removed. This
    method is typically invoked during the application or removal of auras that alter
    character attributes such as strength, agility, intellect, or other stat-based
    modifiers. It adjusts the affected stat values based on the aura's bonus percentage
    and ensures proper synchronization with the player's current state. The method
    operates within the context of the TrinityCore Aura system, handling both the
    application and removal phases of stat modifications.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object that contains information about
      the aura being applied or removed. This parameter determines which aura is affected
      and provides access to the target unit and aura properties.
  - name: mode
    description: Specifies the mode of operation for the aura effect, typically indicating
      whether it's an application (1) or removal (0) event. The exact values may vary
      based on implementation but generally control how the stat modification is processed.
  - name: apply
    description: Boolean flag indicating whether to apply (true) or remove (false)
      the stat bonus. When true, the percentage-based stat modifier is added to the
      target's stats; when false, it is removed.
  returns: null
  examples:
  - title: Applying a Stat Bonus Aura
    code: 'AuraEffect* effect = aura->GetEffect(0);

      effect->HandleModStatBonusPercent(auraApp, 1, true); // Apply stat bonus'
    language: cpp
  - title: Removing a Stat Bonus Aura
    code: 'AuraEffect* effect = aura->GetEffect(0);

      effect->HandleModStatBonusPercent(auraApp, 1, false); // Remove stat bonus'
    language: cpp
  notes: This method is part of the core aura handling system in TrinityCore and should
    only be called from within the aura application lifecycle. The actual stat modification
    logic depends on the specific aura type and effect parameters defined in the spell
    database. Ensure that the aura application object passed to this method is valid
    before calling.
  warnings: Incorrect usage of the mode parameter or passing a null aura application
    pointer can lead to undefined behavior or crashes. Always verify that the aura
    effect is properly initialized and that the target unit exists before invoking
    this method.
  related:
  - AuraEffect::HandleModStat
  - AuraEffect::ApplyAura
  - AuraEffect::RemoveAura
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T12:21:10.057120'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
