api:
  class: HealerPositionStrategy
  method: GetAverageAllyDistance
  signature: float HealerPositionStrategy::GetAverageAllyDistance(const int & pos,
    int allies) const
documentation:
  brief: Calculates and returns the average distance between a specified position
    and a given number of nearby allies in the game world.
  description: The GetAverageAllyDistance method computes the mean distance from a
    provided position to a specified number of allied units within the game world.
    This utility is typically used by healer AI strategies to determine optimal positioning
    relative to group members. The method takes into account the spatial distribution
    of allies around the given point and returns a floating-point value representing
    the average distance in game units. It's particularly useful for positioning decisions
    in group-based encounters where maintaining appropriate spacing between healers
    and targets is crucial for effective healing.
  parameters:
  - name: pos
    description: The reference position index or identifier used to determine the
      starting point for distance calculations. This parameter typically represents
      a specific location in the game world or a unit's current position.
  - name: allies
    description: The number of nearby allies to include in the average distance calculation.
      This value determines how many allied units will be considered when computing
      the mean distance from the reference position.
  returns: A float value representing the calculated average distance between the
    specified position and the given number of allies, measured in game world units.
    Returns 0.0 if no valid allies are found or if the calculation cannot be performed
    due to invalid parameters.
  examples:
  - title: Basic usage for healer positioning
    code: "float avgDistance = strategy.GetAverageAllyDistance(playerPosition, 5);\n\
      if (avgDistance > 10.0f) {\n    // Move closer to allies\n}"
    language: cpp
  - title: Using average distance for tactical decision making
    code: "int currentPosition = GetPlayerPositionIndex();\nfloat avgDist = strategy.GetAverageAllyDistance(currentPosition,\
      \ 3);\nif (avgDist < 5.0f) {\n    // Allies are too close, consider moving to\
      \ spread out\n} else if (avgDist > 15.0f) {\n    // Allies are too far, move\
      \ closer for better healing coverage\n}"
    language: cpp
  notes: This method is part of the AI positioning system and relies on accurate spatial
    data from the game world. The implementation may cache or precompute certain values
    to improve performance during frequent calls. The 'pos' parameter should typically
    correspond to a valid position in the game world, and 'allies' must be a positive
    integer representing the desired number of nearby allies to consider.
  warnings: Ensure that the 'pos' parameter corresponds to a valid game world position;
    otherwise, the method may return incorrect results or zero values. The method
    assumes that ally units are within reasonable proximity for distance calculations
    to be meaningful. Using large values for 'allies' may impact performance if many
    units need to be evaluated.
  related:
  - GetAllyDistance
  - GetNearbyAllies
  - CalculatePositionScore
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T09:17:00.996386'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
