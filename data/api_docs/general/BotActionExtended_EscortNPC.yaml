api:
  class: BotActionExtended
  method: EscortNPC
  signature: BotActionExtended BotActionExtended::EscortNPC(int bot, int escort, uint32
    questId, uint32 timestamp)
documentation:
  brief: Initiates an escort quest for a bot character, assigning it to follow and
    protect a specified NPC.
  description: The EscortNPC method is used in TrinityCore's bot AI system to assign
    a bot character to escort a specific NPC during a quest. This method configures
    the bot's behavior to follow the designated NPC, maintaining proximity and protecting
    it from hostile encounters until the quest objectives are completed or the escort
    is terminated. The method requires the bot identifier, the escort target identifier,
    and a quest ID to properly initialize the escort behavior. It returns a BotActionExtended
    object that represents the configured escort action for further processing within
    the AI system.
  parameters:
  - name: bot
    description: The unique identifier of the bot character that will perform the
      escort action. Must be a valid bot GUID in the database.
  - name: escort
    description: The unique identifier of the NPC that will be escorted by the bot.
      This NPC must exist in the world and be part of the quest scenario.
  - name: questId
    description: The unique identifier of the quest associated with this escort mission.
      Must correspond to a valid quest in the database with escort objectives.
  - name: timestamp
    description: A Unix timestamp indicating when the escort action was initiated.
      Used for tracking and managing quest timers or time-sensitive escort conditions.
  returns: Returns a BotActionExtended object that encapsulates the configured escort
    action, allowing further manipulation or execution within the bot AI system.
  examples:
  - title: Basic Escort Initialization
    code: 'BotActionExtended action = botAI->EscortNPC(12345, 67890, 1234, time(nullptr));

      // Assigns bot with GUID 12345 to escort NPC with GUID 67890 for quest 1234'
    language: cpp
  - title: Escort with Dynamic Timestamp
    code: 'uint32 currentTimestamp = time(nullptr);

      BotActionExtended action = botAI->EscortNPC(botGuid, escortGuid, questId, currentTimestamp);

      // Ensures the escort is initialized with the current system time for accurate
      quest tracking'
    language: cpp
  notes: This method assumes that the specified bot and NPC exist in the database
    and are properly configured for quest participation. The quest must have valid
    escort objectives defined in the quest template. The timestamp parameter is crucial
    for maintaining proper quest state management and should be set to current time
    or a relevant past time for historical quest tracking.
  warnings: Using invalid bot or escort GUIDs will result in undefined behavior or
    failed escort attempts. Ensure that the quest ID corresponds to an actual escort
    quest with valid objectives. The method does not validate if the NPC is already
    being escorted by another bot, which could lead to conflicting AI behaviors.
  related:
  - BotAI::StartQuest
  - BotAI::CompleteQuest
  - BotAI::FollowTarget
  - BotActionExtended::Execute
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T03:34:56.590935'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
