api:
  class: AuraEffect
  method: HandleAuraModStun
  signature: void AuraEffect::HandleAuraModStun(const AuraApplication * aurApp, uint8
    mode, bool apply) const
documentation:
  brief: Applies or removes the stun effect from a target based on the aura application
    state.
  description: The HandleAuraModStun method manages the application and removal of
    the stun mechanic for an aura effect. When applied, it prevents the target from
    moving, casting spells, or performing actions that require physical movement.
    The method interacts with the AuraApplication object to determine the current
    state of the aura and whether to apply or remove the stun effect. This method
    is typically invoked during aura application or removal events within the TrinityCore
    framework's combat system.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object that contains information about
      the aura being applied or removed. This object holds context about which unit
      is affected and the aura's properties.
  - name: mode
    description: The mode of operation for the aura effect, typically indicating how
      the effect should be handled (e.g., application, removal, update). Values may
      vary depending on the aura system implementation.
  - name: apply
    description: Boolean flag indicating whether to apply (true) or remove (false)
      the stun effect. When true, the target is stunned; when false, the stun effect
      is removed.
  returns: null
  examples:
  - title: Basic Stun Application
    code: "void ApplyStunAura(Unit* target)\n{\n    AuraApplication* app = new AuraApplication(target,\
      \ target, SpellInfo::GetSpellInfo(12345));\n    AuraEffect* effect = new AuraEffect();\n\
      \    effect->HandleAuraModStun(app, 0, true);\n}"
    language: cpp
  - title: Removing Stun Effect
    code: "void RemoveStunAura(Unit* target)\n{\n    AuraApplication* app = GetAuraApplication(target,\
      \ 12345);\n    if (app)\n    {\n        AuraEffect* effect = app->GetEffect(0);\n\
      \        effect->HandleAuraModStun(app, 0, false);\n    }\n}"
    language: cpp
  notes: This method is part of the aura handling system in TrinityCore and directly
    interacts with the unit's movement and action state. It should only be called
    from within the proper aura application context to ensure correct behavior.
  warnings: Improper usage of this method outside of the aura application lifecycle
    may lead to inconsistent game state or unexpected behavior for affected units.
    Ensure that the AuraApplication object is valid before calling this method.
  related:
  - AuraEffect::HandleAuraApply
  - AuraEffect::HandleAuraRemove
  - Unit::SetStunned
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T13:04:06.332448'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
