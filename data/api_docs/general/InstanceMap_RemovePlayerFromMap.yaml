api:
  class: InstanceMap
  method: RemovePlayerFromMap
  signature: void InstanceMap::RemovePlayerFromMap(Player * param0, bool param1)
documentation:
  brief: Removes a player from the instance map, handling cleanup of player references
    and related game state.
  description: The RemovePlayerFromMap method is responsible for removing a specified
    player from an instance map. This function ensures that all internal references
    to the player are properly cleared and any necessary cleanup operations are performed.
    The method typically gets called when a player leaves an instance, either through
    death, leaving the zone, or completing a quest. It manages the player's state
    within the instance context and may trigger related events or updates in the game
    world. The boolean parameter controls whether additional cleanup steps should
    be taken, such as removing the player from group associations or updating instance
    timers.
  parameters:
  - name: param0
    description: Pointer to the Player object that needs to be removed from the map.
      Must not be null.
  - name: param1
    description: Boolean flag indicating whether additional cleanup operations should
      be performed. True typically triggers full cleanup including group removal,
      false performs minimal cleanup.
  returns: null
  examples:
  - title: Basic Player Removal
    code: 'Player* player = ...; // Get player reference

      instanceMap->RemovePlayerFromMap(player, true);'
    language: cpp
  - title: Selective Cleanup Removal
    code: 'Player* player = ...;

      // Remove player without full cleanup (e.g., for temporary removal)

      instanceMap->RemovePlayerFromMap(player, false);'
    language: cpp
  notes: This method is typically invoked internally by the game engine when players
    exit instance maps. It's important to ensure that the player pointer passed is
    valid and that the player is actually present in the map before calling this function.
    The method may interact with other systems such as group management, instance
    timers, and player state tracking.
  warnings: Calling this method with a null player pointer will likely cause undefined
    behavior or crashes. Always verify that the player exists in the map before removal.
    Additionally, improper use of the cleanup flag can lead to inconsistent game state
    or memory leaks if related systems aren't properly notified of the player's departure.
  related:
  - AddPlayerToMap
  - IsPlayerInMap
  - GetPlayers
  - GetInstanceId
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T11:29:44.263769'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
