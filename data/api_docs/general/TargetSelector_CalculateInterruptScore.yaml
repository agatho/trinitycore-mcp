api:
  class: TargetSelector
  method: CalculateInterruptScore
  signature: float TargetSelector::CalculateInterruptScore(Unit * target, const SelectionContext
    & context)
documentation:
  brief: Calculates a score representing the priority of interrupting a target unit
    based on selection context.
  description: The CalculateInterruptScore method evaluates and returns a floating-point
    value that represents how desirable it is for an AI-controlled unit to interrupt
    the current spell or ability of the specified target. This score is used internally
    by the TargetSelector class to determine optimal interrupt targets during combat.
    The calculation considers factors such as the target's casting time, spell type,
    threat level, and other contextual data provided in the SelectionContext parameter.
    A higher score indicates a more favorable target for interruption.
  parameters:
  - name: target
    description: Pointer to the Unit object representing the potential interrupt target.
      Must not be null.
  - name: context
    description: Reference to a SelectionContext object containing contextual information
      about the current selection state, including caster status, threat levels, and
      available abilities.
  returns: A float value representing the calculated interrupt score. Higher values
    indicate higher priority for interruption. Returns zero if no valid interrupt
    opportunity exists or if the target is not suitable for interruption.
  examples:
  - title: Basic usage in AI logic
    code: "float score = selector.CalculateInterruptScore(targetUnit, context);\n\
      if (score > 5.0f) {\n    // Initiate interrupt behavior\n}"
    language: cpp
  - title: Using within a custom interrupt decision function
    code: "void CustomInterruptLogic(Unit* caster, const SelectionContext& context)\
      \ {\n    float bestScore = 0.0f;\n    Unit* bestTarget = nullptr;\n    \n  \
      \  for (auto& target : GetNearbyEnemies()) {\n        float score = selector.CalculateInterruptScore(target,\
      \ context);\n        if (score > bestScore) {\n            bestScore = score;\n\
      \            bestTarget = target;\n        }\n    }\n    \n    if (bestTarget\
      \ && bestScore > 3.0f) {\n        // Perform interrupt action\n    }\n}"
    language: cpp
  notes: This method is typically called during AI decision-making processes when
    evaluating potential interrupt opportunities. The score calculation may vary depending
    on the specific AI behavior implementation and the spell types involved. Performance
    is generally acceptable for real-time AI processing, but repeated calls in tight
    loops should be avoided.
  warnings: Ensure that the target parameter is valid and not null before calling
    this method, as passing a null pointer will likely result in undefined behavior
    or crashes. The SelectionContext must also contain valid data; otherwise, the
    calculated score may be inaccurate or misleading.
  related:
  - TargetSelector::SelectTarget
  - TargetSelector::CalculateAggroScore
  - TargetSelector::IsInterruptible
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T18:29:03.314148'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
