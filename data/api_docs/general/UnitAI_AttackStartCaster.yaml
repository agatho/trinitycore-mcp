api:
  class: UnitAI
  method: AttackStartCaster
  signature: void UnitAI::AttackStartCaster(Unit * victim, float dist)
documentation:
  brief: Initiates caster-type combat behavior against a specified target within a
    given distance.
  description: The AttackStartCaster method is used by UnitAI to begin caster-type
    aggressive behavior towards a specified victim unit. This function typically triggers
    when an AI-controlled unit detects a target within its defined range, initiating
    spellcasting or ranged attack behaviors appropriate for caster units. The method
    handles the transition from idle or passive state to active combat mode specifically
    tailored for magical or ranged attackers. It considers the distance parameter
    to determine if the target is within acceptable attacking range before starting
    the combat sequence.
  parameters:
  - name: victim
    description: Pointer to the Unit object that this AI unit will start attacking.
      Must be a valid Unit pointer; null pointers may cause undefined behavior.
  - name: dist
    description: Maximum distance in yards within which the victim must be located
      for combat to begin. This determines whether the caster should engage in combat
      or remain passive.
  returns: null
  examples:
  - title: Basic Caster Attack Start
    code: "if (victim && dist > 0)\n{\n    me->GetAI()->AttackStartCaster(victim,\
      \ dist);\n}"
    language: cpp
  - title: Caster AI with Distance Check
    code: "Unit* target = SelectTarget(SELECT_TARGET_TOPAGGRO, 0, 30.0f, true);\n\
      if (target && me->IsWithinDist(target, 25.0f))\n{\n    me->GetAI()->AttackStartCaster(target,\
      \ 25.0f);\n}"
    language: cpp
  notes: This method is typically called internally by the AI system when a unit's
    threat level or target selection logic determines that combat should begin. It's
    important to note that this function does not directly cast spells but rather
    initiates the appropriate combat state for caster units, which may include spell
    casting or ranged attacks depending on the specific implementation of the AI.
  warnings: Calling AttackStartCaster with a null victim pointer will likely result
    in crashes or undefined behavior. Ensure that the victim is valid and alive before
    invoking this method. Also, be cautious about calling this method repeatedly without
    checking if combat has already started to avoid unnecessary state transitions.
  related:
  - AttackStart
  - DoCast
  - SetReactState
  - AddThreat
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T00:20:38.104026'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
