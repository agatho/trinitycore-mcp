api:
  class: NPCInteractionManager
  method: InteractWithVendor
  signature: bool NPCInteractionManager::InteractWithVendor(Creature * vendor)
documentation:
  brief: Initiates vendor interaction with the specified creature, allowing the player
    to access available items for purchase.
  description: The InteractWithVendor method handles the process of a player engaging
    with a vendor NPC in World of Warcraft. It manages the opening of the vendor's
    item list interface and ensures proper interaction mechanics are followed. This
    method typically checks if the player is within range, has sufficient permissions,
    and that the vendor is valid before proceeding. The interaction includes displaying
    the vendor's inventory to the player and enabling purchase transactions. It may
    also perform necessary state updates for the player and NPC involved in the transaction.
  parameters:
  - name: vendor
    description: Pointer to the Creature object representing the vendor NPC with which
      the player wants to interact. Must be a valid creature instance of type VENDOR.
  returns: Returns true if the vendor interaction was successfully initiated and the
    vendor interface is displayed to the player; returns false if the interaction
    failed due to invalid parameters, out-of-range conditions, or other error states.
  examples:
  - title: Basic Vendor Interaction
    code: "Creature* vendor = player->GetNPCIfCanInteractWith(targetGuid, UNIT_NPC_FLAG_VENDOR);\n\
      if (vendor)\n{\n    NPCInteractionManager interactionManager;\n    bool success\
      \ = interactionManager.InteractWithVendor(vendor);\n    if (success)\n     \
      \   TC_LOG_DEBUG(\"player.interaction\", \"Successfully initiated vendor interaction\
      \ with {}\", vendor->GetName());\n}"
    language: cpp
  notes: This method is typically called internally by the game engine when a player
    right-clicks on a vendor NPC. The implementation may involve checking player faction,
    reputation, and other conditions before allowing vendor interaction. Performance-wise,
    it should be used judiciously as it triggers UI updates and potentially network
    synchronization.
  warnings: Ensure that the vendor pointer is valid and not null before calling this
    method to prevent crashes. Also, verify that the player is within appropriate
    range of the vendor, as the method may silently fail if distance constraints are
    not met.
  related:
  - InteractWithGossip
  - OpenVendorList
  - CanInteractWithVendor
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T23:15:37.591531'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
