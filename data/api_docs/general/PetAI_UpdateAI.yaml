api:
  class: PetAI
  method: UpdateAI
  signature: void PetAI::UpdateAI(int param0)
documentation:
  brief: Updates the pet's AI behavior based on current game state and environment.
  description: The UpdateAI method is responsible for driving the artificial intelligence
    logic of a pet in TrinityCore. It processes the pet's current target, threat level,
    and available actions to determine appropriate behavior such as attacking targets,
    following the owner, or performing specific pet abilities. This method is called
    regularly by the game loop to ensure that the pet responds dynamically to changing
    conditions in the world. The implementation typically evaluates combat states,
    movement patterns, and command responses from the player.
  parameters:
  - name: param0
    description: Time delta in milliseconds since last update call. Used to calculate
      movement speed, ability cooldowns, and behavior timing.
  returns: null
  examples:
  - title: Basic AI Update Call
    code: "void UpdatePetAI(Pet* pet, int deltaTime)\n{\n    if (pet && pet->HasUnitState(UNIT_STATE_CONTROLLED))\n\
      \    {\n        pet->GetAI()->UpdateAI(deltaTime);\n    }\n}"
    language: cpp
  - title: Custom AI Update with State Management
    code: "class CustomPetAI : public PetAI\n{\npublic:\n    void UpdateAI(int diff)\
      \ override\n    {\n        if (!UpdateVictim())\n            return;\n     \
      \   \n        if (me->GetVictim()->IsWithinMeleeRange(me))\n        {\n    \
      \        DoMeleeAttackIfReady();\n        }\n        else\n        {\n     \
      \       // Move towards target or maintain distance\n            DoSpellAttackIfReady();\n\
      \        }\n    }\n};"
    language: cpp
  notes: This method is typically invoked from the core game loop at regular intervals.
    Developers should be aware that AI updates can affect performance if not optimized
    properly, especially for pets with complex behavior trees or frequent state changes.
    The parameter 'deltaTime' must be accurately calculated to ensure consistent timing
    of abilities and movement.
  warnings: Avoid performing heavy operations within UpdateAI as it's called frequently;
    this may cause frame rate drops or lag. Do not modify pet state directly in this
    method without proper locking mechanisms if the AI is accessed from multiple threads.
  related:
  - PetAI::UpdateVictim
  - PetAI::DoMeleeAttackIfReady
  - PetAI::DoSpellAttackIfReady
  - PetAI::MovePetToOwner
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T01:49:29.691871'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
