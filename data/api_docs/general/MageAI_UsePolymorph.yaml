api:
  class: MageAI
  method: UsePolymorph
  signature: void MageAI::UsePolymorph(::Unit * target)
documentation:
  brief: Initiates the Polymorph spell cast on a specified target unit.
  description: The UsePolymorph method is responsible for casting the Polymorph spell
    from a Mage's AI behavior. This method takes a target Unit pointer and attempts
    to apply the Polymorph effect, which transforms the target into a sheep, rendering
    them unable to move or cast spells. The method likely includes checks for spell
    availability, target validity, and proper AI state management before initiating
    the spell cast. It is typically invoked as part of the Mage's combat AI logic
    when the AI determines that Polymorph is an appropriate spell to use against the
    current target.
  parameters:
  - name: target
    description: A pointer to the Unit object that will be targeted by the Polymorph
      spell. This must be a valid Unit instance, typically an enemy creature or player.
      The method will validate that the target is eligible for the Polymorph effect
      (e.g., not already polymorphed, within range, etc.).
  returns: null
  examples:
  - title: Basic Usage in Mage AI
    code: "void MageAI::UpdateAI(uint32 diff)\n{\n    if (!UpdateVictim())\n     \
      \   return;\n\n    Unit* target = GetVictim();\n    if (target && target->IsInWorld())\n\
      \    {\n        UsePolymorph(target);\n    }\n}"
    language: cpp
  notes: The method likely integrates with the AI's spell casting system and may include
    cooldown management, line-of-sight checks, and target selection logic. It should
    only be called when the Mage has sufficient mana and the Polymorph spell is available
    in their spellbook.
  warnings: Ensure that the target pointer is valid before calling this method to
    avoid potential crashes or undefined behavior. The method assumes proper AI state
    management and may not handle all edge cases related to spell casting failures
    or interruptions.
  related:
  - CastSpell
  - IsSpellReady
  - GetTarget
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T00:34:59.883159'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
