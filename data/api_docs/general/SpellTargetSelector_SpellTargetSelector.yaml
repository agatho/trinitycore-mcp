api:
  class: SpellTargetSelector
  method: SpellTargetSelector
  signature: void SpellTargetSelector::SpellTargetSelector(Unit * caster, uint32 spellId)
documentation:
  brief: Initializes a SpellTargetSelector with the specified caster unit and spell
    ID for target selection logic.
  description: The SpellTargetSelector constructor initializes the target selection
    mechanism for a given spell cast by a specific unit. This method sets up internal
    state required to determine valid spell targets based on spell properties, caster
    attributes, and game rules. The selector typically handles target validation,
    range checking, line-of-sight requirements, and target type restrictions defined
    by the spell's effects. It prepares the selector for subsequent calls to find
    appropriate targets using methods like SelectTarget(). This initialization is
    crucial for proper spell targeting behavior in TrinityCore's combat system.
  parameters:
  - name: caster
    description: Pointer to the Unit object that is casting the spell. Must be a valid
      unit instance, typically a player or creature. Cannot be NULL.
  - name: spellId
    description: The numeric identifier of the spell being cast. This ID must correspond
      to a valid spell entry in the database. Used to retrieve spell properties for
      target validation logic.
  returns: null
  examples:
  - title: Basic SpellTargetSelector Initialization
    code: 'Unit* player = ...; // Get player unit

      uint32 fireballSpellId = 133;

      SpellTargetSelector selector(player, fireballSpellId);

      // Selector is now ready to find valid targets for Fireball spell'
    language: cpp
  - title: Using SpellTargetSelector in Spell Cast Logic
    code: "void CastSpellOnTarget(Unit* caster, uint32 spellId)\n{\n    SpellTargetSelector\
      \ selector(caster, spellId);\n    Unit* target = selector.SelectTarget(SELECT_TARGET_RANDOM,\
      \ 0, 10.0f, true);\n    if (target)\n    {\n        // Proceed with casting\n\
      \        caster->CastSpell(target, spellId, true);\n    }\n}"
    language: cpp
  notes: The SpellTargetSelector does not perform actual spell casting or target selection
    in this constructor. It only initializes the internal state for later use by methods
    like SelectTarget(). The selector may cache spell data and caster information
    for performance reasons. This class is part of TrinityCore's spell targeting system
    and works in conjunction with other spell-related classes.
  warnings: Ensure that the caster parameter is a valid, non-null Unit pointer before
    calling this constructor. Passing an invalid or destroyed unit pointer can lead
    to undefined behavior. The spellId must correspond to an existing spell entry;
    otherwise, target selection logic may not work as expected.
  related:
  - SelectTarget
  - SelectTargetList
  - GetCaster
  - GetSpellId
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T15:17:37.176194'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
