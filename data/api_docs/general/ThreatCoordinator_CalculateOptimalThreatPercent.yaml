api:
  class: ThreatCoordinator
  method: CalculateOptimalThreatPercent
  signature: float ThreatCoordinator::CalculateOptimalThreatPercent(int botGuid, ThreatRole
    role) const
documentation:
  brief: Calculates the optimal threat percentage for a bot based on its role and
    GUID within the ThreatCoordinator system.
  description: The CalculateOptimalThreatPercent method determines the appropriate
    threat percentage that a bot should maintain while engaging in combat, taking
    into account the bot's unique identifier (GUID) and assigned ThreatRole. This
    calculation is essential for proper threat management in group scenarios, ensuring
    that bots fulfill their designated roles such as tanking, DPS, or support without
    over-threatening or under-threatening. The method uses internal logic to balance
    threat distribution among group members according to predefined rules and game
    mechanics. It relies on the bot's GUID to identify specific configurations and
    role-based behaviors, making it a dynamic calculation that adapts to different
    combat situations.
  parameters:
  - name: botGuid
    description: The unique identifier (GUID) of the bot for which to calculate optimal
      threat percentage. This value is used to retrieve specific bot configuration
      data and role assignments.
  - name: role
    description: The ThreatRole assigned to the bot, determining how threat should
      be calculated. Valid roles typically include Tank, DPS, or Support, each with
      different threat management strategies.
  returns: A float value representing the optimal threat percentage for the specified
    bot and role. This value typically ranges from 0.0 to 100.0, where 0.0 indicates
    no threat should be generated and 100.0 represents maximum threat generation.
  examples:
  - title: Basic usage example
    code: float optimalThreat = threatCoordinator.CalculateOptimalThreatPercent(12345,
      ThreatRole::Tank);
    language: cpp
  - title: Using with dynamic role assignment
    code: 'ThreatRole role = GetBotRole(botGuid);

      float threatPercent = threatCoordinator.CalculateOptimalThreatPercent(botGuid,
      role);

      // Use threatPercent to set bot''s threat generation level

      '
    language: cpp
  notes: This method is part of the ThreatCoordinator system and likely caches calculations
    for performance. The actual implementation may involve complex interactions with
    combat state, group composition, and AI behavior trees. Developers should be aware
    that threat percentages are calculated dynamically based on current group dynamics
    and not static values.
  warnings: Ensure that botGuid corresponds to an active bot in the system, otherwise
    the method may return unexpected or invalid values. The ThreatRole parameter must
    be valid; invalid roles could lead to undefined behavior or incorrect threat calculations.
  related:
  - GetBotThreatLevel
  - SetOptimalThreatPercent
  - UpdateThreatDistribution
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T18:23:44.612999'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
