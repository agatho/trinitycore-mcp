api:
  class: ShamanAI
  method: HandleTotemManagement
  signature: bool ShamanAI::HandleTotemManagement(int * target)
documentation:
  brief: Manages totem placement and removal for a shaman AI unit
  description: The HandleTotemManagement method is responsible for controlling the
    placement, updating, and removal of totems within the shaman AI's behavior system.
    This method evaluates the current state of totems in the shaman's possession and
    determines whether new totems should be placed, existing ones should be moved,
    or obsolete totems should be removed based on combat conditions, spell requirements,
    and totem cooldowns. It integrates with the shaman's overall AI decision-making
    process to ensure optimal totem usage during encounters.
  parameters:
  - name: target
    description: Pointer to an integer representing the target unit for totem placement.
      If null or invalid, the method will determine an appropriate target based on
      current threat or combat state.
  returns: Returns true if totem management was successfully handled and at least
    one totem operation occurred; returns false if no action was taken or if all totem
    operations failed due to constraints such as cooldowns, invalid targets, or insufficient
    resources.
  examples:
  - title: Basic totem management call
    code: "ShamanAI* shamanAI = static_cast<ShamanAI*>(unit->GetAI());\nint targetId\
      \ = 42;\nbool result = shamanAI->HandleTotemManagement(&targetId);\nif (result)\n\
      {\n    // Totem management was performed\n}"
    language: cpp
  - title: Using null target for automatic target selection
    code: "ShamanAI* shamanAI = static_cast<ShamanAI*>(unit->GetAI());\nbool result\
      \ = shamanAI->HandleTotemManagement(nullptr);\nif (result)\n{\n    // Totems\
      \ were managed with auto-selected targets\n}"
    language: cpp
  notes: This method is typically called during the AI update cycle and may interact
    with other shaman-specific AI components such as spell casting logic and threat
    management. The method respects totem cooldowns and resource limitations, ensuring
    that no more than the maximum allowed totems are active at any time.
  warnings: Improper handling of the target parameter can lead to invalid totem placements
    or failure to manage existing totems properly. Always validate the target unit
    before passing it to this method, especially in dynamic combat scenarios where
    units may become invalid or untargetable.
  related:
  - ShamanAI::UpdateTotems
  - ShamanAI::CheckTotemSpells
  - ShamanAI::PlaceTotem
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T19:43:58.793696'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
