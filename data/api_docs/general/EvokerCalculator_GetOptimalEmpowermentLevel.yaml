api:
  class: EvokerCalculator
  method: GetOptimalEmpowermentLevel
  signature: EmpowermentLevel EvokerCalculator::GetOptimalEmpowermentLevel(int spellId,
    int * caster, int * target)
documentation:
  brief: Calculates and returns the optimal empowerment level for a given spell based
    on caster and target parameters.
  description: The GetOptimalEmpowermentLevel method determines the most effective
    empowerment level for a specified spell within the Evoker class mechanics. It
    evaluates the interaction between the caster's current state, the target's condition,
    and the spell's properties to return an appropriate EmpowermentLevel enum value.
    This method is crucial for determining spell effectiveness in scenarios involving
    Evoker's empowerment mechanics, such as when casting spells like 'Emerald Blossom'
    or 'Dream Breath'. The method requires valid spell ID and references to caster
    and target data structures to perform its calculations accurately.
  parameters:
  - name: spellId
    description: The unique identifier of the spell for which to calculate the optimal
      empowerment level. Must correspond to a valid Evoker spell in the game database.
  - name: caster
    description: Pointer to an integer representing the caster's current state or
      attribute value that influences empowerment calculation. Typically refers to
      the caster's mana, health, or specialization level.
  - name: target
    description: Pointer to an integer representing the target's current state or
      attribute value that affects empowerment effectiveness. May represent target's
      health, debuff count, or threat level.
  returns: Returns an EmpowermentLevel enum value indicating the calculated optimal
    empowerment tier for the specified spell. Possible values may include LEVEL_1,
    LEVEL_2, LEVEL_3, or NONE depending on the calculated effectiveness based on input
    parameters.
  examples:
  - title: Basic Usage Example
    code: 'int casterState = 100;

      int targetState = 50;

      EmpowermentLevel level = calculator.GetOptimalEmpowermentLevel(32578, &casterState,
      &targetState);

      // Returns the optimal empowerment level for Emerald Blossom'
    language: cpp
  - title: Advanced Usage with Dynamic Values
    code: "int casterMana = player->GetPower(POWER_MANA);\nint targetDebuffs = target->GetAuraCount(SPELL_AURA_PERIODIC_DAMAGE);\n\
      EmpowermentLevel optimalLevel = calculator.GetOptimalEmpowermentLevel(32578,\
      \ &casterMana, &targetDebuffs);\nif (optimalLevel != LEVEL_NONE) {\n    // Apply\
      \ empowerment effect\n}"
    language: cpp
  notes: This method is typically used during spell casting logic to determine the
    correct empowerment tier before applying effects. The calculation may involve
    complex interactions between multiple factors including player stats, target conditions,
    and spell-specific modifiers. Ensure that the input parameters are properly initialized
    before calling this method.
  warnings: Calling this method with null pointers for caster or target will result
    in undefined behavior. Always validate that the spellId corresponds to a valid
    Evoker spell before invoking this method. Incorrect parameter values may lead
    to invalid empowerment levels being returned.
  related:
  - GetEmpowermentLevel
  - CalculateSpellEffect
  - ApplyEmpowerment
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T08:45:23.240198'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
