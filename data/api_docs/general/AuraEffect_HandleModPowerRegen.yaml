api:
  class: AuraEffect
  method: HandleModPowerRegen
  signature: void AuraEffect::HandleModPowerRegen(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Modifies the power regeneration rate of a unit affected by an aura.
  description: The HandleModPowerRegen method is responsible for adjusting how quickly
    a unit's power (such as mana, rage, or energy) regenerates while under the influence
    of an aura. This method is typically invoked during aura application or removal
    to update the unit's power regeneration mechanics. It takes into account whether
    the aura is being applied or removed, and modifies the relevant power regeneration
    rate accordingly. The method operates on the AuraApplication context to determine
    which unit is affected and how the change should be implemented within the game's
    power system.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object that contains information about
      the aura being applied or removed. This parameter specifies which unit is affected
      by the aura and provides context for the power regeneration change.
  - name: mode
    description: An unsigned 8-bit integer indicating the mode of operation, typically
      used to specify whether the effect should be applied in a specific context such
      as combat or non-combat. Valid values are usually defined by the game's internal
      aura handling logic.
  - name: apply
    description: A boolean flag that determines whether the power regeneration modification
      is being applied (true) or removed (false). When true, the aura's effect increases
      the power regeneration rate; when false, it reverts to the previous state.
  returns: null
  examples:
  - title: Applying Power Regen Aura
    code: "void ApplyManaRegenAura(Unit* target)\n{\n    AuraApplication* app = new\
      \ AuraApplication(target, target, SpellInfo);\n    AuraEffect* effect = new\
      \ AuraEffect();\n    effect->HandleModPowerRegen(app, 0, true);\n}"
    language: cpp
  - title: Removing Power Regen Aura
    code: "void RemoveManaRegenAura(Unit* target)\n{\n    AuraApplication* app = GetAuraApplication(target);\n\
      \    if (app)\n    {\n        AuraEffect* effect = GetAuraEffect(app);\n   \
      \     effect->HandleModPowerRegen(app, 0, false);\n    }\n}"
    language: cpp
  notes: This method directly affects the unit's power regeneration rate and should
    be used carefully to avoid unintended gameplay effects. The mode parameter may
    influence how the regeneration is calculated, especially in different combat states.
    Ensure that aura applications are properly managed to prevent memory leaks or
    incorrect state changes.
  warnings: Improper handling of the apply flag can lead to inconsistent power regeneration
    behavior. Always verify that the AuraApplication object is valid before calling
    this method to avoid crashes or undefined behavior. Be cautious when modifying
    power regeneration rates in high-frequency scenarios as it may impact performance.
  related:
  - AuraEffect::HandleModPowerRegen
  - AuraEffect::ApplyAura
  - AuraEffect::RemoveAura
  - Unit::SetPowerRegen
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T12:28:11.497959'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
