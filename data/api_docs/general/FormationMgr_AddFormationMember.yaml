api:
  class: FormationMgr
  method: AddFormationMember
  signature: void FormationMgr::AddFormationMember(int spawnId, float followAng, float
    followDist, int leaderSpawnId, uint32 groupAI)
documentation:
  brief: Adds a creature spawn to a formation with specified follow angle, distance,
    and leader.
  description: The AddFormationMember method registers a creature spawn ID into a
    formation group, defining its positioning relative to a leader creature. It specifies
    the angular offset from the leader's facing direction and the radial distance
    to maintain. This functionality is used for AI-controlled group movement patterns
    in World of Warcraft, allowing creatures to follow a leader in a structured formation.
    The method requires valid spawn IDs and proper group AI settings to ensure correct
    behavior.
  parameters:
  - name: spawnId
    description: The unique identifier of the creature spawn to be added to the formation.
  - name: followAng
    description: The angular offset (in radians) from the leader's facing direction
      that this member should follow.
  - name: followDist
    description: The radial distance (in yards) that this member should maintain from
      the leader.
  - name: leaderSpawnId
    description: The unique identifier of the creature spawn that acts as the formation
      leader.
  - name: groupAI
    description: A bitmask value indicating the AI behavior group for this formation
      member (e.g., 1 for basic movement, 2 for combat behavior).
  returns: null
  examples:
  - title: Basic Formation Member Addition
    code: 'FormationMgr* mgr = sFormationMgr;

      mgr->AddFormationMember(12345, M_PI / 4, 3.0f, 12340, 1); // Add spawn 12345
      at 45-degree angle and 3 yards from leader 12340'
    language: cpp
  notes: This method does not validate whether the provided spawn IDs are valid or
    exist in the world. It assumes that all parameters are correctly initialized before
    calling. The groupAI parameter is crucial for determining how the formation behaves
    during combat and movement.
  warnings: Incorrectly setting followAng or followDist may result in creatures overlapping
    or being positioned too far from the leader, leading to unnatural AI behavior.
    Ensure that leaderSpawnId refers to an existing creature spawn that will be active
    in the world.
  related:
  - RemoveFormationMember
  - GetFormationMember
  - SetFormationLeader
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T07:28:28.145634'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
