api:
  class: NPCInteractionManager
  method: SellToVendor
  signature: bool NPCInteractionManager::SellToVendor(Creature * vendor)
documentation:
  brief: Sells player's items to a vendor creature and updates the player's inventory
    and money.
  description: The SellToVendor method processes the sale of items from the player's
    inventory to a specified vendor creature. It iterates through the player's inventory,
    identifies items that can be sold (typically non-equipped, non-bound items), calculates
    their sell value based on the vendor's pricing rules, and updates both the player's
    money and inventory accordingly. The method ensures proper transaction handling
    by checking item validity, vendor compatibility, and player state before proceeding
    with the sale. This function is typically invoked during NPC interaction when
    a player selects to sell items to a vendor.
  parameters: []
  returns: Returns true if the selling process completed successfully and at least
    one item was sold; returns false if no items were eligible for sale or if an error
    occurred during processing.
  examples:
  - title: Basic Vendor Sell Usage
    code: "if (player->GetNPCInteractionManager()->SellToVendor(vendorCreature)) {\n\
      \    player->SendNotification(\"Items sold to vendor.\");\n} else {\n    player->SendNotification(\"\
      No items available to sell.\");\n}"
    language: cpp
  notes: This method assumes that the player has already initiated interaction with
    the vendor and that the vendor is valid. The method internally handles item filtering,
    value calculation, and money updates. Performance considerations include inventory
    traversal which may be significant for players with many items.
  warnings: Do not call this method directly without verifying that the player is
    properly interacting with a valid vendor. Calling this method in inappropriate
    contexts (e.g., with a non-vendor creature) may lead to undefined behavior or
    incorrect game state updates.
  related:
  - BuyFromVendor
  - CanSellItem
  - GetVendorItemCost
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T23:11:32.929774'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
