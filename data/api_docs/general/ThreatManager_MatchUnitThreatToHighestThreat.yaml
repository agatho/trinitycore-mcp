api:
  class: ThreatManager
  method: MatchUnitThreatToHighestThreat
  signature: void ThreatManager::MatchUnitThreatToHighestThreat(Unit * target)
documentation:
  brief: Matches the threat level of a unit to the highest threat in the threat manager.
  description: The MatchUnitThreatToHighestThreat method adjusts the threat value
    of a specified unit to match the highest threat level currently present in the
    ThreatManager. This ensures that the target unit's threat is aligned with the
    maximum threat, typically used during threat redistribution or when resetting
    unit-specific threat values. The method operates on the assumption that there
    is at least one valid threat entry in the manager. It does not directly modify
    the threat of other units but rather sets the specified unit's threat to match
    the highest existing value.
  parameters:
  - name: target
    description: Pointer to the Unit object whose threat level will be matched to
      the highest threat in the ThreatManager. Must be a valid pointer to an existing
      Unit.
  returns: null
  examples:
  - title: Matching Unit Threat to Highest Threat
    code: 'Unit* targetUnit = ...; // Assume this is a valid unit

      threatManager->MatchUnitThreatToHighestThreat(targetUnit);'
    language: cpp
  notes: This method should be used carefully in scenarios where threat management
    is critical, such as during boss fights or when managing mob aggro. It may have
    performance implications if called frequently on large threat lists. The method
    assumes the target unit exists and has a valid threat entry.
  warnings: Ensure that the target unit is not null before calling this method to
    avoid undefined behavior. If no threats exist in the ThreatManager, the behavior
    of this function may be unpredictable or result in an invalid threat value.
  related:
  - AddThreat
  - GetHighestThreat
  - RemoveThreat
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T09:44:37.843396'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
