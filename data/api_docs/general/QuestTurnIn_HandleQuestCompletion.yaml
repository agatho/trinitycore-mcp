api:
  class: QuestTurnIn
  method: HandleQuestCompletion
  signature: void QuestTurnIn::HandleQuestCompletion(Player * bot, uint32 questId)
documentation:
  brief: Completes a quest for the specified player and processes quest rewards.
  description: The HandleQuestCompletion method is responsible for finalizing a quest
    that has been turned in by a player. It verifies the quest completion conditions,
    grants experience points, items, and other rewards as defined in the quest template,
    and updates the player's quest log accordingly. This method ensures that all quest-related
    game mechanics are properly executed upon successful quest completion. The method
    assumes that the player has met all prerequisites for quest completion and that
    the quest is valid within the game context.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the character completing
      the quest. Must be a valid player instance with an active session.
  - name: questId
    description: Unique identifier (ID) of the quest being completed. Must correspond
      to a valid quest in the game database.
  returns: null
  examples:
  - title: Basic Quest Completion
    code: 'Player* player = ...; // Get player reference

      uint32 questId = 12345;

      QuestTurnIn::HandleQuestCompletion(player, questId);'
    language: cpp
  - title: Conditional Quest Completion with Error Handling
    code: "if (player && player->GetQuestStatus(questId) == QUEST_STATUS_COMPLETE)\n\
      {\n    QuestTurnIn::HandleQuestCompletion(player, questId);\n}\nelse\n{\n  \
      \  // Handle invalid quest state\n}"
    language: cpp
  notes: This method internally calls various subsystems including quest reward distribution,
    experience calculation, and quest log updates. It should only be invoked when
    the player has successfully met all quest requirements. The method does not validate
    whether the player actually completed the quest objectives; that validation must
    occur before calling this function.
  warnings: Calling this method without verifying that the quest is actually complete
    may result in incorrect reward distribution or game state corruption. Ensure that
    all preconditions are met before invoking HandleQuestCompletion to avoid unexpected
    behavior.
  related:
  - Player::GetQuestStatus
  - Player::AddQuest
  - Player::RewardQuest
  - Quest::GetRewards
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T04:30:18.904170'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
