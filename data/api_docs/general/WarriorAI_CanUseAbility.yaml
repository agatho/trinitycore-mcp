api:
  class: WarriorAI
  method: CanUseAbility
  signature: bool WarriorAI::CanUseAbility(uint32 spellId)
documentation:
  brief: Determines whether a warrior AI can use a specified spell ability based on
    current game state and resource requirements.
  description: The CanUseAbility method evaluates if a warrior AI character is capable
    of casting a given spell by checking various conditions such as mana or rage availability,
    cooldown status, target validity, and other combat-related constraints. This method
    is typically used within the AI decision-making process to ensure that only valid
    abilities are selected for execution. It integrates with the core TrinityCore
    game engine's ability system and respects the rules of spell casting mechanics
    in World of Warcraft. The function returns true if all prerequisites for casting
    the spell are met, otherwise false.
  parameters:
  - name: spellId
    description: The unique identifier of the spell to be evaluated for use. This
      must correspond to a valid spell entry in the game's database.
  returns: True if the warrior AI can currently cast the specified spell, considering
    all relevant conditions such as resource levels, cooldowns, and target requirements;
    false otherwise.
  examples:
  - title: Basic Usage Check
    code: "if (warriorAI->CanUseAbility(71)) {\n    // Execute Shield Slam\n    warriorAI->DoCastVictim(71);\n\
      }"
    language: cpp
  - title: Conditional Ability Selection
    code: "uint32 bestAbility = 0;\nif (warriorAI->CanUseAbility(1680)) {\n    bestAbility\
      \ = 1680; // Whirlwind\n} else if (warriorAI->CanUseAbility(71)) {\n    bestAbility\
      \ = 71;   // Shield Slam\n}\nif (bestAbility != 0) {\n    warriorAI->DoCastVictim(bestAbility);\n\
      }"
    language: cpp
  notes: This method relies on the internal state of the AI and may depend on recent
    updates from the game engine's combat system. It does not perform any direct spell
    casting but rather acts as a validator for ability usage. Developers should ensure
    that the spellId passed is valid and registered within the TrinityCore database.
  warnings: Calling this method without verifying that the spell exists in the database
    may lead to undefined behavior or crashes. Additionally, this function does not
    account for temporary buffs or debuffs that might affect spell usability outside
    of standard resource checks.
  related:
  - DoCastVictim
  - CanUseSpell
  - GetNextSpell
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T15:40:17.843945'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
