api:
  class: CreatureAI
  method: JustStartedThreateningMe
  signature: void CreatureAI::JustStartedThreateningMe(int * who)
documentation:
  brief: Called when the creature begins targeting a player or unit for threat.
  description: The JustStartedThreateningMe method is invoked by the CreatureAI system
    when a creature starts to actively threaten a target, typically a player or another
    unit. This event occurs during combat initialization or when the creature's threat
    table is updated with a new target. The method allows custom AI implementations
    to respond to this specific event, such as triggering special animations, playing
    sounds, or initiating unique behaviors. It serves as a notification mechanism
    for AI developers to customize how their creatures react when they begin to focus
    on a particular target.
  parameters:
  - name: who
    description: Pointer to an integer representing the identifier of the unit that
      is now being threatened. This value corresponds to the target's GUID or similar
      identification mechanism used internally by TrinityCore.
  returns: null
  examples:
  - title: Basic AI Reaction on Threat Start
    code: "void MyCreatureAI::JustStartedThreateningMe(int* who)\n{\n    if (who)\n\
      \    {\n        // Play a sound when the creature starts targeting someone\n\
      \        me->PlayDirectSound(12345);\n        // Log the event\n        TC_LOG_INFO(\"\
      ai\", \"Creature %u started threatening target %i\", me->GetEntry(), *who);\n\
      \    }\n}"
    language: cpp
  notes: This method is part of the CreatureAI callback system and should be overridden
    in custom AI implementations. It is called from within the core AI update loop,
    so performance considerations are important for complex logic. The parameter 'who'
    may be null if the threat target is invalid or has been removed.
  warnings: Ensure that any logic inside this method does not block or cause long-running
    operations, as it's called during the AI update cycle. Also, verify that the pointer
    passed in is valid before dereferencing it to avoid crashes.
  related:
  - CreatureAI::JustStoppedThreateningMe
  - CreatureAI::EnterCombat
  - CreatureAI::AttackStart
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T16:26:40.684303'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
