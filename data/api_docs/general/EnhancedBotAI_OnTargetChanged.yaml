api:
  class: EnhancedBotAI
  method: OnTargetChanged
  signature: void EnhancedBotAI::OnTargetChanged(Unit * newTarget)
documentation:
  brief: Handles the event when a bot's target changes in the EnhancedBotAI system
  description: The OnTargetChanged method is invoked whenever a bot controlled by
    the EnhancedBotAI system switches from one target to another. This method serves
    as a callback mechanism that allows the AI to react to target changes, potentially
    updating its behavior, spell casting decisions, or movement patterns. The method
    receives the new target unit as a parameter and can be used to perform actions
    such as recalculating threat levels, adjusting combat strategies, or triggering
    specific AI behaviors based on the type of target. This is a core part of the
    bot's reactive AI system that ensures appropriate responses to dynamic battlefield
    conditions.
  parameters:
  - name: newTarget
    description: Pointer to the Unit object representing the new target. Can be nullptr
      if the bot is no longer targeting any unit.
  returns: null
  examples:
  - title: Basic target change handling
    code: "void EnhancedBotAI::OnTargetChanged(Unit* newTarget)\n{\n    if (newTarget)\n\
      \    {\n        // Update bot's combat behavior based on new target\n      \
      \  m_bot->SetReactState(REACT_AGGRESSIVE);\n        m_bot->Attack(newTarget,\
      \ true);\n    }\n    else\n    {\n        // Bot has no target, return to passive\
      \ state\n        m_bot->SetReactState(REACT_PASSIVE);\n    }\n}"
    language: cpp
  notes: This method is typically called from within the AI's main update loop or
    as a result of combat state changes. The implementation should be lightweight
    to avoid performance issues during frequent target switches. Consider caching
    target information for performance if the method is called very frequently.
  warnings: Ensure that newTarget is properly validated before use, as it may be nullptr
    when the bot loses its target. Avoid performing heavy operations in this method
    that could block the AI update cycle.
  related:
  - GetTarget
  - SetTarget
  - UpdateAI
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T14:41:01.546773'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
