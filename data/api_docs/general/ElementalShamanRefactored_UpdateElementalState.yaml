api:
  class: ElementalShamanRefactored
  method: UpdateElementalState
  signature: void ElementalShamanRefactored::UpdateElementalState()
documentation:
  brief: Updates the elemental state of the shaman, including managing active elemental
    effects and their durations.
  description: The UpdateElementalState method is responsible for maintaining and
    updating the current elemental state of an Elemental Shaman character. This includes
    managing the activation, deactivation, and duration tracking of elemental effects
    such as Earth Shield, Water Shield, and other elemental auras. The method typically
    runs during each game tick or update cycle to ensure that elemental buffs are
    properly applied, refreshed, and removed according to game mechanics and player
    actions. It may also handle transitions between different elemental states (e.g.,
    from Fire to Air) when switching between elemental spells or abilities.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Game Loop
    code: "void GameLoop()\n{\n    // ... other game logic ...\n    shaman.UpdateElementalState();\n\
      \    // ... continue game loop ...\n}"
    language: cpp
  - title: Integration with Spell Casting
    code: "void CastSpell(SpellId spell)\n{\n    // ... cast logic ...\n    if (spell\
      \ == SPELL_EARTH_SHIELD)\n    {\n        shaman.UpdateElementalState();\n  \
      \  }\n}"
    language: cpp
  notes: This method is typically called from the main update loop or in response
    to specific player actions. It may perform checks for aura expiration, apply new
    elemental effects, and manage cooldowns associated with elemental abilities. The
    implementation likely interacts with the player's aura system and spell casting
    framework.
  warnings: Calling this method outside of the proper game update context may lead
    to inconsistent elemental state management or visual glitches. Ensure that all
    elemental effects are properly initialized before calling this method.
  related:
  - GetElementalState
  - ApplyElementalEffect
  - RemoveElementalEffect
  - IsElementalActive
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T06:01:24.306717'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
