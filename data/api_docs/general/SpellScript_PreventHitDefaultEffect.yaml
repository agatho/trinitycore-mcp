api:
  class: SpellScript
  method: PreventHitDefaultEffect
  signature: void SpellScript::PreventHitDefaultEffect(int effIndex)
documentation:
  brief: Prevents the default effect of a spell hit from executing for the specified
    effect index.
  description: The PreventHitDefaultEffect method is used within SpellScript implementations
    to halt the execution of a spell's default hit effect for a specific effect index.
    This allows custom spell behavior to override or suppress the standard effects
    that would normally occur when a spell successfully hits a target. The method
    is typically called during spell hit processing, and it prevents the default effect
    from running while still allowing other scripted actions to proceed. It is important
    to note that this method only affects the specified effect index and does not
    prevent other effects or the overall spell execution.
  parameters:
  - name: effIndex
    description: The index of the spell effect for which to prevent the default hit
      behavior. This corresponds to the effect index in the spell's effect array,
      typically ranging from 0 to the number of effects minus one.
  returns: null
  examples:
  - title: Prevent Default Effect on First Spell Effect
    code: "class MySpellScript : public SpellScript\n{\npublic:\n    void HandleHit()\
      \ override\n    {\n        // Prevent the default effect of the first spell\
      \ effect from executing\n        PreventHitDefaultEffect(0);\n    }\n};"
    language: cpp
  - title: Conditional Prevention Based on Target Type
    code: "class AdvancedSpellScript : public SpellScript\n{\npublic:\n    void HandleHit()\
      \ override\n    {\n        if (GetHitUnit()->GetTypeId() == TYPEID_PLAYER)\n\
      \        {\n            // Prevent default effect for players\n            PreventHitDefaultEffect(0);\n\
      \        }\n    }\n};"
    language: cpp
  notes: This method should be called during the spell hit phase, typically within
    the HandleHit() or similar override methods of SpellScript. It only prevents the
    default effect execution and does not affect other parts of spell processing such
    as damage calculation or additional effects. The method is particularly useful
    for implementing custom spell behaviors that need to override standard mechanics
    without completely disabling the spell.
  warnings: Calling PreventHitDefaultEffect with an invalid effect index (e.g., greater
    than or equal to the number of spell effects) may result in undefined behavior.
    Ensure that the effect index is valid and corresponds to an actual effect in the
    spell definition. Also, be aware that preventing default effects may break expected
    game mechanics, so use this method carefully.
  related:
  - SpellScript::PreventHit
  - SpellScript::SetHit
  - SpellScript::GetEffectIndex
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T21:01:14.928038'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
