api:
  class: AuctionEventBus
  method: Subscribe
  signature: void AuctionEventBus::Subscribe(BotAI * subscriber, const int & types)
documentation:
  brief: Registers a BotAI subscriber to receive auction event notifications of specified
    types
  description: The Subscribe method allows a BotAI instance to register itself with
    the AuctionEventBus to receive notifications about auction events. The method
    takes a pointer to the BotAI subscriber and a bitmask of event types to subscribe
    to. This enables bots to react to specific auction activities such as item listings,
    bids, or sales without requiring constant polling. The subscription mechanism
    is designed to support efficient event distribution within the TrinityCore auction
    system.
  parameters:
  - name: subscriber
    description: Pointer to the BotAI instance that wants to receive auction events.
      Must be a valid, initialized BotAI object.
  - name: types
    description: Bitmask representing the types of auction events the subscriber wishes
      to receive. Individual event types are typically defined as constants (e.g.,
      AUCTION_EVENT_LISTING, AUCTION_EVENT_BID, etc.) that can be combined using bitwise
      OR operations.
  returns: null
  examples:
  - title: Basic Subscription Example
    code: 'BotAI* myBot = new BotAI();

      int eventTypes = AUCTION_EVENT_LISTING | AUCTION_EVENT_BID;

      AuctionEventBus::Subscribe(myBot, eventTypes);'
    language: cpp
  - title: Full Auction Event Subscription
    code: 'BotAI* auctionBot = GetAuctionBot();

      int allEvents = AUCTION_EVENT_LISTING | AUCTION_EVENT_BID | AUCTION_EVENT_SOLD
      | AUCTION_EVENT_EXPIRED;

      AuctionEventBus::Subscribe(auctionBot, allEvents);'
    language: cpp
  notes: The subscription is typically managed internally by the AuctionEventBus and
    may involve internal tracking of active subscribers. Subscribers should be properly
    initialized before calling Subscribe to avoid undefined behavior. The types parameter
    should represent valid auction event type constants defined in the auction system.
  warnings: Calling Subscribe with an invalid BotAI pointer will likely cause a crash
    or undefined behavior. Ensure that the BotAI object remains valid for the duration
    of the subscription. Improper use of event type bitmasks may result in unexpected
    event delivery or missed events.
  related:
  - Unsubscribe
  - Publish
  - GetSubscribers
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T21:35:29.756562'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
