api:
  class: InstanceEventBus
  method: PublishEvent
  signature: bool InstanceEventBus::PublishEvent(const InstanceEvent & event)
documentation:
  brief: Publishes an instance event to all registered listeners in the event bus.
  description: The PublishEvent method dispatches a given InstanceEvent to all subscribers
    currently registered with the InstanceEventBus. This mechanism allows for decoupled
    communication between different systems within the TrinityCore framework, enabling
    components to react to instance-related events such as player entry, exit, or
    state changes without direct dependencies. The method returns true if the event
    was successfully published to at least one listener, and false if no listeners
    were registered or if the publishing process failed for any reason. This function
    is typically used in conjunction with SubscribeEvent to implement observer patterns
    within instance management systems.
  parameters: []
  returns: True if the event was successfully published to one or more listeners;
    false if no listeners exist or if an error occurred during publication.
  examples:
  - title: Basic Event Publishing
    code: "InstanceEvent event;\nevent.type = INSTANCE_EVENT_PLAYER_ENTER;\nevent.playerGuid\
      \ = player->GetGUID();\nbool success = instanceBus.PublishEvent(event);\nif\
      \ (success)\n{\n    // Event was published successfully\n}"
    language: cpp
  notes: This method is thread-safe and can be called from any thread. It uses a lock-free
    design for performance in high-frequency event scenarios. The event bus maintains
    a list of weak references to subscribers, so unsubscribed listeners will not receive
    events.
  warnings: Ensure that the InstanceEvent object passed to this method contains valid
    data before publishing, as invalid events may cause unexpected behavior in subscribed
    handlers. Avoid calling this method recursively from within event handlers to
    prevent potential deadlocks or stack overflow issues.
  related:
  - SubscribeEvent
  - UnsubscribeEvent
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T11:34:10.062426'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
