api:
  class: TargetAssistAction
  method: CalculateThreatFactor
  signature: float TargetAssistAction::CalculateThreatFactor(Player * bot, Unit *
    target) const
documentation:
  brief: Calculates the threat factor for a target unit based on bot's combat behavior
    and target attributes.
  description: The CalculateThreatFactor method computes a floating-point value representing
    how much threat a bot should generate against a given target unit. This factor
    is used in AI decision-making to determine whether to engage a target or prioritize
    other actions. The calculation considers various factors such as the target's
    health, distance, threat level, and the bot's current combat stance. It plays
    a crucial role in determining which targets are most suitable for the bot to attack
    based on threat generation efficiency.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the AI-controlled bot that
      will be calculating threat factor.
  - name: target
    description: Pointer to the Unit object representing the target against which
      threat factor is being calculated.
  returns: A float value representing the calculated threat factor. Higher values
    indicate higher threat generation potential, typically ranging from 0.0 (no threat)
    to potentially much higher values depending on combat mechanics and target attributes.
  examples:
  - title: Basic usage in AI decision making
    code: "float threatFactor = bot->GetAI()->CalculateThreatFactor(bot, target);\n\
      if (threatFactor > 1.0f) {\n    // Engage the target\n    bot->Attack(target,\
      \ true);\n}"
    language: cpp
  - title: Comparing threat factors for multiple targets
    code: "Unit* bestTarget = nullptr;\nfloat maxThreat = 0.0f;\nfor (auto& target\
      \ : possibleTargets) {\n    float threat = bot->GetAI()->CalculateThreatFactor(bot,\
      \ target);\n    if (threat > maxThreat) {\n        maxThreat = threat;\n   \
      \     bestTarget = target;\n    }\n}\nif (bestTarget) {\n    bot->Attack(bestTarget,\
      \ true);\n}"
    language: cpp
  notes: This method is typically used within the context of AI decision trees where
    threat calculation directly influences combat priority. The exact implementation
    details may vary based on the specific AI module and combat behavior settings.
    The method should be called only when both bot and target are valid and in the
    same map/instance.
  warnings: Ensure that both bot and target pointers are non-null before calling this
    method to avoid undefined behavior. The threat factor calculation might not account
    for all possible combat modifiers, so results should be used as approximations
    rather than absolute values.
  related:
  - GetThreat
  - AddThreat
  - UpdateThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T18:33:55.804023'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
