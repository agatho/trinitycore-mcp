api:
  class: VMapManager2
  method: unloadMap
  signature: void VMapManager2::unloadMap(unsigned int mapId)
documentation:
  brief: Unloads the virtual map data for a specified map ID from memory.
  description: The VMapManager2::unloadMap method removes the virtual map data associated
    with a given map ID from the memory cache. This function is typically used when
    a player leaves a specific map or when map data needs to be refreshed. The method
    ensures that resources previously allocated for the map's collision and navigation
    data are freed, which helps manage memory usage efficiently in the game world.
    It operates on the assumption that the map data has already been loaded into memory
    by a previous call to loadMap or similar loading mechanism.
  parameters:
  - name: mapId
    description: The unique identifier of the map to be unloaded. This corresponds
      to the Map ID used internally by TrinityCore to identify different zones and
      instances within the game world.
  returns: null
  examples:
  - title: Basic usage example
    code: 'VMapManager2* vmapManager = VMapFactory::createOrGetVMapManager();

      vmapManager->unloadMap(1); // Unloads the map with ID 1 (e.g., Eastern Kingdoms)'
    language: cpp
  notes: This method does not perform any validation on the provided mapId. It is
    expected that the caller ensures the map has been previously loaded before attempting
    to unload it. The operation is generally safe to call from multiple threads, but
    care should be taken in multi-threaded environments where maps are being loaded
    and unloaded concurrently.
  warnings: Calling this method with an invalid or non-loaded mapId may lead to undefined
    behavior or memory corruption if the underlying data structures are not properly
    managed. Always ensure that the map has been loaded before attempting to unload
    it.
  related:
  - loadMap
  - getVMap
  - isMapLoaded
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T19:51:43.615256'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
