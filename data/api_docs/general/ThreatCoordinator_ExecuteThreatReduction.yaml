api:
  class: ThreatCoordinator
  method: ExecuteThreatReduction
  signature: bool ThreatCoordinator::ExecuteThreatReduction(int botGuid, float reductionPercent)
documentation:
  brief: Reduces threat generated by a bot character by a specified percentage.
  description: The ExecuteThreatReduction method is used to decrease the threat level
    that a bot character has accumulated towards a target. This functionality is typically
    employed in AI-driven bot systems within TrinityCore to manage combat behavior
    and prevent bots from generating excessive threat that could disrupt group dynamics
    or cause unintended aggro. The method accepts a bot's GUID and a reduction percentage,
    applying the change to the bot's current threat state. It returns true if the
    operation was successful, false otherwise. This method is particularly relevant
    in scenarios where threat management is critical for maintaining balanced gameplay
    or when implementing custom AI behaviors.
  parameters:
  - name: botGuid
    description: The unique identifier (GUID) of the bot character whose threat is
      to be reduced. This value must correspond to a valid bot entry in the game world.
  - name: reductionPercent
    description: The percentage by which the bot's threat should be reduced. Valid
      values are typically between 0 and 100, where 0 means no reduction and 100 means
      full threat elimination.
  returns: Returns true if the threat reduction was successfully applied to the specified
    bot character; otherwise returns false if the operation failed due to invalid
    parameters or internal errors.
  examples:
  - title: Basic Threat Reduction
    code: "if (threatCoordinator.ExecuteThreatReduction(12345, 25.0f)) {\n    // Threat\
      \ reduced by 25%\n    sLog->outString(\"Threat reduction applied successfully.\"\
      );\n} else {\n    sLog->outError(\"Failed to reduce threat for bot %u.\", 12345);\n\
      }"
    language: cpp
  - title: Conditional Threat Reduction
    code: "uint32 botGuid = player->GetGUID().GetCounter();\nfloat reduction = 50.0f;\n\
      if (player->IsBot() && threatCoordinator.ExecuteThreatReduction(botGuid, reduction))\
      \ {\n    // Apply additional logic after successful threat reduction\n    player->SetHealth(player->GetMaxHealth()\
      \ * 0.75f);\n}"
    language: cpp
  notes: This method likely interacts with internal threat tables and may require
    synchronization if used in multi-threaded contexts. It is recommended to validate
    the botGuid before calling this function to avoid potential errors or undefined
    behavior.
  warnings: Calling this method with an invalid botGuid may result in undefined behavior
    or silent failures. Ensure that the bot exists in the world and is active before
    attempting threat reduction.
  related:
  - GetThreat
  - SetThreat
  - AddThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T00:58:19.302955'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
