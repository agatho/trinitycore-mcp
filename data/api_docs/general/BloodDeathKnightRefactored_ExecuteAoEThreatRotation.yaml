api:
  class: BloodDeathKnightRefactored
  method: ExecuteAoEThreatRotation
  signature: void BloodDeathKnightRefactored::ExecuteAoEThreatRotation(int * target,
    uint32 enemyCount)
documentation:
  brief: Executes a rotation of abilities focused on generating threat in AoE combat
    situations for a Blood Death Knight.
  description: The ExecuteAoEThreatRotation method manages the core ability selection
    and execution logic for a Blood Death Knight during area-of-effect combat scenarios.
    This method evaluates the current combat environment, including enemy count and
    positioning, to determine optimal threat-generating abilities such as Heart Strike,
    Blood Boil, and other relevant spells. It prioritizes maintaining high threat
    levels against multiple targets while managing resource usage and cooldowns effectively.
    The method is typically invoked by the AI system when the Death Knight is engaged
    in group combat or encounters multiple enemies within a defined range.
  parameters:
  - name: target
    description: Pointer to an integer representing the primary target index or identifier
      for threat calculations. This parameter helps determine which enemy to prioritize
      for threat generation.
  - name: enemyCount
    description: Unsigned 32-bit integer indicating the total number of enemies currently
      within the Death Knight's attack range. Used to determine rotation priority
      and ability selection.
  returns: null
  examples:
  - title: Basic AoE Threat Rotation Execution
    code: 'int primaryTarget = 0;

      uint32 enemiesInRange = 5;

      player->GetAI()->ExecuteAoEThreatRotation(&primaryTarget, enemiesInRange);'
    language: cpp
  - title: Dynamic Target Selection with Enemy Count
    code: "int* target = nullptr;\nuint32 count = player->GetAI()->GetEnemyCount();\n\
      if (count > 0)\n{\n    target = new int(1);\n    player->GetAI()->ExecuteAoEThreatRotation(target,\
      \ count);\n    delete target;\n}"
    language: cpp
  notes: This method assumes that the Death Knight AI has already determined it is
    in an appropriate combat state for AoE threat generation. The implementation may
    internally manage cooldowns and resource allocation, so calling this method multiple
    times per update cycle should be avoided. Performance considerations include minimizing
    target selection overhead and ensuring efficient enemy counting mechanisms.
  warnings: The target parameter must point to a valid integer; passing null or invalid
    pointers will result in undefined behavior. This method modifies internal AI state
    and should not be called directly from outside the AI system without proper context.
    Incorrect enemy count values may lead to inappropriate ability selection and suboptimal
    threat generation.
  related:
  - ExecuteSingleTargetRotation
  - GetEnemyCount
  - CalculateThreatLevel
  - UpdateCombatState
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T10:13:25.767088'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
