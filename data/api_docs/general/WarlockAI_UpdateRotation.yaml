api:
  class: WarlockAI
  method: UpdateRotation
  signature: void WarlockAI::UpdateRotation(::Unit * target)
documentation:
  brief: Updates the warlock's spell rotation based on the current target and combat
    state.
  description: The UpdateRotation method is responsible for determining and executing
    the optimal sequence of spells for a warlock AI during combat. It evaluates the
    current target's health, available mana, and combat situation to decide which
    abilities should be cast next in the rotation. This method typically integrates
    with the warlock's spell selection logic, cooldown management, and resource optimization
    routines. The function is called regularly during combat to ensure the AI adapts
    its strategy dynamically based on changing battlefield conditions.
  parameters:
  - name: target
    description: Pointer to the Unit object representing the current combat target.
      This parameter defines the enemy the warlock AI will focus its rotation on.
      Must be a valid Unit pointer; null values may cause undefined behavior.
  returns: null
  examples:
  - title: Basic usage in combat loop
    code: "void Warlock::Update()\n{\n    if (Unit* target = GetVictim())\n    {\n\
      \        m_ai->UpdateRotation(target);\n    }\n}"
    language: cpp
  - title: Integration with custom AI behavior
    code: "void MyWarlockAI::UpdateRotation(Unit* target)\n{\n    // Custom logic\
      \ before standard rotation\n    if (HasSpellCooldown(SPELL_SHADOW_BOLT))\n \
      \   {\n        CastSpell(SPELL_IMMOLATE);\n    }\n    else\n    {\n        CastSpell(SPELL_SHADOW_BOLT);\n\
      \    }\n    // Call base implementation\n    WarlockAI::UpdateRotation(target);\n\
      }"
    language: cpp
  notes: This method is typically invoked within the AI's main update loop and should
    not be called directly from outside the AI context. The rotation logic may vary
    depending on the warlock's specialization (Affliction, Demonology, Destruction)
    and current talent build. Performance-wise, this function should execute quickly
    to avoid blocking the game loop.
  warnings: Ensure that the target parameter is valid before calling this method,
    as passing a null pointer can lead to crashes or undefined behavior. This method
    modifies internal AI state and should only be called during active combat scenarios.
  related:
  - WarlockAI::Update
  - WarlockAI::CastSpell
  - WarlockAI::HasSpellCooldown
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T19:42:47.218067'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
