api:
  class: DisciplinePriestRefactored
  method: UpdateDefensives
  signature: void DisciplinePriestRefactored::UpdateDefensives()
documentation:
  brief: Updates the discipline priest's defensive abilities and cooldowns based on
    current game state and spell availability.
  description: 'The UpdateDefensives method is responsible for managing and updating
    the defensive capabilities of a Discipline Priest character within the TrinityCore
    framework. This includes checking the status of defensive spells such as Power
    Word: Shield, Pain Suppression, and other mitigation abilities. The method evaluates
    whether these spells are currently active, their remaining cooldowns, and the
    priest''s current mana levels to determine which defensive actions should be prioritized
    or executed next. It also handles the logic for refreshing buffs and ensuring
    optimal use of defensive cooldowns during combat encounters. This method is typically
    called during the AI update cycle to maintain an up-to-date defensive strategy
    based on real-time game conditions.'
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in AI Update Loop
    code: "void DisciplinePriestAI::UpdateAI(uint32 diff)\n{\n    // ... other AI\
      \ logic ...\n    if (m_updateDefensivesTimer <= diff)\n    {\n        m_disciplinePriest->UpdateDefensives();\n\
      \        m_updateDefensivesTimer = 1000; // Update every second\n    }\n   \
      \ else\n    {\n        m_updateDefensivesTimer -= diff;\n    }\n}"
    language: cpp
  notes: This method is part of the Discipline Priest's AI behavior and should be
    called regularly during combat to ensure optimal defensive spell usage. The implementation
    may involve checking spell cooldowns, mana requirements, and target health states
    to make intelligent decisions about when to apply defensive spells.
  warnings: Improper handling of this method could lead to suboptimal defensive performance
    in encounters. Ensure that all defensive cooldowns are properly tracked and that
    the method does not cause excessive CPU usage during frequent calls.
  related:
  - GetPowerWordShieldCooldown
  - IsPainSuppressionActive
  - CheckManaForDefensiveSpells
  - UpdateOffensiveAbilities
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T06:12:09.612443'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
