api:
  class: World
  method: BanCharacter
  signature: int World::BanCharacter(const std::string & name, const std::string &
    duration, const std::string & reason, const std::string & author)
documentation:
  brief: Bans a character from the game world by name, duration, reason, and author.
  description: The BanCharacter method is used to permanently or temporarily ban a
    player character from the World of Warcraft game world. It takes the character's
    name, ban duration (in a readable format like '1d' for one day), reason for the
    ban, and the author (administrator) who issued the ban. The method performs validation
    on the input parameters and updates the database with the ban information. This
    action prevents the banned player from logging into the game until the ban expires
    or is manually removed.
  parameters:
  - name: name
    description: The in-game character name to be banned. Must correspond to an existing
      character in the database.
  - name: duration
    description: The duration of the ban in a readable string format (e.g., '1d' for
      one day, '30m' for thirty minutes). Supports various time units like seconds
      (s), minutes (m), hours (h), days (d), weeks (w), months (M), and years (y).
  - name: reason
    description: The reason for the ban, which will be recorded in the database and
      potentially displayed to the player upon login attempt.
  - name: author
    description: The username or identifier of the administrator who issued the ban.
      This is stored for audit purposes.
  returns: Returns an integer value indicating success or failure of the ban operation.
    A return value of 0 typically indicates success, while non-zero values may indicate
    errors such as invalid input parameters, character not found, or database access
    issues.
  examples:
  - title: Ban a player for one day with a reason
    code: "int result = sWorld->BanCharacter(\"PlayerName\", \"1d\", \"Cheating detected\"\
      , \"AdminUser\");\nif (result == 0) {\n    // Ban successful\n    printf(\"\
      Player banned successfully\\n\");\n} else {\n    // Handle error\n    printf(\"\
      Failed to ban player\\n\");\n}"
    language: cpp
  - title: Ban a player permanently
    code: "int result = sWorld->BanCharacter(\"EvilPlayer\", \"0\", \"Repeated rule\
      \ violations\", \"GM123\");\nif (result == 0) {\n    printf(\"Player banned\
      \ permanently\\n\");\n}"
    language: cpp
  notes: This method likely interacts with the database through the AccountBan and
    CharacterBan tables. It is recommended to validate input parameters before calling
    this method to avoid unnecessary database operations. The ban duration string
    must be properly formatted for the system to parse it correctly.
  warnings: Ensure that the character name exists in the database, otherwise the ban
    will fail. Be cautious when using '0' as duration for permanent bans, as this
    may not work consistently across all TrinityCore versions. Always verify that
    the author parameter is a valid administrator account.
  related:
  - UnbanCharacter
  - GetBanInfo
  - IsCharacterBanned
metadata:
  confidence: 0.9
  generated_at: '2025-11-05T23:41:49.237011'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
