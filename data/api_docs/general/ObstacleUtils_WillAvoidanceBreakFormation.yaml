api:
  class: ObstacleUtils
  method: WillAvoidanceBreakFormation
  signature: bool ObstacleUtils::WillAvoidanceBreakFormation(const int & avoidancePos,
    const int & group, float maxDistance)
documentation:
  brief: Determines whether avoidance behavior will cause a unit to break formation
    based on position and group constraints.
  description: The WillAvoidanceBreakFormation method evaluates if a specified avoidance
    position within a given group would result in a unit breaking its current formation.
    This utility function is typically used in AI pathfinding and movement logic to
    maintain group cohesion while avoiding obstacles. It considers the maximum allowed
    distance from the formation center when making this determination. The method
    returns true if the avoidance action would cause the unit to move beyond the specified
    distance threshold, indicating that the formation should be broken; otherwise,
    it returns false.
  parameters:
  - name: avoidancePos
    description: The index or position identifier representing where the unit intends
      to avoid an obstacle. This value typically corresponds to a specific point in
      the avoidance path or movement sequence.
  - name: group
    description: The group identifier that defines which formation or group the unit
      belongs to. Used to determine the context of the formation being maintained.
  - name: maxDistance
    description: The maximum allowable distance from the formation center that a unit
      can move before the formation is considered broken. Units moving beyond this
      distance will trigger a break in formation.
  returns: Returns true if the avoidance action would cause the unit to exceed the
    maximum allowed distance from the formation center, indicating that the formation
    should be broken. Returns false if the avoidance action remains within acceptable
    bounds of the formation.
  examples:
  - title: Basic usage for checking formation break
    code: "if (ObstacleUtils::WillAvoidanceBreakFormation(avoidanceIndex, groupID,\
      \ 10.0f)) {\n    // Formation should be broken\n    DoBreakFormation();\n} else\
      \ {\n    // Continue with current formation\n    ContinueWithFormation();\n}"
    language: cpp
  - title: Advanced usage in AI movement logic
    code: "float maxDist = GetFormationMaxDistance();\nint avoidancePos = CalculateAvoidancePosition(target,\
      \ obstacle);\nint groupID = GetCurrentGroupID();\n\nif (ObstacleUtils::WillAvoidanceBreakFormation(avoidancePos,\
      \ groupID, maxDist)) {\n    // Trigger fallback behavior for formation break\n\
      \    HandleFormationBreak();\n} else {\n    // Proceed with normal avoidance\
      \ path\n    ExecuteAvoidancePath(avoidancePos);\n}"
    language: cpp
  notes: This method is primarily used in AI systems where maintaining group cohesion
    is important. It assumes that the underlying data structures for group positions
    and formation boundaries are properly initialized before calling. The method does
    not perform any direct movement or pathfinding calculations; it only evaluates
    whether a given avoidance action would compromise the formation.
  warnings: Ensure that the avoidancePos and group parameters are valid identifiers
    to avoid unexpected behavior. The maxDistance parameter should be carefully tuned
    based on game mechanics and desired formation tightness. Using negative values
    for maxDistance may lead to undefined behavior depending on implementation details.
  related:
  - GetFormationCenter
  - CalculateAvoidancePath
  - IsInFormationBounds
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T07:14:12.603794'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
