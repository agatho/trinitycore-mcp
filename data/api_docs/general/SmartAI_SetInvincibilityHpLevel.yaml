api:
  class: SmartAI
  method: SetInvincibilityHpLevel
  signature: void SmartAI::SetInvincibilityHpLevel(uint32 level)
documentation:
  brief: Sets the invincibility health level for the SmartAI instance.
  description: The SetInvincibilityHpLevel method configures the health threshold
    at which the AI-controlled creature becomes invincible. When the creature's current
    health drops to or below this level, it will become immune to all damage until
    the health level is restored above the threshold. This mechanism is commonly used
    in scripted encounters where certain bosses or NPCs should be invulnerable during
    specific phases of combat. The method does not validate the input value, so developers
    must ensure that the provided level is appropriate for the creature's maximum
    health and game balance requirements.
  parameters:
  - name: level
    description: The health level threshold that determines when the AI becomes invincible.
      When current health falls to or below this value, invincibility is activated.
  returns: null
  examples:
  - title: Basic Usage for Boss Encounter
    code: "void OnCombatStart(Unit* /*who*/) override\n{\n    SetInvincibilityHpLevel(5000);\n\
      }"
    language: cpp
  - title: Dynamic Invincibility Based on Difficulty
    code: "void OnCombatStart(Unit* /*who*/) override\n{\n    uint32 invincibilityLevel\
      \ = 0;\n    switch (sWorld->getWorldSettings()->GetDifficulty())\n    {\n  \
      \      case DIFFICULTY_NORMAL:\n            invincibilityLevel = 10000;\n  \
      \          break;\n        case DIFFICULTY_HEROIC:\n            invincibilityLevel\
      \ = 15000;\n            break;\n        default:\n            invincibilityLevel\
      \ = 8000;\n            break;\n    }\n    SetInvincibilityHpLevel(invincibilityLevel);\n\
      }"
    language: cpp
  notes: This method modifies the internal state of the SmartAI instance and should
    be called during appropriate combat events such as OnCombatStart or when entering
    a specific phase. The invincibility effect is applied immediately upon reaching
    the specified health threshold, but it does not prevent other AI behaviors from
    executing. It's recommended to call this method before combat begins to ensure
    proper initialization.
  warnings: Setting an invincibility level that exceeds the creature's maximum health
    will effectively make the creature invincible for its entire existence. This can
    lead to unbalanced encounters or game-breaking scenarios if not carefully managed.
    Additionally, calling this method multiple times without resetting the previous
    value may cause unexpected behavior in complex AI scripts.
  related:
  - GetInvincibilityHpLevel
  - SetHealth
  - SetReactState
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T18:54:26.779324'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
