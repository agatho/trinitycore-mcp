api:
  class: CombatBehaviorIntegration
  method: CanAffordSpell
  signature: bool CombatBehaviorIntegration::CanAffordSpell(uint32 spellId)
documentation:
  brief: Determines whether the combat behavior integration can afford to cast a specified
    spell based on resource requirements.
  description: The CanAffordSpell method evaluates if the current combat behavior
    integration has sufficient resources (such as mana, rage, energy, or other spell-specific
    costs) to cast the given spell. This method is typically used within AI decision-making
    logic to filter out spells that would otherwise result in failed casts due to
    insufficient resources. It checks against the unit's current resource levels and
    compares them with the spell's required cost. The method does not modify any state;
    it only performs a read-only check to determine affordability.
  parameters: []
  returns: Returns true if the integration has enough resources to cast the specified
    spell, false otherwise.
  examples:
  - title: Basic Usage in AI Logic
    code: "if (combatBehavior->CanAffordSpell(12345)) {\n    // Proceed with casting\
      \ spell 12345\n    combatBehavior->CastSpell(12345);\n}"
    language: cpp
  - title: Using in Spell Selection Logic
    code: "std::vector<uint32> availableSpells = GetAvailableSpells();\nfor (uint32\
      \ spellId : availableSpells) {\n    if (combatBehavior->CanAffordSpell(spellId))\
      \ {\n        // Cast the affordable spell\n        combatBehavior->CastSpell(spellId);\n\
      \        break;\n    }\n}"
    language: cpp
  notes: This method relies on the underlying unit's resource tracking system. It
    assumes that the unit's current resource values are up-to-date and reflects the
    most recent state of the combat behavior integration. The spell ID must be valid
    and correspond to an actual spell in the game database.
  warnings: Do not assume that a spell is castable just because CanAffordSpell returns
    true; additional checks such as line of sight, target validity, or spell cooldowns
    may still prevent casting. Also, this method does not account for temporary buffs
    or debuffs that might affect resource costs.
  related:
  - CastSpell
  - GetUnitResource
  - IsSpellAvailable
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T19:29:11.693911'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
