api:
  class: AuraEffect
  method: HandleAuraModDodgePercent
  signature: void AuraEffect::HandleAuraModDodgePercent(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Modifies the target's dodge percentage chance when applied or removed from
    an aura.
  description: The HandleAuraModDodgePercent method is responsible for adjusting a
    unit's dodge percentage chance based on the application or removal of an aura
    effect. This method is typically invoked during aura application or removal events,
    modifying the target's dodge chance attribute. It handles both positive and negative
    modifications to dodge chance, which can be used for various game mechanics such
    as buffs that increase dodge chance or debuffs that decrease it. The method operates
    on the AuraApplication object to determine the context of the aura effect and
    applies the appropriate changes to the target's dodge percentage.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura being
      applied or removed. This parameter provides context about which aura is affecting
      the target.
  - name: mode
    description: The mode of operation, typically indicating whether the effect is
      being applied (1) or removed (0). This value determines how the dodge percentage
      modification should be processed.
  - name: apply
    description: Boolean flag indicating if the aura is being applied (true) or removed
      (false). When true, the dodge percentage is increased; when false, it's decreased.
  returns: null
  examples:
  - title: Basic usage in aura effect handler
    code: "void MyAuraEffect::HandleAuraModDodgePercent(const AuraApplication* aurApp,\
      \ uint8 mode, bool apply) const {\n    if (!aurApp || !aurApp->GetTarget())\n\
      \        return;\n    \n    Unit* target = aurApp->GetTarget();\n    float dodgeChange\
      \ = 10.0f; // 10% dodge increase\n    \n    if (apply) {\n        target->ApplyModFloatValue(UNIT_FIELD_DODGE_PERCENTAGE,\
      \ dodgeChange, true);\n    } else {\n        target->ApplyModFloatValue(UNIT_FIELD_DODGE_PERCENTAGE,\
      \ -dodgeChange, true);\n    }\n}"
    language: cpp
  notes: This method is part of the aura effect handling system in TrinityCore. It
    directly modifies the unit's dodge percentage field and should be used carefully
    to avoid stacking issues or incorrect calculations. The method assumes that the
    target unit has a valid dodge percentage attribute that can be modified.
  warnings: Improper use of this method may lead to incorrect dodge chance calculations,
    especially when multiple auras modify the same attribute. Ensure that all modifications
    are properly tracked and removed to prevent incorrect stacking or ghost effects.
  related:
  - HandleAuraModParryPercent
  - HandleAuraModBlockPercent
  - ApplyModFloatValue
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T13:25:06.212936'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
