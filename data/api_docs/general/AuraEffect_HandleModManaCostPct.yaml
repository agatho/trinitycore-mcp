api:
  class: AuraEffect
  method: HandleModManaCostPct
  signature: void AuraEffect::HandleModManaCostPct(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Modifies the mana cost percentage for spells while the aura is active.
  description: The HandleModManaCostPct method adjusts the mana cost of spells by
    a specified percentage when the aura effect is applied. This method is typically
    used in aura applications to modify spell costs dynamically based on various conditions
    such as buffs, debuffs, or special abilities. The modification affects all spells
    cast by the affected unit while the aura remains active. The method handles both
    application and removal of the mana cost modifier depending on the 'apply' parameter.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object that contains information about
      the aura being applied or removed. This parameter specifies which aura is triggering
      the mana cost modification.
  - name: mode
    description: The mode of operation for the aura effect, typically indicating how
      the effect should be processed (e.g., application, removal, periodic updates).
      Values may vary based on internal TrinityCore implementation.
  - name: apply
    description: Boolean flag indicating whether to apply (true) or remove (false)
      the mana cost modification. When true, the percentage modifier is applied; when
      false, it's removed.
  returns: null
  examples:
  - title: Applying a 20% increase in mana cost
    code: "void ApplyManaCostIncrease(AuraEffect* auraEffect, AuraApplication* aurApp)\
      \ {\n    auraEffect->HandleModManaCostPct(aurApp, 0, true);\n}"
    language: cpp
  - title: Removing mana cost modification
    code: "void RemoveManaCostModification(AuraEffect* auraEffect, AuraApplication*\
      \ aurApp) {\n    auraEffect->HandleModManaCostPct(aurApp, 0, false);\n}"
    language: cpp
  notes: This method is part of the aura effect handling system in TrinityCore and
    interacts with spell casting mechanics. It modifies the mana cost percentage for
    all spells cast by the affected unit. The actual percentage value is determined
    by the aura's properties, not directly passed to this function.
  warnings: Incorrect usage of the 'apply' parameter can lead to unexpected behavior
    where mana costs are either not modified or remain modified after an aura expires.
    Ensure that this method is called only when appropriate for the aura's lifecycle.
  related:
  - AuraEffect::HandleModManaCost
  - AuraEffect::ApplySpellMod
  - AuraApplication::GetTarget
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T12:35:31.170693'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
