api:
  class: CombatStateAnalyzer
  method: GetAverageUpdateTime
  signature: uint32 CombatStateAnalyzer::GetAverageUpdateTime() const
documentation:
  brief: Calculates and returns the average update time in milliseconds for combat
    state processing.
  description: The GetAverageUpdateTime method computes the average time taken to
    process combat state updates within the CombatStateAnalyzer class. This metric
    is crucial for performance monitoring and optimization of combat-related systems
    in TrinityCore. The value represents the mean duration in milliseconds across
    multiple update cycles, helping developers identify potential bottlenecks or inefficiencies
    in combat logic execution. This method typically aggregates timing data from recent
    combat state evaluations to provide a smoothed average that reflects system performance
    under typical load conditions.
  parameters: []
  returns: Returns a uint32 value representing the average time in milliseconds required
    to process combat state updates. A higher value indicates slower processing, while
    a lower value suggests more efficient performance. The value is typically measured
    over multiple iterations to provide an averaged result for better accuracy.
  examples:
  - title: Basic Usage Example
    code: 'CombatStateAnalyzer analyzer;

      uint32 avgTime = analyzer.GetAverageUpdateTime();

      printf("Average combat update time: %u ms\n", avgTime);'
    language: cpp
  - title: Performance Monitoring Example
    code: "CombatStateAnalyzer analyzer;\nfor (int i = 0; i < 100; ++i)\n{\n    //\
      \ Simulate combat updates\n    analyzer.UpdateCombatState();\n}\nuint32 avgTime\
      \ = analyzer.GetAverageUpdateTime();\nif (avgTime > 50)\n{\n    sLog->outError(\"\
      High combat update time detected: %u ms\", avgTime);\n}"
    language: cpp
  notes: This method relies on internal timing mechanisms and may be affected by system
    load or other concurrent processes. The average is calculated over a rolling window
    of recent updates to provide dynamic performance metrics. Developers should consider
    that the returned value represents an averaged result, which might not reflect
    instantaneous performance spikes.
  warnings: The method assumes that combat state updates have been performed recently
    for meaningful results. If called immediately after initialization without any
    updates, the return value may be misleading or zero. Additionally, this method
    should not be called excessively in performance-critical sections as it may involve
    internal calculations and data aggregation.
  related:
  - UpdateCombatState
  - GetLastUpdateTime
  - ResetPerformanceMetrics
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T06:56:29.728907'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
