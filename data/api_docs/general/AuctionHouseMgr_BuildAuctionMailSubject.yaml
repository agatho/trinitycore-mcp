api:
  class: AuctionHouseMgr
  method: BuildAuctionMailSubject
  signature: int AuctionHouseMgr::BuildAuctionMailSubject(uint32 itemId, AuctionMailType
    type, uint32 auctionId, uint32 itemCount, uint32 battlePetSpeciesId, int context,
    const int & bonusListIds)
documentation:
  brief: Constructs and returns a formatted auction mail subject string based on item
    and auction details.
  description: The BuildAuctionMailSubject method generates a unique mail subject
    line for auction-related notifications in the game. It takes various parameters
    such as item ID, auction type, auction ID, item count, battle pet species ID,
    context, and bonus list IDs to construct a standardized subject string that is
    used when sending auction-related mails to players. This method ensures consistency
    in auction communication by formatting the subject according to predefined rules.
    The returned integer likely represents the length of the constructed string or
    an identifier for internal processing.
  parameters:
  - name: itemId
    description: The unique identifier of the item being auctioned. Must be a valid
      item entry from the game database.
  - name: type
    description: The type of auction mail to build, indicating whether it's for a
      sold item, expired auction, or other auction events.
  - name: auctionId
    description: The unique identifier of the auction instance. Used to track specific
      auctions and their status.
  - name: itemCount
    description: The number of items being auctioned. For single-item auctions, this
      is typically 1.
  - name: battlePetSpeciesId
    description: The species ID for battle pets. Zero if the item is not a battle
      pet.
  - name: context
    description: Additional context information that may affect how the subject is
      formatted or what type of message it represents.
  - name: bonusListIds
    description: Reference to an array or list of bonus list identifiers associated
      with the item. Used for special item properties and modifications.
  returns: An integer representing either the length of the constructed mail subject
    string, or a status code indicating success or failure in building the subject.
  examples:
  - title: Basic Usage Example
    code: int subjectLength = auctionHouseMgr->BuildAuctionMailSubject(12345, AUCTION_SOLD,
      67890, 1, 0, 0, bonusListIds);
    language: cpp
  - title: Battle Pet Auction Example
    code: int subjectLength = auctionHouseMgr->BuildAuctionMailSubject(54321, AUCTION_EXPIRED,
      98765, 1, 1234, 1, bonusListIds);
    language: cpp
  notes: This method is typically used internally by the auction house system when
    sending automated mail notifications to players. It's important to ensure that
    all input parameters are valid to avoid malformed subject lines or errors during
    mail delivery.
  warnings: Incorrect parameter values, especially invalid item IDs or auction IDs,
    may result in unexpected behavior or failed mail delivery. The bonusListIds parameter
    should be properly initialized before calling this method.
  related:
  - GetAuctionHouseItem
  - SendAuctionMail
  - BuildAuctionMailBody
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T13:46:04.465556'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
