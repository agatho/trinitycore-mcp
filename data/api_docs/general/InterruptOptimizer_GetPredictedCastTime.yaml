api:
  class: InterruptOptimizer
  method: GetPredictedCastTime
  signature: float InterruptOptimizer::GetPredictedCastTime(uint32 spellId, Unit *
    caster)
documentation:
  brief: Calculates and returns the predicted cast time for a specified spell being
    cast by a unit.
  description: The GetPredictedCastTime method estimates the total cast duration of
    a spell based on its ID and the caster unit. This prediction takes into account
    various game mechanics such as spell modifiers, haste effects, and any applicable
    buffs or debuffs that might alter the casting speed. The returned value is expressed
    in seconds as a floating-point number. This method is primarily used in combat
    AI logic to determine when a spell will complete, enabling proper timing of interrupts,
    defensive actions, or follow-up abilities. It does not account for real-time changes
    during casting but provides an estimate based on initial conditions at the time
    of invocation.
  parameters:
  - name: spellId
    description: The unique identifier of the spell for which to calculate the cast
      time. Must correspond to a valid spell entry in the game's database.
  - name: caster
    description: Pointer to the Unit object that is casting the spell. This parameter
      determines how spell modifiers and haste effects are applied to the calculation.
  returns: A float value representing the predicted cast time in seconds. Returns
    0.0 if the spell ID is invalid or the caster is null.
  examples:
  - title: Basic Usage Example
    code: "float castTime = optimizer->GetPredictedCastTime(12345, playerUnit);\n\
      if (castTime > 0)\n{\n    // Proceed with logic based on predicted cast time\n\
      \    printf(\"Predicted cast time: %.2f seconds\\n\", castTime);\n}"
    language: cpp
  - title: Combat AI Decision Making
    code: "uint32 shadowBoltSpellId = 686;\nUnit* target = ai->GetVictim();\nif (target)\n\
      {\n    float predictedTime = optimizer->GetPredictedCastTime(shadowBoltSpellId,\
      \ ai->GetUnit());\n    if (predictedTime < 2.0f)\n    {\n        // Consider\
      \ interrupting or preparing defensive action\n        ai->TryInterruptSpell();\n\
      \    }\n}"
    language: cpp
  notes: This method performs calculations using cached spell data and current unit
    stats. It does not simulate actual casting behavior but rather predicts it based
    on static properties. The prediction may be inaccurate if the caster's state changes
    significantly during the cast, such as gaining or losing haste effects.
  warnings: Do not rely solely on this predicted time for critical gameplay decisions
    without verifying against real-time updates. The method returns zero for invalid
    inputs, so always check return values before using them in logic.
  related:
  - GetSpellCastTime
  - CalculateSpellDamage
  - IsSpellReady
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T02:51:19.405510'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
