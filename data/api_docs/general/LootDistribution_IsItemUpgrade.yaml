api:
  class: LootDistribution
  method: IsItemUpgrade
  signature: bool LootDistribution::IsItemUpgrade(Player * player, const LootItem
    & item)
documentation:
  brief: Determines whether a loot item represents an upgrade for the player's current
    equipment.
  description: The IsItemUpgrade method evaluates whether a given loot item provides
    better stats or properties compared to the player's currently equipped items.
    This function is used during loot distribution to help determine if an item should
    be considered for immediate equipping or if it's merely a standard drop. The check
    considers item level, quality, and stat bonuses relative to existing gear. It
    ensures that players don't receive items that are worse than what they already
    have equipped.
  parameters:
  - name: player
    description: Pointer to the Player object whose equipment is being compared against
      the loot item. Must not be null.
  - name: item
    description: Reference to the LootItem structure representing the item being evaluated
      for upgrade status. Must contain valid item data.
  returns: Returns true if the loot item is an upgrade over any currently equipped
    items; false otherwise. This indicates whether the player should consider equipping
    the item immediately.
  examples:
  - title: Basic Upgrade Check
    code: "Player* player = ...;\nLootItem item = ...;\nbool isUpgrade = LootDistribution::IsItemUpgrade(player,\
      \ item);\nif (isUpgrade) {\n    // Item should be equipped immediately\n}"
    language: cpp
  - title: Integration with Loot Distribution Logic
    code: "void ProcessLoot(Player* player, LootItem& item) {\n    if (LootDistribution::IsItemUpgrade(player,\
      \ item)) {\n        // Prioritize equipping this item\n        player->EquipItem(item.itemTemplate);\n\
      \    } else {\n        // Add to inventory normally\n        player->AddItemToInventory(item.itemTemplate);\n\
      \    }\n}"
    language: cpp
  notes: This method performs a comprehensive comparison of item properties including
    item level, quality, and stat bonuses. It accounts for different equipment slots
    and ensures that upgrades are only recognized when they provide meaningful improvements
    over existing gear. The function may be called multiple times during loot distribution
    to optimize the player's inventory.
  warnings: Ensure that both player and item parameters are valid before calling this
    method. Passing null pointers will result in undefined behavior. This function
    does not modify the player's inventory or equipment directly; it only evaluates
    whether an upgrade exists.
  related:
  - LootDistribution::RollLoot
  - LootDistribution::DistributeLoot
  - Player::EquipItem
  - Player::HasItemEquipped
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T00:44:25.804828'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
