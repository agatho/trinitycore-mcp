api:
  class: WorldSession
  method: HandleResetInstancesOpcode
  signature: void WorldSession::HandleResetInstancesOpcode(WorldPackets::Instance::ResetInstances
    & packet)
documentation:
  brief: Resets all instance data for the player's current difficulty level
  description: Handles the client request to reset all instances for the player's
    current difficulty setting. This method processes the ResetInstances opcode sent
    by the client, which allows players to clear their instance reset data for the
    active difficulty mode (normal, heroic, etc.). The function typically clears saved
    instance IDs and reset times from the player's database records, allowing them
    to enter instances they previously completed. It ensures that players can re-enter
    instances they've already cleared without requiring a server restart or manual
    database intervention.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in packet handling
    code: "void WorldSession::HandleResetInstancesOpcode(WorldPackets::Instance::ResetInstances&\
      \ packet)\n{\n    // Process instance reset request\n    _player->GetInstanceSaveManager().ResetInstancesForDifficulty(_player->GetDifficulty());\n\
      }"
    language: cpp
  notes: This method is typically invoked when players use the 'Reset Instances' option
    in their character's instance management UI. The implementation relies on the
    player's current difficulty setting to determine which instances should be reset,
    and it may involve database operations to update saved instance data.
  warnings: null
  related:
  - HandleInstanceLockResponse
  - HandleResetInstanceConfirmOpcode
  - GetInstanceSaveManager
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T20:39:45.153170'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
