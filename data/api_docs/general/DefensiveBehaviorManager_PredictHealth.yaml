api:
  class: DefensiveBehaviorManager
  method: PredictHealth
  signature: float DefensiveBehaviorManager::PredictHealth(float secondsAhead) const
documentation:
  brief: Predicts the health value of a unit at a specified time in the future based
    on current damage trends and healing effects.
  description: The PredictHealth method estimates a unit's future health value by
    analyzing current damage over time, healing effects, and other relevant combat
    factors. It is primarily used in defensive AI behaviors to determine optimal timing
    for healing or protective actions. The prediction considers active damage ticks,
    incoming heals, and the unit's current health state to compute a projected health
    value at the specified time ahead. This method does not modify any internal state
    and is purely predictive in nature.
  parameters: []
  returns: Returns a float representing the predicted health value of the unit at
    the specified time in the future. The value may be negative if the unit is expected
    to die, or exceed maximum health if healing effects are significant enough to
    surpass the unit's base health cap.
  examples:
  - title: Basic Health Prediction
    code: "float predictedHealth = defensiveBehaviorManager->PredictHealth(5.0f);\n\
      // Predicts health 5 seconds ahead\nif (predictedHealth < 100.0f)\n{\n    //\
      \ Initiate healing behavior\n}"
    language: cpp
  - title: Comparing Future Health States
    code: "float healthIn2Seconds = defensiveBehaviorManager->PredictHealth(2.0f);\n\
      float healthIn10Seconds = defensiveBehaviorManager->PredictHealth(10.0f);\n\
      if (healthIn10Seconds < healthIn2Seconds)\n{\n    // Health is declining faster\
      \ over time\n    // Consider immediate intervention\n}"
    language: cpp
  notes: This method relies on accurate tracking of damage and healing events in the
    AI's internal state. The prediction accuracy depends heavily on how well these
    events are recorded and processed. For performance reasons, this method should
    not be called excessively in tight loops or high-frequency update contexts.
  warnings: The returned value may be negative, indicating that the unit is expected
    to die within the predicted timeframe. This can happen when damage exceeds current
    health combined with any healing effects. Always validate the return value before
    using it for decision-making logic.
  related:
  - GetHealth
  - GetMaxHealth
  - IsInCombat
  - GetDamageOverTime
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T08:40:31.334318'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
