api:
  class: ObjectCache
  method: ValidateUnit
  signature: bool ObjectCache::ValidateUnit(::Unit * unit, int expectedGuid, Player
    * bot) const
documentation:
  brief: Validates a Unit object against expected GUID and bot player context
  description: The ValidateUnit method checks whether a given Unit pointer is valid
    and matches the expected GUID within the context of a specific bot player. This
    validation ensures that the unit has not been destroyed, is still in the game
    world, and corresponds to the expected entity. The method performs safety checks
    on the Unit pointer, verifies its GUID against the expected value, and confirms
    that the unit belongs to the correct player context when applicable. It's commonly
    used in AI systems and bot logic to ensure reliable unit references before performing
    operations on them.
  parameters:
  - name: unit
    description: Pointer to the Unit object to validate. Can be nullptr, in which
      case validation fails.
  - name: expectedGuid
    description: The expected GUID value that the unit should match. Used for verifying
      correct entity reference.
  - name: bot
    description: Pointer to the Player bot context. Used to validate ownership or
      relationship of the unit to the bot.
  returns: Returns true if the Unit is valid, its GUID matches expectedGuid, and it's
    properly associated with the bot player; otherwise returns false.
  examples:
  - title: Basic Unit Validation
    code: "if (ObjectCache::ValidateUnit(targetUnit, expectedGUID, botPlayer)) {\n\
      \    // Proceed with unit operations\n    DoSomethingWithUnit(targetUnit);\n\
      } else {\n    // Handle invalid unit reference\n    LOG_ERROR(\"Invalid unit\
      \ reference detected\");\n}"
    language: cpp
  - title: Validation in AI Decision Making
    code: "bool IsValidTarget(Unit* target) {\n    return ObjectCache::ValidateUnit(target,\
      \ target->GetGUID().GetRawValue(), GetBot());\n}\n\n// Usage in AI logic\nif\
      \ (IsValidTarget(enemy)) {\n    AttackTarget(enemy);\n}"
    language: cpp
  notes: This method is typically used in bot AI systems where unit references must
    be validated before operations. It performs multiple checks including null pointer
    validation, GUID matching, and player context verification. The method may have
    performance implications if called frequently in tight loops.
  warnings: Ensure that the Unit pointer passed is not stale or already destroyed.
    Passing nullptr will always return false. The expectedGuid should match the actual
    GUID of the unit to avoid false positives.
  related:
  - ObjectCache::ValidateGameObject
  - ObjectCache::ValidatePlayer
  - ObjectCache::GetObjectByGuid
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T23:03:11.395066'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
