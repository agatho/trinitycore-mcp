api:
  class: PriestAI
  method: UpdateCooldowns
  signature: void PriestAI::UpdateCooldowns(int diff)
documentation:
  brief: Updates the cooldown tracking for priest abilities.
  description: The UpdateCooldowns method is responsible for managing and updating
    the internal cooldown timers for various priest abilities within the AI system.
    This method is typically called during each AI update cycle to ensure that spell
    cooldowns are properly tracked and that abilities become available when their
    cooldown periods expire. It handles the decrementing of cooldown counters based
    on the time elapsed since the last update, and may trigger state changes or ability
    availability updates accordingly. The method plays a crucial role in maintaining
    proper spell casting behavior and ensuring that priests do not cast spells before
    their cooldowns have fully expired.
  parameters:
  - name: diff
    description: The time elapsed (in milliseconds) since the last update cycle. This
      value is used to accurately decrement cooldown timers and determine when abilities
      should become available again.
  returns: null
  examples:
  - title: Basic usage in AI update loop
    code: "void PriestAI::UpdateAI(uint32 diff)\n{\n    // ... other AI logic ...\n\
      \    UpdateCooldowns(diff);\n    // ... rest of AI logic ...\n}"
    language: cpp
  - title: Integration with spell casting logic
    code: "void PriestAI::UpdateCooldowns(int diff)\n{\n    if (m_cooldownTimer >\
      \ 0)\n        m_cooldownTimer = std::max(0, m_cooldownTimer - diff);\n    \n\
      \    if (m_cooldownTimer <= 0 && m_spellAvailable)\n    {\n        // Ability\
      \ is now available\n        m_spellAvailable = false;\n    }\n}"
    language: cpp
  notes: This method should be called regularly during the AI update cycle to maintain
    accurate cooldown tracking. The implementation typically relies on internal timer
    variables that are decremented by the diff parameter. Developers should ensure
    that this method is not called with invalid time values, as this could lead to
    incorrect cooldown behavior or potential overflow issues.
  warnings: Improper handling of the diff parameter can cause cooldown timers to behave
    incorrectly. If diff is negative or excessively large, it may result in unexpected
    behavior or timer overflows. Always ensure that the diff value represents a valid
    time interval since the last update.
  related:
  - GetNextSpell
  - IsSpellReady
  - ResetCooldowns
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T00:23:17.171213'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
