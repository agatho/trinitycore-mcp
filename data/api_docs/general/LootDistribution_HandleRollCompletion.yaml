api:
  class: LootDistribution
  method: HandleRollCompletion
  signature: void LootDistribution::HandleRollCompletion(LootRoll & roll)
documentation:
  brief: Processes the completion of a loot roll, determining the winner and distributing
    the item to the player.
  description: The HandleRollCompletion method is responsible for finalizing a loot
    roll by evaluating all participating players' rolls and determining the winner
    based on the highest roll value. This method ensures that the correct player receives
    the item, updates the loot distribution state, and handles any necessary cleanup
    operations after the roll has concluded. It is typically invoked when a loot roll
    reaches its time limit or when all players have finished rolling. The method operates
    within the context of World of Warcraft's loot system, where items are distributed
    according to specific rules such as need-before-greed or free-for-all distribution
    types.
  parameters:
  - name: roll
    description: Reference to the LootRoll object representing the active loot roll
      being completed. This contains information about the item being rolled for,
      participating players, and their respective rolls.
  returns: null
  examples:
  - title: Completing a loot roll for an item
    code: 'LootRoll roll;

      // ... populate roll with data ...

      LootDistribution lootDist;

      lootDist.HandleRollCompletion(roll);'
    language: cpp
  - title: Handling roll completion in a custom loot system
    code: "void CustomLootHandler::OnRollComplete(LootRoll& roll)\n{\n    LootDistribution\
      \ distribution;\n    distribution.HandleRollCompletion(roll);\n    // Additional\
      \ logic for notifying players or updating UI\n}"
    language: cpp
  notes: This method assumes that all necessary validation has already been performed
    on the roll object before invocation. It does not perform any checks for invalid
    player states or roll data, so callers should ensure the integrity of the input
    parameters. The method may trigger additional events or callbacks related to loot
    distribution and player notifications.
  warnings: Do not call this method with an uninitialized or corrupted LootRoll object,
    as it could lead to undefined behavior or crashes. Ensure that all players involved
    in the roll have valid states before calling this function.
  related:
  - LootDistribution::Roll
  - LootDistribution::AddPlayer
  - LootDistribution::RemovePlayer
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T01:09:21.676833'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
