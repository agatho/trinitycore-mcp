api:
  class: Unit
  method: UpdateObjectVisibility
  signature: void Unit::UpdateObjectVisibility(bool forced)
documentation:
  brief: Updates the visibility state of the unit for nearby players and objects.
  description: The UpdateObjectVisibility method recalculates and synchronizes the
    visibility status of a Unit object within the game world. This includes determining
    which players can see the unit, updating the unit's presence in player client
    caches, and managing the unit's visibility flags. The method is typically invoked
    when the unit's state changes in a way that might affect its visibility, such
    as movement, stealth status changes, or combat engagement. When 'forced' is true,
    it forces a full visibility update regardless of current state.
  parameters:
  - name: forced
    description: If true, forces a complete visibility recalculation and update for
      all nearby players. If false, only updates if necessary based on current visibility
      state.
  returns: null
  examples:
  - title: Basic Visibility Update
    code: "Unit* unit = player->GetSelectedUnit();\nif (unit)\n{\n    unit->UpdateObjectVisibility(false);\n\
      }"
    language: cpp
  - title: Forced Visibility Update for Stealthed Unit
    code: "Unit* stealthedUnit = GetUnitByGuid(stealthedGuid);\nif (stealthedUnit\
      \ && stealthedUnit->IsStealthed())\n{\n    stealthedUnit->UpdateObjectVisibility(true);\
      \ // Force update to reveal unit\n}"
    language: cpp
  notes: This method is automatically called by the core during certain state transitions.
    It's important to understand that visibility updates are handled asynchronously
    and may not be immediately visible to all players. The forced parameter should
    be used sparingly as it can impact performance if overused.
  warnings: Calling this method with 'forced=true' excessively can cause performance
    degradation due to unnecessary network traffic and client-side processing. Avoid
    calling this in tight loops or high-frequency update scenarios without proper
    throttling.
  related:
  - UpdateVisibility
  - SetVisible
  - IsVisible
  - GetVisibilityStatus
metadata:
  confidence: 0.9
  generated_at: '2025-10-29T16:21:30.393481'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
