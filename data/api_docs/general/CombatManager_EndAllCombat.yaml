api:
  class: CombatManager
  method: EndAllCombat
  signature: void CombatManager::EndAllCombat(UnitFilter * unitFilter)
documentation:
  brief: Ends all combat engagements for units matching the specified filter.
  description: The EndAllCombat method terminates all active combat states for units
    that match the provided UnitFilter criteria. This method is typically used to
    forcefully break combat between NPCs and players, or to clean up combat states
    during world events or zone changes. The method iterates through all units in
    the current context and applies the filter to determine which units should have
    their combat state cleared. Combat state includes aggro, threat, and any ongoing
    combat-related flags or timers.
  parameters:
  - name: unitFilter
    description: A pointer to a UnitFilter object that defines which units should
      have their combat ended. If null, the method will end combat for all units in
      the current context.
  returns: null
  examples:
  - title: End combat for all units
    code: 'CombatManager* combatMgr = sObjectAccessor->GetCombatManager();

      combatMgr->EndAllCombat(nullptr);'
    language: cpp
  - title: End combat only for players
    code: "class PlayerFilter : public UnitFilter\n{\npublic:\n    bool IsMatch(Unit*\
      \ unit) override\n    {\n        return unit->IsPlayer();\n    }\n};\n\nPlayerFilter\
      \ filter;\ncombatMgr->EndAllCombat(&filter);"
    language: cpp
  notes: This method may cause performance overhead if used excessively or on large
    groups of units. It's recommended to use a specific UnitFilter to limit the scope
    of combat termination where possible.
  warnings: Calling this method with a null filter will affect all units in the current
    context, potentially causing unexpected behavior in complex encounters or world
    events.
  related:
  - CombatManager::StartCombat
  - CombatManager::IsInCombat
  - CombatManager::GetCombatTime
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T11:49:20.073799'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
