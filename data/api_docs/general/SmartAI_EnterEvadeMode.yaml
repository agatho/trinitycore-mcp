api:
  class: SmartAI
  method: EnterEvadeMode
  signature: void SmartAI::EnterEvadeMode(int why)
documentation:
  brief: Causes the SmartAI-controlled creature to return to its evade mode, stopping
    all current activities and returning to its initial state.
  description: The EnterEvadeMode method is used in TrinityCore's SmartAI system to
    force a creature to enter evade mode. When invoked, this method halts any ongoing
    AI behaviors, clears the current target, resets the creature's movement state,
    and causes it to return to its original position or spawn point. This is typically
    triggered when an enemy leaves the creature's aggro range or when certain conditions
    are met that require the creature to cease combat behavior and retreat. The method
    does not take any parameters but accepts an internal reason code (int why) which
    may influence how the evade mode is handled, such as whether to reset the creature's
    AI state completely or just stop current actions.
  parameters:
  - name: why
    description: An integer value indicating the reason for entering evade mode. This
      parameter controls internal behavior such as whether to fully reset the AI state
      or simply halt current activities.
  returns: void
  examples:
  - title: Basic Usage in SmartAI Event
    code: "void OnCombatStop()\n{\n    EnterEvadeMode(0);\n}"
    language: cpp
  - title: Using with Custom Reason Code
    code: "void OnTargetLost()\n{\n    // 1 = target lost due to distance\n    //\
      \ 2 = target lost due to combat end\n    EnterEvadeMode(1);\n}"
    language: cpp
  notes: This method is part of the SmartAI framework and should only be called from
    within AI event handlers or controlled contexts. It resets movement and behavior
    states, so calling it frequently may cause performance overhead in high-frequency
    events.
  warnings: Calling EnterEvadeMode while the creature is already in evade mode can
    lead to undefined behavior or state corruption if not handled properly by the
    AI system. Ensure that this method is only invoked when necessary to avoid unnecessary
    resets of creature state.
  related:
  - Reset
  - AttackStart
  - UpdateAI
  - EnterCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T02:55:51.384305'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
