api:
  class: BotSession
  method: GetLegacyAccountId
  signature: uint32 BotSession::GetLegacyAccountId() const
documentation:
  brief: Retrieves the legacy account identifier associated with the bot session.
  description: The GetLegacyAccountId method returns a 32-bit unsigned integer representing
    the legacy account ID linked to the current bot session. This identifier is typically
    used for compatibility with older TrinityCore systems or when interfacing with
    legacy database entries that rely on this specific account reference. The method
    does not perform any validation or transformation of the stored value and simply
    retrieves it from internal session state. It is commonly used in scenarios where
    bot behavior needs to be tied to a specific account context, such as for permissions,
    logging, or data synchronization purposes.
  parameters: []
  returns: A uint32 value representing the legacy account ID of the bot session. This
    value corresponds to an account identifier used in older TrinityCore versions
    or database schemas.
  examples:
  - title: Basic Usage
    code: "uint32 legacyId = botSession->GetLegacyAccountId();\nif (legacyId != 0)\n\
      {\n    // Use the legacy account ID for logging or identification\n    sLog->outString(\"\
      Bot session uses legacy account ID: %u\", legacyId);\n}"
    language: cpp
  - title: Integration with Account-Based Logic
    code: "uint32 accountId = botSession->GetLegacyAccountId();\nPlayer* player =\
      \ sObjectAccessor->FindPlayer(MAKE_NEW_GUID(accountId, 0, HIGHGUID_PLAYER));\n\
      if (player)\n{\n    // Perform actions based on the associated account\n   \
      \ botSession->SetOwner(player);\n}"
    language: cpp
  notes: This method assumes that the BotSession has been properly initialized with
    a valid legacy account ID. The returned value may be zero if no legacy account
    is assigned, which could indicate an uninitialized or invalid session state.
  warnings: Be cautious when using this value in security-sensitive contexts, as it
    may not represent a current account ID and could lead to incorrect access control
    decisions if not validated against the current system.
  related:
  - SetLegacyAccountId
  - GetAccountId
  - IsLegacyAccount
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T15:16:24.840171'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
