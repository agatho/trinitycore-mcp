api:
  class: GuildAchievementMgr
  method: SaveToDB
  signature: void GuildAchievementMgr::SaveToDB(int trans)
documentation:
  brief: Saves guild achievement data to the database with optional transaction support.
  description: The SaveToDB method persists all current guild achievement data into
    the database. It is typically invoked when changes to guild achievements need
    to be committed, ensuring that progress and rewards are stored permanently. The
    method accepts an optional transaction parameter which allows for batch operations
    or rollback capabilities in case of errors. This function is crucial for maintaining
    data consistency in guild-related achievements within the TrinityCore framework.
  parameters:
  - name: trans
    description: Optional database transaction identifier. If provided, the save operation
      will be executed within the context of this transaction. A value of -1 indicates
      no transaction is used.
  returns: null
  examples:
  - title: Basic Save Operation
    code: 'GuildAchievementMgr* mgr = sGuildMgr->GetGuildAchievementMgr(guildId);

      mgr->SaveToDB();'
    language: cpp
  - title: Save with Transaction Support
    code: 'TransactionPtr trans = new Transaction();

      GuildAchievementMgr* mgr = sGuildMgr->GetGuildAchievementMgr(guildId);

      mgr->SaveToDB(trans);'
    language: cpp
  notes: This method should be called after any modifications to guild achievements
    to ensure persistence. It's recommended to use transaction support for batch updates
    to maintain data integrity.
  warnings: Calling this method without proper transaction handling may lead to partial
    writes if the operation fails mid-way. Always verify that transactions are properly
    committed or rolled back.
  related:
  - LoadFromDB
  - UpdateAchievement
  - GetAchievement
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T00:22:59.036309'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
