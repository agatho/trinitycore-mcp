api:
  class: QuestManager
  method: CompleteQuest
  signature: bool QuestManager::CompleteQuest(uint32 questId, WorldObject * questGiver)
documentation:
  brief: Completes a specified quest for the player and updates quest progress with
    the given quest giver.
  description: The CompleteQuest method finalizes a player's progress on a specific
    quest by marking it as completed in the player's quest log. It verifies that the
    quest is active, checks if all quest requirements are met, and handles the reward
    distribution. The method requires a valid quest ID and a reference to the quest
    giver object (such as an NPC or item) to properly process the completion. This
    function typically triggers quest-related events and updates the player's quest
    status in the database.
  parameters:
  - name: questId
    description: The unique identifier of the quest to be completed. Must correspond
      to a valid quest entry in the database.
  - name: questGiver
    description: Pointer to the WorldObject that is the quest giver (e.g., NPC, GameObject).
      Used to validate quest completion conditions and handle rewards.
  returns: Returns true if the quest was successfully completed and all associated
    actions were processed. Returns false if the quest could not be completed due
    to invalid parameters, missing requirements, or other errors.
  examples:
  - title: Basic Quest Completion
    code: "if (player->GetQuestManager().CompleteQuest(12345, npc)) {\n    // Quest\
      \ completed successfully\n    player->SendNotification(\"Quest completed!\"\
      );\n}"
    language: cpp
  - title: Checking Completion Before Execution
    code: "uint32 questId = 12345;\nWorldObject* questGiver = player->GetNPC();\n\
      if (questId && questGiver) {\n    if (player->GetQuestManager().CompleteQuest(questId,\
      \ questGiver)) {\n        // Handle successful completion\n        player->AddItem(ITEM_ID_REWARD,\
      \ 1);\n    } else {\n        // Handle failure\n        player->SendNotification(\"\
      Failed to complete quest.\");\n    }\n}"
    language: cpp
  notes: This method assumes that the player has met all prerequisites for completing
    the quest. It does not validate quest requirements itself but relies on the underlying
    system to ensure validity. The quest giver must be a valid WorldObject with associated
    quest data.
  warnings: Ensure that the questId is valid and corresponds to an active quest in
    the database. Passing a null questGiver pointer may result in undefined behavior
    or failed completion. This method should not be called directly from game logic
    without checking prerequisites first.
  related:
  - GetQuestStatus
  - AddQuest
  - RewardQuest
  - FailQuest
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T00:04:50.790286'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
