api:
  class: LootDistribution
  method: GetGlobalLootMetrics
  signature: LootMetrics LootDistribution::GetGlobalLootMetrics()
documentation:
  brief: Retrieves global loot distribution metrics for the entire server instance.
  description: The GetGlobalLootMetrics method returns a LootMetrics structure containing
    aggregated statistics about loot distribution across all zones and entities in
    the TrinityCore server. This includes data such as total items distributed, average
    roll times, successful vs failed loot attempts, and overall loot efficiency. The
    metrics are collected globally and represent cumulative data from all active loot
    sources including creatures, game objects, and world events. This method is typically
    used for administrative monitoring, performance analysis, and balancing gameplay
    mechanics related to item drops.
  parameters: []
  returns: A LootMetrics object containing aggregated statistics about global loot
    distribution, including counts of items distributed, roll times, success rates,
    and other relevant metrics across the entire server.
  examples:
  - title: Basic Usage to Monitor Server Loot
    code: 'LootMetrics globalMetrics = sLootDistribution->GetGlobalLootMetrics();

      TC_LOG_INFO("loot", "Total items distributed: %u", globalMetrics.totalItemsDistributed);

      TC_LOG_INFO("loot", "Average roll time: %.2f ms", globalMetrics.averageRollTimeMs);'
    language: cpp
  notes: This method provides read-only access to aggregated metrics and does not
    modify any internal state. The returned LootMetrics object is a snapshot of current
    server statistics at the time of call. Performance impact is minimal as it only
    reads pre-computed values, but frequent calls may accumulate overhead in high-traffic
    environments.
  warnings: The method returns a copy of the metrics data structure, so modifications
    to the returned object will not affect internal tracking. Ensure proper logging
    or monitoring setup when using these metrics for administrative purposes, as they
    represent cumulative data that may not reflect real-time conditions.
  related:
  - GetLootMetrics
  - UpdateLootMetrics
  - ResetGlobalLootMetrics
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T00:47:43.418694'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
