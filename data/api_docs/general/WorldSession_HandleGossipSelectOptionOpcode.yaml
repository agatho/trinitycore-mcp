api:
  class: WorldSession
  method: HandleGossipSelectOptionOpcode
  signature: void WorldSession::HandleGossipSelectOptionOpcode(WorldPackets::NPC::GossipSelectOption
    & packet)
documentation:
  brief: Processes a player's selection from a gossip menu option in the World of
    Warcraft interface
  description: The HandleGossipSelectOptionOpcode method handles the client-side packet
    sent when a player selects an option from a NPC's gossip menu. This method is
    part of the core WorldSession class and manages the interaction between the player
    and non-player characters within the game world. It processes the selected gossip
    option, potentially triggering quest events, dialog sequences, or other scripted
    interactions with the NPC. The method validates the selection against the available
    options and ensures proper state management for ongoing conversations.
  parameters:
  - name: packet
    description: The WorldPackets::NPC::GossipSelectOption packet containing the selected
      gossip option data including the NPC's GUID, the selected menu ID, and any additional
      parameters required for processing the interaction.
  returns: null
  examples:
  - title: Basic Gossip Option Selection Handling
    code: "void WorldSession::HandleGossipSelectOptionOpcode(WorldPackets::NPC::GossipSelectOption&\
      \ packet)\n{\n    // Validate that the NPC exists and is within interaction\
      \ range\n    if (Creature* creature = GetPlayer()->GetMap()->GetCreature(packet.GossipGUID))\n\
      \    {\n        // Process the selected gossip option\n        creature->OnGossipSelect(GetPlayer(),\
      \ packet.MenuID);\n    }\n}"
    language: cpp
  notes: This method is typically invoked as part of the WorldSession's packet handling
    system. It assumes that the player has already initiated a gossip interaction
    with an NPC and that the client has sent the appropriate packet. The method may
    trigger additional packets back to the client to update the gossip menu state
    or display quest information.
  warnings: Improper handling of this method can lead to broken NPC interactions,
    missing quest progress, or incorrect dialog flow. Developers should ensure proper
    validation of the packet data and handle edge cases where the selected NPC might
    no longer be valid or accessible.
  related:
  - HandleGossipHelloOpcode
  - HandleGossipSelectOption
  - GetPlayer
  - SendGossipMenu
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T22:08:04.606079'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
