api:
  class: CooldownStackingOptimizer
  method: FindOptimalStackWindow
  signature: StackWindow CooldownStackingOptimizer::FindOptimalStackWindow(uint32
    lookAheadMs) const
documentation:
  brief: Calculates and returns the optimal stack window for cooldown management based
    on a specified look-ahead time.
  description: 'The FindOptimalStackWindow method determines the best time window
    to stack cooldowns for maximum efficiency, considering a given look-ahead period
    in milliseconds. This method is typically used in combat simulations or AI decision-making
    systems within TrinityCore to optimize ability usage. It evaluates available cooldowns
    and their remaining times to determine when stacking will yield the highest benefit.
    The method does not modify any internal state but returns a StackWindow object
    representing the calculated optimal time frame. Precondition: The class must be
    properly initialized with relevant cooldown data, and lookAheadMs should be a
    positive value.'
  parameters: []
  returns: A StackWindow object that defines the optimal time window for stacking
    cooldowns. This includes start and end times indicating when the stacking window
    begins and ends, allowing systems to schedule actions accordingly.
  examples:
  - title: Basic usage example
    code: 'CooldownStackingOptimizer optimizer;

      StackWindow window = optimizer.FindOptimalStackWindow(5000);

      // Use window.start and window.end for scheduling

      printf("Optimal stack window: %u - %u ms\n", window.start, window.end);'
    language: cpp
  notes: This method performs calculations based on internal cooldown data and assumes
    all relevant cooldowns are already registered with the optimizer. Performance
    may be impacted by large numbers of active cooldowns or very long look-ahead periods.
    The returned StackWindow values are in milliseconds relative to the current simulation
    time.
  warnings: Calling this method without properly initializing the optimizer with cooldown
    data will result in undefined behavior or incorrect results. Ensure that the lookAheadMs
    parameter is reasonable to avoid excessive computation or unrealistic time windows.
  related:
  - GetCooldowns
  - AddCooldown
  - RemoveCooldown
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T16:38:32.768042'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
