api:
  class: FormationManager
  method: CalculateCohesionLevel
  signature: float FormationManager::CalculateCohesionLevel()
documentation:
  brief: Calculates and returns the cohesion level of a formation based on unit positioning
    and spacing.
  description: The CalculateCohesionLevel method evaluates how closely units within
    a formation are positioned relative to each other, determining the overall cohesion
    of the group. This value is typically used in AI behavior systems to assess formation
    stability and adjust unit movement or combat strategies accordingly. The method
    considers factors such as distance between units, alignment, and spacing consistency
    to compute a normalized float value representing cohesion. It assumes that the
    FormationManager has valid data about its constituent units and their current
    positions.
  parameters: []
  returns: A float value between 0.0 and 1.0, where 0.0 indicates completely disorganized
    or scattered units, and 1.0 represents perfectly aligned and tightly packed formation.
    Values in between reflect varying degrees of cohesion.
  examples:
  - title: Basic Usage
    code: "float cohesion = formationManager.CalculateCohesionLevel();\nif (cohesion\
      \ < 0.5f)\n{\n    // Adjust formation or warn player\n}"
    language: cpp
  - title: Formation Stability Check
    code: "void CheckFormationStability(FormationManager& fm)\n{\n    float cohesion\
      \ = fm.CalculateCohesionLevel();\n    if (cohesion < 0.3f)\n        sLog->outString(\"\
      Warning: Formation is highly disorganized!\");\n    else if (cohesion > 0.8f)\n\
      \        sLog->outString(\"Formation is tightly cohesive.\");\n}"
    language: cpp
  notes: This method likely performs calculations involving Euclidean distances and
    angular alignment between units. It may be called frequently during AI updates,
    so performance optimization is recommended for large formations. The cohesion
    level can influence pathfinding decisions and tactical behaviors in group-based
    encounters.
  warnings: Ensure that the FormationManager contains valid unit data before calling
    this method; otherwise, it might return unpredictable or invalid results. This
    function does not account for obstacles or terrain when calculating cohesion,
    which could affect real-world applicability.
  related:
  - GetFormationUnits
  - UpdateFormationPosition
  - IsFormationValid
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T07:38:06.421593'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
