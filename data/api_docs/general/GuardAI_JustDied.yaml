api:
  class: GuardAI
  method: JustDied
  signature: void GuardAI::JustDied(int * killer)
documentation:
  brief: Handles the event when a guard creature dies, including cleanup and potential
    reward distribution.
  description: The JustDied method is invoked when a guard AI-controlled creature
    is killed. This method typically manages post-death behavior such as cleaning
    up any active combat state, triggering quest events if applicable, and potentially
    awarding experience or items to the killer. It ensures that the guard's death
    is properly processed within the game world's logic and maintains consistency
    with the overall AI framework. The method may also handle notifications to nearby
    NPCs or players about the guard's demise.
  parameters:
  - name: killer
    description: Pointer to an integer representing the ID of the entity that killed
      the guard. This can be a player, NPC, or other game object that caused the death.
  returns: void
  examples:
  - title: Basic usage in custom guard AI override
    code: "class CustomGuardAI : public GuardAI {\npublic:\n    void JustDied(int*\
      \ killer) override {\n        // Perform custom actions on death\n        if\
      \ (killer && *killer > 0) {\n            // Award quest credit or notify nearby\
      \ players\n            // Example: Send a message to the killer's player object\n\
      \        }\n        // Call base implementation\n        GuardAI::JustDied(killer);\n\
      \    }\n};"
    language: cpp
  notes: This method is part of the AI system and should not be called directly from
    outside the AI context. It's typically invoked internally by the core game engine
    when a creature dies, especially if it has a GuardAI behavior assigned. Ensure
    any overrides maintain compatibility with the base class functionality.
  warnings: Incorrect handling of the killer parameter may lead to invalid memory
    access or incorrect quest completion. Always validate that the pointer is not
    null and that the ID corresponds to a valid entity before performing operations
    based on it.
  related:
  - UpdateAI
  - EnterCombat
  - JustRespawned
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T12:50:43.445252'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
