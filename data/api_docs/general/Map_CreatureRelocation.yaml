api:
  class: Map
  method: CreatureRelocation
  signature: void Map::CreatureRelocation(Creature * creature, float x, float y, float
    z, float ang, bool respawnRelocationOnFail)
documentation:
  brief: Relocates a creature to a new position on the map, optionally handling respawn
    behavior on relocation failure.
  description: The CreatureRelocation method moves a specified creature to a new location
    defined by x, y, z coordinates and orientation angle. It updates the creature's
    position within the map's spatial partitioning system and ensures proper visibility
    for nearby players. The method also supports conditional respawn behavior when
    relocation fails, which is useful for handling cases where a creature cannot be
    placed at the requested location due to terrain or collision constraints. This
    function is typically used during creature movement, pathfinding, or teleportation
    operations within the game world.
  parameters:
  - name: creature
    description: Pointer to the Creature object that needs to be relocated. Must not
      be null.
  - name: x
    description: The new X coordinate for the creature's position in world space.
  - name: y
    description: The new Y coordinate for the creature's position in world space.
  - name: z
    description: The new Z coordinate for the creature's position in world space.
  - name: ang
    description: The new orientation angle (in radians) for the creature.
  - name: respawnRelocationOnFail
    description: Boolean flag indicating whether to attempt a respawn relocation if
      the initial relocation fails. If true, the method may trigger a fallback mechanism
      to place the creature at an alternative valid location.
  returns: null
  examples:
  - title: Basic Creature Relocation
    code: 'Creature* myCreature = ...; // Get reference to a creature

      Map* map = myCreature->GetMap();

      map->CreatureRelocation(myCreature, 100.0f, 200.0f, 50.0f, 1.57f, false);'
    language: cpp
  - title: Creature Relocation with Respawn Fallback
    code: 'Creature* npc = ...; // Get reference to a creature

      Map* map = npc->GetMap();

      map->CreatureRelocation(npc, 150.0f, 300.0f, 75.0f, 0.0f, true); // Attempt
      relocation with fallback'
    language: cpp
  notes: This method internally handles spatial partition updates and may trigger
    visibility recalculations for nearby players. The respawnRelocationOnFail parameter
    is particularly useful in scenarios where creatures are teleported to potentially
    invalid locations, such as underwater or inside solid geometry.
  warnings: Passing a null creature pointer will likely result in undefined behavior
    or crash. Ensure that the target coordinates are valid and within map boundaries
    to avoid unexpected relocation failures or visual glitches.
  related:
  - Creature::UpdatePosition
  - Map::CreatureAddToGrid
  - Map::CreatureRemoveFromGrid
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T11:11:28.953784'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
