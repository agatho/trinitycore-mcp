api:
  class: WorldSession
  method: HandleMoveChangeVehicleSeats
  signature: void WorldSession::HandleMoveChangeVehicleSeats(WorldPackets::Vehicle::MoveChangeVehicleSeats
    & moveChangeVehicleSeats)
documentation:
  brief: Handles a player's request to change vehicle seats.
  description: This method processes incoming packets from players requesting to switch
    between available vehicle seats. It validates the seat change request, ensures
    the player is properly seated in a vehicle, and updates the player's position
    and orientation within the vehicle. The method is part of the vehicle movement
    handling system in TrinityCore, enabling dynamic seat switching during vehicle
    operation.
  parameters:
  - name: moveChangeVehicleSeats
    description: A packet containing information about the requested vehicle seat
      change, including the new seat index and possibly the vehicle's GUID.
  returns: null
  examples:
  - title: Basic seat change handling
    code: "void WorldSession::HandleMoveChangeVehicleSeats(WorldPackets::Vehicle::MoveChangeVehicleSeats&\
      \ moveChangeVehicleSeats)\n{\n    if (!GetPlayer() || !GetPlayer()->IsInVehicle())\n\
      \        return;\n\n    Vehicle* vehicle = GetPlayer()->GetVehicle();\n    uint8\
      \ newSeat = moveChangeVehicleSeats.SeatIndex;\n\n    if (vehicle->CanEnterSeat(newSeat))\n\
      \        vehicle->ChangeSeat(GetPlayer(), newSeat);\n}"
    language: cpp
  notes: This method is typically invoked by the network layer when a client sends
    a seat change packet. It assumes that the player has already been validated as
    being in a vehicle and that the requested seat index is valid for the current
    vehicle type.
  warnings: Improper validation of seat indices can lead to crashes or unexpected
    behavior. Ensure that all seat changes are verified against the vehicle's seat
    configuration before applying them.
  related:
  - WorldSession::HandleMoveVehicle
  - WorldSession::HandleMoveChangeVehicleSeatsAck
  - Player::IsInVehicle
  - Vehicle::CanEnterSeat
  - Vehicle::ChangeSeat
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:33:41.814874'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
