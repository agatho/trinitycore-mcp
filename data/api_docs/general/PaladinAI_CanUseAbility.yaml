api:
  class: PaladinAI
  method: CanUseAbility
  signature: bool PaladinAI::CanUseAbility(int spellId)
documentation:
  brief: Determines whether a Paladin AI can use a specified spell ability based on
    current game state and resource requirements.
  description: The CanUseAbility method evaluates if a paladin AI character is capable
    of casting a given spell ability. It checks various conditions such as mana costs,
    cooldowns, target validity, and class-specific restrictions. This method is crucial
    for AI decision-making in TrinityCore's paladin AI system, ensuring that only
    valid abilities are attempted during combat or other gameplay scenarios. The method
    typically integrates with the broader AI state machine to determine appropriate
    actions based on situational awareness and resource management.
  parameters:
  - name: spellId
    description: The unique identifier of the spell ability to check for usability.
      This corresponds to the Spell.dbc entry ID in TrinityCore's database.
  returns: Returns true if the paladin AI can currently use the specified spell ability,
    considering all relevant game state conditions such as mana availability, cooldowns,
    target requirements, and class restrictions. Returns false otherwise, indicating
    that the ability cannot be used at this time.
  examples:
  - title: Basic Usage Check
    code: "if (paladinAI->CanUseAbility(20271)) // Judgement of Light\n{\n    // Attempt\
      \ to cast Judgement of Light\n    paladinAI->CastSpell(20271);\n}"
    language: cpp
  - title: Conditional Ability Selection
    code: "if (paladinAI->CanUseAbility(85673)) // Word of Glory\n{\n    // Cast Word\
      \ of Glory if available\n    paladinAI->CastSpell(85673);\n}\nelse if (paladinAI->CanUseAbility(20271))\
      \ // Judgement of Light\n{\n    // Fallback to Judgement of Light\n    paladinAI->CastSpell(20271);\n\
      }"
    language: cpp
  notes: This method is typically called within the PaladinAI's decision-making loop
    to filter out invalid spell choices before attempting to cast them. The implementation
    likely includes checks for mana, cooldowns, target validity, and class-specific
    requirements such as having the appropriate holy power or judgment stacks. Performance-wise,
    this check should be lightweight since it's used frequently in AI decision loops.
  warnings: This method may not account for all possible temporary state changes that
    could occur between the time of checking and casting. For example, a spell might
    become unavailable due to a change in target status or resource depletion after
    the check but before execution. Always verify spell availability in the context
    where it will be cast.
  related:
  - PaladinAI::CastSpell
  - PaladinAI::GetMana
  - PaladinAI::IsOnCooldown
  - PaladinAI::HasResource
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T22:20:35.152488'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
