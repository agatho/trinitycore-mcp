api:
  class: PositionStrategyBase
  method: CalculateWedgeFormation
  signature: int PositionStrategyBase::CalculateWedgeFormation(int bots, Unit * target,
    float angle)
documentation:
  brief: Calculates and returns the optimal formation position for a bot in a wedge
    formation relative to a target unit.
  description: The CalculateWedgeFormation method determines the appropriate position
    for a bot to assume within a wedge formation, which is commonly used in group
    combat scenarios. It takes into account the number of bots involved, the target
    unit, and an angle parameter that defines the orientation of the formation. The
    method calculates a strategic positioning that maximizes effectiveness while maintaining
    proper spacing and engagement with the target. This function is typically invoked
    during AI decision-making processes to optimize group positioning for combat efficiency.
  parameters:
  - name: bots
    description: The number of bots participating in the wedge formation. Must be
      a positive integer representing the count of units in the group.
  - name: target
    description: Pointer to the target Unit that the wedge formation is oriented towards.
      This represents the primary enemy or objective for the group.
  - name: angle
    description: The angular orientation of the wedge formation in radians. Defines
      how the formation is angled relative to the target direction.
  returns: Returns an integer value representing the calculated formation index or
    position within the wedge. A positive value typically indicates a valid position,
    while negative values may indicate errors or invalid configurations.
  examples:
  - title: Basic usage of CalculateWedgeFormation
    code: int position = bot->GetAI()->CalculateWedgeFormation(3, targetUnit, M_PI
      / 4);
    language: cpp
  - title: Using the result to set bot formation position
    code: "int formationIndex = CalculateWedgeFormation(5, target, 1.57f);\nif (formationIndex\
      \ >= 0)\n{\n    // Set bot's position based on calculated index\n    bot->SetPosition(formationIndex);\n\
      }"
    language: cpp
  notes: This method is part of the AI positioning system and should be called during
    group combat scenarios. The angle parameter is expected in radians, not degrees.
    The implementation may cache previous calculations for performance optimization.
  warnings: Ensure that the target unit pointer is valid before calling this method
    to avoid null pointer exceptions. The bots count must be greater than zero to
    produce meaningful results.
  related:
  - CalculateCircleFormation
  - CalculateLineFormation
  - GetFormationPosition
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T11:20:51.942623'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
