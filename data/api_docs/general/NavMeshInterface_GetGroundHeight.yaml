api:
  class: NavMeshInterface
  method: GetGroundHeight
  signature: bool NavMeshInterface::GetGroundHeight(Map * map, float x, float y, float
    & z, float maxSearchDist) const
documentation:
  brief: Retrieves the ground height at a specified location within a map.
  description: The GetGroundHeight method calculates and returns the Z-coordinate
    (vertical position) of the ground surface at the given X and Y coordinates on
    a specific map. This function is commonly used in navigation and pathfinding systems
    to determine terrain elevation for units, objects, or spell effects. It performs
    a search within a specified maximum distance to find the appropriate ground height,
    which can be crucial for accurate movement, collision detection, and positioning
    logic in World of Warcraft's game world. The method returns false if the height
    cannot be determined within the allowed search distance or if invalid parameters
    are provided.
  parameters:
  - name: map
    description: Pointer to the Map object where the ground height is to be retrieved.
      Must not be null.
  - name: x
    description: The X coordinate (horizontal position) on the map for which to find
      the ground height.
  - name: y
    description: The Y coordinate (horizontal position) on the map for which to find
      the ground height.
  - name: z
    description: Reference to a float variable that will be filled with the resulting
      ground height Z-coordinate upon successful retrieval.
  - name: maxSearchDist
    description: Maximum distance to search for valid ground height. If no valid height
      is found within this range, the function returns false.
  returns: True if a valid ground height was found and stored in the z parameter;
    false otherwise, such as when the coordinates are invalid or no height could be
    determined within maxSearchDist.
  examples:
  - title: Basic usage to get ground height
    code: "float groundZ;\nif (navMeshInterface->GetGroundHeight(map, 100.0f, 200.0f,\
      \ groundZ, 5.0f)) {\n    // Successfully retrieved ground height\n    printf(\"\
      Ground height at (100, 200): %f\\n\", groundZ);\n} else {\n    // Failed to\
      \ retrieve ground height\n    printf(\"Could not determine ground height\\n\"\
      );\n}"
    language: cpp
  - title: Using GetGroundHeight for unit positioning
    code: "Unit* player = ...;\nfloat x, y, z;\nplayer->GetPosition(x, y, z);\nfloat\
      \ groundZ;\nif (navMeshInterface->GetGroundHeight(player->GetMap(), x, y, groundZ,\
      \ 10.0f)) {\n    // Adjust unit's Z position to match ground\n    player->SetPosition(x,\
      \ y, groundZ);\n}"
    language: cpp
  notes: This method relies on the underlying navigation mesh data and may not return
    accurate results outside of valid map boundaries or in areas without proper terrain
    data. The maxSearchDist parameter is important for performance and should be set
    appropriately to avoid unnecessary computation.
  warnings: Ensure that the provided Map pointer is valid and not null, as passing
    an invalid pointer will likely cause a crash. Also, note that this function may
    fail if the coordinates are far outside known map terrain or if the search distance
    is too small for complex terrain features.
  related:
  - GetHeight
  - IsInLineOfSight
  - CalculatePath
metadata:
  confidence: 0.95
  generated_at: '2025-11-03T23:05:01.192544'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
