api:
  class: SmartAI
  method: StopPath
  signature: void SmartAI::StopPath(uint32 DespawnTime, uint32 quest, bool fail)
documentation:
  brief: Stops the current path movement of the SmartAI unit and optionally despawns
    it after a specified time.
  description: 'The StopPath method halts any ongoing path movement for the SmartAI
    unit, effectively stopping its navigation along a predefined route. It can also
    trigger a delayed despawn of the unit after a specified time interval. This method
    is commonly used in quest scripts or AI behaviors where an NPC needs to cease
    movement and potentially disappear after completing a sequence. The behavior is
    influenced by the provided parameters: DespawnTime controls how long (in milliseconds)
    the unit waits before despawning, Quest indicates whether the unit should be removed
    from a specific quest context, and Fail determines if the quest should be marked
    as failed upon stopping the path.'
  parameters:
  - name: DespawnTime
    description: The time in milliseconds after which the unit will be despawned.
      A value of 0 means no automatic despawn.
  - name: quest
    description: The quest ID associated with this path. If non-zero, the unit may
      be removed from the quest context upon stopping the path.
  - name: fail
    description: If true, marks the quest as failed when the path is stopped. If false,
      no quest failure is triggered.
  returns: null
  examples:
  - title: Basic usage to stop path and despawn after 5 seconds
    code: smartAI->StopPath(5000, 0, false);
    language: cpp
  - title: Stop path and fail quest if path is interrupted
    code: smartAI->StopPath(3000, 12345, true);
    language: cpp
  notes: This method should only be called on units that are currently following a
    path. Calling it on a unit not moving along a path may have no effect or cause
    unexpected behavior. The despawn time is handled asynchronously and depends on
    the server's tick rate.
  warnings: Ensure that DespawnTime is set appropriately to avoid unintended despawns
    during critical quest events. Using a large value for DespawnTime without proper
    cleanup can lead to memory leaks or lingering NPCs in the world.
  related:
  - StartPath
  - MoveTo
  - SetDespawnTime
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T02:39:04.402398'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
