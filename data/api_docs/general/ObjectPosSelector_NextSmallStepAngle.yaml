api:
  class: ObjectPosSelector
  method: NextSmallStepAngle
  signature: bool ObjectPosSelector::NextSmallStepAngle(float sign, UsedPosType uptype,
    float & angle)
documentation:
  brief: Calculates and returns the next small step angle for object positioning.
  description: The NextSmallStepAngle method computes a new angular position adjustment
    for an object within a selector, typically used in positioning calculations where
    objects need to be placed around a central point with specific angular constraints.
    It takes into account the direction (sign), the type of position already used
    (uptype), and updates the provided angle reference with the calculated value.
    This method is part of the ObjectPosSelector class which manages placement logic
    for objects in the game world, particularly useful for spells or effects that
    require distributing objects around a target point. The method returns true if
    a valid angle could be computed, false otherwise, indicating no further valid
    positions are available.
  parameters:
  - name: sign
    description: 'A float value indicating the direction of movement: positive values
      typically mean clockwise rotation, negative values counterclockwise. Used to
      determine which angular step to take next.'
  - name: uptype
    description: An enum or type identifier representing the used position type. This
      helps track already occupied angles and avoid overlapping placements when calculating
      new positions.
  - name: angle
    description: A reference to a float that will be updated with the computed next
      small step angle if successful. The value is modified in place.
  returns: Returns true if a valid next small step angle was calculated and stored
    in the angle parameter; returns false if no further valid angles can be generated,
    indicating all possible positions have been exhausted or are blocked.
  examples:
  - title: Basic usage of NextSmallStepAngle
    code: "ObjectPosSelector selector;\nfloat angle = 0.0f;\nif (selector.NextSmallStepAngle(1.0f,\
      \ USED_POS_TYPE_NORMAL, angle)) {\n    // Angle has been updated with a valid\
      \ next step\n    printf(\"Next angle: %f\\n\", angle);\n} else {\n    // No\
      \ more valid angles available\n    printf(\"No more positions available\\n\"\
      );\n}"
    language: cpp
  - title: Using NextSmallStepAngle in a loop for multiple placements
    code: "ObjectPosSelector selector;\nfloat angle = 0.0f;\nint count = 0;\nwhile\
      \ (selector.NextSmallStepAngle(1.0f, USED_POS_TYPE_NORMAL, angle) && count <\
      \ 8) {\n    // Place object at calculated angle\n    printf(\"Placing object\
      \ at angle: %f\\n\", angle);\n    ++count;\n}"
    language: cpp
  notes: This method is commonly used in spell effects that spawn multiple objects
    around a central point, such as AoE spells or circular formations. The internal
    logic of ObjectPosSelector likely maintains a list or set of occupied angles to
    prevent overlap. It's important to ensure that the 'sign' and 'uptype' parameters
    are correctly set based on the intended behavior of the positioning algorithm.
  warnings: Be cautious when calling this method repeatedly without checking its return
    value; if it returns false, further calls may lead to undefined behavior or incorrect
    positioning. Also, make sure that the angle reference is initialized appropriately
    before use, as the method modifies it in place.
  related:
  - ObjectPosSelector::Initialize
  - ObjectPosSelector::NextAngle
  - ObjectPosSelector::NextUsedPos
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T07:37:42.831311'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
