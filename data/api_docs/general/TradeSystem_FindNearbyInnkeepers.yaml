api:
  class: TradeSystem
  method: FindNearbyInnkeepers
  signature: int TradeSystem::FindNearbyInnkeepers(Player * player, float radius)
documentation:
  brief: Finds and counts nearby innkeepers within a specified radius for the given
    player.
  description: The FindNearbyInnkeepers method searches for all innkeeper NPCs located
    within a defined radius around the specified player character. It iterates through
    the game world to identify valid innkeeper entities, typically used for determining
    available resting locations or trade route planning. The method returns an integer
    count of how many qualifying innkeepers were found. This functionality is commonly
    utilized in player interaction systems, quest mechanics, and travel-related features
    within TrinityCore's framework.
  parameters:
  - name: player
    description: Pointer to the Player object for which nearby innkeepers are being
      searched. Must be a valid player instance.
  - name: radius
    description: Float value representing the search radius in yards around the player's
      current position. Defines how far the method will scan for innkeepers.
  returns: An integer representing the number of innkeeper NPCs found within the specified
    radius. Returns zero if no innkeepers are located or if invalid parameters are
    provided.
  examples:
  - title: Basic Usage Example
    code: "Player* player = ...; // Assume valid player instance\nint count = TradeSystem::FindNearbyInnkeepers(player,\
      \ 50.0f);\nif (count > 0) {\n    // Proceed with innkeeper interaction logic\n\
      }"
    language: cpp
  - title: Advanced Usage with Radius Adjustment
    code: "Player* player = ...; // Assume valid player instance\nfloat searchRadius\
      \ = player->GetMap()->GetVisibilityDistance();\nint nearbyInnkeepers = TradeSystem::FindNearbyInnkeepers(player,\
      \ searchRadius);\nif (nearbyInnkeepers > 0) {\n    // Display available innkeeper\
      \ locations to the player\n    // Or trigger a quest that requires visiting\
      \ an innkeeper\n}"
    language: cpp
  notes: This method relies on the TrinityCore's world object management system to
    locate NPCs. Performance may be impacted when searching large areas or with many
    active players. The radius parameter is interpreted in game units (yards), and
    the search includes all innkeepers regardless of faction or reputation status.
  warnings: Ensure that the player pointer is valid before calling this method, as
    passing a null pointer will result in undefined behavior. The method does not
    perform any filtering based on faction or reputation, so all innkeepers within
    range are counted.
  related:
  - FindNearbyTrainers
  - FindNearbyVendors
  - GetPlayerInnkeeperCount
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T00:36:54.012363'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
