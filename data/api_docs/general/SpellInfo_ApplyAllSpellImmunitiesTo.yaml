api:
  class: SpellInfo
  method: ApplyAllSpellImmunitiesTo
  signature: void SpellInfo::ApplyAllSpellImmunitiesTo(Unit * target, const SpellEffectInfo
    & spellEffectInfo, bool apply) const
documentation:
  brief: Applies all spell immunities to a target unit based on the provided spell
    effect information.
  description: This method applies all spell immunity effects to a specified target
    unit, using the provided spell effect information. It handles various types of
    spell immunities including school immunity, immune effects, and other magical
    protections. The method is typically used during spell application or removal
    processes to ensure proper handling of immunity mechanics in World of Warcraft.
    The implementation ensures that the target receives appropriate immunity based
    on the spell's effect parameters.
  parameters:
  - name: target
    description: The unit to which spell immunities will be applied or removed. This
      is typically a player or creature that may be affected by spell immunity mechanics.
  - name: spellEffectInfo
    description: The spell effect information that determines how immunities are applied.
      This includes details about the specific spell effect being processed, such
      as the effect type and parameters.
  - name: apply
    description: Boolean flag indicating whether to apply or remove immunities. True
      means applying immunities, false means removing them.
  returns: null
  examples:
  - title: Basic usage example
    code: 'SpellInfo* spellInfo = sSpellMgr->GetSpellInfo(12345);

      Unit* target = player;

      SpellEffectInfo spellEffectInfo;

      spellInfo->ApplyAllSpellImmunitiesTo(target, spellEffectInfo, true);'
    language: cpp
  - title: Advanced usage example
    code: 'SpellInfo* spellInfo = sSpellMgr->GetSpellInfo(12345);

      Unit* target = player;

      SpellEffectInfo spellEffectInfo;

      spellInfo->ApplyAllSpellImmunitiesTo(target, spellEffectInfo, false);

      // This removes all immunities from the target'
    language: cpp
  notes: This method is part of the core spell handling system in TrinityCore and
    should be used carefully during spell processing. It's important to note that
    this method does not directly handle immunity mechanics but rather applies them
    based on the provided effect information, which may include various types of immunities.
  warnings: Care must be taken when using this method as it can affect target's immunity
    status. Incorrect usage could lead to unexpected behavior in spell application
    or removal processes. The method should only be called during appropriate spell
    processing phases.
  related:
  - SpellInfo::ApplySpellImmunities
  - SpellInfo::GetSpellEffectInfo
  - SpellInfo::IsSpellImmune
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T21:42:19.294976'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
