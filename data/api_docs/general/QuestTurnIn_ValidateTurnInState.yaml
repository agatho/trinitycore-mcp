api:
  class: QuestTurnIn
  method: ValidateTurnInState
  signature: void QuestTurnIn::ValidateTurnInState(Player * bot, uint32 questId)
documentation:
  brief: Validates the turn-in state of a quest for a player character.
  description: The ValidateTurnInState method checks whether a player can successfully
    turn in a specified quest. It evaluates various conditions such as quest completion
    status, required items, quest flags, and player state to determine if the quest
    turn-in is valid. This method is typically invoked during quest submission processes
    to ensure that all prerequisites are met before allowing the quest to be completed.
    The validation includes checking if the player has the necessary items in their
    inventory, if the quest is marked as complete, and if any special conditions (like
    quest flags or player level requirements) are satisfied.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the character attempting
      to turn in the quest. Must be a valid player instance.
  - name: questId
    description: Unique identifier of the quest being turned in. Must correspond to
      a valid quest entry in the database.
  returns: null
  examples:
  - title: Basic Quest Turn-In Validation
    code: 'Player* player = ...; // Get player instance

      uint32 questId = 12345;

      questTurnIn->ValidateTurnInState(player, questId);'
    language: cpp
  - title: Conditional Quest Turn-In Validation
    code: "if (player->GetQuestStatus(questId) == QUEST_STATUS_COMPLETE)\n{\n    questTurnIn->ValidateTurnInState(player,\
      \ questId);\n    // Proceed with quest reward distribution\n}"
    language: cpp
  notes: This method is part of the internal quest handling system in TrinityCore
    and should only be called after verifying that the player has initiated a quest
    turn-in process. It does not directly award rewards or update quest status; instead,
    it validates whether the turn-in can proceed.
  warnings: Calling this method without proper pre-checks may lead to inconsistent
    quest states or unexpected behavior. Ensure that the player object is valid and
    the questId corresponds to an actual quest before invoking this method.
  related:
  - Player::GetQuestStatus
  - Player::CompleteQuest
  - Player::RewardQuest
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T04:21:46.631208'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
