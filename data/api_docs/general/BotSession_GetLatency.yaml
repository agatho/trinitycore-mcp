api:
  class: BotSession
  method: GetLatency
  signature: uint32 BotSession::GetLatency() const
documentation:
  brief: Calculates and returns the network latency in milliseconds between the bot
    session and its associated player client.
  description: The GetLatency method measures the round-trip time for network communication
    between a bot session and its corresponding player client within the TrinityCore
    framework. This value represents the delay introduced by network transmission
    and processing, which is crucial for determining response timing in automated
    gameplay behaviors. The method typically aggregates multiple ping measurements
    over a short period to provide an averaged latency value that reflects current
    network conditions. This measurement is essential for bots to adapt their behavior
    based on connection quality, such as adjusting action timing or prioritizing critical
    operations during high-latency periods.
  parameters: []
  returns: Returns a uint32 value representing the measured network latency in milliseconds.
    A lower value indicates better network connectivity and faster response times,
    while higher values suggest potential performance issues or unstable connections.
  examples:
  - title: Basic Latency Check
    code: "uint32 latency = botSession->GetLatency();\nif (latency > 500)\n{\n   \
      \ // Handle high latency scenario\n    sLog->outString(\"High latency detected:\
      \ %u ms\", latency);\n}"
    language: cpp
  - title: Dynamic Behavior Adjustment Based on Latency
    code: "uint32 latency = botSession->GetLatency();\nif (latency < 100)\n{\n   \
      \ // Optimize for low latency - aggressive actions\n    bot->SetActionDelay(50);\n\
      }\nelse if (latency < 300)\n{\n    // Moderate latency - balanced approach\n\
      \    bot->SetActionDelay(150);\n}\nelse\n{\n    // High latency - conservative\
      \ behavior\n    bot->SetActionDelay(500);\n}"
    language: cpp
  notes: The method may cache latency measurements for performance reasons, potentially
    returning stale values if the network conditions change rapidly. The implementation
    likely uses internal timing mechanisms to track ping responses and compute round-trip
    delays. This value is particularly important in PvP scenarios where precise timing
    can affect combat effectiveness.
  warnings: Do not assume that latency remains constant; network conditions can fluctuate
    significantly during gameplay. Using outdated latency values may lead to suboptimal
    bot behavior, especially in time-sensitive situations like combat or quest completion.
  related:
  - SetLatency
  - UpdateLatency
  - GetPlayer
metadata:
  confidence: 0.92
  generated_at: '2025-11-04T13:18:49.220336'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
