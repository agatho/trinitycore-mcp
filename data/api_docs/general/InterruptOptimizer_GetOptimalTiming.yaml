api:
  class: InterruptOptimizer
  method: GetOptimalTiming
  signature: float InterruptOptimizer::GetOptimalTiming(uint32 spellId)
documentation:
  brief: Calculates and returns the optimal timing window for interrupting a spell
    cast by an enemy target.
  description: The GetOptimalTiming method determines the precise moment within a
    spell's casting process when an interruption attempt is most likely to succeed.
    This calculation takes into account various factors such as the spell's cast time,
    the caster's current state, and the interrupter's abilities. The returned float
    value represents the timing in seconds from the start of the spell cast, indicating
    when the optimal window for interruption occurs. This method is primarily used
    by AI systems to make intelligent decisions about when to attempt spell interrupts
    during combat encounters.
  parameters: []
  returns: A float value representing the optimal time (in seconds) from the beginning
    of a spell's cast when an interrupt should be attempted. Returns 0.0f if no valid
    timing could be calculated or if the spell cannot be interrupted.
  examples:
  - title: Basic Usage in AI Logic
    code: "float optimalTime = interruptOptimizer.GetOptimalTiming(12345);\nif (optimalTime\
      \ > 0.0f)\n{\n    // Schedule interrupt at calculated timing\n    scheduler.ScheduleAt(optimalTime,\
      \ [this]() {\n        DoInterruptSpell();\n    });\n}"
    language: cpp
  notes: This method relies on internal spell data and AI configuration. The returned
    timing may vary based on the current combat state and target conditions. For performance
    reasons, results should be cached when possible rather than recalculated repeatedly.
  warnings: The method assumes that a valid spell ID is provided and that the spell
    can actually be interrupted. Calling this method with invalid spell IDs or non-interruptible
    spells may return unexpected values. Ensure proper validation before using the
    returned timing value.
  related:
  - GetInterruptChance
  - IsSpellInterruptible
  - CalculateInterruptWindow
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T02:51:40.488041'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
