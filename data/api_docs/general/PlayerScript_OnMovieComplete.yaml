api:
  class: PlayerScript
  method: OnMovieComplete
  signature: void PlayerScript::OnMovieComplete(Player * player, uint32 movieId)
documentation:
  brief: Called when a player completes watching a movie in the game.
  description: The OnMovieComplete method is a virtual callback function that gets
    invoked when a player finishes watching a movie, typically triggered by the game's
    movie playback system. This event occurs after the movie has finished playing
    and the player is returned to normal gameplay. The method allows script developers
    to execute custom logic or trigger events based on the completion of specific
    movies. It is part of the PlayerScript class which provides hooks for various
    player-related events in TrinityCore.
  parameters:
  - name: player
    description: Pointer to the Player object whose movie playback has completed.
      This parameter represents the specific player instance that triggered the event.
  - name: movieId
    description: The unique identifier of the movie that was completed. This ID corresponds
      to entries in the movie database and identifies which specific movie finished
      playing.
  returns: null
  examples:
  - title: Basic implementation of OnMovieComplete
    code: "class MyPlayerScript : public PlayerScript\n{\npublic:\n    void OnMovieComplete(Player*\
      \ player, uint32 movieId) override\n    {\n        // Log that a movie was completed\n\
      \        sLog->outString(\"Player %s completed movie ID %u\", player->GetName().c_str(),\
      \ movieId);\n        \n        // Example: Give quest reward after movie completion\n\
      \        if (movieId == 1234)\n        {\n            player->AddItem(ITEM_ID_REWARD,\
      \ 1);\n        }\n    }\n};"
    language: cpp
  notes: This method is called from the game's main loop during the update cycle.
    The movieId parameter corresponds to the ID field in the movie database table.
    Script implementations should avoid heavy computations or blocking operations
    within this function as it may affect performance.
  warnings: Be cautious when modifying player state within this callback, as it might
    interfere with the normal flow of gameplay. Ensure that any modifications to the
    player's state are safe and don't cause unexpected behavior during movie playback
    transitions.
  related:
  - OnMovieStart
  - OnPlayerEnterWorld
  - OnPlayerLogout
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T01:15:49.690382'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
