api:
  class: DruidAI
  method: CanShiftToForm
  signature: bool DruidAI::CanShiftToForm(DruidForm form) const
documentation:
  brief: Determines whether the Druid AI can shift to the specified druid form.
  description: The CanShiftToForm method evaluates if a druid AI character is capable
    of transitioning into a given druid form. This includes checking for necessary
    prerequisites such as spell availability, mana requirements, and character state
    restrictions. The method ensures that the druid cannot shift into forms that are
    not currently accessible due to game mechanics like being in combat, having certain
    buffs or debuffs, or lacking required spells. It is typically used internally
    by the AI system to make decisions about form switching during gameplay.
  parameters: []
  returns: Returns true if the druid AI can successfully shift to the specified form;
    otherwise returns false. The method will return false if the form is invalid,
    if the druid lacks required spells or abilities, or if environmental conditions
    prevent shifting.
  examples:
  - title: Basic Form Shift Check
    code: "if (druidAI->CanShiftToForm(DRUID_FORM_CAT)) {\n    // Proceed with cat\
      \ form shift\n    druidAI->ShiftToForm(DRUID_FORM_CAT);\n}"
    language: cpp
  - title: Conditional Form Switching
    code: "DruidForm currentForm = druidAI->GetShapeshiftForm();\nif (currentForm\
      \ != DRUID_FORM_BEAR && druidAI->CanShiftToForm(DRUID_FORM_BEAR)) {\n    druidAI->ShiftToForm(DRUID_FORM_BEAR);\n\
      } else if (currentForm != DRUID_FORM_CAT && druidAI->CanShiftToForm(DRUID_FORM_CAT))\
      \ {\n    druidAI->ShiftToForm(DRUID_FORM_CAT);\n}"
    language: cpp
  notes: This method is part of the Druid AI subsystem and should only be called on
    valid druid AI instances. The implementation may vary depending on the specific
    AI behavior defined in the TrinityCore codebase. It does not perform actual form
    shifting, but rather evaluates whether such an action would be permissible.
  warnings: Do not assume that a positive return value guarantees successful form
    shifting; additional checks or actions might still be required. This method should
    not be used as a direct replacement for spell or ability validation in combat
    situations.
  related:
  - ShiftToForm
  - GetShapeshiftForm
  - HasSpell
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T14:35:14.399680'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
