api:
  class: ObstacleAvoidanceManager
  method: EstimateObstacleClearanceTime
  signature: float ObstacleAvoidanceManager::EstimateObstacleClearanceTime(const ObstacleInfo
    & obstacle)
documentation:
  brief: Estimates the time required for a unit to clear an obstacle based on its
    movement properties and the obstacle's characteristics.
  description: The EstimateObstacleClearanceTime method calculates the estimated time
    in seconds that a unit will take to navigate around or through a given obstacle.
    This estimation considers factors such as the unit's speed, the size and position
    of the obstacle, and the unit's current movement behavior. The method is typically
    used in pathfinding and AI decision-making processes to determine whether an alternative
    route should be taken or if the unit should wait for the obstacle to clear. It
    serves as a key component in dynamic obstacle avoidance systems within TrinityCore's
    AI framework.
  parameters: []
  returns: A float value representing the estimated time in seconds required to clear
    the obstacle. Returns 0.0f if no valid estimation can be made or if the obstacle
    is not relevant for clearance calculations.
  examples:
  - title: Basic usage in AI behavior
    code: "float clearanceTime = obstacleManager->EstimateObstacleClearanceTime(obstacleInfo);\n\
      if (clearanceTime > 5.0f) {\n    // Consider alternative path\n    unit->SetMovementFlags(MOVEFLAG_WALKING);\n\
      }"
    language: cpp
  - title: Integration with movement update logic
    code: "void UnitAI::UpdateAI(uint32 diff) {\n    if (obstacleManager->IsInObstacleAvoidanceMode())\
      \ {\n        float clearanceTime = obstacleManager->EstimateObstacleClearanceTime(currentObstacle);\n\
      \        if (clearanceTime > 0.0f && clearanceTime < 10.0f) {\n            //\
      \ Adjust movement or wait\n            unit->MoveSpline()->SetWalk(true);\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method relies on internal obstacle data structures and movement state
    information. The accuracy of the estimation depends heavily on how well the obstacle
    is defined in terms of size, position, and passability. Performance-wise, this
    method should be called sparingly during high-frequency AI updates to avoid impacting
    frame rate.
  warnings: Do not assume that the returned time value represents actual real-time
    execution; it's a calculated estimate. The method may return zero or negative
    values if obstacle data is invalid or if the unit cannot move through the obstacle.
    Always validate input parameters before calling this method in production code.
  related:
  - GetObstacleInfo
  - IsInObstacleAvoidanceMode
  - UpdateObstacleList
  - CalculatePathAroundObstacle
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T01:21:49.904226'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
