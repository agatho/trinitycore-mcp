api:
  class: QuestAcceptanceManager
  method: CalculateQuestPriority
  signature: float QuestAcceptanceManager::CalculateQuestPriority(const int * quest)
    const
documentation:
  brief: Calculates and returns the priority value of a quest based on various factors
    such as level, reputation, and quest flags.
  description: The CalculateQuestPriority method determines the relative importance
    or desirability of a given quest within the context of a player's current state.
    It evaluates multiple criteria including the quest's level requirement, the player's
    current level, available reputation bonuses, and specific quest flags that may
    influence priority. This calculation is used internally by the QuestAcceptanceManager
    to determine which quests should be prioritized for acceptance or completion.
    The method takes into account game mechanics such as quest gating, reputation
    requirements, and player progression to provide a normalized float value representing
    the quest's priority level.
  parameters:
  - name: quest
    description: Pointer to an integer array containing quest data identifiers including
      quest ID, level, flags, and other metadata. The array should contain at least
      the minimum required fields for priority calculation.
  returns: A float value representing the calculated priority of the quest. Higher
    values indicate higher priority. Values typically range from 0.0 (lowest priority)
    to 1.0 (highest priority), though specific ranges may vary based on internal calculations
    and game logic.
  examples:
  - title: Basic Quest Priority Calculation
    code: "int questData[] = {12345, 10, 0x0001}; // questId, level, flags\nfloat\
      \ priority = questManager.CalculateQuestPriority(questData);\nif (priority >\
      \ 0.7f) {\n    // Quest is highly prioritized\n}"
    language: cpp
  - title: Using Priority for Quest Selection
    code: "std::vector<int*> availableQuests;\n// ... populate availableQuests with\
      \ quest data pointers\nfloat highestPriority = 0.0f;\nint* bestQuest = nullptr;\n\
      for (auto& quest : availableQuests) {\n    float priority = questManager.CalculateQuestPriority(quest);\n\
      \    if (priority > highestPriority) {\n        highestPriority = priority;\n\
      \        bestQuest = quest;\n    }\n}\n// bestQuest now points to the highest\
      \ priority quest"
    language: cpp
  notes: This method is typically called during quest evaluation phases when determining
    which quests to present to players. The implementation may cache certain calculations
    for performance reasons, particularly for frequently accessed quests. The exact
    algorithm used for calculation is internal to TrinityCore and may vary between
    different versions or patches.
  warnings: The input quest parameter must be a valid pointer to an array with sufficient
    elements; otherwise, the behavior is undefined. This method should not be called
    with null pointers or arrays that do not contain required quest metadata fields.
  related:
  - GetQuestPriority
  - EvaluateQuestAcceptance
  - CalculateQuestRewardValue
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T00:11:36.176979'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
