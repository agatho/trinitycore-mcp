api:
  class: Vehicle
  method: GetSeatIteratorForPassenger
  signature: int Vehicle::GetSeatIteratorForPassenger(Unit * passenger)
documentation:
  brief: Returns the seat iterator index for a given passenger unit in the vehicle.
  description: The GetSeatIteratorForPassenger method retrieves the zero-based index
    of a specific passenger unit within the vehicle's seat map. This index corresponds
    to the position of the passenger in the vehicle's internal seat iterator structure,
    which is used for managing passenger placement and vehicle behavior. The method
    is typically used to determine where a passenger is seated within a vehicle, enabling
    proper animation, interaction, and control logic. It assumes that the passenger
    unit is already registered as a passenger of this vehicle instance.
  parameters:
  - name: passenger
    description: Pointer to the Unit object representing the passenger whose seat
      iterator index is to be retrieved. Must not be null and must be a valid passenger
      of this vehicle.
  returns: An integer representing the zero-based index of the passenger's seat in
    the vehicle's internal seat iterator map. Returns -1 if the passenger is not found
    or is not a valid passenger of this vehicle.
  examples:
  - title: Basic usage to find passenger seat index
    code: "Vehicle* vehicle = player->GetVehicle();\nif (vehicle)\n{\n    int seatIndex\
      \ = vehicle->GetSeatIteratorForPassenger(passengerUnit);\n    if (seatIndex\
      \ >= 0)\n    {\n        // Passenger is seated at seatIndex\n        printf(\"\
      Passenger is seated at index: %d\\n\", seatIndex);\n    }\n    else\n    {\n\
      \        // Passenger not found or invalid\n        printf(\"Passenger not found\
      \ in vehicle\\n\");\n    }\n}"
    language: cpp
  notes: This method relies on the internal seat iterator structure of the vehicle,
    which is managed by TrinityCore's vehicle system. The returned index corresponds
    to the order in which passengers were added to the vehicle and may change if passengers
    are removed or added dynamically during runtime.
  warnings: Ensure that the passenger unit passed to this method is actually a passenger
    of the vehicle; otherwise, the method will return -1. Also, be aware that seat
    indices can become invalid if passengers are removed from the vehicle without
    proper cleanup.
  related:
  - GetPassenger
  - AddPassenger
  - RemovePassenger
  - HasPassenger
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T14:31:37.801150'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
