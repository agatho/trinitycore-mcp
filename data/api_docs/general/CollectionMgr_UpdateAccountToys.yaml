api:
  class: CollectionMgr
  method: UpdateAccountToys
  signature: bool CollectionMgr::UpdateAccountToys(uint32 itemId, bool isFavourite,
    bool hasFanfare)
documentation:
  brief: Updates the account toy collection with the specified item ID, favorite status,
    and fanfare setting.
  description: The UpdateAccountToys method is responsible for modifying or adding
    an entry to a player's account-wide toy collection in TrinityCore. This function
    allows setting whether a specific toy (identified by its item ID) is marked as
    a favorite and whether it should trigger a fanfare when acquired. The method typically
    interacts with the database to persist these changes across sessions. It is commonly
    used during toy acquisition events, such as when a player receives a new toy through
    quest rewards, achievements, or other in-game mechanics. This method ensures that
    the player's toy collection state is accurately reflected in the game's persistent
    storage.
  parameters:
  - name: itemId
    description: The unique identifier of the toy item to update in the account collection.
      Must correspond to a valid item entry in the game database.
  - name: isFavourite
    description: A boolean flag indicating whether the toy should be marked as a favorite.
      True sets the toy as a favorite, false removes the favorite status.
  - name: hasFanfare
    description: A boolean flag indicating whether the toy should trigger a fanfare
      upon being added or updated in the collection. True enables the fanfare effect,
      false disables it.
  returns: Returns true if the update was successfully applied to the database and
    the changes were persisted; otherwise returns false, which may indicate a failure
    in database access or invalid input parameters.
  examples:
  - title: Mark a toy as favorite with fanfare
    code: "if (collectionMgr->UpdateAccountToys(12345, true, true)) {\n    // Toy\
      \ marked as favorite and fanfare enabled\n}"
    language: cpp
  - title: Remove favorite status from a toy
    code: "if (collectionMgr->UpdateAccountToys(67890, false, false)) {\n    // Toy\
      \ removed from favorites, no fanfare\n}"
    language: cpp
  notes: This method likely performs database operations and may involve synchronization
    with the player's session state. It is recommended to call this method only after
    verifying that the item ID exists in the game's item database to avoid unexpected
    behavior.
  warnings: Calling this method with an invalid itemId may result in undefined behavior
    or database errors. Ensure that all parameters are validated before invoking the
    function, especially in high-frequency update scenarios.
  related:
  - GetAccountToys
  - AddAccountToy
  - RemoveAccountToy
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T01:18:15.881503'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
