api:
  class: LootDistribution
  method: ProcessPlayerLootDecision
  signature: void LootDistribution::ProcessPlayerLootDecision(Player * player, uint32
    rollId, LootRollType rollType)
documentation:
  brief: Processes a player's decision for a loot roll in the TrinityCore system.
  description: The ProcessPlayerLootDecision method handles the outcome of a player's
    participation in a loot roll within the World of Warcraft server environment.
    This function is typically invoked when a player makes a choice regarding an item
    they are eligible to receive through group loot mechanics, such as rolling 'need',
    'greed', or passing on an item. It updates internal loot distribution state and
    may trigger item assignment or further processing based on the roll type and player
    decision. The method ensures proper synchronization of loot decisions within the
    context of a group or raid loot system.
  parameters:
  - name: player
    description: Pointer to the Player object whose loot decision is being processed.
      Must be a valid player instance with an active session.
  - name: rollId
    description: Unique identifier for the specific loot roll being decided upon.
      Used to track and match the decision to the correct loot item and roll context.
  - name: rollType
    description: Type of loot roll decision made by the player, such as NEED, GREED,
      or PASS. Determines how the system processes the player's choice in relation
      to item distribution.
  returns: null
  examples:
  - title: Basic Player Loot Roll Decision
    code: 'Player* player = session->GetPlayer();

      uint32 rollId = 12345;

      LootRollType rollType = LOOT_ROLL_NEED;

      lootDistribution->ProcessPlayerLootDecision(player, rollId, rollType);'
    language: cpp
  notes: This method is part of the internal loot management system and should only
    be called during active loot rolls. It assumes that the player has already been
    validated for participation in the specific loot event and that the roll ID corresponds
    to an existing, open roll.
  warnings: Calling this method with invalid parameters such as a null player pointer
    or an invalid rollId may lead to undefined behavior or crashes. Ensure all preconditions
    are met before invoking this function.
  related:
  - LootDistribution::RollItem
  - LootDistribution::SendLootUpdate
  - LootDistribution::DistributeLoot
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T09:25:58.225929'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
