api:
  class: MechanicAwareness
  method: GetCleaveAvoidancePosition
  signature: int MechanicAwareness::GetCleaveAvoidancePosition(Player * bot, Unit
    * source)
documentation:
  brief: Calculates and returns the optimal position for a bot to avoid cleave attacks
    from a source unit.
  description: The GetCleaveAvoidancePosition method determines the best positional
    escape route for a player bot to avoid cleave-based melee attacks from a target
    unit. This method evaluates the bot's current position relative to the source
    unit and calculates an avoidance point that minimizes damage exposure while maintaining
    tactical positioning. It considers factors such as combat range, attack radius,
    and movement capabilities of both the bot and the source unit. The returned value
    represents a positional offset or direction indicator that can be used by the
    AI to execute avoidance maneuvers.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that needs to avoid
      cleave attacks. Must not be null and must represent a valid player unit in the
      game world.
  - name: source
    description: Pointer to the Unit object representing the source of the cleave
      attack. Must not be null and should be a valid combatant that can perform cleave
      mechanics.
  returns: Returns an integer value representing the calculated avoidance position
    or offset. Positive values typically indicate movement in one direction, negative
    values in the opposite direction, and zero may indicate no avoidance is needed
    or the calculation failed.
  examples:
  - title: Basic usage for cleave avoidance
    code: "int avoidancePos = awareness.GetCleaveAvoidancePosition(bot, target);\n\
      if (avoidancePos != 0) {\n    // Execute movement based on avoidance position\n\
      \    bot->MovePosition(avoidancePos);\n}"
    language: cpp
  - title: Using cleave avoidance in combat AI
    code: "void CombatAI::Update() {\n    if (meleeTarget && meleeTarget->HasAuraType(SPELL_AURA_MELEE_ATTACK_POWER))\
      \ {\n        int pos = awareness.GetCleaveAvoidancePosition(playerBot, meleeTarget);\n\
      \        if (pos > 0) {\n            // Move right to avoid cleave\n       \
      \     playerBot->MoveRight(pos);\n        } else if (pos < 0) {\n          \
      \  // Move left to avoid cleave\n            playerBot->MoveLeft(abs(pos));\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method is part of the MechanicAwareness system which helps bots understand
    and react to various combat mechanics. The implementation likely uses distance
    calculations, angle determinations, and attack radius comparisons to determine
    optimal avoidance positions. Performance-wise, this method should be called sparingly
    during active combat situations to avoid overloading the AI processing cycle.
  warnings: The method assumes both bot and source parameters are valid units in the
    game world. Passing null pointers will likely result in undefined behavior or
    crashes. The returned integer value may vary based on game mechanics and should
    not be directly used for movement without proper validation and conversion to
    actual coordinates.
  related:
  - GetMechanicAwareness
  - IsCleaveAttack
  - CalculateAvoidanceAngle
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T00:00:46.818146'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
