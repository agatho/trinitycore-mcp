api:
  class: CombatSpecializationBase
  method: OnCombatEnd
  signature: void CombatSpecializationBase::OnCombatEnd()
documentation:
  brief: Handles cleanup and state management when combat ends for a player or creature
  description: The OnCombatEnd method is invoked when a unit (player or creature)
    exits combat mode. This method typically performs necessary cleanup operations
    such as resetting combat-related flags, clearing combat state variables, and triggering
    any post-combat effects or events. It ensures that the unit's state is properly
    reset to reflect that it is no longer engaged in combat, which may include restoring
    normal movement, updating UI elements, and notifying other systems about the end
    of combat. The method is part of the CombatSpecializationBase class and is automatically
    called by the TrinityCore framework when combat duration ends or when a unit leaves
    combat.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in combat specialization override
    code: "class MyCombatSpec : public CombatSpecializationBase {\npublic:\n    void\
      \ OnCombatEnd() override {\n        // Custom logic when combat ends\n     \
      \   // e.g., reset special abilities, update player state\n        CombatSpecializationBase::OnCombatEnd();\n\
      \    }\n};"
    language: cpp
  notes: This method is typically called by the core combat system and should not
    be invoked manually unless implementing custom combat behavior. It may be overridden
    in specialized combat classes to provide additional functionality during combat
    termination.
  warnings: null
  related:
  - OnCombatStart
  - IsInCombat
  - UpdateCombatState
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T17:05:08.916584'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
