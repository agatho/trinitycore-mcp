api:
  class: DemonologyWarlockRefactored
  method: UpdateRotation
  signature: void DemonologyWarlockRefactored::UpdateRotation(int * target)
documentation:
  brief: Updates the demonology warlock's rotation based on current target and combat
    state
  description: The UpdateRotation method manages the core combat decision-making logic
    for a demonology warlock class. It evaluates the current target, available spells,
    cooldowns, and resource levels to determine the optimal sequence of actions. This
    method typically integrates with the AI system to control spell casting, pet management,
    and overall tactical positioning during combat encounters. The method operates
    within the TrinityCore framework's combat system and interacts with various game
    mechanics including spell cooldown tracking, soul shard management, and demon
    summoning mechanics.
  parameters:
  - name: target
    description: Pointer to an integer representing the target identifier or index
      in the combat system. This parameter determines which enemy the warlock should
      focus its rotation on.
  returns: null
  examples:
  - title: Basic Target Update
    code: "void DemonologyWarlockRefactored::UpdateRotation(int* target)\n{\n    if\
      \ (target && *target != 0)\n    {\n        // Process rotation logic for the\
      \ specified target\n        this->ProcessSpellSequence(*target);\n    }\n}"
    language: cpp
  - title: Combat Rotation with Target Validation
    code: "void DemonologyWarlockRefactored::UpdateRotation(int* target)\n{\n    if\
      \ (!target || *target <= 0)\n        return;\n\n    Unit* targetUnit = this->GetTarget(*target);\n\
      \    if (!targetUnit || !targetUnit->IsAlive())\n        return;\n\n    // Execute\
      \ combat rotation logic\n    this->ExecuteDemonologyRotation(targetUnit);\n}"
    language: cpp
  notes: This method should be called regularly during combat to maintain optimal
    spell casting order. The target parameter must point to a valid combat unit identifier,
    otherwise undefined behavior may occur. Performance considerations include minimizing
    unnecessary spell checks and ensuring efficient cooldown tracking.
  warnings: Passing a null pointer or invalid target ID can lead to crashes or incorrect
    behavior. Ensure proper validation of the target before calling this method in
    production code.
  related:
  - ProcessSpellSequence
  - ExecuteDemonologyRotation
  - GetTarget
  - UpdatePetBehavior
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T06:19:53.719785'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
