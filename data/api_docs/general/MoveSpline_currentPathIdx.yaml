api:
  class: MoveSpline
  method: currentPathIdx
  signature: int32 MoveSpline::currentPathIdx() const
documentation:
  brief: Returns the index of the current path segment in the movement spline.
  description: The currentPathIdx method retrieves the index of the currently active
    path segment within the MoveSpline object. This is useful for tracking which portion
    of a multi-segment path an entity (such as a creature or player) is currently
    traversing. The returned index corresponds to the array position of the path segment
    in the spline's internal path data structure. This method is commonly used in
    movement logic and pathfinding systems to determine progress along a defined route.
  parameters: []
  returns: An int32 value representing the zero-based index of the current path segment.
    Returns -1 if no path is currently active or if the spline has not yet initialized
    its path data.
  examples:
  - title: Basic Usage to Track Movement Progress
    code: "MoveSpline* spline = unit->movespline;\nint32 currentIdx = spline->currentPathIdx();\n\
      if (currentIdx >= 0)\n{\n    // Process current path segment\n    printf(\"\
      Currently on path segment %d\\n\", currentIdx);\n}"
    language: cpp
  - title: Using Path Index for Animation Synchronization
    code: "MoveSpline* spline = unit->movespline;\nint32 currentPathIndex = spline->currentPathIdx();\n\
      if (currentPathIndex >= 0 && currentPathIndex < spline->getPathSize())\n{\n\
      \    // Use path index to synchronize animations or effects\n    unit->SetUInt32Value(UNIT_FIELD_ANIM_TIER,\
      \ currentPathIndex);\n}"
    language: cpp
  notes: This method is typically used in conjunction with other spline-related methods
    like getPathSize() to determine the total number of path segments and calculate
    movement progress. The returned index may change during runtime as the entity
    moves through different segments of the path.
  warnings: The return value can be -1 if the spline has not been initialized or if
    there is no active path, so always check for valid indices before using them in
    array lookups or other operations that require non-negative values.
  related:
  - getPathSize
  - getPoint
  - isFinalized
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T08:26:53.431130'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
