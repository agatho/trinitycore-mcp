api:
  class: Loot
  method: NotifyItemRemoved
  signature: void Loot::NotifyItemRemoved(uint8 lootListId, const Map * map)
documentation:
  brief: Notifies that a loot item has been removed from the loot list.
  description: The NotifyItemRemoved method is used to signal that a specific item
    has been removed from a loot list within a given map. This typically occurs when
    a player loots an item, causing it to be removed from the available loot pool.
    The method ensures proper synchronization of the loot state across the game world
    and updates relevant systems such as player loot tracking and loot distribution
    mechanisms. It is part of the core loot management system in TrinityCore and plays
    a crucial role in maintaining accurate loot data during gameplay.
  parameters:
  - name: lootListId
    description: The identifier of the specific loot list from which the item was
      removed. This ID corresponds to a unique loot container or group within the
      game world.
  - name: map
    description: Pointer to the Map object where the loot removal occurred. This is
      used to ensure proper scope and context for the loot update, particularly in
      multi-zone or instance-based environments.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'Loot* loot = player->GetLoot();

      loot->NotifyItemRemoved(5, player->GetMap());'
    language: cpp
  - title: Usage in Loot Removal Context
    code: "void Player::RemoveLootItem(uint8 slot)\n{\n    if (slot < loot->GetItemCount())\n\
      \    {\n        loot->NotifyItemRemoved(slot, GetMap());\n        // Additional\
      \ logic for removing item from loot list\n    }\n}"
    language: cpp
  notes: This method is typically called internally by the loot system when items
    are distributed to players. It's important to note that this method does not directly
    remove the item from memory but rather notifies the system of the removal event,
    which may trigger further updates or cleanup operations.
  warnings: Improper use of this method can lead to inconsistencies in player loot
    tracking and potential issues with loot distribution. Ensure that the lootListId
    corresponds to an actual existing loot list before calling this method.
  related:
  - Loot::AddItem
  - Loot::RemoveItem
  - Loot::GetItemCount
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T10:07:24.192570'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
