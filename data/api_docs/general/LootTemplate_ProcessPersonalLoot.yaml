api:
  class: LootTemplate
  method: ProcessPersonalLoot
  signature: void LootTemplate::ProcessPersonalLoot(int & personalLoot, bool rate,
    uint16 lootMode) const
documentation:
  brief: Processes personal loot for a player based on loot template and specified
    conditions.
  description: The ProcessPersonalLoot method handles the distribution of personal
    loot to players according to the defined loot template. It evaluates whether the
    player should receive loot based on various criteria such as loot mode, rate scaling,
    and personal loot settings. This method is typically invoked during loot distribution
    when a player has the right to claim personal items from a creature or object's
    loot table. The method modifies the input parameter 'personalLoot' to reflect
    the processed loot amount after applying relevant rules and conditions.
  parameters:
  - name: personalLoot
    description: Reference to an integer that holds the current personal loot value.
      This value is modified by the method to represent the final processed loot amount
      after applying all applicable rules.
  - name: rate
    description: Boolean flag indicating whether rate scaling should be applied to
      the loot distribution. When true, loot quantities may be adjusted based on difficulty
      or other game factors.
  - name: lootMode
    description: A 16-bit unsigned integer representing the loot mode that affects
      how loot is distributed. Different values can change which items are available
      for personal loot and how they are awarded.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'int lootAmount = 100;

      LootTemplate template;

      bool rateScaling = true;

      uint16 mode = 0;

      template.ProcessPersonalLoot(lootAmount, rateScaling, mode);

      // lootAmount now contains the processed personal loot value'
    language: cpp
  - title: Advanced Usage with Different Loot Modes
    code: 'int lootAmount = 250;

      LootTemplate template;

      bool rateScaling = false;

      uint16 mode = 1;

      template.ProcessPersonalLoot(lootAmount, rateScaling, mode);

      // lootAmount processed using specific loot mode rules without rate scaling'
    language: cpp
  notes: This method is part of the core loot system in TrinityCore and directly interacts
    with player loot eligibility and distribution logic. It's important to ensure
    that all parameters are properly initialized before calling this function, especially
    'personalLoot' which gets modified in place.
  warnings: Modifying the 'personalLoot' parameter directly can have unintended consequences
    if not handled carefully. Ensure that the value passed is valid and that the method
    is called at the appropriate time during loot processing to avoid incorrect loot
    distribution.
  related:
  - LootTemplate::Process
  - LootTemplate::AddItem
  - LootTemplate::Roll
  - LootTemplate::FillLoot
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T09:11:02.092278'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
