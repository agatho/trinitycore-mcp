api:
  class: AuraEffect
  method: HandleModRatingPct
  signature: void AuraEffect::HandleModRatingPct(const AuraApplication * aurApp, uint8
    mode, bool apply) const
documentation:
  brief: Modifies a player's rating percentage by applying or removing an aura effect.
  description: The HandleModRatingPct method is responsible for adjusting a player's
    combat ratings (such as critical strike, haste, or mastery) by a specified percentage
    when an aura is applied or removed. This method is typically invoked during aura
    application or removal events within the TrinityCore framework. It modifies the
    affected player's rating values based on the aura's properties and the mode of
    operation (apply or remove). The method ensures that rating modifications are
    correctly propagated to the player's stats and that any necessary recalculations
    are performed.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura being
      applied or removed. This parameter contains information about the aura, including
      its effects and target.
  - name: mode
    description: Specifies the mode of operation for the aura effect. Typically indicates
      whether the aura is being applied (1) or removed (0). This value determines
      how the rating modification should be handled.
  - name: apply
    description: Boolean flag indicating whether to apply (true) or remove (false)
      the aura effect. When true, the aura's rating percentage modifier is added to
      the player's stats; when false, it is subtracted.
  returns: null
  examples:
  - title: Applying a Rating Modifier Aura
    code: 'AuraEffect* effect = ...;

      AuraApplication* app = ...;

      uint8 mode = 1;

      bool apply = true;

      effect->HandleModRatingPct(app, mode, apply);'
    language: cpp
  - title: Removing a Rating Modifier Aura
    code: 'AuraEffect* effect = ...;

      AuraApplication* app = ...;

      uint8 mode = 0;

      bool apply = false;

      effect->HandleModRatingPct(app, mode, apply);'
    language: cpp
  notes: This method is part of the aura handling system in TrinityCore and relies
    on the underlying rating system to compute stat modifications. It may trigger
    additional recalculations of player stats such as damage output or healing effectiveness
    depending on which rating is modified.
  warnings: Incorrect usage of the mode parameter can lead to unexpected behavior
    in stat calculations. Ensure that the aura application context is valid before
    calling this method, especially when dealing with complex aura interactions.
  related:
  - AuraEffect::HandleModRating
  - AuraApplication::GetTarget
  - Unit::ApplyAura
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T12:26:14.391058'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
