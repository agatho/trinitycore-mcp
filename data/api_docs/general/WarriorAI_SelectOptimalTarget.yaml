api:
  class: WarriorAI
  method: SelectOptimalTarget
  signature: ::Unit * WarriorAI::SelectOptimalTarget(const int & enemies)
documentation:
  brief: Selects the most optimal target unit from a list of enemies based on priority
    criteria.
  description: The SelectOptimalTarget method determines the best enemy unit for the
    warrior AI to attack by evaluating various factors such as threat level, distance,
    health, and target priority. This method is typically used during combat to ensure
    that the AI focuses its attacks on the most dangerous or highest-priority opponent.
    The selection process considers both immediate tactical needs and long-term strategic
    goals within the context of a Warrior's gameplay mechanics in TrinityCore. The
    method assumes that enemy units are already identified and available for targeting.
  parameters: []
  returns: Returns a pointer to the selected Unit object that represents the optimal
    target for the warrior AI. If no valid targets are available, it returns nullptr.
  examples:
  - title: Basic usage in combat routine
    code: "Unit* target = ai->SelectOptimalTarget(enemies);\nif (target != nullptr)\n\
      {\n    // Initiate attack on the selected target\n    me->Attack(target, true);\n\
      }"
    language: cpp
  - title: Using with threat management
    code: "Unit* optimalTarget = ai->SelectOptimalTarget(enemies);\nif (optimalTarget\
      \ != nullptr && !me->IsValidAttackTarget(optimalTarget))\n{\n    // Handle case\
      \ where target is no longer valid\n    ai->SetCurrentTarget(nullptr);\n    return;\n\
      }\nai->SetCurrentTarget(optimalTarget);"
    language: cpp
  notes: This method is part of the WarriorAI class and relies on internal threat
    management systems. It may be called multiple times during a combat cycle to re-evaluate
    target selection based on changing conditions. The method does not perform any
    direct attack actions but rather provides the appropriate target for other methods
    to use.
  warnings: Ensure that the enemies parameter contains valid unit references before
    calling this method, as invalid references can lead to undefined behavior. The
    returned Unit pointer should always be checked for null before use to prevent
    crashes or unexpected behavior.
  related:
  - SetCurrentTarget
  - GetCurrentTarget
  - GetEnemies
  - UpdateAI
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T16:58:21.440632'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
