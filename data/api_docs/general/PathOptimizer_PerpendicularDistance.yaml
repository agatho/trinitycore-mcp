api:
  class: PathOptimizer
  method: PerpendicularDistance
  signature: float PathOptimizer::PerpendicularDistance(const int & point, const int
    & lineStart, const int & lineEnd) const
documentation:
  brief: Calculates the perpendicular distance from a point to a line segment defined
    by two endpoints.
  description: The PerpendicularDistance method computes the shortest distance from
    a given point to a line segment formed by two other points. This is commonly used
    in pathfinding and navigation systems within TrinityCore to determine how far
    off a path a unit is, aiding in dynamic route adjustments. The calculation uses
    vector mathematics to project the point onto the line and measures the Euclidean
    distance from that projection to the original point. The method assumes all indices
    refer to valid points within the current path structure and does not perform bounds
    checking.
  parameters:
  - name: point
    description: Index of the point for which to calculate the perpendicular distance.
      Must be a valid index within the path's point array.
  - name: lineStart
    description: Index of the starting point of the line segment. Must be a valid
      index within the path's point array.
  - name: lineEnd
    description: Index of the ending point of the line segment. Must be a valid index
      within the path's point array.
  returns: Returns a float value representing the perpendicular distance from the
    specified point to the line segment defined by lineStart and lineEnd. A return
    value of 0.0 indicates that the point lies exactly on the line segment.
  examples:
  - title: Basic Usage in Path Optimization
    code: 'float distance = optimizer.PerpendicularDistance(5, 2, 8);

      // Calculates the perpendicular distance from point at index 5 to the line segment

      // defined by points at indices 2 and 8.'
    language: cpp
  - title: Using Perpendicular Distance for Path Correction
    code: "if (optimizer.PerpendicularDistance(currentPointIndex, startPointIndex,\
      \ endPointIndex) > MAX_ALLOWED_DISTANCE)\n{\n    // Adjust path or recalculate\
      \ route\n    optimizer.RecalculatePath();\n}"
    language: cpp
  notes: This method is typically used in conjunction with other path optimization
    functions to dynamically adjust unit movement. It performs no bounds checking
    on the input indices, so calling it with invalid indices may result in undefined
    behavior or crashes. The method assumes that all points are represented in the
    same coordinate system and that the path structure has been properly initialized.
  warnings: Calling this method with invalid point indices (outside of the valid range
    for the current path) will likely cause memory access violations or incorrect
    calculations. Always ensure that the indices passed to this method refer to actual
    points within the path data structure before invoking it.
  related:
  - PathOptimizer::GetPoint
  - PathOptimizer::CalculateDistance
  - PathOptimizer::RecalculatePath
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T22:39:18.220152'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
