api:
  class: ObstacleAvoidanceManager
  method: ScanEnvironmentalHazards
  signature: void ObstacleAvoidanceManager::ScanEnvironmentalHazards(const DetectionContext
    & context, int & obstacles)
documentation:
  brief: Scans the environment for potential hazards and updates obstacle count in
    the detection context.
  description: The ScanEnvironmentalHazards method evaluates the current surroundings
    of an AI-controlled unit to identify and classify environmental hazards that could
    impede movement or cause harm. It analyzes the detection context, which contains
    information about the unit's position, orientation, and surrounding terrain features,
    and updates the obstacle count parameter with the number of detected hazards.
    This method is typically invoked during pathfinding calculations to help the AI
    avoid dangerous areas. The method does not return any value but modifies the provided
    obstacles reference to reflect the hazard count found in the environment.
  parameters:
  - name: context
    description: A const reference to a DetectionContext object containing positional
      and environmental data about the unit's current location and surroundings.
  - name: obstacles
    description: A reference to an integer that will be updated with the count of
      detected environmental hazards found during the scan.
  returns: null
  examples:
  - title: Basic usage in AI behavior
    code: "void MyAIUnit::Update()\n{\n    DetectionContext context;\n    int hazardCount\
      \ = 0;\n    \n    // Populate detection context with current unit data\n   \
      \ context.position = GetPosition();\n    context.radius = GetDetectionRadius();\n\
      \    \n    // Scan for environmental hazards\n    ScanEnvironmentalHazards(context,\
      \ hazardCount);\n    \n    // Use hazard count to adjust movement strategy\n\
      \    if (hazardCount > 0)\n        SetMovementMode(MOVE_MODE_AVOID_HAZARDS);\n\
      }"
    language: cpp
  notes: This method is part of the obstacle avoidance system and should be called
    regularly during AI update cycles. The method assumes that the DetectionContext
    has been properly initialized with valid position and radius data before being
    passed in. Performance may degrade if the detection radius is set too high or
    if there are many environmental objects to process.
  warnings: The obstacles parameter will be overwritten without any bounds checking,
    so ensure it's properly initialized before calling this method. This method does
    not perform any collision detection against dynamic objects, only static environmental
    hazards.
  related:
  - GetDetectionContext
  - CalculateSafePath
  - UpdateObstacleMap
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T01:19:31.526928'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
