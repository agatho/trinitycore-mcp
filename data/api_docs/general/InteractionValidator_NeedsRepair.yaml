api:
  class: InteractionValidator
  method: NeedsRepair
  signature: bool InteractionValidator::NeedsRepair(::Player * bot, float threshold)
    const
documentation:
  brief: Determines whether a player's items require repair based on durability thresholds.
  description: The NeedsRepair method evaluates the current durability of all equipped
    items for a given player and determines if any item's durability is below the
    specified threshold. This method is typically used by AI systems or automated
    repair scripts to decide when a player should seek repairs. It checks each item
    in the player's inventory that can be repaired, comparing their current durability
    against the provided threshold value. If any item falls below this threshold,
    the method returns true, indicating that repair action is needed.
  parameters:
  - name: bot
    description: Pointer to the Player object whose items will be checked for durability.
      Must not be null.
  - name: threshold
    description: The minimum durability percentage (0.0 to 1.0) below which items
      are considered in need of repair. Values outside this range may produce unexpected
      results.
  returns: Returns true if any equipped item's durability is below the specified threshold,
    false otherwise.
  examples:
  - title: Basic Usage
    code: "if (validator.NeedsRepair(player, 0.3f)) {\n    // Player needs repairs\n\
      \    player->GetSession()->SendAreaTriggerMessage(\"Your items need repair!\"\
      );\n}"
    language: cpp
  - title: Integration with AI Logic
    code: "class RepairAI {\npublic:\n    bool ShouldRepair(Player* bot) {\n     \
      \   return InteractionValidator().NeedsRepair(bot, 0.25f);\n    }\n};"
    language: cpp
  notes: This method only considers equipped items that are repairable. Non-repairable
    items such as consumables or quest items are ignored. The threshold parameter
    expects a normalized value between 0.0 (completely broken) and 1.0 (fully functional).
    Performance is generally low as it iterates through all equipped items.
  warnings: Ensure the player pointer is valid before calling this method to avoid
    null pointer exceptions. Be cautious with very low threshold values, as they may
    trigger repair requests even for items that are barely damaged.
  related:
  - GetRepairCost
  - IsItemBroken
  - HasRepairableItems
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T00:30:36.346465'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
