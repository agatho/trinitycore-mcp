api:
  class: CombatManager
  method: GetPvPCombatRefs
  signature: const int & CombatManager::GetPvPCombatRefs() const
documentation:
  brief: Returns a constant reference to the number of PvP combat references in the
    CombatManager.
  description: The GetPvPCombatRefs method retrieves the current count of PvP combat
    references managed by the CombatManager instance. This value typically represents
    how many active PvP combat states or references are being tracked within the system.
    The method returns a constant reference to an integer, which means the returned
    value should not be modified directly. This is commonly used in World of Warcraft's
    TrinityCore to track active PvP engagements and manage combat state transitions.
    The value may change dynamically as players enter or exit PvP combat zones or
    engage in PvP actions.
  parameters: []
  returns: A constant reference to an integer representing the number of active PvP
    combat references tracked by the CombatManager. This value typically increases
    when players enter PvP combat and decreases when they exit.
  examples:
  - title: Basic Usage
    code: "CombatManager* combatMgr = player->GetCombatManager();\nconst int& pvpRefs\
      \ = combatMgr->GetPvPCombatRefs();\nif (pvpRefs > 0)\n{\n    // Player has active\
      \ PvP combat references\n    sLog->outString(\"Player has %d PvP combat references\"\
      , pvpRefs);\n}"
    language: cpp
  - title: Checking for Active PvP Combat
    code: "void CheckPvPCombatStatus(Player* player)\n{\n    CombatManager* cm = player->GetCombatManager();\n\
      \    const int& refCount = cm->GetPvPCombatRefs();\n    \n    if (refCount >\
      \ 0)\n    {\n        // Player is currently in PvP combat\n        player->SendAreaTriggerMessage(\"\
      You are in PvP combat!\");\n    }\n    else\n    {\n        // No active PvP\
      \ combat\n        player->SendAreaTriggerMessage(\"You are not in PvP combat.\"\
      );\n    }\n}"
    language: cpp
  notes: This method is typically used for internal tracking of PvP combat states.
    The returned reference points to a member variable that gets updated whenever
    PvP combat references are added or removed. This approach avoids copying the integer
    value and provides direct access to the current state.
  warnings: Since this returns a const reference, attempting to modify the returned
    value will result in a compilation error. Be aware that the value may change between
    calls if other parts of the code modify the combat references count.
  related:
  - SetPvPCombatRefs
  - AddPvPCombatRef
  - RemovePvPCombatRef
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T08:53:36.998217'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
