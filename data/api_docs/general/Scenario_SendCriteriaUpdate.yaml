api:
  class: Scenario
  method: SendCriteriaUpdate
  signature: void Scenario::SendCriteriaUpdate(const int * criteria, const int * progress,
    int timeElapsed, bool timedCompleted) const
documentation:
  brief: Sends scenario criteria update packets to players in the scenario
  description: The SendCriteriaUpdate method is responsible for broadcasting updated
    progress information for scenario criteria to all participating players within
    a scenario. This method handles the communication of completion status, progress
    values, and timing information for objectives that are part of a scenario. It
    is typically invoked when a player's actions affect the scenario's progression,
    ensuring that all players receive synchronized updates about the current state
    of objectives. The method takes arrays of criteria identifiers and their corresponding
    progress values, along with elapsed time and completion status to properly update
    the client-side UI.
  parameters:
  - name: criteria
    description: Pointer to an array of integers representing the scenario criteria
      IDs that have been updated. Each integer corresponds to a specific objective
      or requirement within the scenario.
  - name: progress
    description: Pointer to an array of integers representing the progress values
      for each corresponding criteria. These values indicate how much progress has
      been made toward completing each objective.
  - name: timeElapsed
    description: Integer value representing the time elapsed in milliseconds since
      the scenario began or since the last update was sent.
  - name: timedCompleted
    description: Boolean flag indicating whether the timed component of the scenario
      has been completed. This affects how the client displays time-related objectives
      and may trigger finalization logic.
  returns: null
  examples:
  - title: Basic usage for updating scenario progress
    code: 'int criteriaIds[] = {1001, 1002, 1003};

      int progressValues[] = {50, 75, 25};

      scenario->SendCriteriaUpdate(criteriaIds, progressValues, 30000, false);'
    language: cpp
  - title: Updating scenario with completed timed objective
    code: 'int criteriaIds[] = {2001};

      int progressValues[] = {100};

      scenario->SendCriteriaUpdate(criteriaIds, progressValues, 60000, true);'
    language: cpp
  notes: This method is typically called internally by the scenario system when player
    actions modify objective progress. It's important to ensure that the criteria
    and progress arrays are of equal length and contain valid data to avoid memory
    corruption or incorrect UI updates. The method may be called multiple times during
    a scenario to provide real-time feedback to players.
  warnings: The method assumes that the input arrays are properly allocated and contain
    valid data. Passing null pointers or mismatched array lengths can lead to undefined
    behavior. Additionally, calling this method too frequently may cause performance
    issues due to network packet overhead.
  related:
  - Scenario::AddCriteria
  - Scenario::UpdateCriteria
  - Scenario::CompleteCriteria
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T03:16:58.671281'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
