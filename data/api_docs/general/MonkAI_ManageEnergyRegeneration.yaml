api:
  class: MonkAI
  method: ManageEnergyRegeneration
  signature: void MonkAI::ManageEnergyRegeneration(int diff)
documentation:
  brief: Manages energy regeneration for a monk AI unit based on elapsed time.
  description: The ManageEnergyRegeneration method handles the automatic replenishment
    of energy resources for a monk AI unit. This function is typically called during
    each AI update cycle to ensure that the monk's energy levels are properly managed
    according to game mechanics and class-specific rules. It calculates how much energy
    should be regenerated based on the time difference since the last update, ensuring
    that the monk can perform abilities that require energy without manual intervention.
    The method respects energy caps and may apply special effects or modifiers based
    on the monk's current state or equipped items.
  parameters:
  - name: diff
    description: The time elapsed (in milliseconds) since the last energy regeneration
      update. This value is used to calculate the appropriate amount of energy to
      regenerate based on the monk's energy regeneration rate.
  returns: null
  examples:
  - title: Basic Usage in AI Update Loop
    code: "void MonkAI::UpdateAI(uint32 diff)\n{\n    // ... other AI logic ...\n\
      \    ManageEnergyRegeneration(diff);\n    // ... other AI logic ...\n}"
    language: cpp
  - title: Integration with Custom Energy Regen Logic
    code: "void MonkAI::ManageEnergyRegeneration(int diff)\n{\n    if (!me->IsInCombat())\n\
      \        return;\n    \n    float regenRate = 1.0f; // Base regeneration rate\n\
      \    if (me->HasAura(SPELL_ENERGY_BOOST))\n        regenRate *= 1.5f;\n    \n\
      \    int energyGain = static_cast<int>(regenRate * diff / 1000.0f);\n    me->ModifyPower(POWER_ENERGY,\
      \ energyGain);\n}"
    language: cpp
  notes: This method is typically invoked from within the AI update loop and should
    be called regularly to maintain proper energy management. The 'diff' parameter
    must be a positive integer representing milliseconds. Energy regeneration may
    be affected by various buffs, debuffs, or environmental factors in the game world.
  warnings: Improper handling of the 'diff' parameter can lead to incorrect energy
    regeneration rates. Ensure that the method is only called when appropriate (e.g.,
    during active AI updates) and not during combat transitions or other critical
    states where energy management might be overridden by special abilities.
  related:
  - UpdateAI
  - ModifyPower
  - HasAura
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T23:50:24.082603'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
