api:
  class: PriestAI
  method: UpdateRotation
  signature: void PriestAI::UpdateRotation(int * target)
documentation:
  brief: Updates the priest's spell rotation based on current target and combat state
  description: The UpdateRotation method is responsible for determining and executing
    the appropriate spell casting sequence for a priest AI character. It evaluates
    the current target, available mana, spell cooldowns, and combat conditions to
    select the most effective spell from the priest's rotation. This method typically
    runs during each AI update cycle and ensures that the priest prioritizes healing,
    damage, or utility spells based on the situation. The method may also handle switching
    between different priest specializations such as Discipline, Holy, or Shadow.
  parameters:
  - name: target
    description: Pointer to an integer representing the target's ID or index in the
      combat system. This parameter determines which entity the priest will cast spells
      upon or heal.
  returns: null
  examples:
  - title: Basic Usage Example
    code: "void UpdateRotation(int* target) {\n    if (!target || *target == 0) return;\n\
      \    // Logic to determine spell based on target state\n    // Implementation\
      \ details would be here\n}"
    language: cpp
  - title: Integration with Combat State
    code: "void PriestAI::UpdateRotation(int* target) {\n    if (!target || *target\
      \ <= 0) return;\n    Unit* unitTarget = GetUnit(*target);\n    if (!unitTarget\
      \ || !unitTarget->IsAlive()) return;\n    // Apply rotation logic based on target\
      \ health, mana, and combat state\n}"
    language: cpp
  notes: This method is typically called from within the AI update loop and should
    not block execution. It relies heavily on the current state of the target unit
    and available resources like mana or cooldown timers.
  warnings: Ensure that the target pointer is valid before dereferencing it to prevent
    segmentation faults. The method assumes proper initialization of the AI context
    and target tracking system.
  related:
  - GetUnit
  - IsSpellReady
  - CastSpell
  - CheckTargetHealth
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T00:22:48.561405'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
