api:
  class: HealerPositionStrategy
  method: CalculateOptimalPosition
  signature: int HealerPositionStrategy::CalculateOptimalPosition(Player * bot, Unit
    * target, float preferredRange)
documentation:
  brief: Calculates and returns the optimal position for a healer bot relative to
    a target unit within a specified range.
  description: The CalculateOptimalPosition method determines the best location for
    a healer bot to maintain effective healing while staying within a preferred distance
    from the target unit. This method evaluates various positioning factors such as
    line of sight, threat levels, and combat dynamics to ensure optimal healing efficiency.
    It is typically used in AI-driven healer behavior strategies where positioning
    is critical for maintaining group survival. The method returns an integer value
    representing the calculated position index or status code, which can be interpreted
    by the calling AI logic to adjust the bot's movement.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the healer bot that needs
      positioning calculation
  - name: target
    description: Pointer to the Unit object representing the target unit that the
      healer should position relative to
  - name: preferredRange
    description: Floating-point value indicating the preferred distance range from
      the target for optimal healing positioning
  returns: Returns an integer value where positive values indicate successful positioning
    calculations, zero indicates no valid position found, and negative values may
    represent error conditions or invalid input parameters.
  examples:
  - title: Basic Usage Example
    code: "int position = healerStrategy.CalculateOptimalPosition(playerBot, targetUnit,\
      \ 15.0f);\nif (position > 0) {\n    // Move to calculated optimal position\n\
      \    bot->SetFacingTo(targetUnit->GetOrientation());\n    bot->MovePosition(position);\n\
      }"
    language: cpp
  - title: Advanced Usage with Error Handling
    code: "int result = healerStrategy.CalculateOptimalPosition(playerBot, targetUnit,\
      \ 20.0f);\nswitch (result) {\n    case -1:\n        // Invalid parameters\n\
      \        sLog->outError(\"Invalid input parameters for position calculation\"\
      );\n        break;\n    case 0:\n        // No valid position found\n      \
      \  sLog->outDebug(\"No optimal position available\");\n        break;\n    default:\n\
      \        // Valid position calculated\n        bot->MoveToPosition(result);\n\
      \        break;\n}"
    language: cpp
  notes: This method is part of the TrinityCore AI system and relies on internal pathfinding
    and positioning algorithms. The return value should be interpreted according to
    the specific implementation details of the HealerPositionStrategy class, as different
    strategies may define different meanings for positive/negative return values.
    Performance can be affected by complex target environments with multiple obstacles
    or threat sources.
  warnings: The method assumes valid pointers are passed for bot and target parameters;
    passing null pointers will likely cause crashes or undefined behavior. The preferredRange
    parameter should be within reasonable bounds to avoid excessive computation or
    unrealistic positioning decisions.
  related:
  - GetOptimalPosition
  - UpdatePositioning
  - IsPositionValid
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T01:13:48.774136'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
