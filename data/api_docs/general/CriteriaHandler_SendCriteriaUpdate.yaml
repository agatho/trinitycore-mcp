api:
  class: CriteriaHandler
  method: SendCriteriaUpdate
  signature: void CriteriaHandler::SendCriteriaUpdate(const Criteria * criteria, const
    CriteriaProgress * progress, int timeElapsed, bool timedCompleted) const
documentation:
  brief: Sends criteria update packet to the player's client
  description: The SendCriteriaUpdate method is responsible for transmitting updated
    progress information for a specific criterion to the player's client. This method
    is typically invoked when a player's progress towards completing a quest, achievement,
    or other game objective changes. It handles the serialization and sending of criteria
    progress data, including elapsed time and completion status. The method ensures
    that the client's UI accurately reflects the current state of criteria progression
    in real-time.
  parameters:
  - name: criteria
    description: Pointer to the Criteria structure containing the criterion definition
      and metadata
  - name: progress
    description: Pointer to the CriteriaProgress structure containing current progress
      data for the criterion
  - name: timeElapsed
    description: Integer value representing the time elapsed since the criteria started,
      in milliseconds
  - name: timedCompleted
    description: Boolean flag indicating whether a timed criterion has been completed
      (true) or not (false)
  returns: null
  examples:
  - title: Basic usage example
    code: 'CriteriaHandler handler;

      Criteria* crit = GetCriteriaById(12345);

      CriteriaProgress* prog = GetCriteriaProgress(12345);

      handler.SendCriteriaUpdate(crit, prog, 5000, false);'
    language: cpp
  - title: Complete criteria update with completion flag
    code: 'CriteriaHandler handler;

      Criteria* crit = GetCriteriaById(67890);

      CriteriaProgress* prog = GetCriteriaProgress(67890);

      int elapsed = GetTimeSinceStart(67890);

      bool completed = IsCriteriaCompleted(67890);

      handler.SendCriteriaUpdate(crit, prog, elapsed, completed);'
    language: cpp
  notes: This method is typically called internally by the core when criteria progress
    changes. It's important to ensure that both criteria and progress parameters are
    valid pointers before calling this method. The timeElapsed parameter should be
    accurately calculated from the start of the criterion's tracking period.
  warnings: Calling this method with null pointers for criteria or progress will likely
    result in a crash. Always validate input parameters before invoking this method.
    Be cautious when updating timed criteria as incorrect elapsed time values may
    cause client-side UI inconsistencies.
  related:
  - SendCriteriaProgress
  - UpdateCriteriaProgress
  - CheckCriteriaComplete
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T08:58:52.682200'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
