api:
  class: BotActionProcessor
  method: ExecuteStopAttack
  signature: BotActionResult BotActionProcessor::ExecuteStopAttack(Player * bot, const
    BotAction & action)
documentation:
  brief: Stops the bot's current attack action and resets its combat state.
  description: The ExecuteStopAttack method terminates any ongoing attack behavior
    for the specified bot player, clearing its target and resetting its combat-related
    flags. This method is typically invoked when the bot needs to cease attacking,
    either due to command interruption, target loss, or strategic decision-making
    within the AI system. The method ensures that the bot's attack state is properly
    cleaned up and that it transitions back to a non-combat idle state. It may also
    trigger necessary cleanup of combat-related data structures such as target tracking
    or threat tables.
  parameters: []
  returns: Returns a BotActionResult indicating the success or failure of stopping
    the attack. A successful result typically means the bot's attack was halted and
    its state updated accordingly, while an error result may indicate that no attack
    was active or that the operation failed due to internal constraints.
  examples:
  - title: Basic usage to stop a bot's attack
    code: "BotActionResult result = processor.ExecuteStopAttack(botPlayer, action);\n\
      if (result == BotActionResult::SUCCESS) {\n    // Attack successfully stopped\n\
      \    botPlayer->GetSession()->SendAreaTriggerMessage(\"Attack stopped.\");\n\
      }"
    language: cpp
  notes: This method assumes that the bot is currently in an attack state and may
    not handle cases where no active attack exists. It's recommended to check the
    bot's current combat status before calling this method to avoid unnecessary operations.
  warnings: Calling this method on a bot that is not actively attacking may result
    in undefined behavior or failed cleanup. Ensure proper state validation before
    invoking ExecuteStopAttack.
  related:
  - ExecuteAttack
  - IsAttacking
  - ResetCombatState
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T08:22:24.287620'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
