api:
  class: WorldSession
  method: HandleSetEmpowerMinHoldStagePercent
  signature: void WorldSession::HandleSetEmpowerMinHoldStagePercent(const WorldPackets::Spells::SetEmpowerMinHoldStagePercent
    & setEmpowerMinHoldStagePercent)
documentation:
  brief: Sets the minimum hold stage percentage for empower effects in the player's
    spell casting.
  description: This method processes a client packet that specifies the minimum percentage
    of time a player must hold down a spell button before an empower effect can be
    triggered. It is used primarily for abilities that require sustained input to
    achieve enhanced effects, such as certain warrior or rogue abilities. The value
    is typically between 0 and 100, representing a percentage of the total cast time.
    This method updates internal session state related to empowered spell mechanics
    and ensures synchronization with the client's expectations.
  parameters:
  - name: setEmpowerMinHoldStagePercent
    description: A packet containing the minimum hold stage percentage value for empower
      effects. This value determines how long a player must hold a spell button before
      an empowered version of the spell can be cast.
  returns: null
  examples:
  - title: Setting Empower Minimum Hold Stage
    code: 'WorldSession* session = /* get active session */;

      WorldPackets::Spells::SetEmpowerMinHoldStagePercent packet;

      packet.Percent = 75; // Set minimum hold to 75%

      session->HandleSetEmpowerMinHoldStagePercent(packet);'
    language: cpp
  notes: This method is part of the spell empowerment system in TrinityCore and directly
    affects gameplay mechanics related to sustained spell casting. It should only
    be called when a valid session exists and the player has permission to modify
    empower settings.
  warnings: Incorrect or malicious values for the percentage could lead to unexpected
    behavior in empowered spells or client-server desynchronization. Ensure that the
    value is validated before processing.
  related:
  - HandleCastSpell
  - HandleEmpowerStart
  - HandleEmpowerStop
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T19:20:02.311925'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
