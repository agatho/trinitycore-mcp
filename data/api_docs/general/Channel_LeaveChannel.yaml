api:
  class: Channel
  method: LeaveChannel
  signature: void Channel::LeaveChannel(Player * player, bool send, bool suspend)
documentation:
  brief: Removes a player from a channel, optionally sending a leave message and suspending
    the channel if needed.
  description: The LeaveChannel method removes a specified player from the channel.
    It handles the internal bookkeeping required to remove the player from the channel's
    member list and can optionally send a notification message to other channel members.
    The 'send' parameter controls whether a leave message is broadcast, while the
    'suspend' parameter determines if the channel should be suspended after the player
    leaves (e.g., if no players remain). This method is typically invoked when a player
    disconnects from the game or explicitly leaves a channel. It ensures proper cleanup
    of channel membership and maintains channel state consistency.
  parameters:
  - name: player
    description: Pointer to the Player object that is leaving the channel. Must be
      a valid player instance; passing null may result in undefined behavior.
  - name: send
    description: Boolean flag indicating whether to send a leave message to other
      channel members. If true, a standard channel leave notification is broadcast.
  - name: suspend
    description: Boolean flag indicating whether to suspend the channel after the
      player leaves. If true and no players remain, the channel may be marked as suspended
      or destroyed depending on implementation logic.
  returns: null
  examples:
  - title: Basic usage of LeaveChannel
    code: "Channel* channel = sChannelMgr->GetChannel(\"Trade\", player->GetTeam());\n\
      if (channel)\n{\n    channel->LeaveChannel(player, true, false);\n}"
    language: cpp
  - title: Leave channel without sending message and suspend if empty
    code: "Channel* channel = sChannelMgr->GetChannel(\"Guild\", player->GetTeam());\n\
      if (channel)\n{\n    channel->LeaveChannel(player, false, true);\n}"
    language: cpp
  notes: This method assumes that the player is already a member of the channel. It
    does not perform any validation to confirm membership before attempting to remove
    the player. The method may trigger internal cleanup routines such as updating
    channel flags or notifying the server about changes in channel membership.
  warnings: Passing a null pointer for 'player' can lead to crashes or undefined behavior.
    Ensure that the player is valid and actually part of the channel before calling
    this method.
  related:
  - JoinChannel
  - HasMember
  - SendToAll
  - GetPlayers
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T17:34:38.620892'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
