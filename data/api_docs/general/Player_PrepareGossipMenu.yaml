api:
  class: Player
  method: PrepareGossipMenu
  signature: void Player::PrepareGossipMenu(int * source, uint32 menuId, bool showQuests)
documentation:
  brief: PrepareGossipMenu initializes a player's gossip menu with specified options
    and quest visibility.
  description: The PrepareGossipMenu method sets up the player's gossip menu system,
    allowing for custom menu selection based on provided parameters. It prepares the
    menu to display either quests or non-quests options depending on the showQuests
    parameter. This method is typically used when a player interacts with NPCs to
    initiate dialogue and should be called before displaying the actual gossip menu
    to the player. The method requires an integer source pointer and a menu ID to
    properly configure the menu structure.
  parameters:
  - name: source
    description: Pointer to the source of the gossip menu, typically used to identify
      which NPC or object is initiating the menu. This parameter determines the menu's
      origin and should be set appropriately for correct menu behavior.
  - name: menuId
    description: The unique identifier for the specific gossip menu being prepared.
      This ID corresponds to a predefined menu in the database and determines which
      menu options are displayed to the player.
  - name: showQuests
    description: Boolean flag indicating whether quests should be shown in the gossip
      menu. If true, quest options will be displayed; if false, only non-quest options
      will appear.
  returns: null
  examples:
  - title: Basic usage example
    code: 'Player* player = new Player();

      player->PrepareGossipMenu(&source, 12345, true);

      '
    language: cpp
  - title: Advanced usage with multiple menu types
    code: '// Assuming source is a pointer to an NPC

      Player* player = new Player();

      player->PrepareGossipMenu(&source, 12345, false);

      // This will prepare a menu without quests

      '
    language: cpp
  notes: This method should be called before displaying the actual gossip menu to
    ensure proper configuration. The source parameter must be properly initialized
    to avoid undefined behavior. Performance considerations include avoiding unnecessary
    calls during active gossip sessions.
  warnings: Improper use of the source parameter may lead to incorrect menu display
    or undefined behavior. Ensure that the menuId corresponds to valid database entries
    to prevent errors.
  related:
  - GossipMenu
  - SendGossipMenu
  - GetGossipMenu
metadata:
  confidence: 0.95
  generated_at: '2025-10-31T00:30:16.113145'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
