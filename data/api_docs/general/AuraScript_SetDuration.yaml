api:
  class: AuraScript
  method: SetDuration
  signature: void AuraScript::SetDuration(int duration, bool withMods)
documentation:
  brief: Sets the duration of an aura, optionally applying modifiers.
  description: The SetDuration method modifies the remaining time of an active aura.
    It allows for precise control over how long an aura effect persists. When withMods
    is true, any existing duration modifiers (such as those from spell effects or
    buffs) are taken into account when calculating the new duration. If withMods is
    false, the duration is set directly without applying any modifiers. This method
    is commonly used in AuraScript implementations to dynamically adjust aura lifespans
    during combat or based on game events.
  parameters:
  - name: duration
    description: The new duration value in milliseconds for the aura. Must be a non-negative
      integer.
  - name: withMods
    description: If true, applies existing duration modifiers to the provided duration.
      If false, sets the duration directly without modifier application.
  returns: null
  examples:
  - title: Basic Usage
    code: "void OnApply(AuraEffect const* aurEff, AuraApplication const* app)\n{\n\
      \    SetDuration(30000, true); // Sets aura duration to 30 seconds with modifiers\n\
      }"
    language: cpp
  - title: Direct Duration Setting
    code: "void OnUpdate(int32 /*diff*/)\n{\n    if (GetAura()->GetDuration() < 5000)\n\
      \        SetDuration(10000, false); // Sets duration directly to 10 seconds\
      \ without modifiers\n}"
    language: cpp
  notes: This method should only be called on active auras. Modifying aura duration
    during application or removal phases may cause unexpected behavior if not handled
    carefully. The aura's internal timer will be updated immediately upon calling
    this method.
  warnings: Calling SetDuration with a negative value may lead to undefined behavior.
    Ensure that the aura is still valid before modifying its duration, especially
    in asynchronous contexts where the aura might have been removed.
  related:
  - GetDuration
  - SetMaxDuration
  - GetAura
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T18:08:55.461919'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
