api:
  class: DamageInfo
  method: GetSpellInfo
  signature: const SpellInfo * DamageInfo::GetSpellInfo() const
documentation:
  brief: Retrieves the SpellInfo structure associated with the damage event.
  description: The GetSpellInfo method returns a pointer to the SpellInfo structure
    that defines the spell properties for the damage event represented by this DamageInfo
    object. This information includes spell mechanics, effects, duration, range, and
    other relevant data. The returned pointer is const, ensuring that the spell information
    cannot be modified through this interface. This method is typically used during
    damage calculation or processing to access spell-specific attributes such as damage
    type, school, or casting requirements.
  parameters: []
  returns: A constant pointer to the SpellInfo structure describing the spell associated
    with this damage event. Returns nullptr if no spell information is available for
    the damage event.
  examples:
  - title: Accessing Spell Information in Damage Handler
    code: "void OnDamageDealt(DamageInfo* damageInfo)\n{\n    const SpellInfo* spellInfo\
      \ = damageInfo->GetSpellInfo();\n    if (spellInfo)\n    {\n        // Use spellInfo\
      \ to determine damage type or other properties\n        uint32 damageType =\
      \ spellInfo->GetSchoolMask();\n        // Process based on spell properties\n\
      \    }\n}"
    language: cpp
  - title: Checking for Spell-Based Damage Effects
    code: "bool IsSpellDamage(DamageInfo* damageInfo)\n{\n    const SpellInfo* spellInfo\
      \ = damageInfo->GetSpellInfo();\n    if (!spellInfo)\n        return false;\n\
      \    \n    // Check if this damage was caused by a spell\n    return spellInfo->Id\
      \ != 0; // Assuming 0 means no spell\n}"
    language: cpp
  notes: This method is part of the damage processing system in TrinityCore and should
    only be called when the DamageInfo object has been properly initialized with spell
    data. The returned SpellInfo pointer remains valid as long as the DamageInfo object
    exists.
  warnings: Calling this method on a DamageInfo object that was not initialized with
    spell information may return nullptr. Always verify the return value before using
    it to avoid null pointer dereferences.
  related:
  - GetDamage
  - GetSpellId
  - GetAttacker
  - GetTarget
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T09:46:56.040103'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
