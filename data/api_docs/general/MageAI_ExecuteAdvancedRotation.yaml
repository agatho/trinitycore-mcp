api:
  class: MageAI
  method: ExecuteAdvancedRotation
  signature: void MageAI::ExecuteAdvancedRotation(::Unit * target)
documentation:
  brief: Executes the advanced spell rotation logic for a Mage AI unit targeting the
    specified enemy.
  description: The ExecuteAdvancedRotation method is responsible for implementing
    the core spell casting behavior of a Mage AI unit. It evaluates the current combat
    situation, mana levels, and target status to determine the optimal sequence of
    spells to cast. This method typically handles high-priority abilities such as
    Arcane Explosion, Frost Nova, or other strategic spells based on game state conditions.
    The method assumes that a valid target has been previously set and that the AI
    unit is in combat mode.
  parameters:
  - name: target
    description: A pointer to the Unit object representing the current target of the
      Mage AI. This parameter must not be null for the rotation logic to execute properly.
  returns: null
  examples:
  - title: Basic Usage in Combat
    code: "void MyMageAI::UpdateAI(uint32 diff)\n{\n    if (Unit* target = SelectTarget(SELECT_TARGET_TOPAGGRO))\n\
      \    {\n        ExecuteAdvancedRotation(target);\n    }\n}"
    language: cpp
  - title: Conditional Rotation Execution
    code: "void MageAI::UpdateAI(uint32 diff)\n{\n    if (!UpdateVictim())\n     \
      \   return;\n\n    Unit* target = me->getVictim();\n    if (target && target->IsAlive())\n\
      \    {\n        ExecuteAdvancedRotation(target);\n    }\n}"
    language: cpp
  notes: This method should only be called when the Mage AI unit is in combat and
    has a valid target. The implementation may include checks for spell cooldowns,
    mana requirements, and line-of-sight conditions before casting. Performance considerations
    include avoiding unnecessary calculations when no valid target exists.
  warnings: Calling this method without a valid target can lead to undefined behavior
    or crashes. Ensure that the target parameter is always validated before invoking
    this method. Also, be aware that this method modifies the AI's internal state
    and may affect future rotation decisions.
  related:
  - SelectTarget
  - CastSpell
  - IsCasting
  - HasSpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T00:55:08.563615'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
