api:
  class: CombatBehaviorIntegration
  method: OnCombatEnd
  signature: void CombatBehaviorIntegration::OnCombatEnd()
documentation:
  brief: Handles cleanup and finalization tasks when a combat session ends in the
    CombatBehaviorIntegration system.
  description: The OnCombatEnd method is invoked to perform necessary cleanup operations
    and state transitions when a combat encounter concludes. This method ensures that
    any active combat-related behaviors, timers, or resources are properly released
    or reset. It typically handles deactivation of combat-specific AI states, cleanup
    of temporary data structures, and may trigger post-combat events or logging. The
    method is designed to be called automatically by the TrinityCore framework upon
    detection of combat termination, though it can also be invoked manually in specific
    scenarios where early termination is required.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Combat Behavior
    code: "class MyCombatBehavior : public CombatBehaviorIntegration {\npublic:\n\
      \    void OnCombatEnd() override {\n        // Perform cleanup\n        CleanupCombatState();\n\
      \        // Log combat end\n        sLog->outString(\"Combat ended for %s\"\
      , GetOwner()->GetName().c_str());\n    }\n};"
    language: cpp
  notes: This method is typically called from the core combat management system and
    should not be invoked directly unless implementing custom combat lifecycle logic.
    Ensure that any resources allocated during OnCombatStart are properly released
    in this method to prevent memory leaks.
  warnings: null
  related:
  - OnCombatStart
  - UpdateCombat
  - IsInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T03:01:26.135634'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
