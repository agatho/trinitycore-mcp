api:
  class: MovementIntegration
  method: Update
  signature: void MovementIntegration::Update(uint32 diff, CombatSituation situation)
documentation:
  brief: Updates the movement integration state based on elapsed time and combat situation
  description: The Update method is responsible for processing movement-related logic
    within the AI system, handling pathfinding, positioning adjustments, and behavior
    modifications based on the current combat situation. It integrates with the game's
    movement subsystem to ensure characters move appropriately according to their
    AI state and environmental conditions. This method is typically called during
    each AI update cycle and processes time-based movement calculations while considering
    the current combat context.
  parameters:
  - name: diff
    description: The elapsed time in milliseconds since the last update call, used
      for time-based movement calculations and timing-dependent behaviors
  - name: situation
    description: Current combat situation enum indicating the AI's engagement state
      (e.g., combat, non-combat, retreat, etc.) that affects movement decisions and
      pathfinding strategies
  returns: null
  examples:
  - title: Basic Update Call
    code: "void AIUpdate(uint32 diff)\n{\n    MovementIntegration movement;\n    CombatSituation\
      \ situation = COMBAT_SITUATION_COMBAT;\n    movement.Update(diff, situation);\n\
      }"
    language: cpp
  - title: Integration with Creature AI
    code: "class MyCreatureAI : public CreatureAI\n{\npublic:\n    void UpdateAI(uint32\
      \ diff) override\n    {\n        if (UpdateVictim())\n        {\n          \
      \  MovementIntegration movement;\n            CombatSituation situation = IsInCombat()\
      \ ? COMBAT_SITUATION_COMBAT : COMBAT_SITUATION_NON_COMBAT;\n            movement.Update(diff,\
      \ situation);\n        }\n    }\n};"
    language: cpp
  notes: This method is typically invoked from the main AI update loop and should
    be called regularly to maintain proper movement behavior. The diff parameter must
    be accurately calculated from the last frame to ensure smooth movement transitions.
    MovementIntegration may cache certain pathfinding results for performance optimization.
  warnings: Do not call this method without valid parameters; passing zero or negative
    diff values can cause unexpected movement behavior. Ensure that the CombatSituation
    enum values are properly defined and consistent with the AI's overall state management
    system.
  related:
  - MovementIntegration::Initialize
  - MovementIntegration::Reset
  - MovementIntegration::GetMovementStatus
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T23:31:04.599100'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
