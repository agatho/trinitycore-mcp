api:
  class: WorldSession
  method: HandleGetItemPurchaseData
  signature: void WorldSession::HandleGetItemPurchaseData(WorldPackets::Item::GetItemPurchaseData
    & packet)
documentation:
  brief: Retrieves purchase data for an item from the player's current transaction
    with an NPC vendor.
  description: The HandleGetItemPurchaseData method processes a client request to
    obtain detailed purchase information for a specific item. This typically occurs
    when a player interacts with an NPC vendor and requests details about an item
    they intend to buy, such as the item's price, currency type, and any applicable
    discounts or taxes. The method validates the transaction context and retrieves
    relevant data from the player's active purchase session. It is part of the core
    item purchasing mechanics in TrinityCore's World of Warcraft emulation, ensuring
    that players receive accurate pricing information before completing a purchase.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage
    code: "void WorldSession::HandleGetItemPurchaseData(WorldPackets::Item::GetItemPurchaseData&\
      \ packet)\n{\n    // Process the packet to retrieve item purchase data\n   \
      \ // This method is automatically invoked by the packet handler system\n   \
      \ // when a client sends a GetItemPurchaseData request\n}"
    language: cpp
  notes: This method operates within the context of an active vendor transaction and
    requires that the player has initiated a purchase sequence with an NPC. The implementation
    relies on internal session state tracking to maintain transaction details.
  warnings: null
  related:
  - HandleItemQuerySingle
  - HandleBuyItem
  - HandleSellItem
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T19:34:05.879813'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
