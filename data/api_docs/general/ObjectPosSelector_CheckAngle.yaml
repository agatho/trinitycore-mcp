api:
  class: ObjectPosSelector
  method: CheckAngle
  signature: bool ObjectPosSelector::CheckAngle(const UsedPosList::value_type & nextUsedPos,
    float sign, float angle) const
documentation:
  brief: Checks if a given angle is valid for positioning an object relative to used
    positions.
  description: The CheckAngle method evaluates whether a specified angle meets the
    required criteria for placing an object in a valid position. It takes into account
    previously used positions and ensures that the new angle does not conflict with
    existing constraints. This method is typically used during object placement calculations,
    such as when determining where to spawn creatures or items in a way that avoids
    overlapping or violating spatial restrictions. The check considers both the sign
    of the angle and its relationship to already occupied angles.
  parameters:
  - name: nextUsedPos
    description: A reference to a value_type from UsedPosList, representing an already
      occupied position that will be used for comparison in the angle validation.
  - name: sign
    description: A float value indicating the direction or sign of the angle adjustment.
      Typically used to determine whether the angle should be positive or negative
      relative to a reference point.
  - name: angle
    description: The angle in radians that is being validated for placement. This
      represents the angular position being checked against existing constraints.
  returns: Returns true if the specified angle passes all validation checks and is
    considered valid for object positioning; otherwise returns false.
  examples:
  - title: Basic Angle Validation
    code: "ObjectPosSelector selector;\n// Assume some existing used positions\nfloat\
      \ sign = 1.0f;\nfloat angle = M_PI / 4; // 45 degrees in radians\nbool isValid\
      \ = selector.CheckAngle(usedPos, sign, angle);\nif (isValid) {\n    // Proceed\
      \ with placing the object at this angle\n}"
    language: cpp
  - title: Using CheckAngle in a Loop for Spawning
    code: "for (int i = 0; i < maxAttempts; ++i) {\n    float angle = i * M_PI / 8;\
      \ // Incremental angles\n    if (selector.CheckAngle(usedPos, 1.0f, angle))\
      \ {\n        // Place object at this valid angle\n        break;\n    }\n}"
    language: cpp
  notes: This method is part of the ObjectPosSelector class which handles spatial
    positioning logic in TrinityCore. It's commonly used during creature or item spawning
    to ensure proper distribution and avoid overlapping. The implementation likely
    uses internal data structures like UsedPosList to track previously occupied positions.
  warnings: Ensure that the input parameters are properly initialized before calling
    this method, especially 'nextUsedPos' which should reference a valid entry in
    the used position list. Incorrect angle values may lead to invalid placements
    or infinite loops if not handled correctly.
  related:
  - ObjectPosSelector::SelectAngle
  - ObjectPosSelector::AddUsedPos
  - ObjectPosSelector::Clear
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T07:40:12.991794'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
