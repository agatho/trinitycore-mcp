api:
  class: BattlegroundScript
  method: OnPrepareStage1
  signature: void BattlegroundScript::OnPrepareStage1()
documentation:
  brief: Initializes battleground preparation stage 1, setting up core game objects
    and state before the main battleground begins.
  description: The OnPrepareStage1 method is a callback function invoked during the
    initialization phase of a battleground. It is responsible for preparing essential
    game elements such as spawning initial NPCs, setting up objectives, and initializing
    core battleground mechanics. This method is called once per battleground instance
    when the battleground transitions into its preparation stage, prior to the start
    of active gameplay. The method ensures that all necessary resources are allocated
    and configured correctly before players engage in combat.
  parameters: []
  returns: null
  examples:
  - title: Basic Override Implementation
    code: "class MyBattlegroundScript : public BattlegroundScript\n{\npublic:\n  \
      \  MyBattlegroundScript() : BattlegroundScript(\"MyBattleground\") {}\n    \n\
      \    void OnPrepareStage1() override\n    {\n        // Spawn initial NPCs\n\
      \        SpawnCreature(NPC_CAPTAIN, 100.0f, 200.0f, 30.0f);\n        \n    \
      \    // Set up initial objectives\n        SetObjectiveState(OBJECTIVE_FLAG_1,\
      \ true);\n    }\n};"
    language: cpp
  notes: This method is called during the battleground's initialization sequence and
    should not be used for heavy computations or operations that might block the main
    thread. It is recommended to avoid calling player-related functions directly within
    this method as players may not have fully joined the battleground yet.
  warnings: Do not perform any asynchronous operations or long-running tasks in this
    method, as it can delay the start of the battleground and affect gameplay experience.
    Avoid modifying game state that depends on player presence unless absolutely necessary.
  related:
  - OnPrepareStage2
  - OnBattlegroundStart
  - OnBattlegroundEnd
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T12:24:56.715584'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
