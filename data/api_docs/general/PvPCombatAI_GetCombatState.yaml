api:
  class: PvPCombatAI
  method: GetCombatState
  signature: PvPCombatState PvPCombatAI::GetCombatState(int * player) const
documentation:
  brief: Retrieves the current PvP combat state for a specified player.
  description: The GetCombatState method returns the current PvP combat state of a
    player, which indicates whether the player is engaged in PvP combat or not. This
    state is typically used by AI systems to determine appropriate behavior and actions
    during player-versus-player encounters. The method takes an optional pointer to
    an integer representing the player's ID and returns a PvPCombatState enum value
    that describes the current combat status of that player.
  parameters:
  - name: player
    description: Pointer to an integer representing the player's unique identifier
      (GUID). If NULL, the method may default to the AI's associated unit or return
      an error state.
  returns: Returns a PvPCombatState enum value indicating the current combat status
    of the specified player. Possible values include IN_COMBAT, NOT_IN_COMBAT, or
    other relevant states depending on the implementation.
  examples:
  - title: Basic usage to check player's combat state
    code: "PvPCombatState state = ai->GetCombatState(&playerGuid);\nif (state == IN_COMBAT)\n\
      {\n    // Player is currently in PvP combat\n    // Perform appropriate AI behavior\n\
      }"
    language: cpp
  - title: Using GetCombatState with null pointer to get default state
    code: "PvPCombatState state = ai->GetCombatState(nullptr);\nswitch (state)\n{\n\
      \    case IN_COMBAT:\n        // Handle combat logic\n        break;\n    case\
      \ NOT_IN_COMBAT:\n        // Handle non-combat logic\n        break;\n}"
    language: cpp
  notes: This method is typically used within AI scripts to make decisions based on
    the player's current PvP status. The implementation may cache or update combat
    states periodically, so frequent calls might not always reflect real-time changes.
    Ensure that the player GUID passed is valid and corresponds to an active player
    in the game world.
  warnings: Passing an invalid or non-existent player GUID can result in undefined
    behavior or incorrect state reporting. Always validate the player ID before calling
    this method if it's derived from external sources. The return value should not
    be used for direct combat actions without additional validation of the player's
    current status.
  related:
  - SetCombatState
  - IsInCombat
  - UpdateCombatState
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T20:40:37.845532'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
