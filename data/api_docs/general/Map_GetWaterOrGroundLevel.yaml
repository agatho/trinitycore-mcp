api:
  class: Map
  method: GetWaterOrGroundLevel
  signature: float Map::GetWaterOrGroundLevel(const PhaseShift & phaseShift, float
    x, float y, float z, float * ground, bool swim, float collisionHeight)
documentation:
  brief: Retrieves the water or ground level at a specified position within the map.
  description: This method calculates and returns the height of the ground or water
    surface at a given coordinate position in the world. It considers the phase shift
    for proper positioning and can account for swimming or walking scenarios. The
    method is essential for determining terrain height for navigation, collision detection,
    and gameplay mechanics involving movement and positioning within the game world.
  parameters:
  - name: phaseShift
    description: The phase shift object that defines the current phase of the map,
      affecting how coordinates are interpreted.
  - name: x
    description: The X coordinate of the position in the world to query for height.
  - name: y
    description: The Y coordinate of the position in the world to query for height.
  - name: z
    description: The Z coordinate of the position in the world to query for height.
  - name: ground
    description: Pointer to a float that will receive the ground level value, or nullptr
      if not needed.
  - name: swim
    description: Boolean flag indicating whether the position is in a swimming state
      (true) or walking state (false).
  - name: collisionHeight
    description: The height used for collision detection, particularly relevant when
      determining water level.
  returns: Returns a float representing the calculated height of the ground or water
    surface at the specified coordinates. The value may be negative if the position
    is below ground level, and can vary based on terrain and map features.
  examples:
  - title: Basic usage example
    code: 'float z = map->GetWaterOrGroundLevel(phaseShift, x, y, z, nullptr, false,
      1.0f);

      // z now contains the height at position (x,y,z)'
    language: cpp
  - title: Advanced usage with ground level retrieval
    code: 'float groundLevel;

      float z = map->GetWaterOrGroundLevel(phaseShift, x, y, z, &groundLevel, true,
      1.0f);

      // z contains water height, groundLevel contains ground height'
    language: cpp
  notes: This method is typically used in conjunction with movement calculations and
    collision detection to ensure accurate positioning of objects or characters within
    the game world. It may involve complex terrain calculations and can be affected
    by map-specific features like water bodies.
  warnings: Care should be taken when using this method with different phase shifts,
    as incorrect phase handling can lead to inaccurate height calculations. Also,
    note that this method does not account for dynamic objects or terrain changes
    during gameplay.
  related:
  - GetHeight
  - GetWaterLevel
  - GetGroundLevel
metadata:
  confidence: 0.95
  generated_at: '2025-10-31T04:08:21.841838'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
