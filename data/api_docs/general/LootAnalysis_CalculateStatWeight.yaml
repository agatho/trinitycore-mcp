api:
  class: LootAnalysis
  method: CalculateStatWeight
  signature: float LootAnalysis::CalculateStatWeight(Player * player, uint32 statType)
documentation:
  brief: Calculates the stat weight for a given player and stat type used in loot
    analysis.
  description: The CalculateStatWeight method computes a normalized weight value for
    a specified stat type relative to a player's current equipment and gear. This
    value is typically used in loot optimization systems or analysis tools to determine
    how beneficial a particular stat is for a specific player class and specialization.
    The method evaluates the player's current gear, item levels, and stat distributions
    to provide an accurate representation of stat efficiency. It serves as a core
    component in determining which stats are most valuable for maximizing a player's
    performance in their current gear setup.
  parameters:
  - name: player
    description: Pointer to the Player object for which the stat weight is being calculated.
      Must be a valid player instance with initialized gear and stats.
  - name: statType
    description: The type of stat to calculate weight for, represented as a uint32
      value. Common values include STAT_STRENGTH, STAT_AGILITY, STAT_INTELLECT, etc.,
      defined in the TrinityCore stat constants.
  returns: Returns a float value representing the calculated stat weight. Higher values
    indicate that the stat is more beneficial for the player's current gear and role.
    The value typically ranges from 0.0 to several hundred depending on the specific
    stat and player context.
  examples:
  - title: Basic Usage Example
    code: 'Player* player = ...; // valid player instance

      float weight = LootAnalysis::CalculateStatWeight(player, STAT_AGILITY);

      TC_LOG_INFO("loot", "Agility weight for player: %f", weight);'
    language: cpp
  - title: Stat Weight Calculation for Multiple Stats
    code: "Player* player = ...;\nuint32 stats[] = {STAT_STRENGTH, STAT_AGILITY, STAT_INTELLECT};\n\
      for (uint32 stat : stats)\n{\n    float weight = LootAnalysis::CalculateStatWeight(player,\
      \ stat);\n    TC_LOG_INFO(\"loot\", \"Stat %u weight: %f\", stat, weight);\n\
      }"
    language: cpp
  notes: This method relies on accurate player gear data and may be affected by temporary
    buffs or debuffs. The calculation considers the player's current item level, equipped
    items, and class-specific stat multipliers. Performance-wise, this method should
    be used judiciously in high-frequency contexts such as loot distribution loops.
  warnings: Ensure that the Player pointer is valid and not null before calling this
    method. Passing invalid stat types may result in undefined behavior or incorrect
    calculations. The returned weight values are relative to current gear and will
    change as the player equips new items.
  related:
  - GetPlayerStatWeight
  - CalculateLootValue
  - AnalyzeGearStats
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T09:58:08.575104'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
