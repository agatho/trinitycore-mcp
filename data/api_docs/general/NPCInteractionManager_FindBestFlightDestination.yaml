api:
  class: NPCInteractionManager
  method: FindBestFlightDestination
  signature: uint32 NPCInteractionManager::FindBestFlightDestination(Creature * flightMaster)
    const
documentation:
  brief: Determines the optimal flight destination for a player based on their current
    location and available routes.
  description: The FindBestFlightDestination method evaluates the provided flight
    master creature to determine the most appropriate destination for the player's
    current position. It considers factors such as the player's location, available
    flight paths, and proximity to known destinations. This method is typically invoked
    during NPC interaction when a player selects to fly, ensuring they are directed
    toward the most logical or nearest available flight point. The result is a unique
    identifier representing the destination flight path node.
  parameters: []
  returns: Returns a uint32 value representing the ID of the best flight destination
    node. This ID corresponds to a specific flight path entry in the game's database,
    which defines the destination and associated travel mechanics.
  examples:
  - title: Basic Usage
    code: "uint32 destId = interactionManager.FindBestFlightDestination(flightMaster);\n\
      if (destId != 0)\n{\n    // Proceed with flight to destination\n    player->GetSession()->SendTravelError(TRAVEL_ERR_OK);\n\
      }"
    language: cpp
  notes: This method likely relies on internal pathfinding logic and database lookups.
    It may cache results for performance or be called frequently during interaction
    sequences, so consider its impact on server load in high-traffic scenarios.
  warnings: Ensure that the flightMaster parameter is valid and not null before calling
    this method to avoid undefined behavior. The returned ID should always be validated
    against existing flight paths to prevent errors.
  related:
  - GetFlightPathByNodeId
  - CanFlyToNode
  - GetNearestFlightNode
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T05:17:17.284187'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
