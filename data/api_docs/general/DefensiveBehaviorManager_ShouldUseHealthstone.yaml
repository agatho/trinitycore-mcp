api:
  class: DefensiveBehaviorManager
  method: ShouldUseHealthstone
  signature: bool DefensiveBehaviorManager::ShouldUseHealthstone() const
documentation:
  brief: Determines whether the player should use a healthstone based on current health
    and behavior settings.
  description: The ShouldUseHealthstone method evaluates the player's current health
    percentage and compares it against configured thresholds to decide if using a
    healthstone would be beneficial. This method is typically used by AI systems or
    behavior managers to make decisions about when to consume consumable items for
    health restoration. It considers factors such as the player's current health level,
    maximum health, and any configured minimum health thresholds before making a decision.
    The result of this method directly influences whether a healthstone will be consumed
    during gameplay.
  parameters: []
  returns: Returns true if the player's current health is below the configured threshold
    and using a healthstone would be beneficial; otherwise returns false.
  examples:
  - title: Basic usage in AI decision making
    code: "if (defensiveBehaviorManager.ShouldUseHealthstone()) {\n    // Player should\
      \ use a healthstone\n    player.UseItem(ITEM_HEALTHSTONE);\n}"
    language: cpp
  - title: Integration with health-based behavior logic
    code: "void PlayerAI::Update()\n{\n    if (defensiveBehaviorManager.ShouldUseHealthstone())\n\
      \    {\n        // Ensure we have a healthstone in inventory\n        if (player.HasItem(ITEM_HEALTHSTONE))\n\
      \        {\n            player.UseItem(ITEM_HEALTHSTONE);\n        }\n    }\n\
      }"
    language: cpp
  notes: This method is typically called during AI update cycles or when evaluating
    consumable usage. The decision logic may be influenced by settings such as minimum
    health percentage thresholds, player class-specific behavior rules, and current
    combat state. The method does not perform any direct item consumption but rather
    makes a decision about whether it should be consumed.
  warnings: This method assumes that the player's health state has been properly updated
    before calling. It may return false if the player is in combat or if other conditions
    prevent consumable usage, even if health is low. Developers should ensure proper
    inventory checks are performed before attempting to use items based on this method's
    result.
  related:
  - UseHealthstone
  - GetHealthThreshold
  - IsInCombat
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T14:17:09.351720'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
