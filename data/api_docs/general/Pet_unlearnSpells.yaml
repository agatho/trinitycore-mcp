api:
  class: Pet
  method: unlearnSpells
  signature: void Pet::unlearnSpells(const int & spellIds, bool learn_prev, bool clear_ab)
documentation:
  brief: Unlearns specified spells from the pet, optionally learning previous spell
    ranks and clearing action bars.
  description: 'The unlearnSpells method removes one or more spells from a pet''s
    spellbook. It accepts a list of spell IDs to be removed and provides options to
    also learn previous spell ranks (if available) and clear the pet''s action bar.
    This functionality is commonly used when modifying a pet''s abilities, such as
    during class changes, level-ups, or when resetting a pet''s spell selection. The
    method operates directly on the pet object and does not require explicit saving
    to database as it modifies in-memory data structures. Precondition: The pet must
    be valid and have the specified spells in its spellbook. Postcondition: The specified
    spells are removed from the pet''s spellbook, with optional behavior for previous
    ranks and action bar updates.'
  parameters:
  - name: spellIds
    description: An integer representing a single spell ID or a bitmask of multiple
      spell IDs to be unlearned. This parameter controls which specific spells are
      removed from the pet's spellbook.
  - name: learn_prev
    description: Boolean flag indicating whether to learn previous spell ranks after
      unlearning. If true, the method attempts to replace the unlearned spell with
      its previous rank if available.
  - name: clear_ab
    description: Boolean flag indicating whether to clear the pet's action bar after
      unlearning spells. If true, any action bar entries corresponding to the unlearned
      spells are removed.
  returns: null
  examples:
  - title: Basic usage to unlearn a single spell
    code: 'Pet* pet = player->GetPet();

      int spellId = 12345;

      pet->unlearnSpells(spellId, false, false);'
    language: cpp
  - title: Unlearn multiple spells and learn previous ranks
    code: 'Pet* pet = player->GetPet();

      int spellIds = 12345 | 12346 | 12347; // Bitmask of spell IDs

      pet->unlearnSpells(spellIds, true, true);'
    language: cpp
  notes: This method modifies the pet's internal spellbook state and may affect the
    pet's behavior in combat. The spell IDs should be valid for the pet type (e.g.,
    warlock pets can learn different spells than hunter pets). Changes made via this
    method are not persisted to the database unless explicitly saved through other
    mechanisms.
  warnings: Incorrect spell ID values or invalid bitmasks may cause undefined behavior.
    Using large bitmasks without proper validation might lead to performance issues.
    Be cautious when using 'learn_prev' with spells that don't have previous ranks,
    as it may result in unexpected behavior.
  related:
  - Pet::LearnSpell
  - Pet::HasSpell
  - Pet::RemoveSpell
  - Pet::ResetSpells
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T21:02:24.462706'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
