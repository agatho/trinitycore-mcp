api:
  class: BotDatabasePool
  method: HandleQueryResult
  signature: void BotDatabasePool::HandleQueryResult(const QueryRequest & request,
    int result)
documentation:
  brief: Processes and handles the results of asynchronous database queries within
    the bot database pool.
  description: The HandleQueryResult method is responsible for processing the outcomes
    of asynchronous database queries executed through the BotDatabasePool. It takes
    a QueryRequest object and an integer result code, then performs necessary operations
    based on whether the query succeeded or failed. This method is typically invoked
    by the database thread after a query has completed execution. The method ensures
    proper handling of query results, including potential error conditions, and may
    trigger further actions such as updating internal state or notifying other components
    about query completion. It plays a crucial role in maintaining the asynchronous
    nature of database operations within the bot system.
  parameters:
  - name: request
    description: The QueryRequest object containing information about the executed
      database query, including the query string, parameters, and callback information.
  - name: result
    description: An integer representing the result of the database operation. Positive
      values typically indicate success, while negative values may represent various
      error conditions.
  returns: null
  examples:
  - title: Basic usage in a bot system
    code: "void MyBot::OnQueryComplete(const QueryRequest& request, int result) {\n\
      \    BotDatabasePool::Instance()->HandleQueryResult(request, result);\n}"
    language: cpp
  - title: Handling different query results
    code: "void BotDatabasePool::HandleQueryResult(const QueryRequest& request, int\
      \ result) {\n    if (result > 0) {\n        // Success - process the result\
      \ set\n        sLog->outString(\"Query successful, rows affected: %d\", result);\n\
      \    } else if (result == 0) {\n        // No rows affected\n        sLog->outString(\"\
      Query completed with no changes.\");\n    } else {\n        // Error occurred\n\
      \        sLog->outError(\"Database query failed with error code: %d\", result);\n\
      \    }\n}"
    language: cpp
  notes: This method is part of the asynchronous database handling system. It should
    be called only from the database thread context to avoid race conditions. The
    method assumes that the QueryRequest object remains valid until this function
    completes execution.
  warnings: Do not call this method directly with invalid or uninitialized QueryRequest
    objects, as it may lead to undefined behavior. Ensure proper synchronization when
    accessing shared data structures within this method.
  related:
  - BotDatabasePool::ExecuteAsyncQuery
  - BotDatabasePool::QueueQuery
  - BotDatabasePool::GetQueryResult
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T05:51:40.680091'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
