api:
  class: SceneMgr
  method: OnSceneCancel
  signature: void SceneMgr::OnSceneCancel(uint32 sceneInstanceID)
documentation:
  brief: Cancels a running scene instance by its unique identifier.
  description: The OnSceneCancel method is responsible for terminating an active scene
    instance within the TrinityCore framework. It takes a scene instance ID as input
    and performs cleanup operations associated with that specific scene. This method
    is typically invoked when a scene needs to be stopped prematurely, such as when
    a player leaves the area, a quest is abandoned, or a scene is interrupted by game
    events. The method ensures proper resource deallocation and state reset for the
    cancelled scene, maintaining the integrity of the scene system.
  parameters:
  - name: sceneInstanceID
    description: The unique identifier of the scene instance to be cancelled. This
      ID corresponds to a specific active scene that was previously started using
      SceneMgr::StartScene(). Valid values are positive integers representing registered
      scene instances within the current session.
  returns: null
  examples:
  - title: Canceling a Scene Instance
    code: 'uint32 mySceneID = 12345;

      sceneMgr->OnSceneCancel(mySceneID);'
    language: cpp
  - title: Conditional Scene Cancellation
    code: "if (player->HasSceneInProgress())\n{\n    uint32 activeSceneID = player->GetActiveSceneInstanceID();\n\
      \    sceneMgr->OnSceneCancel(activeSceneID);\n}"
    language: cpp
  notes: This method should only be called with valid scene instance IDs that are
    currently active. Calling it with an invalid or already cancelled scene ID may
    result in undefined behavior. The implementation internally handles cleanup of
    associated resources and notifies relevant subsystems about the scene termination.
  warnings: Do not call this method on scene instances that have already been completed
    or cancelled, as doing so might cause assertion failures or memory corruption.
    Always verify the scene's active status before invoking cancellation.
  related:
  - SceneMgr::StartScene
  - SceneMgr::OnSceneComplete
  - SceneMgr::GetSceneInstance
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T06:52:58.323055'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
