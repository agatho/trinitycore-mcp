api:
  class: Battlefield
  method: GetClosestGraveyard
  signature: const WorldSafeLocsEntry * Battlefield::GetClosestGraveyard(Player *
    player)
documentation:
  brief: Finds and returns the closest graveyard location for the specified player
    within the battlefield.
  description: The GetClosestGraveyard method determines the nearest safe location
    (graveyard) available to a player who has died within the context of a battlefield.
    This function is typically used during player death processing to identify where
    the player should be teleported upon resurrection. It evaluates the player's current
    position and returns a pointer to the WorldSafeLocsEntry structure representing
    the closest valid graveyard. The method considers only graveyards that are relevant
    to the specific battlefield instance and ensures that the returned location is
    accessible and appropriate for the player's faction and zone context.
  parameters: []
  returns: A pointer to a WorldSafeLocsEntry structure representing the closest available
    graveyard for the player, or nullptr if no suitable graveyard can be found within
    the battlefield.
  examples:
  - title: Basic Usage in Player Death Handling
    code: "void HandlePlayerDeath(Player* player)\n{\n    const WorldSafeLocsEntry*\
      \ graveyard = sBattlefield->GetClosestGraveyard(player);\n    if (graveyard)\n\
      \    {\n        // Teleport player to the graveyard location\n        player->TeleportTo(graveyard->MapID,\
      \ graveyard->X, graveyard->Y, graveyard->Z, 0);\n    }\n}"
    language: cpp
  notes: This method is part of the battlefield system and relies on proper battlefield
    instance setup. The returned WorldSafeLocsEntry pointer should not be cached as
    it may change during battlefield lifecycle events. The function performs spatial
    calculations to determine proximity, which could impact performance in high-traffic
    scenarios.
  warnings: Ensure that the player object passed is valid and not null before calling
    this method. Calling GetClosestGraveyard on a player outside of a battlefield
    context might return unexpected results or nullptr if no appropriate graveyard
    exists.
  related:
  - GetBattlefield
  - IsPlayerInBattlefield
  - TeleportPlayerToBattlefield
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T15:45:32.257401'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
