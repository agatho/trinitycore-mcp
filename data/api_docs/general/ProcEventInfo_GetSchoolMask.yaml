api:
  class: ProcEventInfo
  method: GetSchoolMask
  signature: int ProcEventInfo::GetSchoolMask() const
documentation:
  brief: Retrieves the school mask associated with the proc event, indicating the
    damage type or magic school.
  description: The GetSchoolMask method returns an integer value representing the
    school mask of the spell or effect that triggered the proc event. In World of
    Warcraft's context, school masks define the elemental or magical properties of
    spells and effects, such as physical, holy, fire, nature, frost, shadow, arcane,
    and holy damage types. This information is crucial for determining how procs interact
    with resistance mechanics, spell effectiveness, and various game systems that
    depend on damage type classification. The returned value typically corresponds
    to predefined constants like SPELL_SCHOOL_NORMAL, SPELL_SCHOOL_HOLY, SPELL_SCHOOL_FIRE,
    etc., which are used in conditional checks within spell scripts and proc handlers.
  parameters: []
  returns: 'An integer representing the school mask of the proc event. This value
    is a bitmask that can represent one or multiple damage types. Common values include:
    1 (physical), 2 (holy), 4 (fire), 8 (nature), 16 (frost), 32 (shadow), 64 (arcane).
    The value may also be a combination of these bits if the spell affects multiple
    schools.'
  examples:
  - title: Basic Usage in Proc Handler
    code: "void MySpellScript::HandleProc(ProcEventInfo& eventInfo)\n{\n    int schoolMask\
      \ = eventInfo.GetSchoolMask();\n    if (schoolMask & SPELL_SCHOOL_FIRE)\n  \
      \  {\n        // Apply fire-specific effects\n    }\n}"
    language: cpp
  - title: Checking for Multiple Schools
    code: "void SpellHandler::OnSpellHit(Unit* target, SpellInfo const* spellInfo)\n\
      {\n    if (spellInfo->GetSchoolMask() & (SPELL_SCHOOL_FIRE | SPELL_SCHOOL_FROST))\n\
      \    {\n        // Handle spells that are both fire and frost\n        DoSomethingForFireAndFrostSpells();\n\
      \    }\n}"
    language: cpp
  notes: The school mask returned by this method is derived from the spell's inherent
    properties and does not change based on modifiers or buffs during runtime. Developers
    should be aware that the mask value represents a bitwise combination of school
    types, so proper bit checking (using & operator) is required when testing for
    specific schools.
  warnings: When using the returned school mask in conditional statements, always
    use bitwise AND operations rather than direct equality comparisons to avoid incorrect
    behavior. Also note that some spells may have no school (0) or multiple schools
    set simultaneously, which can affect how procs are handled.
  related:
  - GetSpellInfo
  - GetDamage
  - GetProcFlags
metadata:
  confidence: 0.95
  generated_at: '2025-11-03T20:59:52.790071'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
