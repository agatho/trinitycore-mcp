api:
  class: CombatSpecializationBase
  method: PredictTargetPosition
  signature: int CombatSpecializationBase::PredictTargetPosition(::Unit * target,
    uint32 timeMs) const
documentation:
  brief: Predicts the future position of a target unit based on its movement and the
    specified time interval.
  description: The PredictTargetPosition method calculates and returns the expected
    location of a target Unit at a given time in the future, taking into account the
    unit's current movement state, speed, and direction. This functionality is commonly
    used in combat AI to determine where an enemy will be when a spell or ability
    is cast, allowing for more accurate targeting and timing. The method requires
    a valid Unit pointer as input and uses the provided time interval (in milliseconds)
    to project the target's position. It does not modify the target unit's state or
    movement but rather computes a theoretical future location based on current motion
    data.
  parameters:
  - name: target
    description: A pointer to the Unit whose future position is to be predicted. Must
      be a valid Unit object; null pointers will result in undefined behavior.
  - name: timeMs
    description: The time interval (in milliseconds) into the future for which to
      predict the target's position. Should be a positive value representing the delay
      before the predicted movement occurs.
  returns: Returns an integer value representing the predicted position index or identifier.
    The exact meaning of this return value depends on internal implementation details,
    but typically indicates success (positive) or failure (negative) of the prediction
    calculation.
  examples:
  - title: Basic usage to predict enemy position
    code: "Unit* target = player->GetVictim();\nint predictedPos = combatSpecBase->PredictTargetPosition(target,\
      \ 1000);\nif (predictedPos >= 0)\n{\n    // Use predictedPos for targeting logic\n\
      }"
    language: cpp
  - title: Using prediction to adjust spell casting timing
    code: "Unit* target = GetTarget();\nuint32 delay = CalculateSpellDelay();\nint\
      \ futurePos = combatSpecBase->PredictTargetPosition(target, delay);\nif (futurePos\
      \ > 0)\n{\n    // Adjust spell targeting based on predicted position\n    CastSpellAtPosition(futurePos);\n\
      }"
    language: cpp
  notes: This method relies heavily on the target unit's current movement state and
    may not account for sudden changes in direction or speed. Performance is generally
    efficient, but repeated calls during high-frequency combat events should be monitored.
    The prediction accuracy decreases with longer time intervals due to potential
    movement changes.
  warnings: Do not pass null pointers as the target parameter, as this will likely
    cause a crash or undefined behavior. Be aware that predictions become less accurate
    over longer time periods, especially if the target unit's movement pattern is
    unpredictable or subject to external influences.
  related:
  - GetTargetPosition
  - CalculateMovementVector
  - PredictUnitPath
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T15:00:23.348277'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
