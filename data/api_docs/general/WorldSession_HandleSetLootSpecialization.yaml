api:
  class: WorldSession
  method: HandleSetLootSpecialization
  signature: void WorldSession::HandleSetLootSpecialization(WorldPackets::Loot::SetLootSpecialization
    & packet)
documentation:
  brief: Updates the player's loot specialization setting for item distribution.
  description: The HandleSetLootSpecialization method processes a client packet that
    sets or updates the player's preferred loot specialization. This functionality
    allows players to specify which specialization they wish to use when rolling for
    loot on items that have specialization-specific loot rules. The method validates
    the provided specialization ID and updates the player's session data accordingly,
    ensuring that future loot distribution respects their chosen specialization preference.
  parameters: []
  returns: null
  examples:
  - title: Setting Player Loot Specialization
    code: 'WorldSession* session = ...;

      WorldPackets::Loot::SetLootSpecialization packet;

      packet.SpecializationID = 255; // Example specialization ID

      session->HandleSetLootSpecialization(packet);'
    language: cpp
  notes: This method is typically invoked from the network packet handler loop when
    a client sends a loot specialization update. It does not directly affect the player's
    active specialization in combat, but rather influences how loot is distributed
    according to their chosen specialization rules.
  warnings: null
  related:
  - GetLootSpecialization
  - SetLootSpecialization
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T19:17:25.058719'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
