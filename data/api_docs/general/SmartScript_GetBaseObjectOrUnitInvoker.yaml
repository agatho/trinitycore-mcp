api:
  class: SmartScript
  method: GetBaseObjectOrUnitInvoker
  signature: WorldObject * SmartScript::GetBaseObjectOrUnitInvoker(Unit * invoker)
documentation:
  brief: Returns the base WorldObject or Unit invoker from a SmartScript context
  description: The GetBaseObjectOrUnitInvoker method retrieves the primary WorldObject
    or Unit that triggered a SmartScript event. This is typically used in AI scripts
    to determine which entity initiated an action, such as a player interacting with
    an NPC or a creature being attacked. The method ensures that the correct invoker
    object is returned regardless of whether the script was triggered by a unit or
    a world object, making it useful for context-aware scripting logic. It's commonly
    used within SmartAI implementations to maintain proper state tracking and event
    handling.
  parameters: []
  returns: A pointer to the WorldObject that represents the invoker of the SmartScript
    event, or nullptr if no valid invoker is available
  examples:
  - title: Basic Usage in AI Script
    code: "class MyAI : public ScriptedAI\n{\npublic:\n    void JustEngagedWith(Unit*\
      \ who) override\n    {\n        WorldObject* invoker = me->GetScript()->GetBaseObjectOrUnitInvoker(who);\n\
      \        if (invoker)\n        {\n            // Perform action based on the\
      \ invoker\n            DoSomethingWith(invoker);\n        }\n    }\n};"
    language: cpp
  notes: This method is designed to work within the SmartScript framework and assumes
    that the script context has been properly initialized. The returned pointer should
    be validated before use, as it may be null if no valid invoker exists in the current
    execution context.
  warnings: Be cautious when using this method outside of proper SmartScript event
    contexts, as it might return nullptr or an invalid object reference. Always validate
    the returned pointer before dereferencing to prevent access violations.
  related:
  - GetUnitInvoker
  - GetObjectInvoker
  - GetScript
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T06:37:25.493793'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
