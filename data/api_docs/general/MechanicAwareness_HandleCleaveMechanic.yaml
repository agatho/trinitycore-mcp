api:
  class: MechanicAwareness
  method: HandleCleaveMechanic
  signature: void MechanicAwareness::HandleCleaveMechanic(Unit * target, float cleaveAngle,
    float cleaveRange)
documentation:
  brief: Applies cleave mechanic damage to target and nearby enemies within specified
    angle and range
  description: The HandleCleaveMechanic method implements the cleave attack behavior
    used by certain abilities and spells in World of Warcraft. It calculates which
    enemies are within the specified cleave angle and range from the target unit,
    then applies damage or effects to those affected units. This mechanic is commonly
    used by warrior abilities like Cleave, Whirlwind, and other area-of-effect attacks
    that hit multiple targets. The method determines valid targets based on positioning
    relative to the primary target and applies appropriate mechanics such as threat
    generation and damage calculations.
  parameters:
  - name: target
    description: The primary target unit that the cleave effect originates from. This
      is typically the unit that receives the initial hit or spell effect.
  - name: cleaveAngle
    description: The angular range (in degrees) within which additional targets will
      be affected by the cleave mechanic. Valid values are typically between 0 and
      360 degrees, with common values being 90 or 120 degrees.
  - name: cleaveRange
    description: The maximum distance (in yards) from the target within which additional
      units will be affected by the cleave mechanic. Must be a positive value representing
      the effective range of the cleave attack.
  returns: null
  examples:
  - title: Basic Cleave Usage
    code: 'Unit* target = player->GetVictim();

      float angle = 90.0f;

      float range = 5.0f;

      mechanicAwareness->HandleCleaveMechanic(target, angle, range);'
    language: cpp
  - title: Warrior Cleave Ability Implementation
    code: "void Warrior::CastCleave()\n{\n    Unit* target = GetVictim();\n    if\
      \ (!target)\n        return;\n    \n    float cleaveAngle = 90.0f; // 90-degree\
      \ cleave\n    float cleaveRange = 5.0f;  // 5-yard range\n    \n    mechanicAwareness->HandleCleaveMechanic(target,\
      \ cleaveAngle, cleaveRange);\n}"
    language: cpp
  notes: This method assumes that the calling code has already validated that the
    target unit exists and is valid. The cleave angle represents a cone from the target's
    facing direction, with targets within that cone being affected. Performance considerations
    include avoiding excessive iterations through nearby units when determining cleave
    targets.
  warnings: The method does not validate whether the target is in combat or if the
    cleave range is appropriate for the spell/ability being used. Calling this method
    without proper context may result in unintended behavior or crashes if invalid
    parameters are passed.
  related:
  - HandleAreaAura
  - HandleMeleeAttack
  - CalculateCleaveDamage
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T08:41:19.724992'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
