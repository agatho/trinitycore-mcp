api:
  class: PetAI
  method: JustExitedCombat
  signature: void PetAI::JustExitedCombat()
documentation:
  brief: Handles cleanup and state management when a pet exits combat.
  description: The JustExitedCombat method is called by the PetAI system when a pet's
    combat state transitions from active to inactive. This method performs necessary
    cleanup operations such as resetting combat-related flags, clearing threat lists,
    and potentially updating the pet's behavior state. It ensures that the pet properly
    transitions out of combat mode and can resume normal AI activities like following
    the owner or performing idle behaviors. The method is typically invoked by the
    core combat system when the pet's last hostile target is removed from its threat
    list or when combat duration expires.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in custom pet AI
    code: "class CustomPetAI : public PetAI {\npublic:\n    void JustExitedCombat()\
      \ override {\n        // Perform custom cleanup\n        PetAI::JustExitedCombat();\n\
      \        // Additional logic here\n    }\n};"
    language: cpp
  notes: This method is part of the standard PetAI lifecycle and should not be called
    directly by external code. It's automatically invoked by the TrinityCore combat
    system when appropriate. The method may reset internal state variables that affect
    pet behavior, so any custom overrides should consider calling the base implementation.
  warnings: Do not call this method manually unless implementing a custom AI class
    that requires specific post-combat handling. Improper invocation can lead to inconsistent
    pet behavior or state corruption.
  related:
  - EnterCombat
  - UpdateAI
  - IsInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T06:28:03.979404'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
