api:
  class: ObstacleAvoidanceManager
  method: DetectUnitObstacles
  signature: int ObstacleAvoidanceManager::DetectUnitObstacles(const DetectionContext
    & context)
documentation:
  brief: Detects and evaluates unit obstacles within the specified detection context
    for AI pathfinding and movement.
  description: The DetectUnitObstacles method performs obstacle detection for units
    within a given detection context, analyzing nearby entities to determine potential
    movement blockers or navigational hazards. This method is typically used by AI
    systems to avoid collisions and navigate around other units in the game world.
    It evaluates the spatial relationships between the current unit and surrounding
    obstacles, returning a status code indicating success or failure of the detection
    process. The method relies on the provided DetectionContext which contains information
    about the unit's position, orientation, and detection parameters such as range
    and angle. This functionality is crucial for maintaining realistic AI behavior
    in TrinityCore's pathfinding system.
  parameters: []
  returns: Returns an integer status code where 0 typically indicates successful obstacle
    detection and processing, while negative values may indicate errors or failure
    conditions during the detection process. Positive return values might represent
    specific detection outcomes such as number of obstacles found or processed.
  examples:
  - title: Basic obstacle detection usage
    code: "DetectionContext context;\ncontext.position = unit->GetPosition();\ncontext.range\
      \ = 10.0f;\ncontext.angle = M_PI;\nint result = obstacleManager->DetectUnitObstacles(context);\n\
      if (result >= 0)\n{\n    // Obstacle detection completed successfully\n    //\
      \ Process detected obstacles\n}"
    language: cpp
  notes: This method is part of the AI obstacle avoidance system and should be called
    regularly during unit movement updates. The DetectionContext parameter must be
    properly initialized with valid position data and appropriate detection parameters.
    Performance can be impacted by high numbers of nearby units or complex detection
    ranges.
  warnings: Ensure that the DetectionContext is properly configured before calling
    this method, as invalid parameters may lead to incorrect obstacle detection results.
    This method should not be called from within critical sections where thread safety
    is a concern, as it may perform operations that are not thread-safe.
  related:
  - GetObstacleCount
  - ClearObstacles
  - UpdateObstaclePositions
  - IsUnitInObstacle
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T02:27:39.776001'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
