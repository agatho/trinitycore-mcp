api:
  class: DB2Manager
  method: GetBroadcastTextDuration
  signature: const int32 * DB2Manager::GetBroadcastTextDuration(uint32 broadcastTextId,
    LocaleConstant locale) const
documentation:
  brief: Retrieves the duration values associated with a broadcast text entry for
    the specified locale.
  description: The GetBroadcastTextDuration method fetches an array of integer durations
    linked to a specific broadcast text ID and locale. This is commonly used in World
    of Warcraft to determine how long a broadcast message should be displayed or played,
    particularly for audio cues and visual effects. The returned pointer points to
    an array of int32 values that represent the duration in milliseconds for each
    associated sound or animation segment. If no data exists for the given broadcastTextId
    and locale, the method may return nullptr or an empty array depending on internal
    implementation. The method is part of the DB2Manager class which handles loading
    and accessing data from DBC/DB2 files used by TrinityCore.
  parameters:
  - name: broadcastTextId
    description: Unique identifier for the broadcast text entry in the database. This
      ID corresponds to entries in the BroadcastText.db2 file.
  - name: locale
    description: Locale constant specifying which language version of the broadcast
      text to retrieve durations for. Valid values are defined by LocaleConstant enum
      (e.g., LOCALE_en, LOCALE_fr, etc.).
  returns: A const pointer to an array of int32 values representing duration in milliseconds
    for each sound or animation segment associated with the broadcast text entry.
    Returns nullptr if no data is found for the given parameters.
  examples:
  - title: Retrieve and use broadcast text durations
    code: "const int32* durations = sDB2Manager->GetBroadcastTextDuration(12345, LOCALE_en);\n\
      if (durations != nullptr)\n{\n    for (int i = 0; i < 3; ++i) // Assuming max\
      \ 3 segments\n    {\n        if (durations[i] > 0)\n            printf(\"Duration\
      \ %d: %d ms\\n\", i, durations[i]);\n    }\n}"
    language: cpp
  notes: This method accesses cached data from DB2 files loaded at server startup.
    The returned pointer is valid only as long as the DB2Manager instance remains
    active and should not be freed by the caller. Performance may vary based on how
    many broadcast text entries are loaded into memory.
  warnings: Do not assume that the array contains a fixed number of elements; always
    validate against expected bounds or use a known maximum count. The method may
    return nullptr if no matching data is found, so always check for null before dereferencing
    the returned pointer.
  related:
  - GetBroadcastText
  - GetBroadcastTextEntry
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T15:18:31.957295'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
