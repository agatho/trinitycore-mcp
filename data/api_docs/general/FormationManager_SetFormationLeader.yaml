api:
  class: FormationManager
  method: SetFormationLeader
  signature: bool FormationManager::SetFormationLeader(Player * leader)
documentation:
  brief: Sets the specified player as the leader of the formation.
  description: The SetFormationLeader method assigns a given Player object as the
    leader of the current formation. This method is typically used in group or raid
    scenarios where players need to be organized into a specific formation. The method
    validates that the provided player is valid and capable of leading a formation
    before making the assignment. It ensures that only one leader exists per formation
    at any given time, and updates internal formation state accordingly. If the operation
    succeeds, all members of the formation will recognize the new leader for movement
    and positioning purposes.
  parameters:
  - name: leader
    description: Pointer to the Player object that should become the formation leader.
      Must be a valid player instance that is currently part of the formation.
  returns: Returns true if the formation leader was successfully set; otherwise returns
    false if the provided player is invalid or cannot be assigned as leader.
  examples:
  - title: Basic Usage
    code: "Player* newLeader = ObjectAccessor::FindConnectedPlayer(\"NewLeader\");\n\
      if (newLeader && formationManager->SetFormationLeader(newLeader)) {\n    //\
      \ Leader successfully set\n}"
    language: cpp
  - title: Advanced Usage with Validation
    code: "Player* player = GetPlayer();\nif (!player || !player->GetGroup() || !player->GetGroup()->IsLeader(player->GetGUID()))\
      \ {\n    return false;\n}\n\nif (formationManager->SetFormationLeader(player))\
      \ {\n    // Notify group members of new leader\n    player->GetGroup()->SendUpdate();\n\
      }"
    language: cpp
  notes: This method assumes that the provided Player object is already part of a
    valid group or formation. The internal state of the FormationManager should be
    consistent with group membership. This method may trigger updates to movement
    behavior for all formation members.
  warnings: Do not call this method with a null pointer or a player who is not in
    the current formation, as it may lead to undefined behavior or invalid formation
    states.
  related:
  - GetFormationLeader
  - AddMemberToFormation
  - RemoveMemberFromFormation
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T13:39:19.362643'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
