api:
  class: TrinityStringChatBuilder
  method: TrinityStringChatBuilder
  signature: void TrinityStringChatBuilder::TrinityStringChatBuilder(const WorldObject
    * obj, int msgType, uint32 textId, const WorldObject * target, va_list * args)
documentation:
  brief: Initializes a TrinityStringChatBuilder object with specified parameters for
    constructing chat messages.
  description: The TrinityStringChatBuilder constructor initializes an instance of
    the TrinityStringChatBuilder class, preparing it to build localized chat messages
    using World of Warcraft's string system. This method sets up internal state based
    on the provided WorldObject context, message type, text identifier, target object,
    and variable arguments list. It is typically used internally by the TrinityCore
    server when processing player interactions or game events that require formatted
    in-game communication. The builder prepares data structures necessary for retrieving
    localized strings from the database and applying appropriate formatting based
    on the specified parameters.
  parameters:
  - name: obj
    description: Pointer to the WorldObject that serves as the context for the chat
      message. This object determines the player or creature sending the message,
      and affects localization and targeting behavior.
  - name: msgType
    description: Integer value representing the type of message being constructed.
      Common values include CHAT_MSG_SAY, CHAT_MSG_YELL, CHAT_MSG_EMOTE, etc., which
      determine how the message is displayed to players.
  - name: textId
    description: Unique identifier for the localized string in the database. This
      ID maps to a specific text entry that will be retrieved and formatted according
      to the message type and arguments.
  - name: target
    description: Pointer to the target WorldObject, which may be used in message formatting
      or as part of the context for localization. Can be NULL if no specific target
      is required.
  - name: args
    description: Pointer to a va_list containing variable arguments that will be used
      to format the localized string. These arguments are typically substitution values
      for placeholders in the database text entries.
  returns: null
  examples:
  - title: Basic usage with player object
    code: 'TrinityStringChatBuilder builder(player, CHAT_MSG_SAY, 12345, NULL, &args);

      // This prepares a chat message using string ID 12345 from the database

      // and formats it as a normal say message from the player.'
    language: cpp
  - title: Usage with target object and arguments
    code: 'TrinityStringChatBuilder builder(creature, CHAT_MSG_YELL, 12346, player,
      &args);

      // This prepares a yell message from the creature to the player

      // using string ID 12346 with formatted arguments passed via va_list.'
    language: cpp
  notes: This method is part of an internal chat building system in TrinityCore. It
    does not directly send messages to players but prepares the data structure needed
    for message delivery. The actual sending of messages occurs through other methods
    like SendChatMessage or related packet handling functions. Developers should ensure
    that textId references valid entries in the database's trinity_string table.
  warnings: Do not call this constructor directly unless you are implementing low-level
    chat functionality. Incorrect parameter values, especially invalid textId or malformed
    va_list arguments, can lead to crashes or corrupted messages. Always validate
    that the WorldObject pointers are valid before calling this method.
  related:
  - SendChatMessage
  - GetTrinityString
  - BuildChatMessage
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T10:23:05.156186'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
