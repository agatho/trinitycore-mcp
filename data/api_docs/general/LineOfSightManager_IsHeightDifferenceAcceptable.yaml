api:
  class: LineOfSightManager
  method: IsHeightDifferenceAcceptable
  signature: bool LineOfSightManager::IsHeightDifferenceAcceptable(const int & from,
    const int & to, float maxDiff)
documentation:
  brief: Determines whether the height difference between two points is within an
    acceptable threshold for line of sight calculations.
  description: The IsHeightDifferenceAcceptable method evaluates if the vertical distance
    (height difference) between two given points is less than or equal to a specified
    maximum allowable difference. This functionality is crucial in World of Warcraft's
    TrinityCore for determining whether characters can see each other through obstacles
    or terrain features. The method is typically used during line-of-sight checks
    to ensure that height variations do not invalidate visibility assessments. It
    performs a simple comparison between the absolute difference of the two input
    heights and the provided maximum allowed difference.
  parameters:
  - name: from
    description: The height value of the starting point for the line of sight check.
  - name: to
    description: The height value of the ending point for the line of sight check.
  - name: maxDiff
    description: The maximum allowable vertical difference (in game units) between
      the two points for the height difference to be considered acceptable.
  returns: Returns true if the absolute difference between 'from' and 'to' is less
    than or equal to maxDiff; otherwise, returns false.
  examples:
  - title: Basic usage in line of sight check
    code: 'int startHeight = 100;

      int endHeight = 105;

      float maxHeightDiff = 10.0f;

      bool result = lineOfSightManager.IsHeightDifferenceAcceptable(startHeight, endHeight,
      maxHeightDiff);

      // result will be true since |100 - 105| = 5 <= 10'
    language: cpp
  - title: Usage in visibility validation
    code: "if (lineOfSightManager.IsHeightDifferenceAcceptable(player1Height, player2Height,\
      \ 15.0f)) {\n    // Proceed with line of sight calculation\n    if (world->IsInLineOfSight(player1Position,\
      \ player2Position)) {\n        // Players can see each other\n    }\n}"
    language: cpp
  notes: This method is part of the LineOfSightManager class which handles various
    aspects of line-of-sight calculations in TrinityCore. The height values are typically
    represented in game units (e.g., yards or meters), and maxDiff should be specified
    with appropriate precision for the game's coordinate system. This check is often
    performed before more expensive raycasting operations to quickly filter out obviously
    invalid visibility scenarios.
  warnings: Ensure that the input height values are properly normalized and represent
    valid positions within the game world. Using negative values for maxDiff may lead
    to unexpected behavior, as this method does not validate parameter ranges. The
    method assumes integer height inputs but performs floating-point comparisons internally.
  related:
  - LineOfSightManager::IsInLineOfSight
  - LineOfSightManager::GetHeightDifference
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T10:14:26.489291'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
