api:
  class: ProtectionWarriorRefactored
  method: UpdateDefensives
  signature: void ProtectionWarriorRefactored::UpdateDefensives()
documentation:
  brief: Updates the defensive abilities and states of the protection warrior.
  description: The UpdateDefensives method is responsible for managing and updating
    all defensive capabilities and states of a Protection Warrior class character.
    This includes handling stance transitions, shield block mechanics, defensive cooldowns,
    and any defensive aura states that may affect the warrior's combat performance.
    The method ensures that the warrior's defensive abilities are properly synchronized
    with their current combat state, including managing threat generation, damage
    reduction, and positioning-related defensive actions. It typically gets called
    during combat updates or when defensive ability states change.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Combat Update
    code: "void MyCombatSystem::UpdatePlayer()\n{\n    if (player->IsInCombat())\n\
      \    {\n        player->GetAI()->UpdateDefensives();\n    }\n}"
    language: cpp
  - title: Integration with Custom Defensive Logic
    code: "void ProtectionWarriorRefactored::OnCombatStart()\n{\n    // Ensure defensive\
      \ state is initialized\n    UpdateDefensives();\n    // Additional defensive\
      \ setup\n}\n\nvoid ProtectionWarriorRefactored::UpdateDefensives()\n{\n    //\
      \ Update shield block status\n    if (HasShieldEquipped())\n        SetShieldBlockActive(true);\n\
      \    \n    // Update stance\n    if (!IsInBerserkerStance())\n        SwitchToBerserkerStance();\n\
      \    \n    // Refresh defensive cooldowns\n    RefreshDefensiveCooldowns();\n\
      }"
    language: cpp
  notes: This method is typically invoked automatically during combat updates and
    should not be called manually unless implementing custom defensive logic. The
    method may internally call other defensive-related functions such as UpdateShieldBlock(),
    CheckStanceRequirements(), or RefreshDefensiveCooldowns(). Performance-wise, this
    method should be optimized to avoid redundant state checks.
  warnings: Calling this method outside of combat context may lead to unexpected behavior
    or inconsistent defensive states. Avoid calling UpdateDefensives() in rapid succession
    without proper cooldown management as it could interfere with defensive ability
    tracking and cooldown calculations.
  related:
  - UpdateShieldBlock
  - CheckStanceRequirements
  - RefreshDefensiveCooldowns
  - HasShieldEquipped
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T21:53:43.548266'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
