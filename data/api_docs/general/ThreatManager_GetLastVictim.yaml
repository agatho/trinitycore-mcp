api:
  class: ThreatManager
  method: GetLastVictim
  signature: Unit * ThreatManager::GetLastVictim() const
documentation:
  brief: Returns the last victim unit that was added to the threat list.
  description: The GetLastVictim method retrieves the most recently added victim from
    the ThreatManager's threat list. This method is commonly used in combat scenarios
    where a creature or player needs to determine which target was last attacked and
    thus has the highest threat level. The returned unit represents the last victim
    that was added to the threat manager, typically used for determining the current
    target of the creature's AI behavior. It is important to note that this method
    does not necessarily return the unit with the highest threat level, but rather
    the most recently added victim.
  parameters: []
  returns: Returns a pointer to the Unit object representing the last victim added
    to the threat list. If no victims exist in the threat list, this will return nullptr.
  examples:
  - title: Basic usage example
    code: "Unit* victim = threatManager->GetLastVictim();\nif (victim)\n{\n    //\
      \ Process the victim\n    // Do something with the victim unit\n}"
    language: cpp
  notes: This method is typically used in conjunction with other threat management
    methods to determine the current target of a creature's AI behavior. The method
    may return nullptr if no victims have been added to the threat list yet, which
    can happen during initialization or when no combat has occurred.
  warnings: Care should be taken when using this method as it does not necessarily
    represent the highest threat level unit. For determining the actual target with
    highest threat, other methods like GetHighestThreat() should be used instead.
  related:
  - GetHighestThreat
  - AddThreat
  - RemoveThreat
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T03:11:48.534283'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
