api:
  class: CasterAI
  method: AttackStart
  signature: void CasterAI::AttackStart(int * victim)
documentation:
  brief: Initiates attack behavior against a specified target for a caster AI unit
  description: The AttackStart method in CasterAI class is responsible for triggering
    the combat behavior of a caster unit when it begins attacking a target. This method
    typically sets up the necessary AI state and initializes the attack sequence,
    ensuring that the caster will begin casting spells or performing other attack
    actions against the provided victim. It integrates with the broader AI system
    to manage combat engagement and maintain proper targeting logic. The method is
    commonly invoked when an AI-controlled unit detects a threat or when combat is
    initiated through external means such as aggro generation.
  parameters:
  - name: victim
    description: Pointer to the target unit that the caster AI will begin attacking.
      This parameter represents the entity against which the caster will direct its
      offensive actions, including spell casting and melee attacks.
  returns: null
  examples:
  - title: Basic Attack Start Usage
    code: "void MyCasterAI::UpdateAI(uint32 diff)\n{\n    if (!UpdateVictim())\n \
      \       return;\n    \n    if (me->getVictim())\n    {\n        AttackStart(me->getVictim());\n\
      \    }\n}"
    language: cpp
  - title: Attack Start with Conditional Logic
    code: "void MyCasterAI::DoCombat()\n{\n    if (me->IsWithinDistInMap(me->getVictim(),\
      \ 30.0f))\n    {\n        AttackStart(me->getVictim());\n    }\n    else\n \
      \   {\n        // Handle ranged combat or movement\n    }\n}"
    language: cpp
  notes: This method is part of the TrinityCore's AI framework and relies on proper
    initialization of the AI state. It should only be called when a valid target exists
    to avoid undefined behavior. The implementation typically handles the transition
    from idle or patrol states into combat mode.
  warnings: Calling AttackStart without ensuring that victim is a valid pointer may
    lead to crashes or unexpected behavior. Always validate the target before invoking
    this method.
  related:
  - UpdateAI
  - AttackStart
  - DoMeleeAttackIfReady
  - CastSpell
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T17:39:27.407121'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
