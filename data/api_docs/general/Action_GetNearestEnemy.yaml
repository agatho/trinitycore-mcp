api:
  class: Action
  method: GetNearestEnemy
  signature: ::Unit * Action::GetNearestEnemy(BotAI * ai, float range) const
documentation:
  brief: Finds and returns the nearest enemy Unit within a specified range for the
    bot AI.
  description: The GetNearestEnemy method is used by the BotAI system to locate the
    closest hostile unit (enemy) within a given range. It searches through all valid
    targets in the bot's vicinity and returns a pointer to the nearest one. This method
    is essential for decision-making in combat scenarios where the bot needs to prioritize
    targeting. The search considers only units that are within the specified range,
    and it excludes friendly or neutral entities. If no enemy is found within the
    range, the method returns nullptr.
  parameters:
  - name: ai
    description: Pointer to the BotAI instance that owns this action. Used to access
      the AI's context and target information.
  - name: range
    description: Maximum distance in yards within which to search for enemies. Units
      beyond this range will be ignored.
  returns: A pointer to the nearest enemy Unit found within the specified range, or
    nullptr if no valid enemy is located.
  examples:
  - title: Basic usage of GetNearestEnemy
    code: "Unit* target = action.GetNearestEnemy(ai, 30.0f);\nif (target)\n{\n   \
      \ // Proceed with attack logic\n    ai->Attack(target);\n}"
    language: cpp
  - title: Using GetNearestEnemy in a combat decision loop
    code: "void BotCombatStrategy::Update(BotAI* ai)\n{\n    Unit* enemy = action.GetNearestEnemy(ai,\
      \ 40.0f);\n    if (enemy && ai->CanAttack(enemy))\n    {\n        ai->SetCurrentTarget(enemy);\n\
      \        ai->Attack(enemy);\n    }\n    else\n    {\n        // No valid target\
      \ found, move to next behavior\n        ai->MoveToNextBehavior();\n    }\n}"
    language: cpp
  notes: The method performs a spatial search using the AI's internal target list
    and may be optimized for performance by caching nearby units. It is recommended
    to use reasonable range values to avoid unnecessary processing. The returned Unit
    pointer should always be checked for null before dereferencing.
  warnings: Ensure that the BotAI instance passed is valid and properly initialized,
    as passing an invalid pointer can lead to undefined behavior. Also, note that
    this method does not account for line-of-sight or other environmental factors;
    it only checks distance.
  related:
  - GetNearestFriend
  - GetClosestTarget
  - SetCurrentTarget
metadata:
  confidence: 0.95
  generated_at: '2025-11-07T06:55:54.906572'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
