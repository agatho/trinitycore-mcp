api:
  class: DynObjAura
  method: FillTargetMap
  signature: void DynObjAura::FillTargetMap(int & targets, Unit * caster)
documentation:
  brief: Populates a target map with units affected by the dynamic object aura, using
    the provided caster for filtering and targeting logic.
  description: The FillTargetMap method is responsible for determining which units
    are affected by a dynamic object aura and populating an internal target map with
    those units. This method takes into account the caster's perspective and the aura's
    properties to decide which targets should be included in the map. It typically
    involves checking unit visibility, faction relationships, and other game-specific
    conditions to ensure only valid targets are added. The method is commonly used
    during the application or update of auras that affect multiple units over time,
    such as area-of-effect spells or traps. This process is crucial for maintaining
    accurate targeting and ensuring proper spell effects are applied to the correct
    units.
  parameters:
  - name: targets
    description: Reference to an integer that will store the count of targets added
      to the map. This value is updated during method execution.
  - name: caster
    description: Pointer to the Unit object that cast the aura. This caster is used
      to determine targeting rules, faction considerations, and other caster-specific
      logic when populating the target map.
  returns: null
  examples:
  - title: Basic usage in aura application
    code: "int targetCount = 0;\nUnit* casterUnit = spellCaster;\nDynObjAura* aura\
      \ = dynamic_cast<DynObjAura*>(dynamicObject->GetAura(0));\nif (aura)\n{\n  \
      \  aura->FillTargetMap(targetCount, casterUnit);\n}\n// targetCount now holds\
      \ the number of units affected by this aura"
    language: cpp
  notes: This method is typically called internally by the TrinityCore framework when
    processing dynamic object auras. Developers should not normally need to call this
    method directly unless implementing custom aura behavior. The method modifies
    the internal target map of the DynObjAura instance, which may affect how the aura
    processes its effects on subsequent ticks or updates.
  warnings: Calling this method with an invalid caster pointer can lead to undefined
    behavior or crashes. Ensure that the caster parameter is a valid Unit object before
    calling this method. Additionally, modifying the target map directly after calling
    this method might cause inconsistencies in aura application logic.
  related:
  - GetTargetMap
  - UpdateTargetMap
  - ApplyAura
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T15:12:17.889975'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
