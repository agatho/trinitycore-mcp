api:
  class: CombatStateAnalyzer
  method: GetAverageMetrics
  signature: CombatMetrics CombatStateAnalyzer::GetAverageMetrics(uint32 periodMs)
    const
documentation:
  brief: Calculates and returns average combat metrics over a specified time period.
  description: The GetAverageMetrics method computes and returns averaged combat statistics
    for a given time interval. This method is typically used to analyze player or
    creature combat performance, providing insights into damage dealt, healing done,
    and other relevant metrics during the specified period. The returned CombatMetrics
    object contains aggregated values that represent the average behavior of combat
    actions within the defined timeframe. This functionality is essential for performance
    analysis, achievement tracking, and game balance evaluation in World of Warcraft's
    TrinityCore environment.
  parameters: []
  returns: A CombatMetrics object containing averaged combat statistics over the specified
    time period. The structure includes fields such as average damage per second (DPS),
    healing done, critical hit percentages, and other relevant combat indicators.
  examples:
  - title: Basic Usage Example
    code: 'CombatMetrics avgMetrics = analyzer.GetAverageMetrics(5000); // Get averages
      over 5 seconds

      std::cout << "Average DPS: " << avgMetrics.DamagePerSecond << std::endl;'
    language: cpp
  - title: Performance Analysis Example
    code: "uint32 timePeriod = 30000; // 30 seconds\nCombatMetrics metrics = analyzer.GetAverageMetrics(timePeriod);\n\
      if (metrics.DamagePerSecond > 1000.0f)\n{\n    // Log high damage performance\n\
      \    sLog->outString(\"High DPS detected: %f\", metrics.DamagePerSecond);\n}"
    language: cpp
  notes: This method may aggregate data from multiple combat events and requires that
    combat state data has been properly recorded. The implementation likely uses internal
    buffers or accumulators to maintain running totals for performance calculations.
  warnings: Ensure that the combat analyzer has sufficient combat data collected before
    calling this method, as empty or insufficient data may result in inaccurate averages.
    The returned metrics should be interpreted within the context of the specified
    time period.
  related:
  - GetCombatMetrics
  - UpdateCombatState
  - ResetMetrics
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T19:13:15.347106'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
