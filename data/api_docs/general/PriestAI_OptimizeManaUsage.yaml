api:
  class: PriestAI
  method: OptimizeManaUsage
  signature: void PriestAI::OptimizeManaUsage()
documentation:
  brief: Optimizes mana usage for the priest AI by selecting appropriate spells based
    on available mana and combat situation.
  description: The OptimizeManaUsage method in the PriestAI class determines the most
    efficient way for a priest AI to utilize its mana resources during combat. This
    method evaluates the current mana level, available spell options, and combat conditions
    to decide which spells to cast in order to maximize damage output or healing effectiveness
    while conserving mana for critical moments. It ensures that the AI prioritizes
    high-value spells when mana allows, and switches to lower-cost alternatives when
    mana is low. The method considers factors such as spell mana costs, cooldowns,
    and target health to make intelligent decisions about spell selection.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in AI update loop
    code: "void PriestAI::UpdateAI(const uint32 diff)\n{\n    // ... other AI logic\
      \ ...\n    OptimizeManaUsage();\n    // ... rest of AI logic ...\n}"
    language: cpp
  - title: Integration with mana management system
    code: "void PriestAI::OptimizeManaUsage()\n{\n    if (me->GetPower(POWER_MANA)\
      \ < 1000)\n        return;\n    \n    // Logic to select optimal spell based\
      \ on mana level\n    if (me->GetPower(POWER_MANA) > 5000)\n        DoCastVictim(SPELL_DESPERATE_PRAYER);\n\
      \    else if (me->GetPower(POWER_MANA) > 2000)\n        DoCastVictim(SPELL_FLASH_HEAL);\n\
      \    else\n        DoCastVictim(SPELL_HOLY_SMITE);\n}"
    language: cpp
  notes: This method should be called regularly during the AI update cycle to ensure
    optimal mana management. The implementation assumes that the AI has access to
    a valid target and sufficient mana pool to make meaningful spell choices. Performance
    is optimized by avoiding unnecessary calculations when mana levels are too low
    for effective spell casting.
  warnings: Care must be taken not to call this method without proper target validation,
    as it may result in invalid spell casts or performance issues. The method does
    not handle mana regeneration directly - it only makes decisions based on current
    mana levels.
  related:
  - DoCast
  - GetPower
  - GetManaPct
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T21:58:52.927953'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
