api:
  class: SpellHistory
  method: SendSetSpellCharges
  signature: void SpellHistory::SendSetSpellCharges(int chargeCategoryId, const int
    & chargeCollection) const
documentation:
  brief: Sends a spell charge update packet to the client for a specified charge category.
  description: 'The SendSetSpellCharges method is responsible for transmitting updated
    spell charge information to the player''s client. This method is typically used
    in conjunction with spell cooldowns and resource management systems within TrinityCore''s
    spell handling framework. It allows the server to synchronize the client''s view
    of spell charges, which may include cooldown timers, usage limits, or other charge-based
    mechanics such as those found in abilities like Shadow Word: Death or various
    hunter pet abilities. The method takes a charge category ID and a collection of
    charge values, updating the client''s UI accordingly.'
  parameters:
  - name: chargeCategoryId
    description: An integer identifier representing the spell charge category. This
      ID maps to a specific set of charges or cooldowns in the client's spell system.
  - name: chargeCollection
    description: A reference to an integer value that represents the current state
      or count of charges for the specified category. The actual value may represent
      remaining charges, cooldown time, or other charge-related data depending on
      the context.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'SpellHistory* spellHistory = player->GetSpellHistory();

      spellHistory->SendSetSpellCharges(12345, 3); // Update charges for category
      12345 to 3'
    language: cpp
  - title: Updating Charge Category Based on Spell Logic
    code: "void Player::UpdateSpellCharge(int categoryId, int newCharges)\n{\n   \
      \ if (GetSpellHistory())\n    {\n        GetSpellHistory()->SendSetSpellCharges(categoryId,\
      \ newCharges);\n    }\n}"
    language: cpp
  notes: This method is part of the internal spell history management system and should
    only be called when charge state changes need to be synchronized with the client.
    It does not perform any validation on the input parameters, so callers must ensure
    that the provided values are valid before invoking this method.
  warnings: Improper usage may result in incorrect UI display or unexpected behavior
    for spell charges. Ensure that the chargeCategoryId corresponds to a valid category
    defined in the game's spell system and that the chargeCollection value accurately
    reflects the current state of the charges.
  related:
  - SpellHistory::GetCharge
  - SpellHistory::SetCharge
  - SpellHistory::SendClearSpellCharges
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T09:39:05.267032'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
