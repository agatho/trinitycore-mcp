api:
  class: QuestManager
  method: SelectBestQuest
  signature: uint32 QuestManager::SelectBestQuest(const int & availableQuests)
documentation:
  brief: Selects the most appropriate quest from a list of available quests based
    on player criteria and quest flags.
  description: The SelectBestQuest method determines the optimal quest for a player
    to accept from a set of available quests. It evaluates various factors such as
    quest level requirements, player's current level, quest flags (e.g., daily, repeatable),
    and quest completion status. This method is typically invoked when a player interacts
    with a quest giver who has multiple available quests. The selection process prioritizes
    quests that are suitable for the player's level, not yet completed, and aligns
    with the player's current questing progression. The method ensures that players
    receive quests that provide appropriate challenge and progression without overwhelming
    them or offering quests they cannot complete.
  parameters:
  - name: availableQuests
    description: Reference to an integer representing the count or identifier of available
      quests in the player's quest log or quest giver's offer. This parameter likely
      serves as a filter or index to determine which quests should be considered for
      selection.
  returns: Returns the unique identifier (ID) of the selected quest. If no suitable
    quest is found, it may return 0 or a special invalid quest ID value indicating
    that no valid quest could be chosen based on current criteria.
  examples:
  - title: Basic Quest Selection
    code: "uint32 bestQuestId = player->GetQuestManager().SelectBestQuest(availableQuests);\n\
      if (bestQuestId != 0)\n{\n    // Proceed with accepting the selected quest\n\
      \    player->AddQuest(bestQuestId);\n}"
    language: cpp
  - title: Using Quest Selection in Quest Giver Interaction
    code: "void OnGossipHello(Player* player, Creature* creature)\n{\n    uint32 availableQuests\
      \ = 5; // Example count of available quests\n    uint32 selectedQuestId = player->GetQuestManager().SelectBestQuest(availableQuests);\n\
      \    if (selectedQuestId != 0)\n    {\n        AddGossipItemFor(player, GOSSIP_ICON_QUEST,\
      \ \"Accept Quest\", GOSSIP_SENDER_MAIN, selectedQuestId);\n    }\n    SendGossipMenuFor(player,\
      \ DEFAULT_GOSSIP_MESSAGE, creature->GetGUID());\n}"
    language: cpp
  notes: This method likely integrates with internal quest evaluation logic that considers
    player level, quest flags, and quest completion status. It may also factor in
    reputation requirements, faction-specific quests, or other conditional factors
    depending on the specific implementation within TrinityCore.
  warnings: Ensure that the availableQuests parameter correctly reflects the number
    or identifier of quests being considered. Incorrect usage might lead to selecting
    an invalid quest ID or skipping appropriate quest selection logic. This method
    should only be called when there are valid quests to choose from.
  related:
  - GetAvailableQuests
  - CanTakeQuest
  - AddQuest
  - CompleteQuest
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T00:01:18.825558'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
