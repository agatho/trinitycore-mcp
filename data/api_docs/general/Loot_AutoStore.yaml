api:
  class: Loot
  method: AutoStore
  signature: bool Loot::AutoStore(Player * player, uint8 bag, uint8 slot, bool broadcast,
    bool createdByPlayer)
documentation:
  brief: Automatically stores loot items into a player's inventory, optionally broadcasting
    the result.
  description: The AutoStore method is responsible for automatically placing loot
    items into a player's inventory. It handles the logic of determining where to
    place items based on bag and slot parameters, and can optionally broadcast the
    loot acquisition to the player. This method is typically used during loot distribution
    processes in World of Warcraft, such as when a player kills a mob or opens a container.
    The method respects inventory limits and item stacking rules, ensuring that items
    are placed appropriately within the player's available inventory space.
  parameters:
  - name: player
    description: Pointer to the Player object whose inventory will receive the loot
      items. Must be a valid player instance.
  - name: bag
    description: The bag slot index where the item should be placed. A value of 0
      indicates the main backpack, while other values represent specific bag slots
      (e.g., 1-4 for equipped bags).
  - name: slot
    description: The slot index within the specified bag where the item will be placed.
      A value of 255 indicates automatic placement.
  - name: broadcast
    description: Boolean flag indicating whether to broadcast the loot acquisition
      to the player (true) or not (false).
  - name: createdByPlayer
    description: Boolean flag indicating whether the loot was created by the player
      (true) or by the game system (false). Affects certain loot rules and permissions.
  returns: Returns true if the loot items were successfully stored in the player's
    inventory, false otherwise. The method may return false if there is insufficient
    space or if an error occurs during the storage process.
  examples:
  - title: Basic AutoStore Usage
    code: "Player* player = ...;\nLoot loot = ...;\nbool success = loot.AutoStore(player,\
      \ 0, 255, true, true);\nif (success) {\n    // Loot was successfully stored\n\
      }"
    language: cpp
  - title: AutoStore with Specific Bag and Slot
    code: "Player* player = ...;\nLoot loot = ...;\nbool success = loot.AutoStore(player,\
      \ 1, 3, false, true);\nif (success) {\n    // Loot stored in bag 1, slot 3 without\
      \ broadcasting\n}"
    language: cpp
  notes: This method is part of the core loot distribution system in TrinityCore.
    It's commonly called during the loot processing phase after a mob is killed or
    a container is opened. The method handles item stacking and inventory space checks
    internally, making it safe to use without prior validation. Performance-wise,
    this method should be used carefully in high-frequency scenarios as it may involve
    multiple database operations for inventory updates.
  warnings: Ensure that the player pointer is valid before calling this method, as
    passing a null pointer will result in undefined behavior. Also, be aware that
    automatic placement (slot = 255) might not always place items optimally depending
    on current inventory state and item properties.
  related:
  - Loot::AddItem
  - Loot::FillLoot
  - Player::AddItem
  - Loot::StoreItem
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T10:10:42.243592'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
