api:
  class: CharmInfo
  method: GetStayPosition
  signature: void CharmInfo::GetStayPosition(float & x, float & y, float & z)
documentation:
  brief: Retrieves the stay position coordinates for a charmed unit.
  description: The GetStayPosition method retrieves the x, y, and z coordinates of
    the position where a charmed unit should remain while under the control of a player.
    This position is typically set when the unit is charmed and serves as a reference
    point for maintaining distance or returning to a specific location. The method
    populates the provided float references with the current stay position values.
    This functionality is essential for proper charm behavior in World of Warcraft's
    TrinityCore implementation, ensuring that charmed creatures do not wander too
    far from their owner.
  parameters: []
  returns: null
  examples:
  - title: Retrieve and use stay position coordinates
    code: "float x, y, z;\ncharmInfo->GetStayPosition(x, y, z);\n// Use the coordinates\
      \ to maintain distance or teleport back\nPlayer* player = unit->GetCharmer();\n\
      if (player)\n{\n    player->TeleportTo(player->GetMapId(), x, y, z, player->GetOrientation());\n\
      }"
    language: cpp
  notes: This method is typically used in conjunction with charm-related AI behavior
    and should only be called on units that are currently charmed. The stay position
    may be updated by various game events such as teleportation or movement commands
    issued to the charmer.
  warnings: Calling this method on a unit that is not charmed may result in undefined
    behavior or incorrect coordinate values. Ensure proper validation of the charmed
    state before calling this method.
  related:
  - SetStayPosition
  - GetCharmer
  - IsCharm
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T11:51:39.870712'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
