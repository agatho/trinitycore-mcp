api:
  class: SpellHistory
  method: WritePacket
  signature: void SpellHistory::WritePacket(WorldPackets::Pet::PetSpells * petSpells)
    const
documentation:
  brief: Writes spell history data into a pet spells packet for transmission to the
    client.
  description: The WritePacket method serializes the spell history information of
    a pet into a WorldPackets::Pet::PetSpells packet structure. This method is typically
    invoked when updating a pet's spell list or status to the client, ensuring that
    the client has the most current spell data for the pet. It handles the internal
    representation of spells and their cooldowns, translating them into a format suitable
    for network transmission. The method does not perform any external I/O operations
    but prepares data for sending over the network.
  parameters:
  - name: petSpells
    description: A pointer to a WorldPackets::Pet::PetSpells object where the spell
      history data will be written. This packet structure contains fields for spell
      IDs, cooldowns, and other pet spell-related information.
  returns: null
  examples:
  - title: Writing Pet Spell History to Packet
    code: 'SpellHistory spellHistory;

      WorldPackets::Pet::PetSpells petSpellsPacket;

      spellHistory.WritePacket(&petSpellsPacket);'
    language: cpp
  notes: This method assumes that the provided packet object is properly initialized
    and ready to receive data. It is typically called during pet updates or when sending
    pet-related packets to clients, such as when a pet's spellbook changes.
  warnings: null
  related:
  - SpellHistory::LoadFromDB
  - SpellHistory::GetSpellCooldown
  - SpellHistory::AddSpellCooldown
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T01:54:20.438884'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
