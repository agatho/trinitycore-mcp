api:
  class: MonkAI
  method: GetOptimalRange
  signature: float MonkAI::GetOptimalRange(int * target)
documentation:
  brief: Calculates and returns the optimal attack range for a Monk AI unit based
    on target distance and combat mechanics.
  description: The GetOptimalRange method determines the ideal distance at which a
    Monk AI unit should engage its target during combat. This calculation considers
    various factors such as the monk's abilities, weapon type, and target positioning
    to ensure effective combat performance. The returned float value represents the
    distance in yards where the monk should maintain engagement with the target for
    maximum damage output or ability usage efficiency. This method is typically called
    internally by the AI system when determining movement behavior and attack timing.
  parameters:
  - name: target
    description: Pointer to an integer representing the target's identifier (GUID).
      If null, the method may return default range or trigger error handling.
  returns: A float value indicating the optimal combat range in yards. Returns 0.0f
    if no valid target is provided or if calculation fails.
  examples:
  - title: Basic usage to determine optimal monk range
    code: "int targetGuid = 12345;\nfloat optimalRange = monkAI->GetOptimalRange(&targetGuid);\n\
      if (optimalRange > 0.0f)\n{\n    // Use the calculated range for movement or\
      \ attack decisions\n    printf(\"Optimal range: %.2f yards\\n\", optimalRange);\n\
      }"
    language: cpp
  - title: Using GetOptimalRange in AI decision making
    code: "int* target = &currentTargetGuid;\nfloat range = monkAI->GetOptimalRange(target);\n\
      if (range > 0.0f)\n{\n    float currentDistance = me->GetDistance2d(target);\n\
      \    if (currentDistance > range)\n    {\n        // Move closer to target\n\
      \        me->GetMotionMaster()->MoveChase(target, range);\n    }\n    else if\
      \ (currentDistance < range * 0.8f)\n    {\n        // Move away from target\n\
      \        me->GetMotionMaster()->MoveBackward(range * 0.8f);\n    }\n}"
    language: cpp
  notes: This method likely incorporates internal monk class mechanics such as ability
    cooldowns, range limitations of special attacks, and positioning requirements
    for certain abilities like Spinning Crane Kick or Ring of Peace. The implementation
    may vary based on the specific monk specialization (Windwalker, Mistweaver, Brewmaster)
    and current combat state.
  warnings: The target parameter must be a valid pointer to an integer GUID; passing
    null or invalid pointers can lead to undefined behavior or incorrect range calculations.
    Always validate the return value before using it in movement logic.
  related:
  - GetAttackDistance
  - GetNextSpell
  - UpdateAI
  - CanCastSpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T01:40:19.878972'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
