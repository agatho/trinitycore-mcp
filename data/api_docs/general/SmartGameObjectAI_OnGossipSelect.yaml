api:
  class: SmartGameObjectAI
  method: OnGossipSelect
  signature: bool SmartGameObjectAI::OnGossipSelect(Player * player, uint32 menuId,
    uint32 gossipListId)
documentation:
  brief: Handles player selection from a gossip menu for a smart game object AI.
  description: The OnGossipSelect method is invoked when a player selects an option
    from a gossip menu associated with a smart game object. This method processes
    the selected menu ID and gossip list ID to determine the appropriate action, such
    as triggering quest events, opening further menus, or executing custom scripts.
    It integrates with TrinityCore's smart AI system to provide dynamic interaction
    behavior for game objects like quest givers, vendors, or interactive NPCs. The
    method returns true if the interaction was successfully handled, false otherwise.
  parameters:
  - name: player
    description: Pointer to the Player object who selected the gossip option. This
      represents the interacting player character.
  - name: menuId
    description: The unique identifier of the gossip menu that was displayed to the
      player. Used to distinguish between different menus for the same game object.
  - name: gossipListId
    description: The identifier of the specific option selected by the player within
      the gossip menu. Corresponds to entries in the gossip menu's list of options.
  returns: Returns true if the gossip selection was successfully processed and handled
    by the AI logic; returns false if no action was taken or an error occurred during
    processing.
  examples:
  - title: Basic Gossip Selection Handling
    code: "bool SmartGameObjectAI::OnGossipSelect(Player* player, uint32 menuId, uint32\
      \ gossipListId)\n{\n    if (menuId == 1 && gossipListId == 1)\n    {\n     \
      \   // Handle quest accept\n        player->PlayerTalkClass->SendQuestGiverQuestDetails(questId);\n\
      \        return true;\n    }\n    return false;\n}"
    language: cpp
  - title: Advanced Gossip Menu Navigation
    code: "bool SmartGameObjectAI::OnGossipSelect(Player* player, uint32 menuId, uint32\
      \ gossipListId)\n{\n    switch (gossipListId)\n    {\n        case 1:\n    \
      \        // Open vendor interface\n            player->GetSession()->SendListInventory(me->GetGUID());\n\
      \            break;\n        case 2:\n            // Trigger custom script\n\
      \            DoScriptText(SAY_CUSTOM_SCRIPT, me);\n            break;\n    \
      \    default:\n            return false;\n    }\n    return true;\n}"
    language: cpp
  notes: This method is part of the smart AI system in TrinityCore and should be overridden
    in custom game object AI implementations. It's called after a player makes a selection
    from a gossip menu, so it's important to ensure that all required data is available
    before processing. The method works in conjunction with other gossip-related methods
    such as OnGossipHello and OnGossipSelectCode.
  warnings: Ensure that the menuId and gossipListId parameters are validated against
    expected values to prevent unexpected behavior or exploits. Avoid performing heavy
    operations within this method as it's called synchronously during player interaction.
    Be cautious when using player->PlayerTalkClass, as improper handling can lead
    to client-side UI issues.
  related:
  - OnGossipHello
  - OnGossipSelectCode
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T02:24:45.898493'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
