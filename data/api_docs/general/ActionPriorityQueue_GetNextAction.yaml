api:
  class: ActionPriorityQueue
  method: GetNextAction
  signature: bool ActionPriorityQueue::GetNextAction(PrioritizedAction & action)
documentation:
  brief: Retrieves the highest priority action from the queue and assigns it to the
    provided action reference.
  description: The GetNextAction method is responsible for extracting the next action
    with the highest priority from an internal priority queue structure. It populates
    the provided PrioritizedAction reference with the retrieved action data, if available.
    This method is typically used in AI behavior systems where actions are prioritized
    and executed in order of importance. The method returns a boolean value indicating
    whether an action was successfully retrieved. If no actions are present in the
    queue, the method will return false and leave the action parameter unchanged.
    This functionality is essential for implementing decision-making logic in NPC
    AI systems within TrinityCore.
  parameters: []
  returns: Returns true if an action was successfully retrieved from the queue and
    assigned to the provided action reference; returns false if the queue is empty
    or no valid action exists.
  examples:
  - title: Basic Usage in AI Context
    code: "PrioritizedAction nextAction;\nif (actionQueue.GetNextAction(nextAction))\
      \ {\n    // Process the retrieved action\n    nextAction.Execute();\n} else\
      \ {\n    // No actions available, handle accordingly\n    // e.g., idle behavior\
      \ or re-evaluation\n}"
    language: cpp
  notes: This method modifies the internal state of the ActionPriorityQueue by removing
    the retrieved action from the queue. It is designed to be thread-safe for single-reader
    scenarios, but concurrent access from multiple threads should be handled with
    appropriate synchronization mechanisms.
  warnings: Ensure that the PrioritizedAction reference passed to this method is properly
    initialized before calling, as the method will overwrite its contents without
    checking for valid state. Failure to check the return value may lead to processing
    invalid or uninitialized action data.
  related:
  - ActionPriorityQueue::AddAction
  - ActionPriorityQueue::IsEmpty
  - ActionPriorityQueue::Clear
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T17:50:19.345451'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
