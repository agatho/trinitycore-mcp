api:
  class: TradeManager
  method: ProcessTradeCompletion
  signature: void TradeManager::ProcessTradeCompletion()
documentation:
  brief: Completes a trade between two players by finalizing item transfers and updating
    player states.
  description: The ProcessTradeCompletion method finalizes an ongoing trade session
    between two players in World of Warcraft. It handles the transfer of items from
    one player's trade slot to another, updates inventory counts, removes traded items
    from the trade windows, and ensures both players' states are properly synchronized.
    This method is typically invoked when both players have accepted the trade and
    are ready to complete the transaction. The method performs necessary validation
    checks to ensure the trade is valid before proceeding with item transfers.
  parameters: []
  returns: null
  examples:
  - title: Basic Trade Completion
    code: 'TradeManager* tradeMgr = sObjectAccessor->GetTradeManager();

      tradeMgr->ProcessTradeCompletion();'
    language: cpp
  notes: This method should only be called when both players have confirmed their
    trade and the trade window is in a valid state for completion. The method internally
    handles synchronization between the two players' trade sessions and ensures proper
    cleanup of temporary trade data.
  warnings: Calling this method outside of an active trade session may result in undefined
    behavior or crashes. Ensure that all preconditions for trade completion are met
    before invoking this method.
  related:
  - TradeManager::ProcessTradeAccept
  - TradeManager::ProcessTradeCancel
  - TradeManager::UpdateTrade
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T23:14:20.129151'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
