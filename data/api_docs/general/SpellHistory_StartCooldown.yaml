api:
  class: SpellHistory
  method: StartCooldown
  signature: void SpellHistory::StartCooldown(const SpellInfo * spellInfo, int itemId,
    Spell * spell, bool onHold, int forcedCooldown)
documentation:
  brief: Initiates a cooldown period for a specified spell or item, preventing its
    use until the cooldown expires.
  description: The StartCooldown method is responsible for initiating a cooldown period
    on a spell or item within the TrinityCore framework. This method ensures that
    players cannot immediately re-use abilities or items after their initial activation,
    which is essential for balancing gameplay mechanics such as mana costs, resource
    management, and ability timing. The method accepts various parameters to customize
    the cooldown behavior including forced cooldowns, hold states, and specific spell/item
    information. It integrates with the SpellHistory system to track and manage active
    cooldowns across different spells and items.
  parameters:
  - name: spellInfo
    description: Pointer to the SpellInfo structure containing details about the spell
      being cooled down. Can be null if itemId is specified.
  - name: itemId
    description: Identifier for the item that is initiating the cooldown. Set to 0
      if using spellInfo instead.
  - name: spell
    description: Pointer to the Spell object associated with this cooldown. May be
      null in some cases.
  - name: onHold
    description: Boolean flag indicating whether the cooldown should be placed on
      hold, typically used for delayed activation or conditional cooldowns.
  - name: forcedCooldown
    description: Integer value specifying a fixed cooldown duration in milliseconds.
      If set to 0, the method uses default cooldown values from spellInfo or itemId.
  returns: null
  examples:
  - title: Basic Spell Cooldown Start
    code: 'SpellInfo* spellInfo = sSpellMgr->GetSpellInfo(12345);

      SpellHistory::StartCooldown(spellInfo, 0, nullptr, false, 0);'
    language: cpp
  - title: Item Cooldown with Forced Duration
    code: SpellHistory::StartCooldown(nullptr, 67890, spell, true, 30000);
    language: cpp
  notes: This method interacts directly with the SpellHistory system's internal cooldown
    tracking mechanism. It is typically called during spell or item activation events
    to register a cooldown period. The method does not perform any validation on input
    parameters beyond basic null checks, so callers should ensure valid inputs are
    provided.
  warnings: Improper usage of this method can lead to incorrect cooldown behavior,
    potentially causing exploits or game imbalance. Always verify that spellInfo or
    itemId is valid before calling this function. Using a forcedCooldown value of
    zero may result in default cooldowns being applied, which might not match expected
    gameplay mechanics.
  related:
  - SpellHistory::GetRemainingCooldown
  - SpellHistory::HasCooldown
  - SpellHistory::ClearCooldown
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T01:54:47.940102'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
