api:
  class: ScriptMgr
  method: OnPlayerUpdateZone
  signature: void ScriptMgr::OnPlayerUpdateZone(Player * player, uint32 newZone, uint32
    newArea)
documentation:
  brief: Invoked when a player's zone or area is updated during gameplay.
  description: The OnPlayerUpdateZone method is a callback function in the ScriptMgr
    class that gets triggered whenever a player's current zone or area changes in
    the game world. This event occurs when the player moves from one geographical
    region to another, such as entering a new zone or area within the game map. The
    method provides developers with an opportunity to execute custom logic or modify
    player behavior based on their new location. It is commonly used for triggering
    zone-specific events, updating quest states, applying zone-based buffs or debuffs,
    or managing player interactions tied to specific regions of the game world.
  parameters:
  - name: player
    description: Pointer to the Player object whose zone or area has been updated.
      This parameter represents the affected player instance in the game world.
  - name: newZone
    description: The unique identifier of the new zone that the player has entered.
      Zone IDs are defined within the TrinityCore database and correspond to specific
      geographical regions in the game world.
  - name: newArea
    description: The unique identifier of the new area that the player has entered.
      Area IDs are also defined in the TrinityCore database and represent smaller
      subdivisions within zones, such as cities or battlegrounds.
  returns: null
  examples:
  - title: Basic Zone Update Handler
    code: "void OnPlayerUpdateZone(Player* player, uint32 newZone, uint32 newArea)\n\
      {\n    if (newZone == 1411) // Example: Dalaran\n    {\n        player->AddAura(12345,\
      \ player); // Apply a custom aura in Dalaran\n    }\n}"
    language: cpp
  - title: Area-Based Quest State Update
    code: "void OnPlayerUpdateZone(Player* player, uint32 newZone, uint32 newArea)\n\
      {\n    if (newArea == 1581) // Example: The Sepulcher\n    {\n        if (player->GetQuestStatus(7890)\
      \ == QUEST_STATUS_INCOMPLETE)\n        {\n            player->CompleteQuest(7890);\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method is called from the core game loop during player movement updates.
    It's important to note that this event may fire multiple times in quick succession
    when a player rapidly moves through zones or areas. Developers should ensure their
    implementations are efficient and avoid heavy computations within this callback
    to prevent performance degradation.
  warnings: Avoid performing blocking operations or complex database queries within
    this method, as it can cause lag or stuttering in the game. Also, be cautious
    about modifying player state directly in this handler without proper validation,
    as it might lead to unexpected behavior or exploits.
  related:
  - OnPlayerEnterWorld
  - OnPlayerLeaveWorld
  - OnPlayerUpdateArea
metadata:
  confidence: 0.95
  generated_at: '2025-10-31T18:09:25.819909'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
