api:
  class: TargetScanner
  method: CalculateEngageDistance
  signature: float TargetScanner::CalculateEngageDistance(Unit * target) const
documentation:
  brief: Calculates the engage distance for a target unit based on AI behavior and
    combat mechanics.
  description: The CalculateEngageDistance method determines the optimal distance
    at which a unit should begin engaging with a target during combat. This calculation
    takes into account various factors such as the unit's current AI state, weapon
    range, spell casting capabilities, and target mobility. The returned value represents
    the distance in yards at which the AI system will initiate melee or ranged attacks
    depending on the unit's configured behavior. This method is crucial for determining
    when a creature or player character should start combat actions based on their
    positioning relative to the target.
  parameters: []
  returns: Returns a float value representing the engage distance in yards. This distance
    indicates how close a unit must be to its target before initiating combat actions,
    with values typically ranging from 0.0 to several hundred yards depending on the
    unit's AI configuration and abilities.
  examples:
  - title: Basic usage in AI behavior
    code: "float engageDistance = scanner.CalculateEngageDistance(targetUnit);\nif\
      \ (engageDistance > 0.0f)\n{\n    // Begin combat engagement logic\n    // Use\
      \ engageDistance to determine attack timing\n}"
    language: cpp
  - title: Integration with AI decision making
    code: "class MyAI : public CreatureAI\n{\npublic:\n    void UpdateAI(uint32 diff)\
      \ override\n    {\n        if (!UpdateVictim())\n            return;\n     \
      \   \n        float distance = me->GetTargetScanner().CalculateEngageDistance(me->GetVictim());\n\
      \        if (me->GetDistance(me->GetVictim()) <= distance)\n        {\n    \
      \        // Execute combat behavior\n            DoMeleeAttackIfReady();\n \
      \       }\n    }\n};"
    language: cpp
  notes: This method is typically called during AI update cycles and may return different
    values based on dynamic conditions such as target movement, spell cooldowns, or
    combat state changes. The calculation considers both melee and ranged attack capabilities
    of the unit, making it suitable for determining optimal engagement ranges in mixed
    combat scenarios.
  warnings: The returned distance value should not be used directly for movement calculations
    without considering additional factors like obstacle avoidance or pathfinding
    constraints. Also, this method may return zero if no valid engage distance can
    be calculated, which typically indicates that the unit is in an invalid state
    or cannot engage with the target.
  related:
  - GetTargetScanner
  - UpdateVictim
  - GetDistance
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T10:59:20.396558'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
