api:
  class: Unit
  method: GetCurrentSpell
  signature: Spell * Unit::GetCurrentSpell(uint32 spellType) const
documentation:
  brief: Returns the current spell being cast by the unit.
  description: This method retrieves the spell currently being cast by the Unit object,
    providing access to the active spell instance. It is commonly used in spell handling
    and game mechanics to determine what spell is currently executing or being prepared.
    The method returns a pointer to the Spell object that represents the current spell
    being cast, which can be null if no spell is actively being cast. This functionality
    is essential for implementing spell-based interactions, cooldown tracking, and
    spell casting behavior within TrinityCore.
  parameters: []
  returns: Returns a pointer to the Spell object currently being cast by the unit.
    If no spell is being cast, the method returns nullptr. The returned spell object
    contains information about the spell being executed, including its effects, duration,
    and target.
  examples:
  - title: Basic usage example
    code: "Spell *currentSpell = unit->GetCurrentSpell();\nif (currentSpell != nullptr)\n\
      {\n    // Handle current spell\n    // ... logic here ...\n}"
    language: cpp
  notes: The method is typically used in conjunction with other spell-related methods
    such as GetSpellInfo() or GetSpellCastTime(). It's important to note that this
    method only returns the active spell being cast, not necessarily the spell that
    was just completed or the one that will be cast next. Performance considerations
    include checking for null pointer before accessing the returned Spell object.
  warnings: Care must be taken when using this method as it may return nullptr if
    no spell is currently being cast. Additionally, accessing the returned Spell object
    after a spell completes can lead to memory access violations if not properly handled.
    Avoid using this method in contexts where the spell might have already completed
    or been removed from memory.
  related:
  - GetSpellInfo
  - GetSpellCastTime
  - GetSpellCooldown
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T13:18:39.345608'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
