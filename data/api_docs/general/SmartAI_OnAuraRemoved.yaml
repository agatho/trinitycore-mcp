api:
  class: SmartAI
  method: OnAuraRemoved
  signature: void SmartAI::OnAuraRemoved(const int * aurApp)
documentation:
  brief: Handles the event when an aura is removed from the AI's target
  description: The OnAuraRemoved method is a callback function in the SmartAI class
    that is invoked when an aura effect is removed from the current target of the
    AI. This method allows for custom behavior to be executed upon aura removal, such
    as triggering additional actions, resetting states, or modifying the AI's decision-making
    process. It is part of the event-driven system that enables dynamic and responsive
    AI behavior in World of Warcraft creatures controlled by SmartAI. The method receives
    a pointer to an aura application object which contains information about the removed
    aura.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura that
      was removed. This parameter provides access to aura properties and can be used
      to determine which specific aura was removed.
  returns: void
  examples:
  - title: Basic aura removal handling
    code: "void SmartAI::OnAuraRemoved(const int* aurApp)\n{\n    if (aurApp && *aurApp\
      \ == 12345) // Example aura ID\n    {\n        // Trigger custom behavior when\
      \ specific aura is removed\n        DoAction(ACTION_AURA_REMOVED);\n    }\n}"
    language: cpp
  - title: Advanced aura removal with target state modification
    code: "void SmartAI::OnAuraRemoved(const int* aurApp)\n{\n    if (!aurApp) return;\n\
      \    \n    // Check if the removed aura was a debuff\n    if (GetAuraType(*aurApp)\
      \ == AURA_TYPE_DEBUFF)\n    {\n        // Reset combat state or re-evaluate\
      \ target\n        SetCombatMode(COMBAT_MODE_NORMAL);\n        AttackStart(GetVictim());\n\
      \    }\n}"
    language: cpp
  notes: This method is part of the SmartAI event system and should be overridden
    in custom AI implementations. The aurApp parameter may be null, so proper null
    checking is recommended. The method is called from within the game's core aura
    removal logic, making it suitable for immediate response to aura changes.
  warnings: Ensure that any operations performed in this method do not cause recursion
    or infinite loops. Be cautious when modifying AI state or target selection during
    aura removal events, as this could lead to unexpected behavior or crashes if not
    handled carefully.
  related:
  - OnAuraApply
  - OnSpellHit
  - OnCombatStart
  - OnCombatEnd
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T02:50:16.757395'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
