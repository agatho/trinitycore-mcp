api:
  class: BeastMasteryPetManager
  method: EnsurePetActive
  signature: void BeastMasteryPetManager::EnsurePetActive(int * target)
documentation:
  brief: Ensures that a beast mastery pet is active and ready for use.
  description: The EnsurePetActive method is responsible for verifying and activating
    a player's beast mastery pet if it is not already active. This method typically
    checks the current state of the pet, and if necessary, summons or reactivates
    it to ensure it is available for the player's use. It plays a key role in maintaining
    the integrity of the beast mastery ability system within World of Warcraft's TrinityCore
    framework, particularly when abilities that require an active pet are triggered.
    The method may also perform validation checks on the target parameter to ensure
    proper usage.
  parameters:
  - name: target
    description: Pointer to an integer representing the target entity for the pet's
      action. This value is used to validate or set the current target of the active
      beast mastery pet.
  returns: null
  examples:
  - title: Basic usage in a spell handler
    code: "void HandleBeastMasterySpell(Unit* caster) {\n    BeastMasteryPetManager\
      \ petManager;\n    int targetGuid = caster->GetVictim() ? caster->GetVictim()->GetGUID().GetRawValue()\
      \ : 0;\n    petManager.EnsurePetActive(&targetGuid);\n}"
    language: cpp
  - title: Usage with error handling
    code: "void ActivateBeastPet(Unit* player) {\n    BeastMasteryPetManager manager;\n\
      \    int target = 0;\n    if (player->GetVictim()) {\n        target = static_cast<int>(player->GetVictim()->GetGUID().GetRawValue());\n\
      \    }\n    manager.EnsurePetActive(&target);\n}"
    language: cpp
  notes: This method assumes that the player has a valid beast mastery pet available
    and that the target parameter is properly initialized. It may internally check
    for pet existence, summon state, and validity of the target before performing
    activation.
  warnings: Improper handling of the target pointer could lead to undefined behavior
    or crashes. Ensure that the target value is either valid or set to zero before
    calling this method.
  related:
  - BeastMasteryPetManager::GetActivePet
  - BeastMasteryPetManager::SummonPet
  - BeastMasteryPetManager::DespawnPet
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T08:40:42.042714'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
