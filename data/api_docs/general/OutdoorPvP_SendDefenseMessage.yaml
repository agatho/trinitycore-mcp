api:
  class: OutdoorPvP
  method: SendDefenseMessage
  signature: void OutdoorPvP::SendDefenseMessage(int zoneId, int id)
documentation:
  brief: Sends a defense message to players in the specified outdoor PvP zone.
  description: The SendDefenseMessage method is used within the OutdoorPvP system
    to broadcast a defensive notification or alert to all players currently active
    in a specific outdoor PvP zone. This method facilitates communication of important
    game events such as territory defenses, incoming threats, or strategic updates
    that affect player actions within the zone. The implementation likely utilizes
    the WorldSession system to deliver messages directly to affected players' clients.
    This method is typically invoked during outdoor PvP event triggers or when defensive
    states change in a zone.
  parameters:
  - name: zoneId
    description: The unique identifier of the outdoor PvP zone where the defense message
      should be sent. This corresponds to the ZoneID used internally by TrinityCore
      for outdoor PvP areas.
  - name: id
    description: An identifier that specifies the type or context of the defense message
      being sent. This value is used to determine which specific message template
      or notification should be displayed to players.
  returns: null
  examples:
  - title: Basic Usage in Outdoor PvP Event
    code: "void MyOutdoorPvP::OnPlayerEnter(Player* player)\n{\n    SendDefenseMessage(1234,\
      \ 567);\n}"
    language: cpp
  - title: Sending Defense Alert During Territory Capture
    code: "void OutdoorPvP::HandleTerritoryCapture(int zoneId, int captureType)\n\
      {\n    // Notify players of the capture event\n    SendDefenseMessage(zoneId,\
      \ captureType);\n}"
    language: cpp
  notes: This method likely relies on internal message queues or broadcast systems
    to efficiently deliver notifications to multiple players. The zoneId parameter
    must correspond to a valid outdoor PvP zone registered with the system, otherwise
    the message may not be delivered. Implementation details suggest this method is
    part of a larger event-driven system where defensive states are communicated across
    the game world.
  warnings: Incorrect zoneId or id values may result in failed message delivery or
    unexpected behavior. Ensure that zone identifiers match those defined in the outdoor
    PvP configuration files. This method should not be called from within critical
    sections or high-frequency loops to avoid performance degradation.
  related:
  - OutdoorPvP::HandlePlayerEnter
  - OutdoorPvP::HandlePlayerLeave
  - OutdoorPvP::SendUpdateWorldState
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T07:07:30.897246'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
