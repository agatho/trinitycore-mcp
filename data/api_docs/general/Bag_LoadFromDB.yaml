api:
  class: Bag
  method: LoadFromDB
  signature: bool Bag::LoadFromDB(int guid, int owner_guid, int * fields, int entry)
documentation:
  brief: Loads bag data from the database using the provided GUID and owner information.
  description: The LoadFromDB method initializes a Bag object by loading its data
    from the database. It retrieves all relevant fields associated with the bag identified
    by the given GUID, ensuring that the bag's properties such as its entry type,
    owner, and internal state are correctly populated. This method is typically invoked
    during player login or when a bag needs to be reconstructed in memory from saved
    database records. The method requires valid database connection and proper field
    indexing to function correctly.
  parameters:
  - name: guid
    description: The unique identifier (GUID) of the bag being loaded from the database.
  - name: owner_guid
    description: The GUID of the player who owns this bag.
  - name: fields
    description: Pointer to an array of database fields containing bag data, such
      as item entries, counts, and other attributes.
  - name: entry
    description: The entry ID of the bag type (e.g., 0 for default bags, or specific
      bag item IDs).
  returns: Returns true if the bag data was successfully loaded from the database;
    otherwise returns false if loading fails due to invalid GUID, missing data, or
    database errors.
  examples:
  - title: Basic usage of LoadFromDB
    code: "Bag* myBag = new Bag();\nint guid = 12345;\nint owner_guid = 67890;\nint\
      \ fields[10]; // Assume pre-filled with DB data\nint entry = 1001;\nbool success\
      \ = myBag->LoadFromDB(guid, owner_guid, fields, entry);\nif (success) {\n  \
      \  // Bag loaded successfully\n}"
    language: cpp
  notes: This method assumes that the database connection is already established and
    that the fields array contains properly indexed data matching the expected schema
    for bag records. It does not perform any validation on the GUID or owner_guid
    beyond basic existence checks.
  warnings: Calling LoadFromDB with an invalid GUID or corrupted field data may lead
    to undefined behavior or crashes. Ensure all parameters are validated before invoking
    this method.
  related:
  - SaveToDB
  - GetGUID
  - SetOwner
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T13:10:31.429156'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
