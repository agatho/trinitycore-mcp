api:
  class: ShamanAI
  method: HandleLavaLash
  signature: bool ShamanAI::HandleLavaLash(int * target)
documentation:
  brief: Handles the Lava Lash spell execution logic for a Shaman AI unit.
  description: The HandleLavaLash method implements the core logic for the Shaman's
    Lava Lash ability, which is a melee attack that deals fire damage and has a chance
    to reset the cooldown of the Shaman's main hand weapon. This method determines
    whether the spell can be cast based on various conditions such as target validity,
    mana availability, and cooldown status. It also manages the execution of the spell
    effect and updates the AI state accordingly. The method returns true if the spell
    was successfully handled (either cast or skipped due to conditions), and false
    if the spell could not be executed.
  parameters:
  - name: target
    description: Pointer to an integer representing the target's ID. This parameter
      is used to identify which unit the Lava Lash should be applied to, or NULL if
      no valid target exists.
  returns: Returns true if the Lava Lash spell was successfully handled (either cast
    or skipped due to conditions), false otherwise.
  examples:
  - title: Basic usage in AI update loop
    code: "if (shamanAI->HandleLavaLash(&targetId)) {\n    // Spell was handled, continue\
      \ with other actions\n    return;\n}"
    language: cpp
  - title: Integration with combat state management
    code: "void ShamanAI::UpdateAI(const uint32 diff) {\n    if (m_creature->getVictim())\
      \ {\n        if (!HandleLavaLash(&m_creature->getVictim()->GetGUID().GetRawValue()))\
      \ {\n            // Handle failure case\n            DoCastSpellIfCan(m_creature->getVictim(),\
      \ SPELL_LAVA_LASH);\n        }\n    }\n}"
    language: cpp
  notes: This method is part of the Shaman AI behavior system and should only be called
    during combat or when the AI unit has a valid target. The implementation assumes
    that the target ID provided is valid and accessible through the TrinityCore object
    manager system.
  warnings: Ensure that the target pointer passed to this method points to a valid
    unit before calling, as dereferencing an invalid pointer may cause crashes. Also
    note that this method does not perform direct damage calculation or spell casting;
    it only manages the logic flow for handling Lava Lash execution.
  related:
  - ShamanAI::HandleSpellCasting
  - ShamanAI::CanCastLavaLash
  - ShamanAI::UpdateCombatState
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T19:51:56.590517'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
