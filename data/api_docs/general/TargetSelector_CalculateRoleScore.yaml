api:
  class: TargetSelector
  method: CalculateRoleScore
  signature: float TargetSelector::CalculateRoleScore(Unit * target, const SelectionContext
    & context)
documentation:
  brief: Calculates a role-based scoring value for a target unit within the selection
    context.
  description: The CalculateRoleScore method evaluates and returns a floating-point
    score that represents how suitable a given target unit is for selection based
    on role considerations. This score is typically used in AI decision-making processes
    to prioritize targets according to their roles (e.g., tank, healer, damage dealer)
    within the context of the current selection criteria. The method takes into account
    various factors such as the target's class, specialization, and current combat
    state to determine its relevance for a specific role. This scoring mechanism is
    integral to TrinityCore's target selection algorithms, particularly in group-based
    encounters where optimal role distribution among players or NPCs is crucial.
  parameters:
  - name: target
    description: Pointer to the Unit object representing the target whose role score
      will be calculated. Must not be null.
  - name: context
    description: Reference to a SelectionContext object containing contextual information
      about the current selection state, including available roles, priorities, and
      other relevant parameters that influence scoring.
  returns: A float value representing the calculated role score for the target. Higher
    scores indicate better suitability for the desired role within the given context.
    Scores may range from negative values to positive infinity depending on implementation
    details.
  examples:
  - title: Basic usage in AI logic
    code: "float score = selector.CalculateRoleScore(targetUnit, selectionContext);\n\
      if (score > 0.5f) {\n    // Target is suitable for selected role\n}"
    language: cpp
  - title: Using role score to select best target
    code: "float bestScore = -1.0f;\nUnit* bestTarget = nullptr;\nfor (auto& unit\
      \ : units) {\n    float score = selector.CalculateRoleScore(unit, context);\n\
      \    if (score > bestScore) {\n        bestScore = score;\n        bestTarget\
      \ = unit;\n    }\n}\n// bestTarget now holds the highest scoring target"
    language: cpp
  notes: This method is part of TrinityCore's advanced AI targeting system and relies
    on accurate class and role data being available for both the target and context.
    The implementation may vary based on the specific AI module or encounter type,
    so results should be interpreted within the appropriate game state. Performance-wise,
    this method should be called sparingly in high-frequency loops due to potential
    complexity of role evaluation logic.
  warnings: Ensure that the target parameter is valid and not null before calling
    this method, as dereferencing a null pointer will result in undefined behavior.
    The SelectionContext must also be properly initialized with relevant data for
    accurate scoring; otherwise, the returned scores may be meaningless or misleading.
  related:
  - SelectTarget
  - GetRolePriority
  - EvaluateTarget
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T18:28:35.870293'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
