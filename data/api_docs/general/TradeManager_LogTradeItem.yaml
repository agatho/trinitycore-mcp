api:
  class: TradeManager
  method: LogTradeItem
  signature: void TradeManager::LogTradeItem(Item * item, bool offered)
documentation:
  brief: Logs trade item details to the database when an item is offered or received
    during a trade.
  description: The LogTradeItem method records information about items involved in
    a player's trade transaction. It logs whether the item was offered by the player
    or received from the trading partner, storing relevant data such as item GUID,
    entry ID, and trade context. This functionality supports game integrity by maintaining
    a record of all traded items, which can be used for audit purposes, preventing
    cheating, or tracking player behavior. The method is typically invoked automatically
    during trade operations within the TrinityCore framework.
  parameters:
  - name: item
    description: Pointer to the Item object being logged in the trade. Must not be
      null; the item must be valid and associated with a player's inventory or trade
      window.
  - name: offered
    description: Boolean flag indicating if the item was offered (true) or received
      (false) during the trade. Determines how the item is recorded in the trade log.
  returns: null
  examples:
  - title: Log an item offered in a trade
    code: "Item* myItem = player->GetItemByPos(INVENTORY_SLOT_BAG_0, slot);\nif (myItem)\n\
      {\n    TradeManager::LogTradeItem(myItem, true); // Item is offered\n}"
    language: cpp
  - title: Log an item received in a trade
    code: "Item* receivedItem = trader->GetItemByPos(INVENTORY_SLOT_BAG_0, slot);\n\
      if (receivedItem)\n{\n    TradeManager::LogTradeItem(receivedItem, false); //\
      \ Item is received\n}"
    language: cpp
  notes: This method likely interacts with the database to store trade logs. It may
    perform checks for valid item states and ensure that only items in a trade context
    are logged. The implementation assumes that the Item object passed has been properly
    initialized and is associated with a valid player.
  warnings: Ensure that the Item pointer is not null before calling this method, as
    passing a null pointer could lead to undefined behavior or crashes. Also, verify
    that the item is actually part of a trade transaction to avoid logging invalid
    entries.
  related:
  - TradeManager::LogTrade
  - Player::AddTradeItem
  - Player::RemoveTradeItem
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T23:14:43.667347'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
