api:
  class: BotPerformanceMonitor
  method: GetTotalMemoryUsage
  signature: uint64_t BotPerformanceMonitor::GetTotalMemoryUsage() const
documentation:
  brief: Calculates and returns the total memory usage of all bot instances managed
    by the performance monitor.
  description: The GetTotalMemoryUsage method aggregates the memory consumption across
    all active bot instances within the BotPerformanceMonitor system. This method
    provides a comprehensive view of how much memory the entire bot subsystem is currently
    consuming, which is essential for performance monitoring and resource management
    in TrinityCore environments. The calculation typically includes memory allocated
    for bot AI logic, behavior trees, action queues, and associated data structures.
    This information helps developers identify potential memory leaks or optimize
    bot resource usage to maintain server stability and performance.
  parameters: []
  returns: A uint64_t value representing the total memory usage in bytes across all
    managed bot instances. Returns zero if no bots are currently active or if the
    monitor has not been initialized properly.
  examples:
  - title: Basic Memory Usage Check
    code: 'BotPerformanceMonitor* monitor = BotPerformanceMonitor::Instance();

      uint64_t totalMemory = monitor->GetTotalMemoryUsage();

      TC_LOG_INFO("bot", "Total bot memory usage: %llu bytes", totalMemory);'
    language: cpp
  - title: Performance Monitoring Integration
    code: "void CheckBotMemoryUsage() {\n    BotPerformanceMonitor* monitor = BotPerformanceMonitor::Instance();\n\
      \    uint64_t memoryUsed = monitor->GetTotalMemoryUsage();\n    \n    if (memoryUsed\
      \ > MAX_ALLOWED_BOT_MEMORY) {\n        TC_LOG_WARN(\"bot\", \"High bot memory\
      \ usage detected: %llu bytes\", memoryUsed);\n        // Trigger cleanup or\
      \ alert mechanisms\n    }\n}"
    language: cpp
  notes: This method performs a summation across all active bots, so performance may
    vary depending on the number of active bots. The returned value represents current
    memory usage and may fluctuate over time as bots perform actions and allocate/deallocate
    memory. For accurate monitoring, this method should be called periodically rather
    than continuously to avoid performance overhead.
  warnings: The method assumes that all bot instances have properly initialized their
    memory tracking structures. If a bot instance fails to report its memory usage
    correctly, it may lead to underreporting of total memory consumption. Additionally,
    memory usage values may include memory allocated by the system for bot operations
    that are not directly controlled by the bot's code.
  related:
  - GetBotMemoryUsage
  - GetActiveBotCount
  - ResetPerformanceStats
metadata:
  confidence: 0.92
  generated_at: '2025-11-04T13:44:05.086878'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
