api:
  class: LineOfSightManager
  method: CalculateHeightAdvantage
  signature: float LineOfSightManager::CalculateHeightAdvantage(Unit * target)
documentation:
  brief: Calculates the height advantage of the current unit over a target unit for
    line-of-sight determination.
  description: The CalculateHeightAdvantage method computes a float value representing
    the vertical height difference between the calling unit and the specified target
    unit. This value is used in line-of-sight calculations to determine whether an
    object or unit can see another based on elevation differences. The method considers
    both units' positions in 3D space, specifically their Z-coordinates (height),
    and returns a positive value if the current unit is higher than the target, negative
    if lower, and zero if at the same height. This functionality is essential for
    determining visibility in combat scenarios where terrain and unit positioning
    affect sight lines.
  parameters: []
  returns: A float value representing the height advantage of the current unit over
    the target unit. Positive values indicate the current unit is higher than the
    target, negative values indicate it is lower, and zero indicates both units are
    at the same elevation level.
  examples:
  - title: Basic usage to determine height advantage
    code: "Unit* player = ...;\nUnit* enemy = ...;\nfloat advantage = player->GetMap()->GetLosManager()->CalculateHeightAdvantage(enemy);\n\
      if (advantage > 0.0f)\n{\n    // Player is higher than enemy\n    printf(\"\
      Player has height advantage of %.2f meters\\n\", advantage);\n}"
    language: cpp
  notes: This method relies on accurate positioning data for both units and assumes
    that the target unit is valid. The calculation uses the Z-coordinate difference
    between the two units, which may be affected by terrain height data in some implementations.
  warnings: null
  related:
  - LineOfSightManager::IsInLOF
  - LineOfSightManager::GetLosResult
  - Unit::GetPositionZ
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T03:45:50.170889'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
