api:
  class: WorldObject
  method: UpdateObjectVisibilityOnDestroy
  signature: void WorldObject::UpdateObjectVisibilityOnDestroy()
documentation:
  brief: Updates visibility state for nearby players when an object is destroyed
  description: The UpdateObjectVisibilityOnDestroy method ensures that all nearby
    players are notified of an object's destruction and their visibility state is
    updated accordingly. This method is typically called internally by the core engine
    when an object (such as a game object or unit) is removed from the world. It handles
    the necessary cleanup of visibility information and ensures that players no longer
    see the destroyed object in their client views. The method iterates through the
    object's current visibility list and sends appropriate update packets to maintain
    synchronization between server state and client views.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in destruction handler
    code: "void GameObject::Destroy()\n{\n    // ... destruction logic ...\n    UpdateObjectVisibilityOnDestroy();\n\
      \    // ... cleanup ...\n}"
    language: cpp
  notes: This method is automatically invoked during object destruction and should
    not typically be called manually. It performs visibility cleanup operations that
    are essential for maintaining proper client-server synchronization. The method
    may have performance implications when dealing with objects that have many nearby
    players, as it iterates through all visible units.
  warnings: Do not call this method directly unless you understand the internal object
    lifecycle management. Improper usage can lead to client-side visibility glitches
    or memory leaks. This method assumes the object is in a valid destruction state
    and should only be called during the object's cleanup phase.
  related:
  - UpdateVisibilityForPlayer
  - AddToVisibilityList
  - RemoveFromVisibilityList
  - GetVisibilityDistance
metadata:
  confidence: 0.85
  generated_at: '2025-10-29T16:06:29.854841'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
