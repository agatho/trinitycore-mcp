api:
  class: ScriptMgr
  method: OnShutdownCancel
  signature: void ScriptMgr::OnShutdownCancel()
documentation:
  brief: Notifies scripts that a pending server shutdown has been canceled
  description: The OnShutdownCancel method is invoked when a scheduled server shutdown
    is aborted before it completes. This method allows script modules to perform cleanup
    or reset operations that were previously initiated in response to a shutdown event.
    It is typically called by the core system when the shutdown timer is cancelled
    through commands like .server shutdown cancel or when certain conditions prevent
    the shutdown from proceeding. The method serves as a callback mechanism for scripts
    to react to the cancellation of a shutdown sequence, ensuring proper state management
    and resource cleanup.
  parameters: []
  returns: null
  examples:
  - title: Basic Script Implementation
    code: "class MyScript : public WorldScript\n{\npublic:\n    void OnShutdownCancel()\
      \ override\n    {\n        // Reset any shutdown-related flags or timers\n \
      \       sLog->outString(\"Shutdown cancellation detected, resetting scripts.\"\
      );\n    }\n};"
    language: cpp
  notes: This method is part of the TrinityCore's scripting system and is called from
    the core server logic when a shutdown is canceled. Script implementations should
    avoid performing heavy operations in this callback as it may affect server responsiveness
    during critical shutdown phases.
  warnings: Ensure that any cleanup or reset operations performed in this method do
    not interfere with other active systems or cause race conditions, especially if
    multiple scripts are registered to handle the same event.
  related:
  - OnShutdown
  - OnServerExit
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T06:47:02.999560'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
