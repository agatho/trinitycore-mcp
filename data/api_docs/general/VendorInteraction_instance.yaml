api:
  class: VendorInteraction
  method: instance
  signature: VendorInteraction * VendorInteraction::instance()
documentation:
  brief: Returns the singleton instance of the VendorInteraction class
  description: The instance() method implements the singleton pattern for the VendorInteraction
    class, providing global access to a single, shared instance of the vendor interaction
    manager. This method ensures that only one VendorInteraction object exists throughout
    the application lifecycle, which is essential for managing vendor-related game
    mechanics such as item sales, purchases, and inventory interactions. The returned
    instance can be used to access all vendor interaction functionality including
    item listings, pricing, and transaction processing within the TrinityCore framework.
  parameters: []
  returns: A pointer to the singleton VendorInteraction instance. Returns a valid
    pointer to the single instance; never returns NULL under normal operation.
  examples:
  - title: Accessing Vendor Interaction Singleton
    code: "VendorInteraction* vendor = VendorInteraction::instance();\nif (vendor)\n\
      {\n    // Use vendor interaction methods\n    vendor->ProcessPurchase(player,\
      \ itemGuid);\n}"
    language: cpp
  - title: Using Vendor Interaction in Transaction Context
    code: "void HandleVendorBuyItem(Player* player, uint32 itemEntry)\n{\n    VendorInteraction*\
      \ vendor = VendorInteraction::instance();\n    if (vendor && vendor->CanAffordItem(player,\
      \ itemEntry))\n    {\n        vendor->ExecutePurchase(player, itemEntry);\n\
      \    }\n}"
    language: cpp
  notes: This method is thread-safe as it returns a singleton instance that should
    be initialized once during application startup. The singleton pattern ensures
    consistent access to vendor interaction data across different parts of the TrinityCore
    codebase without creating multiple instances or causing memory leaks.
  warnings: Since this is a singleton, avoid calling instance() in performance-critical
    sections where multiple calls might be unnecessary. Also, be cautious when testing
    or mocking this method as it returns a global state that may affect other components
    relying on the same instance.
  related:
  - VendorInteraction::Initialize
  - VendorInteraction::Cleanup
  - VendorInteraction::ProcessPurchase
  - VendorInteraction::CanAffordItem
metadata:
  confidence: 0.95
  generated_at: '2025-11-05T23:56:01.097217'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
