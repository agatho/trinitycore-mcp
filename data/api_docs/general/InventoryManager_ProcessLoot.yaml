api:
  class: InventoryManager
  method: ProcessLoot
  signature: uint32 InventoryManager::ProcessLoot(Loot * loot)
documentation:
  brief: Processes loot from a looting object and distributes items to players in
    the loot group
  description: The ProcessLoot method handles the distribution of loot from a specified
    Loot object to eligible players. It manages the looting process by iterating through
    the loot items, checking player eligibility based on group membership or ownership,
    and distributing items according to the configured loot rules (e.g., round-robin,
    free-for-all, master loot). This method is typically invoked when a creature or
    container is successfully looted, ensuring proper item distribution among group
    members. The method returns the number of items successfully processed and distributed.
  parameters: []
  returns: Returns the count of items that were successfully processed and distributed
    to players. A value of zero indicates no items were eligible for distribution
    or all items were already claimed by other players.
  examples:
  - title: Basic loot processing example
    code: "Loot* loot = player->GetLoot();\nuint32 processedItems = inventoryManager->ProcessLoot(loot);\n\
      if (processedItems > 0)\n{\n    // Log or notify that items were distributed\n\
      \    sLog->outString(\"Distributed %u items from loot.\", processedItems);\n\
      }"
    language: cpp
  notes: This method assumes that the Loot object has already been properly initialized
    and populated with items. It does not handle the creation or destruction of the
    Loot object itself. The method may be called multiple times for the same loot
    object, but subsequent calls will typically result in zero items being distributed
    if all items have already been claimed.
  warnings: This method should only be called when a player has successfully looted
    an object and the loot is ready to be processed. Calling it with an uninitialized
    or invalid Loot object may lead to undefined behavior or crashes. The method modifies
    the internal state of the Loot object, marking items as distributed.
  related:
  - GetLoot
  - IsLootable
  - LootItem
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T04:43:56.296200'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
