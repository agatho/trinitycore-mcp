api:
  class: Spell
  method: AddDestTarget
  signature: void Spell::AddDestTarget(const SpellDestination & dest, uint32 effIndex)
documentation:
  brief: Adds a destination target to the spell for the specified effect index.
  description: The AddDestTarget method is used to register a destination target for
    a spell's effect. This method allows the spell system to track where the spell
    should be cast or applied, particularly useful for area-of-effect spells, projectiles,
    or any spell that requires a specific location as its target. The SpellDestination
    parameter defines the coordinates and orientation of the target location, while
    the effIndex specifies which effect of the spell this destination applies to.
    This method is typically called during spell initialization or execution to prepare
    targets before the spell is processed.
  parameters:
  - name: dest
    description: A const reference to a SpellDestination object that defines the target
      location, including coordinates (x, y, z) and orientation for the spell effect.
  - name: effIndex
    description: The index of the spell effect this destination target applies to.
      This is used to associate specific targets with individual effects in multi-effect
      spells.
  returns: null
  examples:
  - title: Adding a destination target for a fireball spell
    code: 'SpellDestination dest;

      dest.Relocate(100.0f, 200.0f, 50.0f);

      dest.SetOrientation(0.0f);

      spell->AddDestTarget(dest, EFFECT_0);'
    language: cpp
  - title: Adding multiple destination targets for a multi-target AoE spell
    code: "for (int i = 0; i < 5; ++i)\n{\n    SpellDestination dest;\n    dest.Relocate(100.0f\
      \ + i * 10.0f, 200.0f, 50.0f);\n    spell->AddDestTarget(dest, EFFECT_0);\n}"
    language: cpp
  notes: This method is part of the internal spell target management system and should
    be used during spell preparation or execution phases. It does not directly trigger
    spell effects but prepares the necessary target data for later processing.
  warnings: Ensure that the effIndex parameter corresponds to a valid effect index
    in the spell's effect array, otherwise the destination may not be properly associated
    with any effect. Avoid calling this method after the spell has already been processed
    or dispatched to prevent undefined behavior.
  related:
  - Spell::AddTarget
  - Spell::AddUnitTarget
  - Spell::GetDestTarget
metadata:
  confidence: 0.95
  generated_at: '2025-10-31T10:03:21.267189'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
