api:
  class: ShadowPriestRefactored
  method: UpdateRotation
  signature: void ShadowPriestRefactored::UpdateRotation(int * target)
documentation:
  brief: Updates the shadow priest's combat rotation based on current target and spell
    availability
  description: The UpdateRotation method is responsible for determining and executing
    the optimal sequence of spells for a Shadow Priest during combat. It evaluates
    the current target's state, available mana, and cooldowns to decide which abilities
    should be cast next in order to maximize damage output or survivability. This
    method typically integrates with the AI system to make real-time decisions about
    spell selection and casting timing. The method operates on the provided target
    reference and may modify the priest's behavior based on combat conditions.
  parameters:
  - name: target
    description: Pointer to an integer representing the current target's identifier
      or index within the game world. This parameter is used to determine targeting
      logic and spell application.
  returns: null
  examples:
  - title: Basic Usage in Combat AI Loop
    code: "void ShadowPriestAI::Update()\n{\n    int targetId = GetTargetId();\n \
      \   UpdateRotation(&targetId);\n}"
    language: cpp
  - title: Integration with Target Switching Logic
    code: "void ShadowPriestRefactored::OnTargetChange(int newTarget)\n{\n    // Update\
      \ rotation when target changes\n    UpdateRotation(&newTarget);\n}\n\nvoid ShadowPriestRefactored::UpdateRotation(int*\
      \ target)\n{\n    if (target && *target != 0)\n    {\n        // Perform rotation\
      \ logic based on new target\n        CastShadowWordPain(*target);\n        CastMindBlast(*target);\n\
      \    }\n}"
    language: cpp
  notes: This method is typically called within the AI update loop and should be invoked
    frequently during combat. It assumes that the target parameter points to a valid
    entity in the game world. The implementation may include logic for checking spell
    cooldowns, mana requirements, and targeting restrictions.
  warnings: Ensure that the target pointer is properly validated before dereferencing
    it to avoid segmentation faults. This method might not be thread-safe if multiple
    threads access or modify the same AI state concurrently.
  related:
  - CastSpell
  - GetTargetId
  - CheckCooldowns
  - EvaluateMana
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T20:03:32.067934'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
