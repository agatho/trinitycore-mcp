api:
  class: SmartAI
  method: AssistPlayerInCombatAgainst
  signature: bool SmartAI::AssistPlayerInCombatAgainst(Unit * who)
documentation:
  brief: Initiates assistance for a player in combat against a specified unit.
  description: The AssistPlayerInCombatAgainst method is used within the SmartAI framework
    to make an AI-controlled creature assist a player who is currently in combat with
    a specific unit. This method typically triggers the AI to engage the target unit
    on behalf of the player, following predefined smart AI behavior rules. It's commonly
    used in quest scripts or scripted events where NPCs need to intervene in player-versus-enemy
    combat scenarios. The method returns true if the assistance was successfully initiated,
    and false otherwise.
  parameters:
  - name: who
    description: Pointer to the Unit object that the player is currently in combat
      with. This represents the target enemy that the AI will assist the player against.
  returns: Returns true if the AI successfully begins assisting the player against
    the specified unit, false if the operation fails or cannot be performed.
  examples:
  - title: Basic Usage in SmartAI Script
    code: "if (me->GetAI()->AssistPlayerInCombatAgainst(playerTarget))\n{\n    //\
      \ AI has started assisting player against the target\n    me->Say(\"I will help\
      \ you!\", LANG_UNIVERSAL);\n}"
    language: cpp
  - title: Usage with Conditional Logic
    code: "Unit* target = player->GetVictim();\nif (target && target->IsCreature())\n\
      {\n    if (me->GetAI()->AssistPlayerInCombatAgainst(target))\n    {\n      \
      \  me->SetReactState(REACT_AGGRESSIVE);\n        me->Attack(target, true);\n\
      \    }\n}"
    language: cpp
  notes: This method is part of the SmartAI system which handles complex AI behaviors
    in TrinityCore. It requires that the AI unit has proper combat capabilities and
    that the target unit is valid and in combat state. The method does not directly
    attack the target but rather initiates the assistance behavior within the AI framework.
  warnings: Ensure that the 'who' parameter points to a valid Unit object, as passing
    a null pointer will likely result in undefined behavior or failure. This method
    should only be called when both the player and the target unit are in valid combat
    states for optimal results.
  related:
  - SmartAI::AssistPlayer
  - SmartAI::AttackStart
  - SmartAI::DoZoneInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T19:31:01.027298'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
