api:
  class: CollectionMgr
  method: UpdateAccountHeirlooms
  signature: bool CollectionMgr::UpdateAccountHeirlooms(uint32 itemId, uint32 flags)
documentation:
  brief: Updates the account's heirloom collection status for a specified item.
  description: The UpdateAccountHeirlooms method is responsible for updating the state
    of a specific heirloom item within the player's account-wide collection. This
    method typically handles the synchronization of heirloom data across the game
    world, ensuring that the player's collection reflects the current status of the
    specified item. It may be invoked when an heirloom is acquired, upgraded, or modified
    in any way that affects its presence in the account's overall heirloom database.
    The method returns a boolean value indicating whether the update operation was
    successful.
  parameters:
  - name: itemId
    description: The unique identifier of the heirloom item to be updated. This ID
      corresponds to an entry in the game's item database and must reference a valid
      heirloom type.
  - name: flags
    description: Additional flags that define the state or properties of the heirloom
      update. These flags may indicate whether the item is learned, upgraded, or marked
      as part of a specific collection set.
  returns: Returns true if the account heirloom data was successfully updated for
    the specified item; otherwise returns false, which could indicate an invalid itemId,
    database error, or failed write operation.
  examples:
  - title: Update Heirloom Status
    code: "if (CollectionMgr::UpdateAccountHeirlooms(12345, HEIRLOOM_LEARNED)) {\n\
      \    // Heirloom successfully marked as learned\n    sLog->outString(\"Heirloom\
      \ updated successfully.\");\n} else {\n    // Handle update failure\n    sLog->outError(\"\
      Failed to update heirloom.\");\n}"
    language: cpp
  notes: This method likely interacts with the account's database to persist changes
    to the heirloom collection. It may also trigger updates to related systems such
    as achievement tracking or UI display elements that reflect the player's collection
    progress.
  warnings: Ensure that itemId and flags are valid before calling this method, as
    invalid parameters may lead to silent failures or inconsistent data states in
    the database.
  related:
  - GetAccountHeirlooms
  - AddAccountHeirloom
  - RemoveAccountHeirloom
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T01:18:43.466929'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
