api:
  class: Totem
  method: ~Totem
  signature: void Totem::~Totem()
documentation:
  brief: Destroys a totem object and performs necessary cleanup operations
  description: The ~Totem destructor is called when a Totem object is being destroyed,
    typically when the totem expires, is removed by the player, or the creature is
    despawned. This method ensures proper cleanup of resources associated with the
    totem, including removing it from the game world, notifying the owner (if applicable),
    and freeing any allocated memory. In World of Warcraft's TrinityCore implementation,
    totems are temporary summoned creatures that persist for a set duration or until
    manually removed. The destructor handles the finalization of these objects to
    prevent memory leaks and maintain game state consistency.
  parameters: []
  returns: null
  examples:
  - title: Automatic destruction of totem
    code: "void HandleTotemExpiration()\n{\n    // When a totem's duration ends, the\
      \ destructor is automatically called\n    Totem* totem = new Totem();\n    //\
      \ ... some logic that causes totem to expire ...\n    delete totem; // Destructor\
      \ ~Totem() is called here\n}"
    language: cpp
  notes: The destructor performs critical cleanup operations such as removing the
    totem from the world map, notifying the owner's pet system, and ensuring no dangling
    references remain. It is important not to manually call this destructor unless
    you are certain about object lifetime management.
  warnings: null
  related:
  - Totem::Totem()
  - Totem::Update
  - Totem::IsExpired
  - Totem::GetOwner
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T15:02:51.020101'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
