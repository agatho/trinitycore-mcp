api:
  class: LootDistribution
  method: instance
  signature: LootDistribution * LootDistribution::instance()
documentation:
  brief: Returns the singleton instance of the LootDistribution class
  description: The instance() method implements the singleton pattern for the LootDistribution
    class, ensuring that only one instance of the loot distribution manager exists
    throughout the application. This method is used to access the global loot distribution
    system that handles item drops and distribution logic for World of Warcraft entities
    such as creatures, game objects, and players. The returned pointer provides access
    to all loot-related functionality including loot templates, group loot rules,
    and individual player loot assignment mechanisms.
  parameters: []
  returns: A pointer to the single global instance of the LootDistribution class.
    Returns a valid pointer if the singleton has been initialized, or nullptr if the
    system is not yet initialized or has been destroyed.
  examples:
  - title: Accessing the loot distribution system
    code: "LootDistribution* lootDist = LootDistribution::instance();\nif (lootDist)\n\
      {\n    // Use the loot distribution system\n    lootDist->ProcessLoot(...);\n\
      }"
    language: cpp
  - title: Checking loot distribution availability
    code: "LootDistribution* instance = LootDistribution::instance();\nif (instance\
      \ != nullptr)\n{\n    // Safe to use the loot system\n    instance->AddLoot(...);\n\
      }\nelse\n{\n    // Handle case where loot system is not initialized\n    sLog->outError(\"\
      Loot distribution system not available\");\n}"
    language: cpp
  notes: This method follows the singleton pattern, meaning multiple calls will always
    return the same instance address. The singleton instance is typically initialized
    during server startup and destroyed during shutdown. This implementation is thread-safe
    in most TrinityCore configurations, but direct access to shared loot data structures
    should still be protected by appropriate locks.
  warnings: Do not assume that the returned pointer is always valid - it may return
    nullptr if called before the system has been initialized or after it has been
    shut down. Avoid storing references to the singleton instance for extended periods
    as the system might be destroyed during shutdown.
  related:
  - LootDistribution::Initialize
  - LootDistribution::Destroy
  - LootDistribution::GetLootForPlayer
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T09:25:06.223181'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
