api:
  class: CombatMovementStrategy
  method: IsStandingInDanger
  signature: bool CombatMovementStrategy::IsStandingInDanger(Player * player) const
documentation:
  brief: Determines if the player is currently standing in a dangerous location during
    combat.
  description: The IsStandingInDanger method evaluates whether the player character
    is positioned in an area that poses immediate threat, such as being within melee
    range of hostile targets or in line of sight of enemies who can attack. This method
    is typically used by AI behavior strategies to make decisions about movement and
    positioning during combat encounters. It considers factors like proximity to enemies,
    environmental hazards, and the player's current combat state. The method does
    not modify any game state but provides a boolean result that can be used to trigger
    defensive actions or repositioning behaviors.
  parameters: []
  returns: Returns true if the player is standing in a dangerous location that could
    lead to immediate harm or disadvantage during combat; returns false otherwise.
  examples:
  - title: Basic Usage in Combat AI
    code: "if (strategy->IsStandingInDanger(player)) {\n    // Initiate defensive\
      \ movement or spell casting\n    player->CastSpell(player, SPELL_SHIELD_BLOCK,\
      \ true);\n}"
    language: cpp
  - title: Combining with Movement Strategy
    code: "if (strategy->IsStandingInDanger(player) && !player->HasAura(SPELL_INVISIBILITY))\
      \ {\n    // Move to a safer position\n    strategy->MoveToSafeLocation(player);\n\
      }"
    language: cpp
  notes: This method likely performs checks against the player's current position,
    nearby hostile units, and environmental factors. It may be called frequently during
    combat updates, so performance optimization is important for AI strategies that
    use it. The implementation might consider aggro range, line of sight, and threat
    levels when determining danger.
  warnings: This method should not be used as the sole determinant for all combat
    decisions; it's recommended to combine with other safety checks and movement calculations.
    Using this method outside of combat context may produce unexpected results or
    false positives.
  related:
  - CombatMovementStrategy::MoveToSafeLocation
  - CombatMovementStrategy::IsInMeleeRange
  - CombatMovementStrategy::HasHostileInRange
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T09:55:31.930795'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
