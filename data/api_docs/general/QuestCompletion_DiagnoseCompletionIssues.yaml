api:
  class: QuestCompletion
  method: DiagnoseCompletionIssues
  signature: void QuestCompletion::DiagnoseCompletionIssues(Player * bot, uint32 questId)
documentation:
  brief: Analyzes and reports issues preventing quest completion for a player
  description: The DiagnoseCompletionIssues method evaluates the current state of
    a player's quest progress to identify potential blockers or inconsistencies that
    prevent successful quest completion. It checks various conditions such as required
    items, quest objectives, player level, faction requirements, and other game mechanics
    that might impede quest advancement. This diagnostic function is typically used
    during quest debugging or automated quest validation processes within the TrinityCore
    framework.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the character whose quest
      completion status is being analyzed. Must not be null.
  - name: questId
    description: Unique identifier of the quest to diagnose. Must correspond to a
      valid quest in the game database.
  returns: void
  examples:
  - title: Basic Quest Diagnosis
    code: 'Player* player = ...; // Assume player is initialized

      uint32 questId = 12345;

      QuestCompletion::DiagnoseCompletionIssues(player, questId);'
    language: cpp
  - title: Diagnostic with Logging
    code: "void CheckQuestStatus(Player* bot, uint32 questId) {\n    if (!bot) return;\n\
      \    sLog->outString(\"Diagnosing quest %u for player %s\", questId, bot->GetName().c_str());\n\
      \    QuestCompletion::DiagnoseCompletionIssues(bot, questId);\n}"
    language: cpp
  notes: This method likely performs internal checks against the player's inventory,
    quest log entries, and various game state variables to determine why a quest cannot
    be completed. It may output diagnostic information to logs or directly modify
    the player's state for debugging purposes.
  warnings: Ensure that the Player pointer is valid before calling this method to
    avoid segmentation faults. The questId should correspond to an existing quest
    in the database, otherwise behavior is undefined.
  related:
  - Quest::GetQuestStatus
  - Player::GetQuestStatus
  - Quest::CanCompleteQuest
  - Player::CanCompleteQuest
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T20:30:42.402356'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
