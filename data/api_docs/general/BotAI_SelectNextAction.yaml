api:
  class: BotAI
  method: SelectNextAction
  signature: std::shared_ptr<Action> BotAI::SelectNextAction()
documentation:
  brief: Selects and returns the next AI action for a bot to execute based on current
    state and priorities.
  description: The SelectNextAction method is responsible for determining the most
    appropriate action for a bot AI to perform at any given moment. It evaluates various
    factors such as the bot's current health, mana, target status, available spells,
    and situational context to choose an action from its internal action pool. This
    method is typically called during each AI update cycle and returns a shared pointer
    to an Action object that represents the chosen behavior. The returned action may
    be null if no suitable action is available or if the bot is in a state where no
    action should be taken. This method forms a core part of the bot's decision-making
    process within TrinityCore's AI framework.
  parameters: []
  returns: A std::shared_ptr<Action> pointing to the selected action for the bot to
    execute, or nullptr if no valid action is available.
  examples:
  - title: Basic usage in AI update loop
    code: "void BotAI::UpdateAI()\n{\n    auto nextAction = SelectNextAction();\n\
      \    if (nextAction)\n    {\n        nextAction->Execute(bot);\n    }\n}"
    language: cpp
  - title: Checking action validity before execution
    code: "std::shared_ptr<Action> action = botAI->SelectNextAction();\nif (action\
      \ && action->IsReady())\n{\n    action->Execute(bot);\n}\nelse\n{\n    // Handle\
      \ case where no valid action is selected\n    bot->SetBotState(BotState::IDLE);\n\
      }"
    language: cpp
  notes: This method is typically invoked in the AI update loop and should be called
    frequently to ensure responsive bot behavior. The selection process may involve
    complex decision trees, priority queues, or state machines depending on the specific
    implementation of the BotAI class. Consider performance implications when this
    method is called very frequently.
  warnings: Ensure that returned actions are properly validated before execution to
    avoid undefined behavior. This method might return nullptr in edge cases such
    as when a bot is dead or in an invalid AI state, so always check for null before
    calling action methods.
  related:
  - GetNextAction
  - IsActionAvailable
  - AddAction
  - ClearActions
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T15:32:20.155704'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
