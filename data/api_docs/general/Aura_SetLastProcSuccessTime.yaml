api:
  class: Aura
  method: SetLastProcSuccessTime
  signature: void Aura::SetLastProcSuccessTime(int lastProcSuccessTime)
documentation:
  brief: Sets the timestamp of the last successful proc event for this aura.
  description: The SetLastProcSuccessTime method updates the internal timestamp stored
    within an Aura object to reflect when the last successful proc occurred. This
    is typically used in conjunction with spell procs and aura effects that have limited
    frequency or cooldowns. The method directly modifies the aura's internal state,
    which may affect subsequent proc calculations or cooldown tracking. This functionality
    is essential for maintaining accurate spell behavior and ensuring proper interaction
    between auras and their triggering events.
  parameters:
  - name: lastProcSuccessTime
    description: The timestamp value representing when the last successful proc occurred.
      This should typically be a Unix timestamp or game time value that aligns with
      TrinityCore's internal time tracking system.
  returns: null
  examples:
  - title: Setting Last Proc Success Time to Current Game Time
    code: "Aura* aura = player->GetAura(12345);\nif (aura)\n{\n    aura->SetLastProcSuccessTime(sWorld->GetGameTime());\n\
      }"
    language: cpp
  - title: Updating Proc Time After Successful Spell Effect
    code: "void OnSpellHit(Unit* target, SpellInfo const* spellInfo)\n{\n    if (Aura*\
      \ aura = target->GetAura(67890))\n    {\n        // Update the last proc success\
      \ time after a successful effect\n        aura->SetLastProcSuccessTime(sWorld->GetGameTime());\n\
      \    }\n}"
    language: cpp
  notes: This method directly modifies the aura's internal state. It is recommended
    to use this only when you have verified that the proc event was indeed successful
    and should be recorded. The timestamp value passed in should be consistent with
    TrinityCore's time system for accurate cooldown calculations.
  warnings: Incorrectly setting this value can cause unexpected behavior in proc-based
    spells or auras, particularly those with cooldowns or limited frequency of activation.
    Ensure that the provided timestamp is valid and represents an actual successful
    proc event.
  related:
  - GetLastProcSuccessTime
  - HasProcResult
  - ResetProc
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T09:07:53.437305'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
