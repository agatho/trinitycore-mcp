api:
  class: MapManager
  method: CreateWorldMap
  signature: Map * MapManager::CreateWorldMap(uint32 mapId, uint32 instanceId)
documentation:
  brief: Creates and returns a new WorldMap instance for the specified map and instance
    identifiers.
  description: The CreateWorldMap method is responsible for instantiating a new Map
    object representing a world map for a given map ID and instance ID. This method
    is typically used during game initialization or when dynamically creating new
    map instances for players. The returned Map pointer can be used to access map-specific
    data, handle player movement, and manage game objects within that particular map
    context. It ensures proper allocation and setup of the map environment before
    returning it to the caller.
  parameters:
  - name: mapId
    description: The unique identifier for the map type (e.g., 0 for Eastern Kingdoms,
      1 for Kalimdor). Valid values correspond to predefined map IDs in the game database.
  - name: instanceId
    description: The instance identifier used to distinguish different instances of
      the same map. A value of 0 typically represents the default world map instance.
  returns: A pointer to the newly created Map object if successful, or nullptr if
    the map could not be created due to invalid parameters or resource constraints.
  examples:
  - title: Creating a WorldMap for the Eastern Kingdoms
    code: "Map* worldMap = sMapMgr->CreateWorldMap(0, 0);\nif (worldMap)\n{\n    //\
      \ Successfully created map\n    // Use worldMap to manage players and game objects\n\
      }"
    language: cpp
  - title: Creating a Unique Instance of a Map
    code: "uint32 instanceId = sMapMgr->GenerateInstanceId();\nMap* dungeonMap = sMapMgr->CreateWorldMap(1,\
      \ instanceId);\nif (dungeonMap)\n{\n    // Created a unique instance of Kalimdor\
      \ map\n    // This allows for multiple simultaneous instances\n}"
    language: cpp
  notes: This method assumes that the map data for the specified mapId exists in the
    game's database. The returned Map object must be properly managed and eventually
    destroyed to prevent memory leaks. The instanceId parameter allows for creating
    multiple independent copies of the same map, which is essential for dungeon and
    raid instances.
  warnings: Calling this method with invalid mapId or instanceId values may result
    in undefined behavior or crashes. Always validate the returned pointer before
    using it. The MapManager should be properly initialized before calling this method.
  related:
  - GetMap
  - CreateInstance
  - RemoveInstance
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T00:14:21.159003'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
