api:
  class: EquipmentManager
  method: ExtractStatValue
  signature: int32 EquipmentManager::ExtractStatValue(const int * proto, StatType
    stat)
documentation:
  brief: Extracts a specific stat value from an item prototype array.
  description: The ExtractStatValue method retrieves a particular stat value from
    the provided item prototype data structure. This method is commonly used in equipment
    management systems to access individual stat values such as attack power, critical
    strike rating, or stamina from an item's stat array. The method takes a pointer
    to an integer array representing the item prototype and a StatType enumeration
    indicating which specific stat to extract. It returns the corresponding stat value
    as a 32-bit signed integer. This functionality is essential for calculating total
    stats on equipped items and applying stat bonuses in the game mechanics.
  parameters:
  - name: proto
    description: Pointer to an integer array representing the item prototype data
      structure containing stat values
  - name: stat
    description: StatType enumeration specifying which particular stat value to extract
      from the prototype array
  returns: Returns the extracted stat value as a 32-bit signed integer. Returns 0
    if the specified stat is not found or if the input parameters are invalid.
  examples:
  - title: Extract Attack Power from Item
    code: int32 attackPower = equipmentManager->ExtractStatValue(itemProto, STAT_ATTACK_POWER);
    language: cpp
  - title: Iterate Through All Stats
    code: "for (int i = 0; i < MAX_ITEM_PROTO_STATS; ++i)\n{\n    int32 statValue\
      \ = equipmentManager->ExtractStatValue(itemProto, static_cast<StatType>(i));\n\
      \    if (statValue != 0)\n        printf(\"Stat %d: %d\\n\", i, statValue);\n\
      }"
    language: cpp
  notes: This method assumes that the proto array is properly formatted according
    to TrinityCore's item prototype structure. The StatType enumeration should match
    the expected index positions within the proto array. Implementation may involve
    bounds checking and null pointer validation for safety.
  warnings: Ensure that the proto parameter points to a valid item prototype array
    with sufficient size to accommodate all possible stat indices. Passing an invalid
    or uninitialized pointer will result in undefined behavior. The method does not
    perform any validation on the StatType parameter, so invalid values may lead to
    incorrect results.
  related:
  - GetItemStatValue
  - CalculateTotalStats
  - ApplyItemBonuses
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T03:37:47.899976'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
