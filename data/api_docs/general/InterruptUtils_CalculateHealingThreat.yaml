api:
  class: InterruptUtils
  method: CalculateHealingThreat
  signature: float InterruptUtils::CalculateHealingThreat(const SpellInfo * spellInfo,
    Unit * caster)
documentation:
  brief: Calculates the threat generated by a healing spell based on its spell information
    and caster unit.
  description: The CalculateHealingThreat method computes the amount of threat (aggro)
    that a healing spell will generate for the caster unit. This value is used internally
    by the game's threat system to determine how much attention hostile mobs will
    give to the healer. The calculation takes into account the spell's properties
    and the caster's attributes, such as healing power or class-specific modifiers.
    This method is typically invoked during spell casting to determine the threat
    contribution of a heal before it is applied to the target.
  parameters:
  - name: spellInfo
    description: Pointer to the SpellInfo structure containing details about the healing
      spell being cast, including its base healing amount, spell school, and other
      relevant properties.
  - name: caster
    description: Pointer to the Unit object representing the caster of the spell,
      which provides context for threat calculations such as class, level, and any
      applicable modifiers.
  returns: A float value representing the calculated threat generated by the healing
    spell. This value is used in the game's threat system to influence mob targeting
    behavior.
  examples:
  - title: Basic usage in a healing spell handler
    code: 'float threat = InterruptUtils::CalculateHealingThreat(spellInfo, caster);

      // Use threat value to adjust mob aggro or logging

      TC_LOG_DEBUG("spell", "Healing spell generated %.2f threat", threat);'
    language: cpp
  notes: This method is part of the core threat calculation system and may be called
    frequently during combat. It's important to note that this function does not directly
    modify threat values in the threat tables but rather computes a base value for
    use by other systems.
  warnings: Ensure that both spellInfo and caster parameters are valid pointers before
    calling this method, as passing null values could lead to undefined behavior or
    crashes. The method assumes proper initialization of spell data and unit state.
  related:
  - CalculateSpellThreat
  - CalculateMeleeThreat
  - GetThreatForSpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T11:17:33.661105'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
