api:
  class: AreaTrigger
  method: CreateAreaTrigger
  signature: AreaTrigger * AreaTrigger::CreateAreaTrigger(AreaTriggerCreatePropertiesId
    areaTriggerCreatePropertiesId, const int & pos, int32 duration, Unit * caster,
    Unit * target, int spellVisual, const SpellInfo * spellInfo, int * spell, const
    AuraEffect * aurEff)
documentation:
  brief: Creates and returns a new AreaTrigger instance with specified properties
    and caster.
  description: The CreateAreaTrigger method instantiates a new AreaTrigger object
    within the game world, configured with the provided parameters. It is typically
    used by spell systems to generate area-based effects such as auras, traps, or
    environmental hazards. The method initializes the trigger's position, duration,
    caster, target, visual effects, and associated spell information. This function
    handles memory allocation and proper initialization of the AreaTrigger object
    before returning it to the caller for further use in the game world.
  parameters:
  - name: areaTriggerCreatePropertiesId
    description: Unique identifier for the area trigger properties defining its behavior,
      size, and effects. This ID maps to predefined area trigger templates in the
      database.
  - name: pos
    description: Reference to the position where the area trigger will be created.
      Typically represents a WorldLocation or similar coordinate structure.
  - name: duration
    description: Duration in milliseconds for which the area trigger will remain active
      before automatically despawning.
  - name: caster
    description: Pointer to the Unit that cast this area trigger. Can be null if no
      caster is specified, but typically should reference a valid Unit object.
  - name: target
    description: Optional pointer to the target unit for the area trigger. May be
      null if the trigger does not require targeting.
  - name: spellVisual
    description: Spell visual ID used to display effects associated with this area
      trigger, such as particle effects or animations.
  - name: spellInfo
    description: Pointer to the SpellInfo structure containing information about the
      spell that created this area trigger. Used for effect application and validation.
  - name: spell
    description: Optional pointer to a spell ID or spell-related data. May be null
      if not required by the implementation.
  - name: aurEff
    description: Pointer to an AuraEffect structure that defines how this area trigger
      interacts with auras, typically used for aura-based triggers like periodic effects.
  returns: Returns a pointer to the newly created AreaTrigger instance. The caller
    is responsible for managing the lifetime of the returned object unless otherwise
    specified by the API contract.
  examples:
  - title: Basic AreaTrigger Creation
    code: AreaTrigger* trigger = AreaTrigger::CreateAreaTrigger(12345, player->GetPosition(),
      5000, player, nullptr, 98765, spellInfo, nullptr, nullptr);
    language: cpp
  - title: AreaTrigger with Target and Aura Effect
    code: 'AuraEffect* auraEff = caster->GetAuraEffect(SPELL_AURA_PERIODIC_DAMAGE,
      0);

      AreaTrigger* trigger = AreaTrigger::CreateAreaTrigger(12345, target->GetPosition(),
      3000, caster, target, 98765, spellInfo, &spellId, auraEff);'
    language: cpp
  notes: This method allocates memory for the AreaTrigger object and initializes it
    with the provided parameters. The caller must ensure that all input pointers are
    valid to prevent crashes or undefined behavior. The returned AreaTrigger is automatically
    added to the world's active area triggers list.
  warnings: Do not pass null pointers for required parameters like 'pos' or 'spellInfo',
    as this may lead to runtime errors or incorrect behavior. Ensure that the 'areaTriggerCreatePropertiesId'
    exists in the database, otherwise the trigger may fail to initialize properly.
  related:
  - AreaTrigger::Update
  - AreaTrigger::Despawn
  - AreaTrigger::GetCaster
  - AreaTrigger::SetDuration
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T14:10:38.443049'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
