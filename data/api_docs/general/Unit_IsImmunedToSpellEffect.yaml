api:
  class: Unit
  method: IsImmunedToSpellEffect
  signature: bool Unit::IsImmunedToSpellEffect(const SpellInfo * spellInfo, const
    SpellEffectInfo & spellEffectInfo, const int * caster, bool requireImmunityPurgesEffectAttribute)
    const
documentation:
  brief: Determines whether a unit is immune to a specific spell effect.
  description: This method checks if a unit is immuned to a particular spell effect,
    which is crucial for understanding how units respond to various magical effects
    in World of Warcraft. It evaluates the immunity status based on the spell's properties
    and the specific effect being considered. The method considers both direct immunity
    and immunity that may be affected by certain attributes such as immunity purges.
    This function is essential for determining whether a unit can be affected by spells
    or if they are protected from specific effects.
  parameters:
  - name: spellInfo
    description: Pointer to the SpellInfo structure that defines the spell being evaluated.
      This contains information about the spell's effects and properties.
  - name: spellEffectInfo
    description: Reference to the SpellEffectInfo structure that describes the specific
      effect within the spell being checked. This includes details about the effect
      type, duration, and other relevant parameters.
  - name: caster
    description: Pointer to the caster's ID or nullptr if no specific caster is involved.
      This helps determine if immunity is based on the caster's influence or if it's
      a general immunity.
  - name: requireImmunityPurgesEffectAttribute
    description: Boolean flag that determines whether immunity purges effect attribute
      is required for the check. If true, the method requires the presence of this
      attribute to properly evaluate immunity.
  returns: Returns true if the unit is immune to the specified spell effect, false
    otherwise. This indicates that the unit cannot be affected by the spell or its
    specific effect.
  examples:
  - title: Basic usage example
    code: "if (unit->IsImmunedToSpellEffect(spellInfo, spellEffectInfo, nullptr, true))\
      \ {\n    // Unit is immune to this spell effect\n}"
    language: cpp
  - title: Advanced usage example with caster
    code: "Unit* target = GetTarget();\nif (target->IsImmunedToSpellEffect(spellInfo,\
      \ spellEffectInfo, &casterId, false)) {\n    // Unit is immune to this effect\
      \ but may be affected by other attributes\n}"
    language: cpp
  notes: This method is part of the core game mechanics for handling spell immunity
    and should be used carefully when checking against different spell effects. Performance
    considerations are minimal as it involves simple checks on spell properties and
    effect types.
  warnings: Be cautious when using this method in conjunction with other immunity
    checks, as incorrect usage may lead to misinterpretation of unit behavior in combat
    situations. Also, ensure that the spellInfo and spellEffectInfo parameters are
    valid before calling this method.
  related:
  - IsImmunedToSpell
  - IsImmuneToSpell
  - HasSpellImmunity
  - GetSpellInfo
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T12:03:23.906367'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
