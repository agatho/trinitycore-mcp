api:
  class: BotSessionMgr
  method: CreateAsyncSession
  signature: BotSession * BotSessionMgr::CreateAsyncSession(uint32 bnetAccountId,
    int characterGuid)
documentation:
  brief: Creates a new asynchronous bot session for the specified Battle.net account
    and character.
  description: The CreateAsyncSession method initializes and returns a new BotSession
    instance associated with a given Battle.net account ID and character GUID. This
    method is typically used in the context of automated bot operations within TrinityCore's
    framework, allowing for asynchronous handling of bot-related activities such as
    character management, quest automation, or combat routines. The session created
    is designed to operate independently without blocking the main game thread, enabling
    concurrent bot operations. It is expected that the provided Battle.net account
    ID and character GUID are valid and correspond to existing entities in the database.
  parameters:
  - name: bnetAccountId
    description: The unique identifier of the Battle.net account associated with the
      bot session. Must be a valid, non-zero numeric ID representing an existing account
      in the database.
  - name: characterGuid
    description: The GUID of the character that the bot session will manage. A negative
      value indicates an invalid or unassigned character, while a positive value corresponds
      to a valid character in the game world.
  returns: A pointer to the newly created BotSession object if successful, or nullptr
    if the session creation fails due to invalid parameters or internal errors.
  examples:
  - title: Basic Usage Example
    code: "BotSession* session = sBotSessionMgr->CreateAsyncSession(123456789, -1);\n\
      if (session)\n{\n    // Proceed with bot operations using the session\n}"
    language: cpp
  - title: Advanced Usage with Error Handling
    code: "uint32 accountId = 987654321;\nint charGuid = 543210;\nBotSession* session\
      \ = sBotSessionMgr->CreateAsyncSession(accountId, charGuid);\nif (!session)\n\
      {\n    TC_LOG_ERROR(\"bot\", \"Failed to create async bot session for account\
      \ %u and character %d\", accountId, charGuid);\n    // Handle error appropriately\n\
      }\nelse\n{\n    TC_LOG_INFO(\"bot\", \"Successfully created async bot session\
      \ for account %u\", accountId);\n}"
    language: cpp
  notes: This method is intended to be used in asynchronous contexts and may involve
    internal thread management. Ensure that the Battle.net account and character GUIDs
    are valid before calling this function to avoid potential runtime errors or undefined
    behavior.
  warnings: Calling this method with invalid or non-existent character GUIDs may result
    in a null return value, which must be checked for before using the returned session
    pointer. Improper handling of the returned BotSession pointer can lead to memory
    leaks or access violations.
  related:
  - GetSession
  - RemoveSession
  - UpdateSession
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T01:38:22.133376'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
