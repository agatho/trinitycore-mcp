api:
  class: TargetSelector
  method: CalculateTargetPriority
  signature: float TargetSelector::CalculateTargetPriority(int * target)
documentation:
  brief: Calculates and returns the priority value of a target for AI decision-making
    in combat situations.
  description: The CalculateTargetPriority method evaluates a potential target within
    the AI's current context and assigns it a numerical priority score. This score
    is used by the AI system to determine which target should be attacked or focused
    on next. The method considers factors such as threat level, distance, health percentage,
    and other relevant combat metrics. It is typically called during AI update cycles
    when selecting targets for attacks or spells. The returned float value represents
    the relative priority of the target, with higher values indicating more desirable
    targets. This method does not modify any internal state directly but rather provides
    a scoring mechanism for target selection logic.
  parameters:
  - name: target
    description: Pointer to an integer representing the target's unique identifier
      or index within the AI's target list. The value pointed to should be a valid
      target reference, typically a GUID or object index.
  returns: A float value representing the calculated priority of the specified target.
    Higher values indicate higher priority targets. Returns 0.0f if the target is
    invalid or cannot be evaluated.
  examples:
  - title: Basic Target Priority Calculation
    code: "int targetGuid = 12345;\nfloat priority = selector.CalculateTargetPriority(&targetGuid);\n\
      if (priority > 0.0f)\n{\n    // Process high-priority target\n    printf(\"\
      Target priority: %f\\n\", priority);\n}"
    language: cpp
  - title: Using Priority for Target Selection Logic
    code: "int bestTarget = -1;\nfloat bestPriority = -1.0f;\nfor (int i = 0; i <\
      \ targetCount; ++i)\n{\n    int targetId = GetTargetId(i);\n    float priority\
      \ = selector.CalculateTargetPriority(&targetId);\n    if (priority > bestPriority)\n\
      \    {\n        bestPriority = priority;\n        bestTarget = targetId;\n \
      \   }\n}\n// Use bestTarget for AI action\nprintf(\"Selected target with priority:\
      \ %f\\n\", bestPriority);"
    language: cpp
  notes: This method is part of the core AI target selection system in TrinityCore.
    It's designed to be called frequently during AI update cycles, so performance
    is important. The implementation likely caches certain values to avoid repeated
    expensive calculations. Developers should ensure that the target parameter points
    to a valid entity before calling this method.
  warnings: Calling this method with an invalid or null pointer for the target parameter
    may lead to undefined behavior or crashes. Always validate that the target exists
    and is accessible before passing it to this method. The returned priority value
    should not be used directly for combat actions without proper validation of the
    target's current state.
  related:
  - GetTarget
  - SetTarget
  - IsTargetValid
  - UpdateTargetList
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T01:25:56.791644'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
