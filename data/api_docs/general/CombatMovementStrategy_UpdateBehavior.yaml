api:
  class: CombatMovementStrategy
  method: UpdateBehavior
  signature: void CombatMovementStrategy::UpdateBehavior(BotAI * ai, uint32 diff)
documentation:
  brief: Updates the combat movement behavior of a bot AI based on elapsed time and
    current combat state.
  description: The UpdateBehavior method is responsible for managing and updating
    the movement strategy of a bot AI during combat encounters. It processes the bot's
    positioning, movement patterns, and tactical positioning based on the time elapsed
    since the last update (diff parameter). This method typically handles actions
    such as maintaining optimal distance from targets, repositioning for better line
    of sight, or executing specific combat maneuvers. The implementation likely evaluates
    the current combat state, target position, and environmental factors to determine
    appropriate movement behavior. It is called regularly by the AI system during
    active combat situations to ensure dynamic and responsive bot behavior.
  parameters:
  - name: ai
    description: Pointer to the BotAI instance that owns this combat movement strategy.
      This parameter provides access to the bot's current state, target information,
      and AI context needed for decision making.
  - name: diff
    description: Time elapsed in milliseconds since the last update call. This value
      is used to determine how much time has passed and influences timing-sensitive
      behaviors such as movement speed adjustments or cooldown-based actions.
  returns: null
  examples:
  - title: Basic usage in AI update loop
    code: "void BotAI::UpdateAI(uint32 diff)\n{\n    if (IsInCombat())\n    {\n  \
      \      combatMovementStrategy.UpdateBehavior(this, diff);\n    }\n}"
    language: cpp
  - title: Integration with custom combat logic
    code: "void CustomCombatAI::UpdateCombatBehavior(uint32 diff)\n{\n    // Perform\
      \ custom combat checks\n    if (HasTarget() && IsTargetInMeleeRange())\n   \
      \ {\n        // Update movement strategy for melee engagement\n        combatMovementStrategy.UpdateBehavior(this,\
      \ diff);\n    }\n    else if (HasTarget() && !IsTargetInMeleeRange())\n    {\n\
      \        // Update movement strategy for ranged engagement\n        combatMovementStrategy.UpdateBehavior(this,\
      \ diff);\n    }\n}"
    language: cpp
  notes: This method is typically called from within the main AI update loop and should
    not be invoked directly unless you have a specific reason. The 'diff' parameter
    must be accurately calculated to ensure proper timing of movement behaviors. The
    method may internally use pathfinding or movement calculation functions, so performance
    considerations apply when dealing with multiple bots.
  warnings: Do not call this method outside of the AI update context as it may access
    invalid state information. Ensure that the BotAI pointer is valid and properly
    initialized before calling to avoid undefined behavior.
  related:
  - CombatMovementStrategy::Initialize
  - CombatMovementStrategy::GetMovementType
  - BotAI::IsInCombat
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T06:58:31.890800'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
