api:
  class: Corpse
  method: Update
  signature: void Corpse::Update(int diff)
documentation:
  brief: Updates the corpse's state and expiration timer based on the elapsed game
    time.
  description: The Update method is responsible for managing the lifecycle of a Corpse
    object in the World of Warcraft server. It processes the time elapsed since the
    last update (passed as 'diff') to determine if the corpse should decay or be removed
    from the world. This method is typically called by the game loop at regular intervals,
    and it handles the automatic removal of corpses after their expiration time has
    passed. The method also ensures that any associated data, such as loot or player
    information, is properly maintained during the update cycle.
  parameters:
  - name: diff
    description: The time elapsed in milliseconds since the last update call. This
      value determines how much time has passed and affects the corpse's decay progress.
  returns: null
  examples:
  - title: Basic Update Call
    code: 'Corpse* corpse = ...;

      corpse->Update(1000); // Update with 1 second elapsed time'
    language: cpp
  - title: Integration with Game Loop
    code: "void World::UpdateWorld()\n{\n    for (auto& corpse : sObjectAccessor->GetCorpseMap())\n\
      \    {\n        corpse.second->Update(diff);\n    }\n}"
    language: cpp
  notes: This method is typically invoked by the core game loop and should not be
    called directly from outside the core systems unless specifically required. The
    'diff' parameter represents real-world time in milliseconds, which is used to
    accurately track corpse decay.
  warnings: Do not call this method with negative values for 'diff', as it may cause
    unexpected behavior or premature removal of corpses. This method modifies internal
    state and should only be called when the corpse object is valid and managed by
    the server.
  related:
  - Corpse::SetDeathTime
  - Corpse::GetDeathTime
  - Corpse::IsExpired
  - Corpse::RemoveFromWorld
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T09:09:24.671697'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
