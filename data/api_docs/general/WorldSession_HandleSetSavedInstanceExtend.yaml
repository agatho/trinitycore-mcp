api:
  class: WorldSession
  method: HandleSetSavedInstanceExtend
  signature: void WorldSession::HandleSetSavedInstanceExtend(WorldPackets::Calendar::SetSavedInstanceExtend
    & setSavedInstanceExtend)
documentation:
  brief: Processes a client request to extend the duration of a saved instance.
  description: The HandleSetSavedInstanceExtend method handles incoming packets from
    players who wish to extend the duration of a saved instance. This functionality
    is typically used in raid instances where players can extend their time in the
    instance beyond the default expiration period. The method validates the request,
    checks player permissions, and updates the saved instance's expiration time accordingly.
    It integrates with the calendar system and instance management subsystems to ensure
    proper synchronization of extended instance times.
  parameters:
  - name: setSavedInstanceExtend
    description: A packet containing information about which saved instance to extend
      and the duration to extend it by. This includes instance ID, expansion level,
      and the requested extension time.
  returns: null
  examples:
  - title: Basic instance extension request
    code: "void WorldSession::HandleSetSavedInstanceExtend(WorldPackets::Calendar::SetSavedInstanceExtend\
      \ & setSavedInstanceExtend)\n{\n    // Validate the instance ID and player's\
      \ access\n    if (!CanExtendInstance(setSavedInstanceExtend.InstanceId))\n \
      \       return;\n    \n    // Extend the saved instance duration\n    ExtendSavedInstance(setSavedInstanceExtend.InstanceId,\
      \ setSavedInstanceExtend.ExtensionTime);\n    \n    // Send confirmation to\
      \ client\n    WorldPackets::Calendar::SavedInstanceExtendResult result;\n  \
      \  result.Result = 0; // Success\n    SendPacket(result.Write());\n}"
    language: cpp
  notes: This method is part of the calendar and instance management system. It requires
    proper authentication and player permission checks before extending any saved
    instances. The extension time is typically limited by server configuration and
    player group membership.
  warnings: Improper handling of instance extensions can lead to synchronization issues
    with the calendar system. Always validate that the player has permission to extend
    the specific instance before processing the request.
  related:
  - CanExtendInstance
  - ExtendSavedInstance
  - HandleCalendarRemoveEvent
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T19:17:38.927760'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
