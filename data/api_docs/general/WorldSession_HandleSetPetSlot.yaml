api:
  class: WorldSession
  method: HandleSetPetSlot
  signature: void WorldSession::HandleSetPetSlot(WorldPackets::NPC::SetPetSlot & setPetSlot)
documentation:
  brief: Processes a client request to set or change the slot position of a pet in
    the player's pet bar.
  description: The HandleSetPetSlot method handles incoming packets from the client
    that instruct the server to update the position of a pet within the player's pet
    action bar. This method is part of the WorldSession class and is responsible for
    managing pet slot assignments, ensuring that pets are correctly placed in their
    designated slots according to player input. It typically occurs when a player
    drags and drops a pet icon onto a different slot in their pet bar interface. The
    method validates the requested slot change and updates internal state accordingly,
    maintaining synchronization between client and server regarding pet positioning.
  parameters: []
  returns: null
  examples:
  - title: Basic usage within WorldSession context
    code: "void WorldSession::HandleSetPetSlot(WorldPackets::NPC::SetPetSlot& setPetSlot)\n\
      {\n    // Validate and process the pet slot change\n    if (Player* player =\
      \ GetPlayer())\n    {\n        // Apply the new pet slot configuration\n   \
      \     player->SetPetSlot(setPetSlot.NewSlot);\n    }\n}"
    language: cpp
  notes: This method is typically invoked as part of the packet handling system in
    TrinityCore. It assumes that the client has already validated basic input parameters
    before sending the request. The actual pet slot management logic may involve checking
    for valid pet ownership, ensuring slot availability, and updating UI state on
    both client and server sides.
  warnings: Improper handling of this method could lead to incorrect pet positioning
    in the UI or synchronization issues between client and server. Ensure that all
    pet-related slot changes are validated against player permissions and existing
    pet states.
  related:
  - GetPlayer
  - SetPetSlot
  - HandlePetAction
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T19:16:21.399245'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
