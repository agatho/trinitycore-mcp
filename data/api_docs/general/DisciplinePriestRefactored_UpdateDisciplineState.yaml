api:
  class: DisciplinePriestRefactored
  method: UpdateDisciplineState
  signature: void DisciplinePriestRefactored::UpdateDisciplineState()
documentation:
  brief: Updates the discipline state of the priest, managing aura effects and spell
    interactions.
  description: 'The UpdateDisciplineState method is responsible for maintaining and
    updating the current discipline-specific state of a Discipline Priest character.
    This includes managing active auras, spell cooldowns, and interaction states between
    various discipline abilities such as Power Word: Shield, Penance, and Inner Fire.
    The method ensures that all discipline-related mechanics are properly synchronized
    with the game''s internal state machine, particularly during combat scenarios
    or when transitioning between different priest states. It typically gets called
    during AI updates or state transitions to ensure that the priest''s discipline
    capabilities remain consistent with the current gameplay context.'
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in AI Update Loop
    code: "void DisciplinePriestAI::UpdateAI(uint32 diff)\n{\n    // ... other AI\
      \ logic ...\n    if (m_disciplineStateTimer <= diff)\n    {\n        m_disciplineStateTimer\
      \ = 1000; // Reset timer\n        m_priest->UpdateDisciplineState();\n    }\n\
      \    else\n    {\n        m_disciplineStateTimer -= diff;\n    }\n}"
    language: cpp
  notes: This method should be called regularly during AI updates to maintain proper
    discipline state synchronization. It may internally trigger spell refreshes or
    aura updates that affect the priest's performance in combat.
  warnings: null
  related:
  - UpdateDisciplineState
  - CastPowerWordShield
  - CastPenance
  - CastInnerFire
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T06:10:41.500070'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
