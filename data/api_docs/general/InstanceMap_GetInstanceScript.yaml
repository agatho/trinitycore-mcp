api:
  class: InstanceMap
  method: GetInstanceScript
  signature: const InstanceScript * InstanceMap::GetInstanceScript() const
documentation:
  brief: Retrieves the instance script associated with this map instance.
  description: The GetInstanceScript method returns a pointer to the InstanceScript
    object that manages the game logic for this specific instance map. This script
    is responsible for handling events, managing quest states, controlling NPC behavior,
    and other instance-specific mechanics. The returned pointer is constant, meaning
    it should not be modified directly. This method is typically used by subsystems
    that need to interact with or query the state of an instance's scripted elements.
  parameters: []
  returns: A const pointer to the InstanceScript object associated with this map instance,
    or nullptr if no instance script has been assigned.
  examples:
  - title: Basic Usage
    code: "if (InstanceScript* script = map->GetInstanceScript()) {\n    // Use the\
      \ instance script\n    script->HandleEvent(EVENT_TYPE_1);\n}"
    language: cpp
  - title: Checking for Script Existence
    code: "const InstanceScript* script = instanceMap->GetInstanceScript();\nif (script\
      \ != nullptr) {\n    // Safe to use the script\n    uint32 bossKills = script->GetBossState(BOSS_ID_1);\n\
      } else {\n    // No script assigned\n    sLog->outError(\"No instance script\
      \ found for map %u\", instanceMap->GetId());\n}"
    language: cpp
  notes: The InstanceScript pointer returned by this method is managed by the map's
    lifecycle. It should not be deleted or modified directly. The method will return
    nullptr if the map has not been initialized with an instance script, which can
    happen for non-instance maps or during initialization phases.
  warnings: Do not assume that a valid InstanceScript pointer will always be returned.
    Always check for null before using the returned pointer to avoid crashes. Additionally,
    since this is a const method, any modifications to the instance script's state
    should be performed through methods provided by the InstanceScript class itself.
  related:
  - InstanceMap::SetInstanceScript
  - InstanceMap::GetId
  - InstanceMap::IsDungeon
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T03:10:29.126098'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
