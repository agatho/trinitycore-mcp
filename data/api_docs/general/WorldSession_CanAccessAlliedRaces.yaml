api:
  class: WorldSession
  method: CanAccessAlliedRaces
  signature: bool WorldSession::CanAccessAlliedRaces() const
documentation:
  brief: Determines whether the player session has access to allied race features
    in World of Warcraft.
  description: The CanAccessAlliedRaces method checks if the current WorldSession's
    player character is eligible to access allied race functionality within the game.
    This typically involves verifying that the player's account or character meets
    certain requirements, such as having the required expansion content installed
    or being part of a specific game region's allowed player base. The method serves
    as a gatekeeper for allied race-related features like character creation options,
    appearance customization, and related gameplay mechanics. It returns true if access
    is granted, false otherwise.
  parameters: []
  returns: Returns true if the session's player has permission to use allied race
    features; otherwise returns false.
  examples:
  - title: Basic Access Check
    code: "if (session->CanAccessAlliedRaces()) {\n    // Allow allied race character\
      \ creation or appearance options\n    SendAlliedRaceOptions();\n} else {\n \
      \   // Deny access to allied race features\n    SendAccessDeniedMessage();\n\
      }"
    language: cpp
  - title: Conditional Feature Enablement
    code: "void Player::HandleAlliedRaceRequest() {\n    if (GetSession()->CanAccessAlliedRaces())\
      \ {\n        // Proceed with allied race data loading\n        LoadAlliedRaceData();\n\
      \        SendAlliedRaceInfo();\n    } else {\n        // Log access attempt\
      \ and deny feature\n        sLog->outDebug(LOG_FILTER_PLAYER, \"Player %s attempted\
      \ to access allied races without permission.\", GetName());\n        SendErrorMessage(ERR_PLAYER_NOT_FOUND);\n\
      \    }\n}"
    language: cpp
  notes: This method likely checks account flags, expansion status, and possibly server
    configuration settings. It may be called frequently during character selection
    and appearance customization flows. The result can vary based on the player's
    region, account status, or game version.
  warnings: Do not assume all players have access to allied races; always verify using
    this method before enabling allied race features. Incorrect usage could lead to
    unauthorized access to restricted content or gameplay elements.
  related:
  - GetPlayer
  - HasExpansion
  - IsAccountGM
  - CanUseAlliedRace
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T20:06:19.856685'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
