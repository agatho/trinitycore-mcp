api:
  class: LFGMgr
  method: SetState
  signature: void LFGMgr::SetState(int guid, LfgState state)
documentation:
  brief: Sets the LFG state for a player with the specified GUID.
  description: The SetState method updates the Looking For Group (LFG) state of a
    player identified by their GUID. This method is used internally by the TrinityCore
    LFG system to track and manage player participation in group finding activities.
    The LfgState parameter defines the current status of the player's LFG participation,
    such as idle, queued, or in a group. This method typically gets called when players
    join or leave LFG queues, accept group invitations, or when their LFG status changes
    due to game events.
  parameters:
  - name: guid
    description: The unique identifier (GUID) of the player whose LFG state is being
      set. This should be a valid player GUID from the World of Warcraft client.
  - name: state
    description: The new LFG state to assign to the player. Valid values are typically
      defined by the LfgState enumeration, which includes states like LFG_STATE_NONE,
      LFG_STATE_IDLE, LFG_STATE_QUEUED, LFG_STATE_ROLECHECK, LFG_STATE_PROPOSAL, LFG_STATE_GROUP,
      and LFG_STATE_FINISHED.
  returns: null
  examples:
  - title: Setting a player's LFG state to queued
    code: LFGMgr::instance()->SetState(123456, LFG_STATE_QUEUED);
    language: cpp
  - title: Setting a player's LFG state to in group
    code: LFGMgr::instance()->SetState(player->GetGUID().GetCounter(), LFG_STATE_GROUP);
    language: cpp
  notes: This method is part of the internal LFG system and should not be called directly
    from game scripts or external modules without understanding the full implications.
    The method updates internal player state tracking but does not send any network
    messages to clients; client updates are handled separately by the LFG system.
  warnings: Improper use of this method can cause inconsistencies in the LFG queue
    system and may lead to players being stuck in incorrect states. Ensure that the
    GUID corresponds to an actual online player and that the state transition is valid
    according to the LFG state machine logic.
  related:
  - GetState
  - JoinLfg
  - LeaveLfg
  - UpdateLfgState
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T10:48:51.556203'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
