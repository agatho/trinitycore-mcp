api:
  class: InteractionManager
  method: DepositToBank
  signature: bool InteractionManager::DepositToBank(Player * bot, Creature * banker,
    Item * item, uint32 count)
documentation:
  brief: Deposits a specified item from a player's inventory to their bank via a banker
    creature.
  description: The DepositToBank method transfers a given item from the player's main
    inventory to their bank inventory through interaction with a banker creature.
    It handles validation of item availability, bank slot space, and ensures proper
    transaction handling within the game's economy system. The method returns true
    upon successful deposit, or false if the operation fails due to invalid parameters,
    insufficient space, or other constraints.
  parameters:
  - name: bot
    description: Pointer to the Player object whose inventory will be modified. Must
      be a valid player instance with an active session.
  - name: banker
    description: Pointer to the Creature object representing the banker NPC. Must
      be a valid banker creature with proper interaction flags enabled.
  - name: item
    description: Pointer to the Item object to be deposited. Must be a valid item
      currently in the player's inventory.
  - name: count
    description: Number of items to deposit. Must be a positive integer representing
      quantity, or 0 to deposit all available items.
  returns: Returns true if the item was successfully deposited into the bank, false
    otherwise. Failure conditions include invalid parameters, insufficient bank space,
    item not found in inventory, or interaction errors with the banker.
  examples:
  - title: Basic Item Deposit
    code: 'Player* player = ...;

      Creature* banker = ...;

      Item* item = player->GetItemByPos(INVENTORY_SLOT_BAG_0, 0);

      bool success = sInteractionManager->DepositToBank(player, banker, item, 1);'
    language: cpp
  - title: Deposit All Items
    code: 'Player* player = ...;

      Creature* banker = ...;

      Item* item = player->GetItemByPos(INVENTORY_SLOT_BAG_0, 0);

      uint32 count = item->GetCount();

      bool success = sInteractionManager->DepositToBank(player, banker, item, count);'
    language: cpp
  notes: This method assumes the player has sufficient bank space and that the banker
    creature is within interaction range. The implementation handles item stack splitting
    if necessary, and updates both the player's inventory and bank data structures
    accordingly.
  warnings: Ensure that the player and banker pointers are valid before calling this
    method to avoid crashes. Also verify that the item exists in the player's inventory
    before attempting deposit.
  related:
  - WithdrawFromBank
  - CanDepositToBank
  - GetBankSlots
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T02:31:18.571402'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
