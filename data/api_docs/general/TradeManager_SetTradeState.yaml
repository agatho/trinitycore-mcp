api:
  class: TradeManager
  method: SetTradeState
  signature: void TradeManager::SetTradeState(TradeState newState)
documentation:
  brief: Sets the trade state of a player's trade session.
  description: The SetTradeState method updates the current trade state for a player's
    active trade session. This method is typically used internally by the TrinityCore
    framework to manage the flow of trade operations between two players, such as
    when a player accepts or cancels a trade offer. The trade state determines what
    actions are allowed during the trading process and ensures synchronization between
    both parties involved in the trade.
  parameters:
  - name: newState
    description: The new TradeState value to assign to the current trade session.
      Valid values include TRADE_STATE_ACCEPTED, TRADE_STATE_CANCELLED, TRADE_STATE_UNACCEPTED,
      and TRADE_STATE_COMPLETE.
  returns: null
  examples:
  - title: Setting Trade State to Accepted
    code: 'TradeManager* tradeMgr = player->GetTradeData();

      tradeMgr->SetTradeState(TRADE_STATE_ACCEPTED);'
    language: cpp
  - title: Canceling a Trade Session
    code: 'TradeManager* tradeMgr = player->GetTradeData();

      tradeMgr->SetTradeState(TRADE_STATE_CANCELLED);'
    language: cpp
  notes: This method should only be called on active trade sessions. It is not intended
    for direct use outside of the core trading logic. The TradeManager instance must
    be valid and associated with an ongoing trade.
  warnings: Calling this method without a proper trade session context may result
    in undefined behavior or crashes. Always verify that the player has an active
    trade before calling SetTradeState.
  related:
  - GetTradeState
  - InitiateTrade
  - CancelTrade
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T00:42:24.845467'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
