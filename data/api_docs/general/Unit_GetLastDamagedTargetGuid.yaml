api:
  class: Unit
  method: GetLastDamagedTargetGuid
  signature: int Unit::GetLastDamagedTargetGuid() const
documentation:
  brief: Returns the GUID of the last target that dealt damage to this unit.
  description: This method retrieves the unique identifier (GUID) of the most recent
    target that inflicted damage upon the current Unit object. It is commonly used
    in combat systems to track which entity last caused damage, particularly useful
    for determining the source of damage for various mechanics such as damage reflection
    or retaliation. The method returns an invalid GUID if no damage has been dealt
    recently or if the unit is not currently engaged in combat. This functionality
    is essential for maintaining accurate combat tracking and ensuring proper game
    mechanics implementation.
  parameters: []
  returns: Returns the GUID of the last target that dealt damage to this unit, or
    an invalid GUID if no such target exists. The GUID represents a unique identifier
    for the entity that caused the damage, typically used in game logic to identify
    specific targets.
  examples:
  - title: Basic Usage Example
    code: "Unit* target = unit->GetLastDamagedTargetGuid();\nif (target && target->IsAlive())\
      \ {\n    // Process damage source\n}"
    language: cpp
  notes: This method is typically used in conjunction with combat-related functions
    and may be affected by the unit's current state. It should be called only when
    necessary as it involves internal tracking mechanisms.
  warnings: This method does not guarantee that the returned GUID corresponds to a
    living entity; it may return an invalid GUID if the last damage source was not
    a valid target or if the unit is not currently in combat.
  related:
  - GetLastDamagedTarget
  - GetDamageSource
metadata:
  confidence: 0.9
  generated_at: '2025-10-30T13:05:56.302298'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
