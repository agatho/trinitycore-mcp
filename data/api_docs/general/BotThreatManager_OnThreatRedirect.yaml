api:
  class: BotThreatManager
  method: OnThreatRedirect
  signature: void BotThreatManager::OnThreatRedirect(Unit * from, Unit * to, float
    amount)
documentation:
  brief: Handles threat redirection events between units in the bot's threat management
    system.
  description: The OnThreatRedirect method is invoked when a threat redirect event
    occurs within the bot's threat management system. This method processes the redirection
    of threat from one unit to another, typically used in scenarios where a bot's
    target changes or when threat is transferred due to abilities like taunts or threat
    manipulation. The method updates internal threat tracking mechanisms to reflect
    the new threat distribution among units. It serves as a critical component for
    maintaining proper AI behavior and ensuring that bots respond appropriately to
    dynamic combat situations involving threat shifts.
  parameters:
  - name: from
    description: Pointer to the Unit from which threat is being redirected. This represents
      the source of the threat transfer.
  - name: to
    description: Pointer to the Unit to which threat is being redirected. This represents
      the target receiving the threat.
  - name: amount
    description: The amount of threat being redirected from the 'from' unit to the
      'to' unit. This value determines how much threat is transferred.
  returns: null
  examples:
  - title: Basic Threat Redirect Handling
    code: "void MyBotAI::HandleThreatRedirect(Unit* from, Unit* to, float amount)\n\
      {\n    m_threatManager->OnThreatRedirect(from, to, amount);\n}"
    language: cpp
  - title: Processing Threat Redirect with Validation
    code: "void BotThreatManager::OnThreatRedirect(Unit* from, Unit* to, float amount)\n\
      {\n    if (!from || !to || amount <= 0.0f)\n        return;\n    \n    // Update\
      \ internal threat tracking\n    m_threatMap[from].Remove(amount);\n    m_threatMap[to].Add(amount);\n\
      \    \n    // Trigger any associated events or callbacks\n    OnThreatChanged(from,\
      \ to, amount);\n}"
    language: cpp
  notes: This method is typically called internally by the threat management system
    when threat redirection occurs. Developers should ensure that both 'from' and
    'to' pointers are valid before calling this method. The method assumes that threat
    values are positive and that the redirect operation is meaningful within the context
    of the current combat state.
  warnings: Calling this method with null pointers or invalid threat amounts may lead
    to undefined behavior. Ensure that units involved in threat redirection are valid
    and active targets. Improper handling of threat redirects can cause AI behavior
    anomalies, such as incorrect targeting or failure to respond to threat changes.
  related:
  - OnThreatChanged
  - GetThreat
  - AddThreat
  - RemoveThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T10:30:24.025738'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
