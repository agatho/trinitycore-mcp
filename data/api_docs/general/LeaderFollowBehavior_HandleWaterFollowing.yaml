api:
  class: LeaderFollowBehavior
  method: HandleWaterFollowing
  signature: bool LeaderFollowBehavior::HandleWaterFollowing(Player * bot, Player
    * leader)
documentation:
  brief: Determines whether a bot should follow the leader while swimming in water.
  description: The HandleWaterFollowing method evaluates if a bot character should
    continue following its leader when both are in a swimming state. This behavior
    is typically used within the LeaderFollowBehavior AI system to manage group movement
    mechanics during aquatic traversal. The method checks various conditions such
    as the bot's ability to swim, distance from the leader, and whether the bot is
    currently in water. It returns true if the bot should continue following the leader
    in water, or false if it should stop or take alternative actions.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot character that
      may be following the leader
  - name: leader
    description: Pointer to the Player object representing the leader character that
      the bot is following
  returns: Returns true if the bot should continue following the leader while swimming,
    false otherwise. The method may return false if the bot cannot swim, is too far
    from the leader, or if swimming behavior is not appropriate in current conditions.
  examples:
  - title: Basic usage of HandleWaterFollowing
    code: "if (leaderFollowBehavior->HandleWaterFollowing(bot, leader)) {\n    //\
      \ Continue following the leader while swimming\n    bot->MoveTowards(leader->GetPosition());\n\
      } else {\n    // Stop following or take alternative action\n    bot->StopMoving();\n\
      }"
    language: cpp
  - title: Integration with movement logic
    code: "void BotMovementAI::UpdateAI(uint32 diff) {\n    if (leader && bot) {\n\
      \        if (bot->IsInWater() && leader->IsInWater()) {\n            if (!HandleWaterFollowing(bot,\
      \ leader)) {\n                // Handle case where bot should not follow in\
      \ water\n                DoAlternativeMovement();\n            }\n        }\n\
      \    }\n}"
    language: cpp
  notes: This method is part of the TrinityCore AI system and relies on internal state
    tracking of player movement and swimming capabilities. The implementation may
    consider factors like bot's swimming speed, leader's position, and environmental
    conditions. This method should be called regularly during AI updates to maintain
    proper group behavior.
  warnings: Ensure that both bot and leader pointers are valid before calling this
    method to prevent null pointer exceptions. The method assumes that both characters
    are already in water; calling it when either character is not swimming may lead
    to unexpected behavior.
  related:
  - LeaderFollowBehavior::Update
  - LeaderFollowBehavior::HandleMovement
  - LeaderFollowBehavior::IsFollowing
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T10:27:54.320727'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
