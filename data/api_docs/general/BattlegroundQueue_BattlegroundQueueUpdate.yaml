api:
  class: BattlegroundQueue
  method: BattlegroundQueueUpdate
  signature: void BattlegroundQueue::BattlegroundQueueUpdate(uint32 diff, int bracket_id,
    uint32 minRating)
documentation:
  brief: Updates the battleground queue with the specified parameters.
  description: The BattlegroundQueueUpdate method is responsible for processing and
    updating the state of the battleground queue system. It handles the logic for
    matching players based on their rating brackets, managing queue timeouts, and
    preparing groups for battleground entry. This method is typically called periodically
    by the game loop to ensure that queued players are matched appropriately according
    to their skill levels and the current queue configuration. The method uses the
    provided bracket_id to determine which queue group to update and minRating to
    filter or prioritize players based on their arena or battleground rating.
  parameters:
  - name: diff
    description: The time elapsed (in milliseconds) since the last update call. Used
      to calculate timeouts and manage queue timing.
  - name: bracket_id
    description: Identifier for the specific rating bracket being updated. Determines
      which group of players (based on skill level) should be processed in this update
      cycle.
  - name: minRating
    description: Minimum rating threshold used to filter players in the queue. Only
      players meeting or exceeding this rating will be considered for matching in
      this bracket.
  returns: null
  examples:
  - title: Basic Usage in Game Loop
    code: "void UpdateBattlegroundQueue()\n{\n    uint32 diff = sWorld->GetLastTickTime();\n\
      \    BattlegroundQueue::BattlegroundQueueUpdate(diff, 0, 1500);\n}"
    language: cpp
  - title: Updating Multiple Rating Brackets
    code: "void UpdateAllBattlegroundQueues()\n{\n    uint32 diff = sWorld->GetLastTickTime();\n\
      \    BattlegroundQueue::BattlegroundQueueUpdate(diff, 0, 1500);\n    BattlegroundQueue::BattlegroundQueueUpdate(diff,\
      \ 1, 2000);\n    BattlegroundQueue::BattlegroundQueueUpdate(diff, 2, 2500);\n\
      }"
    language: cpp
  notes: This method is part of the core battleground queue management system and
    should only be called from within the game's main update loop. It performs critical
    matchmaking logic that affects player experience and game balance. The bracket_id
    parameter is crucial for ensuring players are matched with opponents of similar
    skill levels.
  warnings: Incorrect usage of the bracket_id or minRating parameters can lead to
    improper matchmaking, potentially causing unbalanced battlegrounds or preventing
    players from entering queues. This method should not be called directly by external
    systems without proper understanding of the queue system's internal state.
  related:
  - BattlegroundQueue::AddPlayer
  - BattlegroundQueue::RemovePlayer
  - BattlegroundQueue::CheckMatchingBracket
  - BattlegroundQueue::GetPlayerQueueInfo
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T12:28:46.159922'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
