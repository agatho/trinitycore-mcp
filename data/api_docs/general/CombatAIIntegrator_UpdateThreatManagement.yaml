api:
  class: CombatAIIntegrator
  method: UpdateThreatManagement
  signature: void CombatAIIntegrator::UpdateThreatManagement(uint32 diff)
documentation:
  brief: Updates the threat management system for combat AI entities.
  description: The UpdateThreatManagement method is responsible for processing and
    maintaining threat levels among targets within the CombatAIIntegrator's scope.
    It evaluates current combat states, updates mob aggro tables, recalculates threat
    values based on damage dealt or received, and ensures that the AI maintains proper
    targeting behavior according to game mechanics. This method typically runs during
    each AI update cycle and is crucial for maintaining realistic combat dynamics
    in World of Warcraft-style encounters.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in AI Update Loop
    code: "void CombatAIIntegrator::Update()\n{\n    // ... other AI logic ...\n \
      \   UpdateThreatManagement(diff);\n    // ... rest of AI logic ...\n}"
    language: cpp
  notes: This method should be called regularly within the AI update loop, typically
    every tick or at fixed intervals. It interacts with internal threat tables and
    may modify target selection behavior dynamically. The 'diff' parameter passed
    to this method represents time elapsed since last call and is used for proper
    timing of threat recalculations.
  warnings: Do not call this method outside of the AI update context as it relies
    on current combat state variables that are only valid during active AI processing.
    Calling it at inappropriate times may result in inconsistent threat values or
    incorrect targeting behavior.
  related:
  - UpdateCombatState
  - CalculateThreat
  - GetTargetThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T04:38:40.539168'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
