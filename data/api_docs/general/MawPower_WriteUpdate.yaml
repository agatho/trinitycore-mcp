api:
  class: MawPower
  method: WriteUpdate
  signature: void MawPower::WriteUpdate(ByteBuffer & data, bool ignoreChangesMask,
    const Player * owner, const Player * receiver) const
documentation:
  brief: Serializes MawPower state into a ByteBuffer for network transmission to a
    specific player.
  description: The WriteUpdate method serializes the current state of a MawPower object
    into a ByteBuffer, preparing it for network transmission. This method is typically
    used during packet construction to send updates about a player's maw power data
    to either the owner of the power or another player in the vicinity. The serialization
    process respects the changes mask unless explicitly ignored, ensuring only modified
    fields are sent. It takes into account the owner and receiver players to determine
    appropriate data visibility and formatting. This method is part of the TrinityCore's
    object update system, which efficiently transmits game state changes over the
    network.
  parameters:
  - name: data
    description: Reference to a ByteBuffer where the serialized MawPower data will
      be written. This buffer is typically used to construct network packets.
  - name: ignoreChangesMask
    description: Boolean flag indicating whether to ignore the internal changes mask.
      When true, all fields are serialized regardless of modification status.
  - name: owner
    description: Pointer to the Player object that owns this MawPower. Used to determine
      what data should be visible to the receiver based on ownership context.
  - name: receiver
    description: Pointer to the Player object who will receive this update. Determines
      visibility and formatting of the serialized data for the specific recipient.
  returns: null
  examples:
  - title: Basic usage in packet construction
    code: 'ByteBuffer buffer;

      MawPower power;

      Player* owner = ...;

      Player* receiver = ...;

      power.WriteUpdate(buffer, false, owner, receiver);

      // Buffer now contains serialized MawPower data for network transmission'
    language: cpp
  - title: Forcing full serialization regardless of changes
    code: 'ByteBuffer buffer;

      MawPower power;

      Player* owner = ...;

      Player* receiver = ...;

      power.WriteUpdate(buffer, true, owner, receiver);

      // All MawPower fields are written to buffer, ignoring change tracking'
    language: cpp
  notes: This method is typically called as part of the object update system in TrinityCore.
    The changes mask mechanism helps reduce bandwidth usage by only sending modified
    data. When ignoreChangesMask is true, this optimization is bypassed and full serialization
    occurs. The owner and receiver parameters are crucial for determining visibility
    rules and proper packet formatting.
  warnings: Improper use of the ignoreChangesMask parameter can lead to unnecessary
    network traffic. Always consider whether partial updates are sufficient for your
    use case. The method assumes valid Player pointers, so passing null pointers may
    cause undefined behavior.
  related:
  - MawPower::BuildUpdateData
  - MawPower::ResetUpdateMask
  - MawPower::GetUpdateMask
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T00:15:54.750356'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
