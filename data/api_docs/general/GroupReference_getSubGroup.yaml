api:
  class: GroupReference
  method: getSubGroup
  signature: int GroupReference::getSubGroup() const
documentation:
  brief: Retrieves the sub-group index of the player within their group
  description: The getSubGroup method returns the sub-group number (also known as
    subgroup index) that the player currently belongs to within their group. In World
    of Warcraft's grouping system, players are organized into sub-groups (or 'subgroups')
    when in a raid or party. Each sub-group typically contains up to 5 players and
    is used for various game mechanics such as loot distribution and targeting. The
    returned value represents the zero-based index of the sub-group within the group,
    ranging from 0 to 7 for raid groups (8 sub-groups total) or 0 to 4 for party groups
    (5 sub-groups total). This method is commonly used in group management systems
    and loot distribution algorithms.
  parameters: []
  returns: An integer representing the zero-based index of the player's sub-group
    within their group. For raid groups, valid values are 0-7; for party groups, valid
    values are 0-4. Returns -1 if the player is not in a group or if the group reference
    is invalid.
  examples:
  - title: Basic usage to determine player's sub-group
    code: "GroupReference* groupRef = player->GetGroupRef();\nif (groupRef != nullptr)\n\
      {\n    int subGroup = groupRef->getSubGroup();\n    printf(\"Player is in sub-group\
      \ %d\\n\", subGroup);\n}"
    language: cpp
  - title: Using sub-group information for loot distribution
    code: "GroupReference* groupRef = player->GetGroupRef();\nif (groupRef != nullptr\
      \ && groupRef->getSubGroup() >= 0)\n{\n    int subGroup = groupRef->getSubGroup();\n\
      \    // Distribute loot based on sub-group membership\n    if (subGroup < 4)\n\
      \    {\n        // Handle first four sub-groups differently\n    }\n    else\n\
      \    {\n        // Handle remaining sub-groups\n    }\n}"
    language: cpp
  notes: This method is typically used in conjunction with other group management
    functions. The sub-group index returned by this method corresponds to the internal
    structure of the group and may change when players are added or removed from the
    group. In TrinityCore, this value is directly tied to the player's position within
    the group's internal data structures.
  warnings: This method should only be called on valid GroupReference objects. Calling
    it on a null or invalid reference will likely result in undefined behavior or
    incorrect values. Always verify that the player is actually in a group before
    calling this method.
  related:
  - setSubGroup
  - getGroup
  - isInGroup
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T12:56:04.923726'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
