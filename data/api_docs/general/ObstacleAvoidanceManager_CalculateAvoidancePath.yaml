api:
  class: ObstacleAvoidanceManager
  method: CalculateAvoidancePath
  signature: int ObstacleAvoidanceManager::CalculateAvoidancePath(const int & start,
    const int & goal, const ObstacleInfo & obstacle)
documentation:
  brief: Calculates an avoidance path for an obstacle using start and goal positions.
  description: The CalculateAvoidancePath method computes a navigational path that
    avoids obstacles between a starting point and a goal position. This method is
    typically used in AI pathfinding systems to ensure units or objects can navigate
    around environmental hazards or other obstacles. The method takes into account
    the current obstacle information and returns a path identifier or status code
    indicating success or failure of the calculation. It's commonly employed in game
    mechanics where dynamic obstacle avoidance is required for NPC movement or player
    character behavior.
  parameters:
  - name: start
    description: The starting position coordinate (typically an integer representing
      a grid cell or node index) from which the avoidance path begins.
  - name: goal
    description: The target position coordinate (typically an integer representing
      a grid cell or node index) that the avoidance path should reach.
  - name: obstacle
    description: An ObstacleInfo object containing details about the obstacle to be
      avoided, including its type, position, and size parameters.
  returns: Returns an integer value representing the status or identifier of the calculated
    avoidance path. A positive value typically indicates a successful path calculation
    with a unique path ID, zero may indicate no path found, and negative values could
    represent errors such as invalid inputs or pathfinding failures.
  examples:
  - title: Basic Usage Example
    code: "int pathId = avoidanceManager.CalculateAvoidancePath(10, 50, obstacleInfo);\n\
      if (pathId > 0) {\n    // Path successfully calculated\n    std::cout << \"\
      Path ID: \" << pathId << std::endl;\n} else {\n    // Handle error or no path\
      \ case\n    std::cout << \"Failed to calculate avoidance path.\" << std::endl;\n\
      }"
    language: cpp
  - title: Advanced Usage with Error Handling
    code: "ObstacleInfo obstacle;\nobstacle.type = ObstacleType::WALL;\nobstacle.position.x\
      \ = 25.0f;\nobstacle.position.y = 30.0f;\nobstacle.size = 5.0f;\n\nint result\
      \ = avoidanceManager.CalculateAvoidancePath(100, 200, obstacle);\nswitch (result)\
      \ {\ncase -1:\n    // Invalid start position\n    break;\ncase -2:\n    // Invalid\
      \ goal position\n    break;\ncase 0:\n    // No valid path found\n    break;\n\
      default:\n    // Valid path ID returned\n    std::cout << \"Avoidance path calculated\
      \ with ID: \" << result << std::endl;\n    break;\n}"
    language: cpp
  notes: This method likely performs A* or similar pathfinding algorithm internally
    to determine the optimal route avoiding obstacles. The integer-based coordinates
    suggest it operates on a grid system, which is common in TrinityCore's navigation
    mesh implementation. Performance may vary based on obstacle complexity and map
    size.
  warnings: Ensure that both start and goal positions are valid within the navigation
    mesh bounds. Passing invalid obstacle information can lead to undefined behavior
    or incorrect path calculations. The method should be called only when the obstacle
    data is fully initialized.
  related:
  - GetObstacleInfo
  - UpdateObstacle
  - ClearObstacles
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T01:24:37.120595'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
