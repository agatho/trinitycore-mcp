api:
  class: PathfindingUtils
  method: IsPositionOnGround
  signature: bool PathfindingUtils::IsPositionOnGround(const int & pos, Map * map)
documentation:
  brief: Checks if a given position is on valid ground within the specified map.
  description: The IsPositionOnGround method determines whether a specified position
    is located on solid ground within the provided map context. This utility function
    is commonly used in pathfinding and movement logic to verify that an NPC or player
    can physically stand at a given location. It evaluates the terrain height and
    collision data to ensure the position is not in the air or inside a solid object.
    The method requires a valid Map instance and a position parameter that represents
    the coordinates to be checked.
  parameters:
  - name: pos
    description: Reference to an integer representing the position coordinate to check.
      This typically corresponds to a specific X or Y coordinate in the map's coordinate
      system.
  - name: map
    description: Pointer to a Map object that defines the game world context for the
      position check. The method uses this map's terrain and collision data to validate
      the ground position.
  returns: Returns true if the specified position is on valid ground within the map,
    false otherwise. A return value of false may indicate that the position is in
    the air, inside a solid object, or outside the boundaries of the map.
  examples:
  - title: Basic usage to check if a position is on ground
    code: "int x = 1000;\nMap* map = player->GetMap();\nbool isOnGround = PathfindingUtils::IsPositionOnGround(x,\
      \ map);\nif (isOnGround)\n{\n    // Proceed with movement or action\n}"
    language: cpp
  - title: Using IsPositionOnGround in pathfinding validation
    code: "float x = 1234.5f;\nfloat y = 6789.0f;\nMap* map = player->GetMap();\n\
      // Validate that the destination is on ground before moving\nif (PathfindingUtils::IsPositionOnGround(x,\
      \ map) && PathfindingUtils::IsPositionOnGround(y, map))\n{\n    // Safe to proceed\
      \ with movement logic\n}"
    language: cpp
  notes: This method relies on the underlying map's height and collision detection
    systems. Performance may vary depending on map size and complexity. The position
    parameter should be interpreted according to the map's coordinate system, which
    typically uses world coordinates rather than local or grid-based coordinates.
  warnings: Ensure that the Map pointer is valid before calling this method, as passing
    a null pointer will likely cause undefined behavior. The method may return false
    for positions that are technically on ground but at very steep angles where the
    collision detection considers them invalid.
  related:
  - IsPathWalkable
  - GetHeightAtPosition
  - ValidateMovement
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T22:05:07.577010'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
