api:
  class: CTROptions
  method: WriteCreate
  signature: void CTROptions::WriteCreate(ByteBuffer & data, const Player * owner,
    const Player * receiver) const
documentation:
  brief: Writes creation data for a CTROptions object into a ByteBuffer for transmission
    to a player.
  description: The WriteCreate method serializes the state and properties of a CTROptions
    object into a ByteBuffer, preparing it for network transmission to a specific
    player. This method is typically used during object initialization or when sending
    updates about the options state to clients. The data written includes relevant
    flags, settings, and identifiers that define how the CTROptions should be interpreted
    by the receiving client. It requires both an owner and receiver player reference
    to properly format the data according to the game's networking protocol.
  parameters:
  - name: data
    description: Reference to a ByteBuffer where the serialized creation data will
      be written. This buffer is used for network transmission to the client.
  - name: owner
    description: Pointer to the Player object that owns this CTROptions instance.
      Used to determine ownership-related flags and settings in the serialized data.
  - name: receiver
    description: Pointer to the Player object who will receive this data. Used to
      customize the serialized output based on the receiver's perspective or permissions.
  returns: null
  examples:
  - title: Basic usage in object creation
    code: 'ByteBuffer data;

      Player* owner = ...; // Get owner player

      Player* receiver = ...; // Get receiver player

      CTROptions options;

      options.WriteCreate(data, owner, receiver);'
    language: cpp
  - title: Sending CTROptions update to client
    code: "void SendOptionsUpdate(Player* player)\n{\n    ByteBuffer data;\n    Player*\
      \ owner = player;\n    CTROptions options;\n    options.WriteCreate(data, owner,\
      \ player);\n    player->GetSession()->SendPacket(&data);\n}"
    language: cpp
  notes: This method is part of the TrinityCore's object serialization system and
    should only be called when preparing data for network transmission. The method
    assumes that both owner and receiver pointers are valid and not null. It may perform
    conditional serialization based on player permissions or game state.
  warnings: Ensure that the ByteBuffer passed in is properly initialized before calling
    this method. Passing null pointers for owner or receiver will likely result in
    undefined behavior or crashes. This method should only be called during appropriate
    network update phases to avoid synchronization issues.
  related:
  - WriteUpdate
  - ReadCreate
  - GetOptions
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T07:19:07.351649'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
