api:
  class: BotAI
  method: OnCombatUpdate
  signature: void BotAI::OnCombatUpdate(uint32 diff)
documentation:
  brief: Updates the bot's combat behavior based on elapsed time since last update
  description: The OnCombatUpdate method is responsible for processing and updating
    the bot's combat-related AI logic during active combat situations. This method
    is typically called from the main AI update loop and handles tasks such as spell
    casting decisions, target selection updates, movement adjustments, and cooldown
    management. It processes combat-specific behaviors that occur over time rather
    than on discrete events, ensuring the bot maintains appropriate combat engagement
    and tactical positioning. The method receives a time delta parameter to calculate
    timing-based actions and maintain synchronization with the game's tick rate.
  parameters:
  - name: diff
    description: The time elapsed (in milliseconds) since the last update call. This
      value is used to determine how much time has passed for cooldown calculations,
      spell timing, and other time-sensitive combat behaviors.
  returns: null
  examples:
  - title: Basic usage in AI update loop
    code: "void BotAI::UpdateAI(uint32 diff)\n{\n    if (me->IsInCombat())\n     \
      \   OnCombatUpdate(diff);\n    // Other AI logic...\n}"
    language: cpp
  - title: Integration with custom combat state handling
    code: "void BotAI::OnCombatUpdate(uint32 diff)\n{\n    if (!me->IsInCombat())\n\
      \        return;\n    \n    // Update spell cooldowns\n    UpdateSpellCooldowns(diff);\n\
      \    \n    // Handle targeting updates\n    UpdateTargeting(diff);\n    \n \
      \   // Process combat movement\n    ProcessCombatMovement(diff);\n}"
    language: cpp
  notes: This method is called frequently during combat and should avoid heavy computations
    to maintain performance. The 'diff' parameter represents the actual time passed
    in milliseconds, which may vary between updates due to frame rate fluctuations.
    It's recommended to use this value for all timing-sensitive operations within
    combat logic.
  warnings: Do not call this method outside of combat situations as it may cause undefined
    behavior or incorrect AI state management. Avoid performing blocking operations
    or heavy database queries within this method as it can impact overall AI responsiveness.
  related:
  - UpdateAI
  - OnEnterCombat
  - OnLeaveCombat
  - UpdateSpellCooldowns
  - UpdateTargeting
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T12:08:00.363777'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
