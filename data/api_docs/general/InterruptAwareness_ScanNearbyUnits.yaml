api:
  class: InterruptAwareness
  method: ScanNearbyUnits
  signature: SpellScanResult InterruptAwareness::ScanNearbyUnits()
documentation:
  brief: Scans nearby units to determine spell casting interruptions and returns a
    result indicating which units are affected.
  description: The ScanNearbyUnits method performs an area-of-effect check around
    the current unit to identify any nearby enemies or allies that may be interrupted
    by spell casting. This function is typically used in conjunction with interruptible
    spells to determine whether a spell's casting should be disrupted due to proximity
    of hostile units. The method evaluates the spatial relationship between the caster
    and surrounding units, considering factors such as distance, line of sight, and
    unit hostility. It returns a SpellScanResult structure that contains detailed
    information about which units were found within the scan range and their potential
    impact on spell casting.
  parameters: []
  returns: A SpellScanResult object containing information about nearby units that
    may interrupt spell casting, including unit GUIDs, distances, and interruption
    status flags.
  examples:
  - title: Basic usage in spell interrupt logic
    code: "SpellScanResult result = interruptAwareness.ScanNearbyUnits();\nif (result.HasInterruptingUnits())\
      \ {\n    // Handle spell interruption\n    Spell::Interrupt();\n}"
    language: cpp
  - title: Checking for specific unit types during scan
    code: "SpellScanResult result = interruptAwareness.ScanNearbyUnits();\nfor (const\
      \ auto& unitInfo : result.GetUnits()) {\n    if (unitInfo.IsHostile() && unitInfo.GetDistance()\
      \ < 5.0f) {\n        // Process hostile unit within 5 yards\n        HandleHostileInterrupt(unitInfo);\n\
      \    }\n}"
    language: cpp
  notes: This method performs a spatial query using the unit's current position and
    radius-based detection. The scan is optimized for performance by limiting the
    number of units checked based on distance thresholds. It should be called only
    when necessary to avoid unnecessary computational overhead during spell casting.
  warnings: The method assumes that the calling unit has valid positioning data. If
    the unit's position is not properly initialized, the scan results may be inaccurate
    or incomplete. Additionally, this method does not account for terrain or obstacles
    that might block line of sight in real-world scenarios.
  related:
  - GetNearbyUnits
  - IsInterruptingUnit
  - SpellScanResult::HasInterruptingUnits
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T02:04:16.555992'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
