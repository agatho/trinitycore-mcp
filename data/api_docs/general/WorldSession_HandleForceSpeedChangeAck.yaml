api:
  class: WorldSession
  method: HandleForceSpeedChangeAck
  signature: void WorldSession::HandleForceSpeedChangeAck(WorldPackets::Movement::MovementSpeedAck
    & packet)
documentation:
  brief: Processes a client's acknowledgment of a forced speed change packet.
  description: The HandleForceSpeedChangeAck method is responsible for handling the
    client's response to a server-initiated speed change event. This method typically
    receives an acknowledgment from the client confirming that it has received and
    processed a movement speed modification, such as a haste buff or slow effect applied
    by the server. It ensures synchronization between server-side movement calculations
    and client-side rendering of character movement. The method is part of the WorldSession's
    packet handling system and is invoked when the client sends back confirmation
    of a previously sent MovementSpeedAck packet.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in packet handling
    code: "void WorldSession::HandleForceSpeedChangeAck(WorldPackets::Movement::MovementSpeedAck&\
      \ packet)\n{\n    // Process the acknowledgment of forced speed change\n   \
      \ Player* player = GetPlayer();\n    if (player)\n    {\n        // Update player's\
      \ movement state based on acknowledgment\n        player->UpdateSpeed(MOVE_RUN,\
      \ true);\n    }\n}"
    language: cpp
  notes: This method is typically called as part of the movement synchronization system
    in TrinityCore. It's important to ensure that the client's acknowledgment matches
    the server's intended speed change state to prevent desynchronization issues.
    The method may be used in conjunction with other movement-related packet handlers
    to maintain consistent character behavior across the network.
  warnings: Improper handling of this method can lead to client-server desynchronization,
    causing players to experience incorrect movement speeds or visual glitches. Ensure
    that all speed changes are properly tracked and acknowledged before considering
    them fully applied.
  related:
  - HandleMovementSpeedChange
  - HandleMoveSplineComplete
  - SendMovementSpeedAck
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T22:11:26.536161'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
