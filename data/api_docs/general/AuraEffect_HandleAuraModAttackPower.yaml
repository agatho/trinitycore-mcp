api:
  class: AuraEffect
  method: HandleAuraModAttackPower
  signature: void AuraEffect::HandleAuraModAttackPower(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Applies or removes an attack power modification aura effect.
  description: The HandleAuraModAttackPower method is responsible for modifying a
    unit's attack power when an aura effect that alters attack power is applied or
    removed. This method is typically invoked during aura application or removal events
    within the TrinityCore framework. It adjusts the target's attack power based on
    the aura's properties, such as percentage or flat modifiers. The method operates
    in conjunction with the AuraApplication object to determine how and when the modification
    should be applied or reverted.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object representing the aura being
      applied or removed. This parameter provides context about which aura is affecting
      the target.
  - name: mode
    description: The mode of operation, typically indicating whether the aura is being
      applied (true) or removed (false). This value may also control additional behavior
      related to how the attack power modification should be handled.
  - name: apply
    description: Boolean flag indicating whether to apply (true) or remove (false)
      the aura effect. When true, the attack power is increased; when false, it is
      decreased accordingly.
  returns: null
  examples:
  - title: Applying Attack Power Aura
    code: 'AuraEffect* aura = new AuraEffect();

      AuraApplication app;

      aura->HandleAuraModAttackPower(&app, 0, true); // Apply aura effect'
    language: cpp
  - title: Removing Attack Power Aura
    code: 'AuraEffect* aura = new AuraEffect();

      AuraApplication app;

      aura->HandleAuraModAttackPower(&app, 0, false); // Remove aura effect'
    language: cpp
  notes: This method is part of the aura handling system in TrinityCore and interacts
    with the unit's attack power calculation. It should only be called from within
    the aura application/removal logic to ensure proper state management.
  warnings: Improper use of this method can lead to incorrect attack power calculations,
    potentially affecting gameplay balance or causing unexpected behavior in combat
    mechanics.
  related:
  - AuraEffect::HandleAuraModAttackPower
  - AuraApplication::GetTarget
  - Unit::AddAura
  - Unit::RemoveAura
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T13:29:45.039282'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
