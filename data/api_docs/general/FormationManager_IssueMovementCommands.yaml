api:
  class: FormationManager
  method: IssueMovementCommands
  signature: void FormationManager::IssueMovementCommands()
documentation:
  brief: Issues movement commands to units in a formation based on their current positioning
    and leader's movement.
  description: The IssueMovementCommands method is responsible for calculating and
    dispatching movement instructions to all units within a formation. It evaluates
    the current position of each unit relative to the formation's leader, determines
    necessary adjustments, and sends appropriate movement commands to maintain or
    achieve the desired formation layout. This method typically operates during AI
    update cycles and ensures that units move in coordination with one another while
    respecting pathfinding constraints and combat behavior. The method does not directly
    handle movement execution but rather prepares and sends the required commands
    for units to follow.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in AI update cycle
    code: "void CustomCreatureAI::UpdateAI(uint32 diff)\n{\n    if (m_formationManager)\n\
      \        m_formationManager->IssueMovementCommands();\n    // ... other AI logic\n\
      }"
    language: cpp
  - title: Usage with formation validation
    code: "void FormationManager::IssueMovementCommands()\n{\n    if (!m_leader ||\
      \ !m_units.size())\n        return;\n    \n    for (auto& unit : m_units)\n\
      \    {\n        if (!unit || !unit->IsInWorld())\n            continue;\n  \
      \      \n        // Calculate and send movement command\n        SendMovementCommand(unit);\n\
      \    }\n}"
    language: cpp
  notes: This method should be called regularly during AI update cycles to maintain
    formation integrity. It assumes that the formation manager has valid leader and
    unit references. The actual movement execution is deferred to individual unit
    AI handlers, which may apply additional constraints like pathfinding or combat
    behavior.
  warnings: Calling this method without proper initialization of the formation manager
    (e.g., missing leader or units) can result in undefined behavior. Ensure that
    all units in the formation are valid and in world before calling this method.
  related:
  - GetLeader
  - AddUnitToFormation
  - RemoveUnitFromFormation
  - SendMovementCommand
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T14:09:07.952577'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
