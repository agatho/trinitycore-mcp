api:
  class: AfflictionDoTTracker
  method: Update
  signature: void AfflictionDoTTracker::Update()
documentation:
  brief: Updates the affliction DoT tracker state, processing active damage-over-time
    effects and managing their lifecycle.
  description: The Update method is responsible for maintaining and advancing the
    state of affliction-based damage-over-time (DoT) effects within the TrinityCore
    framework. This method typically iterates through all active DoT ticks, applies
    damage calculations, checks for effect expiration, and manages the removal or
    continuation of these effects on affected targets. It plays a crucial role in
    the execution of warlock affliction spells such as Corruption, Unstable Affliction,
    and other similar mechanics that apply sustained damage over time. The method
    ensures proper synchronization between spell effects and game state, handling
    both periodic damage application and effect cleanup.
  parameters: []
  returns: null
  examples:
  - title: Basic Update Call
    code: 'AfflictionDoTTracker tracker;

      tracker.Update(); // Processes all active affliction DoTs'
    language: cpp
  - title: Integration with Game Loop
    code: "void WorldObject::Update(uint32 diff)\n{\n    // ... other updates ...\n\
      \    if (m_afflictionDoTTracker)\n        m_afflictionDoTTracker->Update();\n\
      \    // ... more updates ...\n}"
    language: cpp
  notes: This method is typically called during the game's update loop at regular
    intervals. It may perform multiple operations including damage application, effect
    expiration checks, and cleanup of completed DoT effects. The implementation likely
    handles thread safety considerations for concurrent access in multi-threaded environments.
  warnings: Care should be taken when calling this method directly without proper
    synchronization, especially in multi-threaded contexts where other systems might
    modify the DoT state concurrently. Improper handling could lead to inconsistent
    damage application or memory corruption.
  related:
  - AddDoT
  - RemoveDoT
  - HasActiveDoT
  - GetDoTEffects
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T09:33:19.450271'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
