api:
  class: Player
  method: CanAddQuest
  signature: bool Player::CanAddQuest(const Quest * quest, bool msg) const
documentation:
  brief: Determines whether a player can accept a quest based on quest requirements
    and player state.
  description: The CanAddQuest method checks if a player is eligible to accept a specific
    quest by evaluating various conditions including quest prerequisites, player level
    requirements, quest completion status, and quest-related flags. This method is
    crucial for determining quest availability and ensures that players cannot accept
    quests they are not qualified for. The method considers both the quest's requirements
    and the player's current state, including level, quest completion status, and
    any applicable flags or restrictions.
  parameters:
  - name: quest
    description: Pointer to the Quest object being evaluated for acceptance. This
      parameter must not be null and represents the quest that the player is attempting
      to accept.
  - name: msg
    description: Boolean flag indicating whether to display messages to the player
      if the quest cannot be accepted. If true, appropriate messages will be shown;
      if false, no messages are displayed.
  returns: Returns true if the player can accept the quest, false otherwise. The method
    returns false when the player lacks the necessary level, has already completed
    the quest, or meets other conditions that prevent quest acceptance.
  examples:
  - title: Basic Quest Acceptance Check
    code: "bool canAccept = player->CanAddQuest(quest, true);\nif (canAccept)\n{\n\
      \    // Proceed with quest acceptance\n    player->AddQuest(quest);\n}\nelse\n\
      {\n    // Inform player that they cannot accept the quest\n    player->SendNotification(\"\
      You cannot accept this quest.\");\n}"
    language: cpp
  - title: Conditional Quest Acceptance
    code: "const Quest* quest = sQuestMgr->GetQuestTemplate(12345);\nbool canAccept\
      \ = player->CanAddQuest(quest, false);\nif (canAccept)\n{\n    // Player can\
      \ accept the quest without displaying messages\n    player->AddQuest(quest);\n\
      }\nelse\n{\n    // No message displayed, but quest is not accepted\n}"
    language: cpp
  notes: This method is typically used in conjunction with other quest-related methods
    like AddQuest or AcceptQuest. The method internally checks player's level, quest
    completion status, and various flags to determine eligibility. It is important
    to note that this method does not actually add the quest to the player's quest
    log; it only determines if the player can accept it.
  warnings: The method should not be used to directly add quests to a player's quest
    log as it does not perform any actual quest acceptance. Players must still pass
    through the full quest acceptance process including completing prerequisites and
    meeting requirements. The method may return false even when the player has sufficient
    level, due to quest completion status or other restrictions.
  related:
  - AddQuest
  - AcceptQuest
  - CanCompleteQuest
  - GetQuestLevel
  - HasQuest
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T17:53:29.228433'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
