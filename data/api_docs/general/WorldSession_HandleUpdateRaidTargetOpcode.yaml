api:
  class: WorldSession
  method: HandleUpdateRaidTargetOpcode
  signature: void WorldSession::HandleUpdateRaidTargetOpcode(WorldPackets::Party::UpdateRaidTarget
    & packet)
documentation:
  brief: Processes incoming raid target update packets from players
  description: Handles the UpdateRaidTarget opcode which allows players to set or
    clear raid targets (target icons) on units within their raid group. This method
    processes the packet data to update the target icon assignments for raid members,
    ensuring synchronization between client and server state. The function typically
    validates that the player has permission to assign targets and that the target
    unit is valid before applying changes.
  parameters:
  - name: packet
    description: The incoming WorldPackets::Party::UpdateRaidTarget packet containing
      target icon data for raid members
  returns: null
  examples:
  - title: Basic raid target assignment
    code: "void WorldSession::HandleUpdateRaidTargetOpcode(WorldPackets::Party::UpdateRaidTarget&\
      \ packet)\n{\n    // Validate packet data\n    if (!packet.TargetGUID || !packet.Icon)\n\
      \        return;\n    \n    // Process the raid target update\n    Player* player\
      \ = GetPlayer();\n    if (player && player->GetGroup())\n    {\n        player->GetGroup()->SetRaidTargetIcon(packet.TargetGUID,\
      \ packet.Icon);\n    }\n}"
    language: cpp
  notes: This method is part of the party/raid management system in TrinityCore. The
    packet structure includes a target GUID and an icon index (0-7) that represents
    different raid target markers. The function should only be called when the player
    is in a raid group, otherwise the operation will have no effect.
  warnings: Improper handling of raid target updates can cause desynchronization between
    client and server states. Ensure proper validation of GUIDs and icon values to
    prevent invalid data from corrupting raid target assignments.
  related:
  - HandleRaidTargetUpdateOpcode
  - SetRaidTargetIcon
  - GetGroup
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T19:14:15.439029'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
