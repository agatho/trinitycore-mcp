api:
  class: MageAI
  method: GetNearbyEnemyCount
  signature: uint32 MageAI::GetNearbyEnemyCount(float range) const
documentation:
  brief: Counts the number of nearby enemy units within a specified range.
  description: The GetNearbyEnemyCount method calculates and returns the total number
    of hostile units (enemies) that are currently within the given range of the MageAI
    instance's associated unit. This method is typically used by AI logic to make
    decisions based on enemy proximity, such as determining when to cast area-of-effect
    spells or whether to flee from combat. The range parameter defines the maximum
    distance in yards from the AI unit's position to consider for enemy detection.
    The method performs a spatial query using the game's internal collision detection
    system to identify valid targets.
  parameters:
  - name: range
    description: The maximum distance in yards from the AI unit's current position
      to search for nearby enemies. Must be a positive floating-point value representing
      the radius of the search area.
  returns: Returns a uint32 value representing the count of enemy units found within
    the specified range. A return value of zero indicates no enemies were detected
    in the given area.
  examples:
  - title: Basic usage to determine combat readiness
    code: "uint32 enemiesNearby = ai->GetNearbyEnemyCount(10.0f);\nif (enemiesNearby\
      \ > 0)\n{\n    // Cast spell or prepare for combat\n}"
    language: cpp
  - title: Using enemy count to decide spell selection
    code: "uint32 enemiesInRange = ai->GetNearbyEnemyCount(8.0f);\nif (enemiesInRange\
      \ >= 3)\n{\n    // Use AoE spell\n    ai->CastSpell(SPELL_BLIZZARD);\n}\nelse\n\
      {\n    // Use single-target spell\n    ai->CastSpell(SPELL_FIREBALL);\n}"
    language: cpp
  notes: This method relies on the game's internal spatial partitioning systems and
    may not account for line-of-sight restrictions. Performance can be affected by
    large numbers of units in the search area, though typical usage involves small
    to moderate ranges. The method is thread-safe as it only reads from existing unit
    data structures without modifying them.
  warnings: Ensure that the range parameter is positive; negative values may lead
    to undefined behavior or incorrect results. Be aware that this method does not
    filter by enemy type or faction, so all hostile units within range will be counted
    regardless of their nature (player, NPC, pet, etc.).
  related:
  - GetNearbyAllyCount
  - GetNearbyUnitCount
  - GetEnemyCount
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T12:49:06.288478'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
