api:
  class: SpellHistory
  method: IsReady
  signature: bool SpellHistory::IsReady(const SpellInfo * spellInfo, int itemId) const
documentation:
  brief: Checks if a spell or item is ready to be used based on its cooldown and global
    cooldown.
  description: The IsReady method determines whether a given spell or item is currently
    available for use by checking against both individual spell cooldowns and the
    global cooldown (GCD) system. It evaluates if the specified spell or item has
    completed its cooldown period and is not currently under any restrictions that
    would prevent its usage. This method is essential for handling spell and item
    activation logic in World of Warcraft's combat and interaction systems, ensuring
    proper timing and cooldown enforcement across all game mechanics.
  parameters:
  - name: spellInfo
    description: Pointer to the SpellInfo structure containing information about the
      spell being checked. This parameter is used to determine the spell's cooldown
      properties and restrictions.
  - name: itemId
    description: Integer identifier for an item that may have a cooldown associated
      with it. If non-zero, this method will check if the item's cooldown has expired.
  returns: Returns true if the spell or item is ready to be used (i.e., no active
    cooldowns or restrictions), false otherwise.
  examples:
  - title: Basic Spell Readiness Check
    code: "if (spellHistory->IsReady(spellInfo, 0)) {\n    // Spell can be cast\n\
      \    CastSpell(spellInfo);\n} else {\n    // Spell is on cooldown\n    SendCooldownMessage();\n\
      }"
    language: cpp
  - title: Item and Spell Readiness Check
    code: "if (spellHistory->IsReady(spellInfo, itemId)) {\n    // Both spell and\
      \ item are ready\n    CastSpell(spellInfo);\n    UseItem(itemId);\n} else if\
      \ (spellHistory->IsReady(spellInfo, 0)) {\n    // Only spell is ready\n    CastSpell(spellInfo);\n\
      } else if (spellHistory->IsReady(0, itemId)) {\n    // Only item is ready\n\
      \    UseItem(itemId);\n}"
    language: cpp
  notes: This method considers both individual spell cooldowns and the global cooldown
    timer. The implementation assumes that spellInfo and itemId are valid identifiers
    within the TrinityCore system. The method does not modify any internal state but
    only performs read operations on cooldown data.
  warnings: Ensure that spellInfo is not null before calling this method, as passing
    a null pointer could lead to undefined behavior. Also note that this check does
    not account for other conditions such as mana requirements or targeting restrictions
    - it only checks cooldown status.
  related:
  - SpellHistory::GetCooldown
  - SpellHistory::StartCooldown
  - SpellHistory::ResetCooldown
metadata:
  confidence: 0.95
  generated_at: '2025-11-03T17:58:07.592095'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
