api:
  class: Arena
  method: EndBattleground
  signature: void Arena::EndBattleground(int winner)
documentation:
  brief: Ends the arena battleground and declares a winner
  description: The EndBattleground method is responsible for concluding an arena match
    and determining the victorious team. This method typically handles the cleanup
    of battleground resources, awards rewards to winning players, updates player statistics,
    and transitions the battleground state to a completed status. It ensures that
    all game mechanics related to arena victory conditions are properly executed and
    that the winning team is correctly identified and rewarded.
  parameters:
  - name: winner
    description: An integer value representing the winning team. Typically 0 for alliance,
      1 for horde, or -1 for a draw/aborted match.
  returns: null
  examples:
  - title: End arena with Alliance victory
    code: "Arena* arena = sBattlegroundMgr->GetBattleground(12345, BATTLEGROUND_ARENA);\n\
      if (arena)\n{\n    arena->EndBattleground(0); // Alliance wins\n}"
    language: cpp
  - title: End arena with Horde victory
    code: "Arena* arena = static_cast<Arena*>(sBattlegroundMgr->GetBattleground(67890,\
      \ BATTLEGROUND_ARENA));\nif (arena)\n{\n    arena->EndBattleground(1); // Horde\
      \ wins\n}"
    language: cpp
  notes: This method should only be called during active battleground sessions. It
    is typically invoked by the battleground manager or game logic when victory conditions
    are met. The method may trigger additional events such as achievement updates
    and player rank changes.
  warnings: Calling this method outside of a valid battleground context can lead to
    undefined behavior or crashes. Ensure that the arena instance is valid before
    calling this method. Do not call this method multiple times on the same battleground
    as it may cause resource leaks or inconsistent state.
  related:
  - StartBattleground
  - UpdateBattleground
  - GetWinner
  - IsArena
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T17:08:24.033779'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
