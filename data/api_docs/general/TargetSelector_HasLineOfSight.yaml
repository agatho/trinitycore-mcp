api:
  class: TargetSelector
  method: HasLineOfSight
  signature: bool TargetSelector::HasLineOfSight(Unit * target) const
documentation:
  brief: Checks if the unit has line of sight to the target.
  description: The HasLineOfSight method determines whether a Unit can see another
    Unit without any obstructions in between. This is typically used for spell casting,
    melee attacks, and AI decision-making where visual contact is required. The method
    performs a raycast check from the caster's position to the target's position,
    considering terrain, objects, and other environmental factors that might block
    visibility. It returns true if there is an unobstructed path between the two units,
    and false otherwise.
  parameters: []
  returns: Returns true if there is a clear line of sight from the unit to the target,
    false if any obstruction blocks the view.
  examples:
  - title: Basic usage in AI behavior
    code: "if (me->GetAI()->HasLineOfSight(target)) {\n    // Perform action that\
      \ requires line of sight\n    me->CastSpell(target, SPELL_SHOOT, true);\n}"
    language: cpp
  - title: Checking line of sight before casting
    code: "if (Unit* target = SelectTarget(SELECT_TARGET_NEAREST, 0, 30.0f, true))\
      \ {\n    if (HasLineOfSight(target)) {\n        DoCast(target, SPELL_FROST_NOVA);\n\
      \    } else {\n        // Move closer or find another target\n        me->GetMotionMaster()->MoveChase(target);\n\
      \    }\n}"
    language: cpp
  notes: This method is computationally expensive as it performs raycasting checks.
    It should be used sparingly in performance-critical code paths. The implementation
    considers both the unit's eye height and the target's position, including any
    height differences that might affect visibility.
  warnings: Do not use this method for frequent checks in tight loops as it can cause
    performance issues. Always ensure the target pointer is valid before calling this
    method to avoid crashes.
  related:
  - HasLineOfSight
  - IsInFront
  - IsInBack
  - IsWithinMeleeRange
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T17:14:37.183750'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
