api:
  class: LeaderFollowBehavior
  method: UpdateBehavior
  signature: void LeaderFollowBehavior::UpdateBehavior(BotAI * ai, int diff)
documentation:
  brief: Updates the leader follow behavior for a bot AI instance based on time difference.
  description: The UpdateBehavior method is responsible for managing the follower
    behavior of a bot in relation to its designated leader within the TrinityCore
    framework. This method processes the bot's movement and actions according to the
    defined leader-follow mechanics, ensuring that the bot maintains appropriate distance
    and positioning relative to the leader. It typically handles pathfinding, movement
    synchronization, and state management for the follower bot. The method is called
    periodically by the AI system with a time delta (diff) parameter that indicates
    how much time has passed since the last update, allowing for smooth and responsive
    behavior.
  parameters:
  - name: ai
    description: Pointer to the BotAI instance that owns this behavior. This parameter
      provides access to the bot's AI context, including its current state, target
      information, and leader reference.
  - name: diff
    description: Time difference in milliseconds since the last update call. This
      value is used to calculate movement speed, timing of actions, and ensure consistent
      behavior regardless of frame rate fluctuations.
  returns: null
  examples:
  - title: Basic usage in AI update loop
    code: "void BotAI::UpdateAI(const uint32 diff)\n{\n    // ... other AI logic\n\
      \    if (leaderFollowBehavior)\n        leaderFollowBehavior->UpdateBehavior(this,\
      \ diff);\n    // ... other AI logic\n}"
    language: cpp
  - title: Integration with custom bot behavior
    code: "class MyBotAI : public BotAI\n{\npublic:\n    void UpdateAI(const uint32\
      \ diff) override\n    {\n        // Handle combat and other behaviors\n    \
      \    if (HasLeader())\n        {\n            leaderFollowBehavior->UpdateBehavior(this,\
      \ diff);\n        }\n        else\n        {\n            // Handle solo behavior\n\
      \        }\n    }\n};"
    language: cpp
  notes: This method should be called regularly from the main AI update loop. The
    'diff' parameter is crucial for maintaining consistent timing across different
    server loads and frame rates. The implementation may involve pathfinding calculations,
    distance checks, and state transitions that depend on the bot's current position
    relative to its leader.
  warnings: Ensure that the BotAI pointer passed is valid and not null. Improper handling
    of the 'diff' parameter can lead to erratic movement behavior or performance issues.
    This method assumes that a leader reference exists and is valid before being called.
  related:
  - GetLeader
  - SetLeader
  - IsFollowing
  - UpdateMovement
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T03:56:39.114097'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
