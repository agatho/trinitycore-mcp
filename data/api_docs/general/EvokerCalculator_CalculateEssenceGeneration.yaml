api:
  class: EvokerCalculator
  method: CalculateEssenceGeneration
  signature: int EvokerCalculator::CalculateEssenceGeneration(int spellId, int * caster)
documentation:
  brief: Calculates the amount of essence generated by an evoker for a given spell.
  description: The CalculateEssenceGeneration method determines how much essence is
    produced by an evoker when casting a specific spell. This calculation takes into
    account various factors such as the spell's ID, the caster's properties, and potential
    modifiers that affect essence generation. The method serves as part of the evoker
    class's core gameplay mechanics, influencing resource management and spell selection
    strategies. It is typically invoked during spell casting or resource update events
    within the TrinityCore framework.
  parameters:
  - name: spellId
    description: The unique identifier of the spell being cast. This value determines
      which essence generation formula or modifier is applied to calculate the result.
  - name: caster
    description: Pointer to the caster object (likely an Evoker instance). This parameter
      provides access to caster-specific properties, buffs, and modifiers that influence
      essence generation.
  returns: Returns an integer representing the calculated amount of essence generated.
    A negative value may indicate an error or invalid input, while zero typically
    means no essence was generated.
  examples:
  - title: Basic Essence Generation Calculation
    code: "int spellId = 12345;\nEvoker* evoker = dynamic_cast<Evoker*>(player);\n\
      int essenceGen = calculator->CalculateEssenceGeneration(spellId, &evoker);\n\
      if (essenceGen > 0) {\n    evoker->AddEssence(essenceGen);\n}"
    language: cpp
  - title: Essence Generation with Error Handling
    code: "int spellId = 12345;\nEvoker* evoker = dynamic_cast<Evoker*>(player);\n\
      if (!evoker) {\n    // Handle invalid caster\n    return -1;\n}\nint essenceGen\
      \ = calculator->CalculateEssenceGeneration(spellId, &evoker);\nif (essenceGen\
      \ < 0) {\n    // Log error or handle invalid spell ID\n    sLog->outError(\"\
      Invalid essence generation for spell %d\", spellId);\n} else if (essenceGen\
      \ > 0) {\n    evoker->ModifyEssence(essenceGen);\n}"
    language: cpp
  notes: This method likely interacts with internal spell data tables and player state
    to compute essence generation. It may be called frequently during combat, so performance
    optimization is important. The caster parameter should always be validated before
    use.
  warnings: Passing a null pointer for the caster parameter will likely cause a crash
    or undefined behavior. Ensure that the spellId corresponds to an actual evoker
    spell in the database to avoid incorrect calculations.
  related:
  - GetEssence
  - ModifyEssence
  - IsEvokerSpell
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T14:22:51.511035'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
