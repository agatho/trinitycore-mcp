api:
  class: MapManager
  method: GetNumInstances
  signature: uint32 MapManager::GetNumInstances() const
documentation:
  brief: Returns the total number of active map instances managed by the MapManager.
  description: The GetNumInstances method retrieves the count of all currently active
    map instances within the game world. This includes both dungeon and raid instances
    that have been created and are in use. The method provides a snapshot of instance
    utilization at the time of call, which can be useful for monitoring server load,
    managing instance limits, or debugging instance-related issues. The returned value
    represents the total number of distinct map instances across all maps and difficulty
    levels currently loaded in memory.
  parameters: []
  returns: A uint32 value representing the total count of active map instances managed
    by the MapManager. This number includes all instance types (dungeons, raids, etc.)
    that are currently loaded and accessible to players.
  examples:
  - title: Monitor Active Instance Count
    code: 'uint32 instanceCount = sMapMgr->GetNumInstances();

      TC_LOG_INFO(LOG_FILTER_SERVER, "Active map instances: %u", instanceCount);'
    language: cpp
  - title: Instance Limit Check
    code: "uint32 currentInstances = sMapMgr->GetNumInstances();\nif (currentInstances\
      \ >= MAX_INSTANCE_LIMIT)\n{\n    TC_LOG_WARN(LOG_FILTER_SERVER, \"Warning: Maximum\
      \ instance limit reached (%u)\", currentInstances);\n}"
    language: cpp
  notes: This method provides a read-only count of instances and does not modify any
    internal state. The returned value may change between calls as instances are created
    or destroyed. This method is thread-safe and can be called from any thread context.
  warnings: null
  related:
  - MapManager::GetMap
  - MapManager::CreateInstance
  - MapManager::RemoveInstance
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T10:40:00.043106'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
