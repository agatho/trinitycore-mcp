api:
  class: DynamicMapTree
  method: update
  signature: void DynamicMapTree::update(uint32 diff)
documentation:
  brief: Updates the dynamic map tree with the specified time delta, maintaining collision
    detection data for game objects.
  description: The DynamicMapTree::update method is responsible for processing and
    updating the internal state of the dynamic map tree structure. This method is
    typically called every game tick to ensure that the collision detection system
    remains accurate as game objects move and change positions. It handles the maintenance
    of spatial partitioning data structures, updates bounding volumes, and ensures
    that the tree can efficiently perform ray casts and intersection tests. The method
    takes a time delta parameter (diff) which represents the milliseconds elapsed
    since the last update, allowing for proper interpolation and smooth movement handling
    in the collision system.
  parameters:
  - name: diff
    description: The time delta in milliseconds since the last update call. This value
      is used to properly interpolate object positions and maintain accurate collision
      detection during frame updates.
  returns: null
  examples:
  - title: Basic Update Call
    code: "void GameWorld::Update(uint32 diff)\n{\n    // ... other update logic ...\n\
      \    m_dynamicMapTree->update(diff);\n    // ... rest of update logic ...\n}"
    language: cpp
  - title: Integration with Game Loop
    code: "void World::UpdateWorld(uint32 diff)\n{\n    // Update all dynamic objects\n\
      \    for (auto& obj : m_dynamicObjects)\n    {\n        obj->Update(diff);\n\
      \    }\n    \n    // Update the dynamic map tree to reflect changes\n    m_mapTree->update(diff);\n\
      \    \n    // Perform collision checks and other operations\n    // ...\n}"
    language: cpp
  notes: This method should be called regularly in the game loop, typically every
    frame or at fixed intervals. The diff parameter is crucial for maintaining consistent
    physics behavior across different frame rates. The dynamic map tree maintains
    internal data structures that are optimized for fast ray casting and collision
    detection operations.
  warnings: Calling this method with incorrect time deltas can cause inconsistent
    collision behavior. Never call update() from multiple threads simultaneously without
    proper synchronization. The method assumes that all game objects have been updated
    before calling, as it relies on current object positions for accurate spatial
    partitioning.
  related:
  - DynamicMapTree::getIntersectionTime
  - DynamicMapTree::isInLineOfSight
  - DynamicMapTree::getTriangleForPoint
metadata:
  confidence: 0.92
  generated_at: '2025-11-06T15:07:26.909928'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
