api:
  class: AuctionHouseObject
  method: BuildListOwnedItems
  signature: void AuctionHouseObject::BuildListOwnedItems(WorldPackets::AuctionHouse::AuctionListOwnedItemsResult
    & listOwnedItemsResult, const Player * player, uint32 offset, int sorts) const
documentation:
  brief: Populates an auction list owned items result packet with data from the auction
    house for a given player.
  description: The BuildListOwnedItems method constructs and fills a WorldPackets::AuctionHouse::AuctionListOwnedItemsResult
    packet with all auction items currently owned by the specified player. This includes
    items the player has listed for sale, along with their auction details such as
    bid amounts, time remaining, and item properties. The method is typically invoked
    when a player opens their auction house interface or requests to view their own
    auctions. It handles pagination through the offset parameter and supports sorting
    of results based on provided sort criteria. This method directly interacts with
    the auction house database to retrieve relevant auction records.
  parameters:
  - name: listOwnedItemsResult
    description: Reference to a WorldPackets::AuctionHouse::AuctionListOwnedItemsResult
      packet that will be populated with auction item data for the player.
  - name: player
    description: Pointer to the Player object whose owned auction items are being
      retrieved. Must not be null.
  - name: offset
    description: Zero-based offset indicating which page of results to start from
      for pagination purposes.
  - name: sorts
    description: Integer value representing the sorting criteria for the auction items
      (e.g., by time, price, item name).
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'WorldPackets::AuctionHouse::AuctionListOwnedItemsResult result;

      Player* player = ...; // Get player reference

      uint32 offset = 0;

      int sorts = 0;

      AuctionHouseObject auctionHouse;

      auctionHouse.BuildListOwnedItems(result, player, offset, sorts);'
    language: cpp
  - title: Pagination Example
    code: 'WorldPackets::AuctionHouse::AuctionListOwnedItemsResult result;

      Player* player = ...; // Get player reference

      uint32 offset = 10; // Show second page of results

      int sorts = 1; // Sort by price ascending

      AuctionHouseObject auctionHouse;

      auctionHouse.BuildListOwnedItems(result, player, offset, sorts);'
    language: cpp
  notes: This method performs database queries to fetch auction data for the specified
    player. It's designed to be efficient and should not block the main game thread
    significantly. The method assumes that the provided player object is valid and
    has an active connection to the auction house system.
  warnings: Ensure that the player pointer passed into this method is valid and not
    null, as passing a null reference will cause undefined behavior. Also, be mindful
    of performance implications when handling large numbers of auctions or using high
    pagination offsets.
  related:
  - AuctionHouseObject::BuildListAuctionItems
  - AuctionHouseObject::GetAuctionsByOwner
  - AuctionHouseObject::SendAuctionList
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T21:12:02.808885'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
