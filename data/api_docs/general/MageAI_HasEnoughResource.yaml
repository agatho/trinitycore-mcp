api:
  class: MageAI
  method: HasEnoughResource
  signature: bool MageAI::HasEnoughResource(uint32 spellId)
documentation:
  brief: Checks if the mage has sufficient resource (mana) to cast the specified spell
  description: The HasEnoughResource method evaluates whether the current mage AI
    character possesses adequate mana resources to successfully cast a given spell.
    This method is typically used during AI decision-making processes to determine
    spell viability before attempting to cast. The evaluation considers the spell's
    mana cost against the mage's current mana pool, taking into account any temporary
    resource modifications or buffs that might affect casting ability. It serves as
    a crucial validation step in the spell selection and execution logic of the MageAI
    class.
  parameters:
  - name: spellId
    description: The unique identifier of the spell to check resource requirements
      for. This ID corresponds to entries in the Spell.dbc database file and must
      reference a valid spell that can be cast by the mage class.
  returns: Returns true if the mage has sufficient mana to cast the specified spell,
    false otherwise. The method will return false if the spell ID is invalid or if
    the character's current mana is less than the spell's required mana cost.
  examples:
  - title: Basic Resource Check
    code: "if (mageAI->HasEnoughResource(133)) {\n    // Proceed with casting Fireball\n\
      \    mageAI->CastSpell(133);\n} else {\n    // Find alternative spell or wait\n\
      \    mageAI->SelectNextSpell();\n}"
    language: cpp
  - title: Resource Validation in Spell Selection
    code: "uint32 bestSpell = 0;\nuint32 highestDamage = 0;\nfor (int i = 0; i < spellList.size();\
      \ ++i) {\n    if (mageAI->HasEnoughResource(spellList[i]) && \n        GetSpellDamage(spellList[i])\
      \ > highestDamage) {\n        bestSpell = spellList[i];\n        highestDamage\
      \ = GetSpellDamage(spellList[i]);\n    }\n}\nif (bestSpell != 0) {\n    mageAI->CastSpell(bestSpell);\n\
      }"
    language: cpp
  notes: This method relies on the AI's current mana state and does not account for
    future mana regeneration. It should be called before attempting to cast spells
    to prevent failed casting attempts. The method assumes that spell data is properly
    loaded in the game's database and that the spell ID corresponds to a valid mage
    spell.
  warnings: The method may return false for spells with zero mana cost, which could
    be misleading if the spell has other resource requirements. Always validate that
    the spellId parameter refers to a valid spell before calling this method to avoid
    unexpected behavior.
  related:
  - CastSpell
  - GetMana
  - GetSpellInfo
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T00:22:40.182458'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
