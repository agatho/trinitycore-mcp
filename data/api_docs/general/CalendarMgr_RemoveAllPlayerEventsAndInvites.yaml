api:
  class: CalendarMgr
  method: RemoveAllPlayerEventsAndInvites
  signature: void CalendarMgr::RemoveAllPlayerEventsAndInvites(int guid)
documentation:
  brief: Removes all calendar events and invites associated with a specified player
    GUID.
  description: The RemoveAllPlayerEventsAndInvites method is responsible for cleaning
    up all calendar-related data for a given player identified by their global unique
    identifier (GUID). This includes removing any events the player created, as well
    as any invitations they received or sent. The method ensures that no stale calendar
    data remains in the system for the specified player, which is particularly useful
    during account deletion, character transfer, or when resetting player calendar
    data. It operates on the calendar manager's internal data structures and does
    not directly interact with the database, though it may trigger database updates
    as part of its operation.
  parameters:
  - name: guid
    description: The global unique identifier (GUID) of the player whose calendar
      events and invites should be removed. This value uniquely identifies a character
      within the TrinityCore instance.
  returns: null
  examples:
  - title: Remove all calendar data for a specific player
    code: "void RemovePlayerCalendarData(uint32 playerGuid)\n{\n    sCalendarMgr->RemoveAllPlayerEventsAndInvites(playerGuid);\n\
      }"
    language: cpp
  - title: Clean up calendar data during account deletion
    code: "void OnAccountDelete(uint32 accountId)\n{\n    // Assuming we have a way\
      \ to get all character GUIDs for the account\n    for (auto const& charGuid\
      \ : GetCharacterGuidsForAccount(accountId))\n    {\n        sCalendarMgr->RemoveAllPlayerEventsAndInvites(charGuid);\n\
      \    }\n}"
    language: cpp
  notes: This method is typically used in conjunction with other cleanup routines
    during player account management. It's important to note that while this method
    removes calendar data from memory, it may not immediately persist changes to the
    database unless additional operations are performed by the calendar manager. The
    method assumes that the provided GUID is valid and corresponds to an existing
    character.
  warnings: Using this method without proper validation of the player GUID can lead
    to unexpected behavior or errors. Additionally, calling this method on a GUID
    that does not correspond to any active character may result in no-op behavior,
    but it's still recommended to validate inputs before invoking the method.
  related:
  - CalendarMgr::AddEvent
  - CalendarMgr::RemoveEvent
  - CalendarMgr::GetPlayerEvents
  - CalendarMgr::GetPlayerInvites
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T10:21:51.354830'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
