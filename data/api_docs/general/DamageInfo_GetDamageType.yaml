api:
  class: DamageInfo
  method: GetDamageType
  signature: DamageEffectType DamageInfo::GetDamageType() const
documentation:
  brief: Returns the damage type associated with the damage information.
  description: The GetDamageType method retrieves the specific damage effect type
    that was applied during a damage event. This value indicates how the damage was
    inflicted, such as whether it was physical, magical, or of a specific school like
    fire, frost, or shadow. The returned DamageEffectType enum value can be used to
    determine the nature of the attack for effects, resistances, or visual feedback.
    This method is typically called on DamageInfo objects that are generated during
    combat calculations within TrinityCore's combat system.
  parameters: []
  returns: A DamageEffectType enumeration value representing the type of damage that
    was applied. Possible values include physical damage types (e.g., DAMAGE_NORMAL,
    DAMAGE_HOLY) and magical damage types (e.g., DAMAGE_FIRE, DAMAGE_FROST, DAMAGE_SHADOW).
  examples:
  - title: Basic Usage in Combat Handler
    code: "void OnDamageDealt(Unit* target, DamageInfo* damageInfo)\n{\n    DamageEffectType\
      \ damageType = damageInfo->GetDamageType();\n    if (damageType == DAMAGE_FIRE)\n\
      \    {\n        // Apply fire-specific effects\n        target->AddAura(SPELL_BURNING_TOUCH);\n\
      \    }\n}"
    language: cpp
  - title: Determining Damage Type for Resistance Calculation
    code: "bool CheckDamageResistance(Unit* victim, DamageInfo* damageInfo)\n{\n \
      \   DamageEffectType damageType = damageInfo->GetDamageType();\n    switch (damageType)\n\
      \    {\n        case DAMAGE_FIRE:\n            return victim->HasAura(SPELL_RESIST_FIRE);\n\
      \        case DAMAGE_FROST:\n            return victim->HasAura(SPELL_RESIST_FROST);\n\
      \        default:\n            return false;\n    }\n}"
    language: cpp
  notes: This method is part of the DamageInfo class which encapsulates all information
    about a damage event. The DamageEffectType enum typically maps to the spell school
    or attack type used in World of Warcraft's combat system. This method should only
    be called on valid DamageInfo objects that have been properly initialized with
    damage data.
  warnings: Ensure that the DamageInfo object is not null before calling this method,
    as accessing a null object will result in undefined behavior. Also note that the
    returned value may vary depending on how the damage was calculated and whether
    any modifiers or effects were applied during combat processing.
  related:
  - GetDamage
  - GetSchoolMask
  - GetHitMask
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T09:49:15.584293'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
