api:
  class: DeathKnightAI
  method: OnCombatEnd
  signature: void DeathKnightAI::OnCombatEnd()
documentation:
  brief: Handles cleanup and state reset when a Death Knight AI combat session ends
  description: The OnCombatEnd method is called when a Death Knight's AI combat session
    concludes. This method performs necessary cleanup operations such as resetting
    combat-related flags, clearing target references, and ensuring the AI returns
    to its normal idle or patrol state. It serves as a critical part of the AI lifecycle
    management, ensuring proper resource deallocation and state consistency after
    combat has ended. The method is typically invoked automatically by the core AI
    system when the Death Knight's combat state transitions from active to inactive.
  parameters: []
  returns: null
  examples:
  - title: Basic usage in custom Death Knight AI implementation
    code: "class MyDeathKnightAI : public DeathKnightAI {\npublic:\n    void OnCombatEnd()\
      \ override {\n        // Custom cleanup logic\n        DeathKnightAI::OnCombatEnd();\n\
      \        // Additional post-combat reset logic\n        ResetSpecialAbilities();\n\
      \    }\n};"
    language: cpp
  notes: This method is automatically called by the TrinityCore AI framework when
    combat ends. Developers should not call this method directly unless implementing
    a custom AI behavior that requires explicit combat end handling. The base implementation
    ensures proper state management and cleanup of combat-related resources.
  warnings: null
  related:
  - OnCombatStart
  - UpdateAI
  - EnterCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T02:33:20.378402'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
