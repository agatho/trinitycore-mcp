api:
  class: Creature
  method: IsImmunedToSpellEffect
  signature: bool Creature::IsImmunedToSpellEffect(const SpellInfo * spellInfo, const
    int & spellEffectInfo, const int * caster, bool requireImmunityPurgesEffectAttribute)
    const
documentation:
  brief: Determines whether a creature is immune to a specific spell effect
  description: This method checks if a creature is immuned to a particular spell effect
    by evaluating the spell's attributes and the creature's immunity status. It considers
    both the spell information and the caster's influence, making it useful for determining
    whether a creature should be affected by certain spells or if they are protected
    from specific effects. The method is commonly used in AI behavior and combat mechanics
    to control how creatures respond to various spells.
  parameters:
  - name: spellInfo
    description: Pointer to the SpellInfo structure defining the spell being evaluated.
      This contains information about the spell's effects, attributes, and mechanics.
  - name: spellEffectInfo
    description: Reference to an integer representing the specific spell effect being
      checked. This typically corresponds to a spell effect index (e.g., 0 for first
      effect, 1 for second effect).
  - name: caster
    description: Pointer to the caster's GUID or nullptr if no caster is specified.
      Used to determine whether the creature is immune to effects from a specific
      caster.
  - name: requireImmunityPurgesEffectAttribute
    description: Boolean flag indicating whether immunity purges effect attribute
      must be required for the method to return true. This controls whether the method
      considers only spells with immunity purges attributes or all spells.
  returns: Returns true if the creature is immune to the specified spell effect; otherwise
    returns false. The result depends on both the spell's effect and the creature's
    immunity status.
  examples:
  - title: Basic usage example
    code: "if (creature->IsImmunedToSpellEffect(spellInfo, spellEffectInfo, caster,\
      \ true)) {\n    // Creature is immune to this spell effect\n}\nelse {\n    //\
      \ Creature is not immune to this spell effect\n}"
    language: cpp
  - title: Advanced usage example
    code: "bool result = creature->IsImmunedToSpellEffect(spellInfo, spellEffectInfo,\
      \ nullptr, false);\nif (result) {\n    // Creature is immune to the spell effect\
      \ regardless of caster\n}"
    language: cpp
  notes: This method is primarily used in creature AI logic and combat mechanics.
    It evaluates the creature's immunity status based on the spell's attributes and
    effect, making it essential for determining whether a creature should be affected
    by certain spells or not.
  warnings: The method may return false if the creature does not have immunity to
    the specified spell effect, even if the spell itself is immune to the caster.
    Care must be taken when using this method in conjunction with other spell-related
    methods to avoid incorrect assumptions about creature behavior.
  related:
  - IsImmunedToSpell
  - GetSpellInfo
  - HasAura
metadata:
  confidence: 0.9
  generated_at: '2025-10-30T18:55:27.687195'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
