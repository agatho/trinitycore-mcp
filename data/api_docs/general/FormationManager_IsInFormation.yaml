api:
  class: FormationManager
  method: IsInFormation
  signature: bool FormationManager::IsInFormation() const
documentation:
  brief: Determines whether the current unit is part of a formation.
  description: The IsInFormation method checks if the unit associated with this FormationManager
    instance is currently participating in a formation. This method is typically used
    by AI systems to determine how a creature should behave in relation to its formation
    leader and other members. The check involves verifying that the unit has a valid
    formation reference and that it's actively engaged in the formation mechanics,
    including proper positioning and movement synchronization. This method does not
    modify any internal state but simply returns a boolean flag indicating the current
    formation status.
  parameters: []
  returns: Returns true if the unit is currently part of a formation and properly
    registered with the formation manager; otherwise returns false if the unit is
    not in a formation or the formation data is invalid.
  examples:
  - title: Basic Formation Status Check
    code: "if (unit->GetFormationManager()->IsInFormation()) {\n    // Unit is currently\
      \ in a formation\n    // Perform formation-specific behavior\n}"
    language: cpp
  - title: Formation Behavior Logic
    code: "void CreatureAI::UpdateAI(uint32 diff) {\n    if (IsInFormation()) {\n\
      \        // Execute formation movement logic\n        DoFormationMovement();\n\
      \    } else {\n        // Execute normal AI behavior\n        DoNormalMovement();\n\
      \    }\n}"
    language: cpp
  notes: This method performs a simple lookup check and is generally fast. It relies
    on the internal formation state tracking which should be maintained by the FormationManager
    itself. The method assumes that the FormationManager instance is properly initialized
    and associated with a valid unit.
  warnings: null
  related:
  - GetFormation
  - SetFormation
  - AddToFormation
  - RemoveFromFormation
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T13:41:22.880471'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
