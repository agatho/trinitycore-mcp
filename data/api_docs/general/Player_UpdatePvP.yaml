api:
  class: Player
  method: UpdatePvP
  signature: void Player::UpdatePvP(bool state, bool override)
documentation:
  brief: Updates the player's PvP state and related flags in the game world.
  description: The UpdatePvP method is responsible for managing a player's PvP (Player
    versus Player) status within the TrinityCore framework. It updates various internal
    flags, visibility settings, and game state attributes that determine how the player
    interacts with other players in PvP zones or scenarios. The method typically sets
    the player's PvP flag, adjusts faction visibility, and may trigger visual updates
    such as changing the player's name color or enabling PvP-related UI elements.
    This method is commonly invoked when a player enters a PvP zone, engages in PvP
    combat, or when their PvP status needs to be synchronized across the game world.
  parameters:
  - name: state
    description: Boolean value indicating the desired PvP state. True enables PvP
      flags and settings, false disables them.
  - name: override
    description: Boolean flag that determines whether to override existing PvP settings.
      When true, forces immediate update regardless of current state; when false,
      only updates if necessary.
  returns: null
  examples:
  - title: Enable PvP for a player
    code: 'Player* player = ...;

      player->UpdatePvP(true, false);'
    language: cpp
  - title: Force disable PvP state with override
    code: 'Player* player = ...;

      player->UpdatePvP(false, true);'
    language: cpp
  notes: This method internally handles synchronization of PvP status across the game
    world and may trigger additional updates to related systems such as faction visibility,
    name color changes, and UI state updates. It is typically called by internal game
    mechanics rather than directly by external code.
  warnings: Direct calls to UpdatePvP should be made carefully as they can affect
    player behavior in PvP zones. Improper usage may lead to inconsistent PvP states
    or visual glitches in the client.
  related:
  - IsPvP
  - SetPvP
  - GetPvPFlag
  - UpdateFactionVisibility
metadata:
  confidence: 0.85
  generated_at: '2025-10-29T17:20:08.996125'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
