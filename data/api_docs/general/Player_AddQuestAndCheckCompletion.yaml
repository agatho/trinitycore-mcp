api:
  class: Player
  method: AddQuestAndCheckCompletion
  signature: void Player::AddQuestAndCheckCompletion(const Quest * quest, int * questGiver)
documentation:
  brief: Adds a quest to the player's quest log and checks if the quest is complete
  description: This method adds a specified quest to the player's active quest log
    and immediately checks whether the quest has been completed. It handles the quest
    completion logic by verifying if the player has met all required objectives, such
    as killing creatures or collecting items. The method also updates the quest status
    in the database and triggers appropriate quest completion events. This function
    is typically used when a player accepts a quest from a quest giver, ensuring that
    the quest state is properly updated in the game world.
  parameters:
  - name: quest
    description: Pointer to the Quest object that should be added to the player's
      quest log. This represents the quest being accepted by the player.
  - name: questGiver
    description: Pointer to an integer representing the quest giver's ID or index.
      This parameter is used to identify which quest giver the quest was obtained
      from, and may be used for updating quest status in the database.
  returns: null
  examples:
  - title: Basic usage example
    code: 'Player* player = GetPlayer();

      Quest* quest = GetQuestById(12345);

      int questGiverId = 123;

      player->AddQuestAndCheckCompletion(quest, &questGiverId);'
    language: cpp
  notes: This method is typically called internally by the game engine when a player
    accepts a quest. It ensures that the quest is properly added to the player's quest
    log and that completion checks are performed immediately after adding the quest.
    The method may trigger database updates for quest status, and should be used carefully
    in scenarios involving multiple quest givers.
  warnings: This method does not handle quest acceptance logic directly; it only adds
    the quest to the player's log and checks for completion. If a quest is not properly
    accepted by the player, this method may not correctly update the quest status
    or trigger completion events. Avoid calling this method without proper validation
    of quest availability.
  related:
  - AddQuest
  - CheckQuestCompletion
  - GetQuestStatus
  - UpdateQuestStatus
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T01:30:27.338774'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
