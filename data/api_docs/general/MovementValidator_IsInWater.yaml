api:
  class: MovementValidator
  method: IsInWater
  signature: bool MovementValidator::IsInWater(Map * map, const int & position) const
documentation:
  brief: Checks if a given position is located within water on the specified map.
  description: The IsInWater method determines whether a specific position, represented
    by an integer identifier, is currently inside a water zone or body of water on
    the provided Map object. This functionality is essential for game mechanics such
    as determining if a player or creature is swimming, submerged, or standing in
    shallow water. The method typically utilizes internal map data structures and
    collision detection to assess the water status of the given position. It's commonly
    used in movement validation, AI behavior logic, and environmental interaction
    systems within TrinityCore.
  parameters:
  - name: map
    description: Pointer to the Map object where the position is located. Must be
      a valid map instance; null pointers will result in undefined behavior.
  - name: position
    description: Integer identifier representing a specific location on the map. This
      value usually corresponds to a unique coordinate or cell identifier used internally
      by TrinityCore's map system.
  returns: Returns true if the specified position is located within water, false otherwise.
    The result depends on the current state of the map and its water zone data.
  examples:
  - title: Basic usage to check if a position is in water
    code: "Map* myMap = ...; // Assume valid map pointer\nint positionId = 12345;\
      \ // Some position identifier\nbool isInWater = MovementValidator::IsInWater(myMap,\
      \ positionId);\nif (isInWater) {\n    // Handle logic for being in water\n}"
    language: cpp
  - title: Using IsInWater in movement validation context
    code: "class PlayerMovementValidator {\npublic:\n    bool ValidateMovement(Map*\
      \ map, int position) {\n        if (MovementValidator::IsInWater(map, position))\
      \ {\n            // Apply swimming-specific movement rules\n            return\
      \ true;\n        }\n        // Apply normal ground movement rules\n        return\
      \ true;\n    }\n};"
    language: cpp
  notes: This method likely relies on the Map's internal water zone data structures
    and may perform fast lookups using spatial indexing or grid-based systems. Performance
    is generally good for single queries, but repeated calls across large areas should
    be optimized. The method assumes valid inputs and does not perform input validation
    internally.
  warnings: Passing a null map pointer will likely cause a crash or undefined behavior.
    The position parameter must correspond to a valid location on the given map; invalid
    positions may return incorrect results or cause errors. Be cautious when using
    this method in performance-critical sections of code without caching results.
  related:
  - IsOnGround
  - GetWaterLevel
  - IsInLava
metadata:
  confidence: 0.85
  generated_at: '2025-11-03T23:10:07.638334'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
