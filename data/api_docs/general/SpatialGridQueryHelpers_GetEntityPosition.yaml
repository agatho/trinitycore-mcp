api:
  class: SpatialGridQueryHelpers
  method: GetEntityPosition
  signature: bool SpatialGridQueryHelpers::GetEntityPosition(Player * bot, int guid,
    int & position)
documentation:
  brief: Retrieves the position of a specified entity within the spatial grid system.
  description: The GetEntityPosition method is used to obtain the positional coordinates
    of a given entity, such as a player or NPC, within the game world's spatial grid
    structure. This function facilitates efficient spatial queries and entity management
    by retrieving location data from the internal grid system. The method requires
    a valid Player pointer and a GUID to locate the entity, returning true upon successful
    retrieval of position data. It is commonly used in AI behavior scripting, pathfinding
    algorithms, and spatial awareness systems within TrinityCore-based World of Warcraft
    servers.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the entity requesting the
      position information.
  - name: guid
    description: Integer value representing the unique identifier (GUID) of the target
      entity whose position is being retrieved.
  - name: position
    description: Reference to an integer that will be populated with the entity's
      position data upon successful retrieval.
  returns: Returns true if the entity position was successfully retrieved and stored
    in the 'position' parameter; otherwise, returns false if the entity could not
    be found or the operation failed.
  examples:
  - title: Basic usage to retrieve player position
    code: "Player* bot = ...;\nint guid = 12345;\nint position = 0;\nif (SpatialGridQueryHelpers::GetEntityPosition(bot,\
      \ guid, position)) {\n    // Successfully retrieved position\n    std::cout\
      \ << \"Position: \" << position << std::endl;\n} else {\n    // Failed to retrieve\
      \ position\n    std::cout << \"Failed to get entity position\" << std::endl;\n\
      }"
    language: cpp
  notes: This method operates within the context of TrinityCore's spatial grid system,
    which organizes entities for efficient spatial queries. The 'position' parameter
    likely represents a grid cell index or coordinate value depending on internal
    implementation details. Ensure that the GUID corresponds to an active entity in
    the current world state.
  warnings: The method may fail if the specified entity is not present in the current
    grid or has been destroyed. Always validate the return value before using the
    retrieved position data. Using invalid GUIDs can lead to undefined behavior or
    crashes.
  related:
  - GetEntityGuid
  - GetEntityOrientation
  - GetNearbyEntities
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T14:48:42.339858'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
