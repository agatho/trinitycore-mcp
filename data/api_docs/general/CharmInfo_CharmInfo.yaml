api:
  class: CharmInfo
  method: CharmInfo
  signature: void CharmInfo::CharmInfo(Unit * unit)
documentation:
  brief: Initializes a CharmInfo object with the specified unit, setting up charm-related
    data structures and state.
  description: The CharmInfo constructor initializes the charm information for a given
    unit. This method sets up internal data structures that track the relationship
    between a charmer and a charmed unit, including ownership, command states, and
    behavior flags. It is typically called when a creature or player becomes charmed
    by another unit, establishing the necessary framework for managing the charm state
    within the TrinityCore engine. The initialization process ensures that the charmed
    unit's AI and behavior are properly configured to respond to commands from its
    charmer.
  parameters:
  - name: unit
    description: Pointer to the Unit object that will be charmed. This parameter defines
      the target of the charm effect and determines how the CharmInfo object will
      configure itself to manage the charm relationship.
  returns: null
  examples:
  - title: Initializing CharmInfo for a Creature
    code: 'Creature* charmTarget = ...; // Some creature to be charmed

      CharmInfo* charmInfo = new CharmInfo(charmTarget);

      // The charmInfo is now initialized with the target creature'
    language: cpp
  - title: Creating CharmInfo in a Custom AI Module
    code: "class MyAI : public CreatureAI {\npublic:\n    void OnCharmed(Unit* charmer)\
      \ override {\n        // Initialize charm info when creature is charmed\n  \
      \      charmInfo = new CharmInfo(me);\n        // Configure additional charm-specific\
      \ behavior\n    }\n};"
    language: cpp
  notes: This constructor should only be called during the initialization phase of
    a charm effect. It assumes that the unit parameter is valid and properly allocated.
    The CharmInfo object will manage internal references to the unit, so care must
    be taken not to destroy the unit before destroying the CharmInfo object.
  warnings: Do not call this constructor with a null unit pointer as it may lead to
    undefined behavior or crashes. The CharmInfo object assumes exclusive ownership
    of its internal state and should be destroyed when the charmed unit is removed
    from the world.
  related:
  - CharmInfo::~CharmInfo
  - CharmInfo::SetCommandState
  - CharmInfo::GetCharmer
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T18:03:56.510886'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
