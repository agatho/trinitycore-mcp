api:
  class: ThreatManager
  method: SendThreatListToClients
  signature: void ThreatManager::SendThreatListToClients(bool newHighest) const
documentation:
  brief: Sends the current threat list to all clients for the associated unit's threat
    manager.
  description: The SendThreatListToClients method is responsible for broadcasting
    the current threat list to all connected clients that have visibility of the unit
    managed by this ThreatManager. This method updates the client-side UI with the
    latest threat information, including which players or pets have the highest threat
    levels on the unit. The optional boolean parameter newHighest indicates whether
    a new highest threat value has been set, which may trigger additional client-side
    updates or animations. This functionality is crucial for maintaining accurate
    combat feedback in World of Warcraft's threat system, ensuring that players can
    properly manage their aggro and positioning during encounters.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage
    code: "void MyAI::UpdateAI(uint32 diff)\n{\n    if (m_threatManager)\n       \
      \ m_threatManager->SendThreatListToClients(false);\n}"
    language: cpp
  - title: With New Highest Threat
    code: "void MyAI::OnThreatChanged(Unit* target, float newThreat)\n{\n    if (m_threatManager)\n\
      \        m_threatManager->SendThreatListToClients(true);\n}"
    language: cpp
  notes: This method is typically called internally by the threat system when threat
    values change or when a new highest threat value is established. It should not
    be called directly from outside the threat management system unless specifically
    required for custom behavior. The method operates on the assumption that the unit
    has valid threat data and that clients are properly connected.
  warnings: Calling this method without proper threat data can result in incorrect
    client-side UI updates. Ensure that threat values have been properly updated before
    calling this method to maintain synchronization between server and client threat
    states.
  related:
  - AddThreat
  - RemoveThreat
  - GetThreatList
  - UpdateThreat
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T05:22:11.045689'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
