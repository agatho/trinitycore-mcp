api:
  class: PhasingHandler
  method: InitDbVisibleMapId
  signature: void PhasingHandler::InitDbVisibleMapId(PhaseShift & phaseShift, int32
    visibleMapId)
documentation:
  brief: Initializes the database visible map ID for a phase shift.
  description: The InitDbVisibleMapId method sets up the database-referenced visible
    map identifier within a PhaseShift object. This function is typically used during
    player or object initialization to establish which map should be visible in the
    current phase. It ensures that the phase system correctly tracks and applies visibility
    rules based on map IDs stored in the database. The method modifies the provided
    PhaseShift object directly, updating its internal state to reflect the specified
    visible map ID.
  parameters:
  - name: phaseShift
    description: Reference to a PhaseShift object that will have its visible map ID
      initialized.
  - name: visibleMapId
    description: Integer identifier representing the map ID that should be marked
      as visible in the phase shift. Negative values may indicate special handling
      or invalid states.
  returns: null
  examples:
  - title: Initialize PhaseShift with a Visible Map ID
    code: 'PhaseShift shift;

      int32 mapId = 1234;

      PhasingHandler::InitDbVisibleMapId(shift, mapId);

      // The shift object now has its visible map ID set to 1234.'
    language: cpp
  notes: This method is part of the phasing system in TrinityCore and is critical
    for proper visibility handling in different zones or instances. It should be called
    during initialization routines before any phase-related operations are performed.
  warnings: null
  related:
  - GetDbVisibleMapId
  - SetDbVisibleMapId
  - ApplyPhaseShift
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T01:41:26.912279'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
