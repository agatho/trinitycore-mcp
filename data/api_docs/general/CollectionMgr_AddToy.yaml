api:
  class: CollectionMgr
  method: AddToy
  signature: bool CollectionMgr::AddToy(uint32 itemId, bool isFavourite, bool hasFanfare)
documentation:
  brief: Adds a toy item to the player's collection, optionally marking it as favorite
    and triggering a fanfare.
  description: The AddToy method is used to add a specified toy item to the player's
    collection in World of Warcraft. This method allows for setting the toy as a favorite
    and triggering a visual fanfare upon acquisition. The method returns true if the
    toy was successfully added or already existed in the collection, and false if
    the operation failed due to invalid parameters or other issues. This functionality
    is part of the Collection system introduced in later expansions, allowing players
    to collect and manage toys they have obtained through various means such as achievements,
    quests, or purchases.
  parameters:
  - name: itemId
    description: The unique identifier of the toy item to be added. This must correspond
      to a valid item entry in the game's database that is classified as a toy.
  - name: isFavourite
    description: A boolean flag indicating whether the toy should be marked as a favorite
      in the player's collection. If true, the toy will appear at the top of the favorites
      list.
  - name: hasFanfare
    description: A boolean flag that determines if a visual fanfare should be triggered
      when the toy is added to the collection. This typically displays an animation
      and sound effect to notify the player.
  returns: Returns true if the toy was successfully added or already existed in the
    collection. Returns false if the item ID is invalid, the player's collection system
    is disabled, or other internal errors occur during the operation.
  examples:
  - title: Basic usage of AddToy
    code: "Player* player = ...;\nCollectionMgr* collectionMgr = player->GetCollectionMgr();\n\
      bool result = collectionMgr->AddToy(12345, true, false);\nif (result)\n{\n \
      \   // Toy was added successfully\n}"
    language: cpp
  - title: Adding a toy with fanfare
    code: "Player* player = ...;\nCollectionMgr* collectionMgr = player->GetCollectionMgr();\n\
      // Add a toy and trigger fanfare\nbool result = collectionMgr->AddToy(67890,\
      \ false, true);\nif (result)\n{\n    // Toy added with visual notification\n\
      }"
    language: cpp
  notes: This method interacts with the player's toy collection data stored in the
    database. It may perform database writes when adding new toys or updating existing
    entries. The method assumes that the player has a valid CollectionMgr instance
    and that the item ID corresponds to an actual toy in the game. If called on a
    player without a proper collection manager, it will likely result in undefined
    behavior.
  warnings: Calling this method with an invalid item ID may lead to silent failures
    or database corruption if not properly validated. Ensure that the itemId refers
    to a valid toy entry before calling this function. Also, be cautious about calling
    this method during critical gameplay moments as it might trigger UI updates and
    potentially impact performance.
  related:
  - RemoveToy
  - HasToy
  - SetToyFavourite
  - GetToyCollection
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T09:44:49.568287'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
