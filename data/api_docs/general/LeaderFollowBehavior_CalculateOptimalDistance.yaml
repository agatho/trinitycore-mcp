api:
  class: LeaderFollowBehavior
  method: CalculateOptimalDistance
  signature: float LeaderFollowBehavior::CalculateOptimalDistance(Player * bot, Player
    * leader)
documentation:
  brief: Calculates the optimal following distance between a bot and its leader in
    the game world.
  description: The CalculateOptimalDistance method determines the appropriate distance
    a bot should maintain from its leader while following them in a group. This calculation
    takes into account various factors such as the bot's movement speed, the leader's
    movement speed, combat state, and environmental conditions to ensure smooth and
    realistic group behavior. The method is typically used by the LeaderFollowBehavior
    AI system to dynamically adjust the bot's positioning during group activities
    like questing, dungeon running, or battlegrounds. It helps prevent bots from getting
    too close to each other in tight spaces or too far apart when navigating complex
    terrain.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that is following
      the leader. Must be a valid player instance with proper initialization.
  - name: leader
    description: Pointer to the Player object representing the leader whom the bot
      is following. Must be a valid player instance with proper initialization.
  returns: Returns a float value representing the optimal distance in yards between
    the bot and its leader. The value typically ranges from 1.0 to 10.0 yards depending
    on the circumstances, with lower values indicating closer proximity and higher
    values indicating more space.
  examples:
  - title: Basic usage in AI behavior
    code: 'float distance = behavior->CalculateOptimalDistance(botPlayer, leaderPlayer);

      // Use calculated distance to set follow position

      botPlayer->SetFollowDistance(distance);'
    language: cpp
  - title: Using with conditional logic for different scenarios
    code: "float distance = behavior->CalculateOptimalDistance(bot, leader);\nif (leader->IsInCombat())\
      \ {\n    distance = std::max(2.0f, distance * 0.8f); // Reduce distance in combat\n\
      } else if (bot->IsMoving()) {\n    distance = std::min(8.0f, distance * 1.2f);\
      \ // Increase distance when moving\n}\nbot->SetFollowDistance(distance);"
    language: cpp
  notes: This method is part of the TrinityCore AI system and relies on internal game
    state tracking for accurate calculations. The implementation may vary based on
    the bot's class, level, and current activity. Performance-wise, this method should
    be called sparingly during active gameplay to avoid unnecessary overhead.
  warnings: Ensure both player pointers are valid before calling this method to prevent
    null pointer exceptions. The method assumes both players are in the same map instance
    and have valid movement states. Calling this method with uninitialized or invalid
    player objects may result in undefined behavior.
  related:
  - SetFollowDistance
  - GetFollowDistance
  - UpdateFollowPosition
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T10:35:31.409188'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
