api:
  class: IcicleTracker
  method: ConsumeIcicles
  signature: void IcicleTracker::ConsumeIcicles()
documentation:
  brief: Consumes all active icicles from the tracker, reducing their count and triggering
    any associated effects.
  description: The ConsumeIcicles method is responsible for processing and removing
    all currently active icicles stored within the IcicleTracker instance. This typically
    occurs when a player's abilities or spells that generate icicles are used, causing
    the icicles to be consumed for their intended effect such as increasing damage,
    applying buffs, or triggering special mechanics. The method ensures proper state
    management by decrementing internal counters and potentially invoking callbacks
    or events related to icicle consumption. It is commonly called during spell execution
    or ability usage within the game's combat system.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Spell Effect
    code: "void IceLanceSpell::EffectExecute(Unit* caster, Unit* target)\n{\n    IcicleTracker*\
      \ tracker = caster->GetIcicleTracker();\n    if (tracker)\n    {\n        tracker->ConsumeIcicles();\n\
      \        // Apply damage or effects based on consumed icicles\n    }\n}"
    language: cpp
  notes: This method should only be called when the player has active icicles to consume.
    It's recommended to check for existing icicles before calling this method to avoid
    unintended behavior. The internal state of the tracker is modified directly, so
    concurrent access from multiple threads may require synchronization.
  warnings: Calling ConsumeIcicles without verifying that icicles exist can lead to
    undefined behavior or incorrect game state. Ensure proper validation and error
    handling in your implementation.
  related:
  - GetIcicleCount
  - AddIcicles
  - IsIcicleActive
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T00:49:28.365773'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
