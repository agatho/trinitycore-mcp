api:
  class: PaladinAI
  method: IsAllyInDanger
  signature: bool PaladinAI::IsAllyInDanger() const
documentation:
  brief: Checks if any friendly unit within range is currently under attack or in
    danger.
  description: The IsAllyInDanger method evaluates the current state of all nearby
    friendly units to determine whether any of them are currently being attacked or
    are otherwise in immediate peril. This method is typically used by Paladin AI
    logic to decide when to intervene and provide protection or healing to allies.
    It considers factors such as threat level, health status, and proximity to hostile
    targets. The result can influence the paladin's decision-making process for targeting,
    spell selection, and movement behavior.
  parameters: []
  returns: Returns true if at least one friendly unit within the paladin's detection
    range is currently under attack or in a dangerous state; otherwise returns false.
  examples:
  - title: Basic usage in AI decision making
    code: "if (paladinAI->IsAllyInDanger()) {\n    // Initiate protective actions\
      \ like Divine Shield or Lay on Hands\n    paladin->CastSpell(target, SPELL_DIVINE_SHIELD);\n\
      }"
    language: cpp
  - title: Using result to prioritize healing
    code: "if (paladinAI->IsAllyInDanger()) {\n    // Find the most injured ally in\
      \ danger\n    Unit* target = GetMostInjuredAllyInDanger();\n    if (target)\n\
      \        paladin->CastSpell(target, SPELL_HOLY_LIGHT);\n}"
    language: cpp
  notes: This method likely uses internal AI detection systems to scan for nearby
    units that are either actively being attacked or have low health and high threat.
    It may be called frequently during AI updates to make real-time tactical decisions.
  warnings: null
  related:
  - PaladinAI::GetNearbyAllies
  - PaladinAI::IsTargetInDanger
  - PaladinAI::ShouldHealAlly
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T11:57:56.550723'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
