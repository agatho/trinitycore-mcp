api:
  class: ScriptMgr
  method: OnColorCodeCalculation
  signature: void ScriptMgr::OnColorCodeCalculation(XPColorChar & color, uint8 playerLevel,
    uint8 mobLevel)
documentation:
  brief: Calculates the color code for experience points based on player and mob level
    difference in World of Warcraft.
  description: The OnColorCodeCalculation method is invoked by the TrinityCore server
    to determine the visual color code that should be used when displaying experience
    point gains to players. This color typically indicates the relative difficulty
    of the kill, with higher-level mobs providing more valuable experience and thus
    a different color than lower-level mobs. The method modifies the XPColorChar parameter
    to reflect the appropriate color based on the level difference between the player
    and the mob that was killed. This is part of the game's UI and experience system,
    where visual feedback helps players understand the value of their actions.
  parameters:
  - name: color
    description: Reference to an XPColorChar structure that will be modified to represent
      the calculated color code for the experience point display.
  - name: playerLevel
    description: The current level of the player who earned the experience points.
  - name: mobLevel
    description: The level of the mob that was killed and provided the experience
      points.
  returns: null
  examples:
  - title: Basic usage in a script
    code: "void MyScript::OnColorCodeCalculation(XPColorChar& color, uint8 playerLevel,\
      \ uint8 mobLevel)\n{\n    // Custom logic to adjust color based on level difference\n\
      \    if (mobLevel > playerLevel + 5)\n        color = XPColorChar::RED;\n  \
      \  else if (mobLevel < playerLevel - 5)\n        color = XPColorChar::GRAY;\n\
      \    else\n        color = XPColorChar::WHITE;\n}"
    language: cpp
  notes: This method is called during experience point calculation and should be used
    to modify the visual feedback of experience gains. It's important to ensure that
    any modifications to the color do not interfere with the game's intended UI behavior
    or cause confusion for players.
  warnings: Modifying the XPColorChar value incorrectly can lead to unexpected visual
    results in the game client, potentially confusing players about the relative difficulty
    of mobs they've defeated.
  related: []
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T22:54:21.244078'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
