api:
  class: BotAction
  method: StopAttack
  signature: BotAction BotAction::StopAttack(int bot, uint32 timestamp)
documentation:
  brief: Stops the specified bot's attack action and returns the updated BotAction
    object.
  description: The StopAttack method halts any ongoing attack behavior for a specified
    bot within the TrinityCore framework. This method is typically used in AI-driven
    bot systems to cease combat operations, reset attack states, or transition bots
    to different behavioral modes. The method operates on a bot identifier and a timestamp
    parameter to ensure proper synchronization of actions. It returns a BotAction
    object which represents the updated state of the action after stopping the attack.
    This functionality is essential for managing bot behavior in automated gameplay
    scenarios such as player versus environment (PvE) or player versus player (PvP)
    simulations.
  parameters:
  - name: bot
    description: The unique identifier of the bot whose attack action needs to be
      stopped. This is typically an integer value representing the bot's internal
      ID within the TrinityCore system.
  - name: timestamp
    description: A Unix timestamp that indicates when the stop action should take
      effect. This helps ensure proper sequencing and synchronization of bot actions
      in relation to other timed events.
  returns: Returns a BotAction object representing the updated state after stopping
    the attack. The returned object may contain information about the completion status
    or next steps in the bot's AI sequence.
  examples:
  - title: Basic Usage of StopAttack
    code: 'BotAction action = botAction.StopAttack(12345, time(nullptr));

      // This stops the attack for bot with ID 12345 at current timestamp'
    language: cpp
  - title: Using StopAttack in a Combat Management System
    code: "uint32 currentTime = time(nullptr);\nBotAction result = botAction.StopAttack(botId,\
      \ currentTime);\nif (result.IsValid()) {\n    // Proceed with next AI action\n\
      \    botAction.ExecuteNextAction();\n}"
    language: cpp
  notes: This method assumes that the bot is currently in an active attack state.
    If called on a bot not engaged in combat, it may have no effect or return an error
    state. The timestamp parameter is crucial for maintaining proper timing of actions
    in complex AI sequences.
  warnings: Calling StopAttack on a non-existent bot ID may lead to undefined behavior
    or errors. Always verify that the bot exists and is currently in an attack state
    before calling this method.
  related:
  - StartAttack
  - IsAttacking
  - SetBotState
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T03:37:11.412285'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
