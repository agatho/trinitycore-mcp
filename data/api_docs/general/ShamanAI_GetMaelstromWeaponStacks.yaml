api:
  class: ShamanAI
  method: GetMaelstromWeaponStacks
  signature: int ShamanAI::GetMaelstromWeaponStacks() const
documentation:
  brief: Retrieves the current stack count of the Maelstrom Weapon buff applied to
    the Shaman.
  description: The GetMaelstromWeaponStacks method returns the number of active stacks
    of the Maelstrom Weapon ability, which is a passive buff that accumulates energy
    from certain spell casts. This buff is unique to the Enhancement shaman specialization
    and provides increased damage for each stack. The method does not modify any state
    and is typically used by AI logic to determine when to use abilities like Lava
    Burst or Chain Lightning. The returned value represents how many times the Maelstrom
    Weapon effect has been triggered, with a maximum of 5 stacks before it expires.
  parameters: []
  returns: An integer representing the current number of Maelstrom Weapon stacks on
    the shaman. Returns 0 if the buff is not active or has expired.
  examples:
  - title: Check Maelstrom Weapon Stacks Before Casting Lava Burst
    code: "if (shamanAI->GetMaelstromWeaponStacks() >= 5)\n{\n    // Cast Lava Burst\
      \ to consume all stacks\n    shamanAI->CastSpell(SPELL_LAVA_BURST);\n}"
    language: cpp
  - title: Use Maelstrom Weapon Stacks in AI Decision Making
    code: "int stacks = shamanAI->GetMaelstromWeaponStacks();\nif (stacks > 0 && stacks\
      \ < 5)\n{\n    // Use Chain Lightning to build up more stacks\n    shamanAI->CastSpell(SPELL_CHAIN_LIGHTNING);\n\
      }\nelse if (stacks == 5)\n{\n    // Use Lava Burst to clear the buff and deal\
      \ maximum damage\n    shamanAI->CastSpell(SPELL_LAVA_BURST);\n}"
    language: cpp
  notes: This method only reflects the current stack count of Maelstrom Weapon, not
    the duration or other properties of the buff. The stacks are automatically consumed
    when using certain spells like Lava Burst, and they accumulate from abilities
    such as Chain Lightning and Windfury Weapon.
  warnings: Do not assume that a non-zero return value means the buff is still active;
    it's possible for the buff to be expired but still show a stack count if the AI
    logic hasn't been updated yet. Always verify spell availability before casting.
  related:
  - ShamanAI::HasMaelstromWeaponBuff
  - ShamanAI::ApplyMaelstromWeaponStack
  - ShamanAI::RemoveMaelstromWeaponStack
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T10:07:58.535409'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
