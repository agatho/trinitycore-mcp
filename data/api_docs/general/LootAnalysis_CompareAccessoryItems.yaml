api:
  class: LootAnalysis
  method: CompareAccessoryItems
  signature: float LootAnalysis::CompareAccessoryItems(Player * player, const LootItem
    & newItem, const Item * currentItem)
documentation:
  brief: Compares two accessory items to determine their relative value for loot distribution
    decisions.
  description: The CompareAccessoryItems method evaluates and quantifies the relative
    value of a new loot item compared to an existing item in a player's inventory.
    It is used primarily within the loot analysis system to assist in determining
    optimal loot distribution strategies, particularly when considering accessory
    items such as rings, trinkets, or other equipable accessories. The method takes
    into account item stats, quality, level, and potential utility for the specific
    player class and role. This comparison helps the system make informed decisions
    about whether to replace an existing item with a new one during loot assignment.
  parameters:
  - name: player
    description: Pointer to the Player object whose inventory is being analyzed. Must
      be a valid player instance with an active session.
  - name: newItem
    description: Reference to the LootItem structure representing the new item being
      considered for addition or replacement.
  - name: currentItem
    description: Pointer to the Item object currently in the player's inventory that
      may be replaced by the new item.
  returns: Returns a float value indicating the relative comparison score between
    the new item and current item. A positive value suggests the new item is better,
    a negative value indicates the current item is superior, and zero means they are
    approximately equal in value.
  examples:
  - title: Basic usage to compare two accessory items
    code: "float score = lootAnalysis.CompareAccessoryItems(player, newItem, currentItem);\n\
      if (score > 0.0f) {\n    // Replace current item with new one\n}"
    language: cpp
  - title: Using comparison result to make loot distribution decision
    code: "float value = lootAnalysis.CompareAccessoryItems(player, lootItem, existingItem);\n\
      if (value > 0.5f) {\n    // Accept new item as better replacement\n    player->AddItem(lootItem.itemTemplate,\
      \ 1);\n} else if (value < -0.5f) {\n    // Keep existing item\n    player->SendEquipError(EQUIP_ERR_ITEM_NOT_FOUND);\n\
      }"
    language: cpp
  notes: This method is part of the internal loot analysis system and may be used
    during automatic loot distribution or when evaluating possible loot swaps. The
    comparison algorithm considers item level, stats, enchantments, and class-specific
    utility factors. Performance is optimized for frequent calls during loot processing,
    but it does involve some computational overhead due to stat calculations.
  warnings: Ensure that both player and items are valid before calling this method;
    passing null pointers will likely result in undefined behavior or crashes. The
    returned float value should be interpreted carefully as it's a relative score,
    not an absolute measure of item worth.
  related:
  - LootAnalysis::AnalyzeLootItem
  - LootAnalysis::CompareItems
  - LootAnalysis::EvaluateItemValue
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T01:27:11.021949'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
