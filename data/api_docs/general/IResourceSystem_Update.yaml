api:
  class: IResourceSystem
  method: Update
  signature: void IResourceSystem::Update(uint32 diff, bool inCombat)
documentation:
  brief: Updates resource system state based on elapsed time and combat status
  description: The Update method is responsible for advancing the internal state of
    the resource system, typically used to process resource regeneration, cooldowns,
    or other time-based mechanics. It takes a time delta (diff) and a boolean flag
    indicating whether the player is currently in combat to determine how resources
    should be updated. This method is usually called from the main game loop to ensure
    that resources such as mana, energy, rage, or focus are properly managed according
    to game rules and player activity.
  parameters:
  - name: diff
    description: The time elapsed since the last update in milliseconds. Used to calculate
      how much resource regeneration or cooldowns should progress.
  - name: inCombat
    description: Boolean flag indicating whether the player or unit is currently in
      combat. Affects how resources are updated, for example, mana regeneration may
      be reduced during combat.
  returns: null
  examples:
  - title: Basic Update Call
    code: "void GameLoop()\n{\n    uint32 diff = sWorld->GetLastDiff();\n    player->GetResourceSystem()->Update(diff,\
      \ player->IsInCombat());\n}"
    language: cpp
  - title: Update with Combat State Handling
    code: "void HandlePlayerUpdate(Player* player)\n{\n    uint32 diff = GetTimeDiff();\n\
      \    bool inCombat = player->IsInCombat();\n    player->GetResourceSystem()->Update(diff,\
      \ inCombat);\n}"
    language: cpp
  notes: This method is typically invoked once per game tick or frame. It's important
    that the diff parameter accurately reflects real-time passage for proper resource
    behavior. The inCombat flag should be updated before calling this method to reflect
    current player state.
  warnings: Incorrectly passing a zero or negative diff value can lead to unexpected
    behavior in resource calculations. Ensure that inCombat is properly synchronized
    with the actual combat state of the unit to avoid incorrect resource management.
  related:
  - GetResource
  - SetResource
  - AddResource
  - RemoveResource
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T02:53:33.540149'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
