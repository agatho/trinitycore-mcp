api:
  class: Player
  method: CanUnequipItem
  signature: int Player::CanUnequipItem(uint16 src, bool swap) const
documentation:
  brief: Checks if a player can unequip an item from a specific slot.
  description: The CanUnequipItem method determines whether a player is allowed to
    unequip an item from a specified source slot. This method evaluates various game
    mechanics including inventory constraints, equipment requirements, and character
    state conditions. It returns an integer value indicating the success or failure
    of the unequipping operation, with different return codes representing different
    failure scenarios such as invalid slot, item not equipped, or insufficient space
    in inventory.
  parameters:
  - name: src
    description: The source slot from which the item is to be unequipped. This typically
      represents a specific inventory slot like head, chest, weapon, etc. The value
      must be within valid range for the player's inventory.
  - name: swap
    description: A boolean flag indicating whether swapping is allowed. If true, the
      method will attempt to swap the item with another equipped item; if false, it
      will only unequip the item without swapping.
  returns: The return value represents an integer code indicating success or failure
    of the unequipping operation. Values include 0 for success, and various non-zero
    values representing different types of failures such as invalid slot, item not
    equipped, or insufficient space in inventory.
  examples:
  - title: Basic usage example
    code: "int result = player->CanUnequipItem(12, false);\nif (result == 0)\n{\n\
      \    // Item can be unequipped\n}\nelse\n{\n    // Item cannot be unequipped\n\
      }"
    language: cpp
  - title: Swap usage example
    code: "int result = player->CanUnequipItem(15, true);\nif (result == 0)\n{\n \
      \   // Item can be swapped with another equipped item\n}\nelse\n{\n    // Item\
      \ cannot be swapped\n}"
    language: cpp
  notes: This method is primarily used in conjunction with the UnequipItem method
    to validate unequipping operations before performing them. It is important to
    note that this method does not actually perform the unequipping but only checks
    if it's possible. The implementation involves checking various game state conditions
    including inventory space, item requirements, and character state.
  warnings: This method should be used carefully as it may return different values
    depending on the player's current state. If the player is in combat or has certain
    buffs applied, the result may differ from normal conditions. Also, the method
    does not check for item durability or other game mechanics that might affect unequipping.
  related:
  - UnequipItem
  - CanEquipItem
  - IsEquipped
metadata:
  confidence: 0.85
  generated_at: '2025-10-30T17:34:38.644945'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
