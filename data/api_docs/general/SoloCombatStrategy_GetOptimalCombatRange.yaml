api:
  class: SoloCombatStrategy
  method: GetOptimalCombatRange
  signature: float SoloCombatStrategy::GetOptimalCombatRange(BotAI * ai, Unit * target)
    const
documentation:
  brief: Calculates and returns the optimal combat range for a bot to engage a target
    in solo combat.
  description: The GetOptimalCombatRange method determines the ideal distance at which
    a bot should position itself relative to its combat target. This calculation considers
    factors such as the bot's class, weapon type, spell capabilities, and the target's
    mobility or threat level. The returned float value represents the distance in
    yards. This method is crucial for ensuring efficient bot performance during solo
    encounters, as maintaining optimal range maximizes damage output while minimizing
    vulnerability to enemy attacks. The method operates within the context of TrinityCore's
    AI framework and is typically invoked during combat decision-making processes.
  parameters: []
  returns: A float value representing the optimal combat range in yards. This distance
    is calculated based on the bot's class abilities, weapon characteristics, and
    target properties to ensure maximum effectiveness during solo combat scenarios.
  examples:
  - title: Basic Usage in Combat Decision
    code: "float optimalRange = strategy.GetOptimalCombatRange(ai, target);\nif (ai->GetBot()->GetDistance(target)\
      \ > optimalRange)\n{\n    ai->SetMovement(MOVE_RUN);\n    ai->MoveTo(target->GetPosition());\n\
      }"
    language: cpp
  - title: Using Range for Spell Casting
    code: "float range = strategy.GetOptimalCombatRange(ai, target);\nif (ai->GetBot()->IsWithinLOS(target)\
      \ && ai->GetBot()->GetDistance(target) <= range)\n{\n    // Cast spell at optimal\
      \ range\n    ai->CastSpell(target, SPELL_FIREBALL);\n}"
    language: cpp
  notes: This method is designed to be called frequently during combat updates. It
    caches internal calculations when possible to improve performance. The returned
    value may vary slightly between different bot classes due to varying weapon ranges
    and spell capabilities. The method assumes that the target unit is valid and within
    the AI's awareness range.
  warnings: Do not use this method with null or invalid target units as it may cause
    undefined behavior. The calculated range does not account for environmental obstacles
    or terrain that might affect actual combat positioning. Always verify that the
    target is still valid before using the returned range value in movement decisions.
  related:
  - GetCombatRange
  - IsInOptimalRange
  - CalculateDistance
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T09:40:45.510218'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
