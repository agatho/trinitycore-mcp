api:
  class: MLPerformanceSample
  method: GetDuration
  signature: uint64_t MLPerformanceSample::GetDuration() const
documentation:
  brief: Calculates and returns the duration of a performance sample in microseconds.
  description: The GetDuration method computes the time elapsed since the performance
    sample was started, returning the total duration as a 64-bit unsigned integer
    representing microseconds. This method is typically used in profiling and performance
    monitoring systems within TrinityCore to measure execution times of various subsystems
    or operations. The value returned represents the precise time difference between
    when the sample was initiated and when this method is called, making it useful
    for benchmarking and optimization purposes. No special preconditions are required
    for calling this method, though it assumes that the sample has been properly initialized
    with a start time.
  parameters: []
  returns: A uint64_t value representing the duration of the performance sample in
    microseconds since it was started. Returns zero if the sample has not been initialized
    or started.
  examples:
  - title: Basic Usage Example
    code: 'MLPerformanceSample sample;

      sample.Start();

      // ... perform some operation ...

      uint64_t duration = sample.GetDuration();

      std::cout << "Operation took " << duration << " microseconds" << std::endl;'
    language: cpp
  - title: Performance Profiling Example
    code: "void ProfileFunction() {\n    MLPerformanceSample profiler;\n    profiler.Start();\n\
      \    \n    // Simulate some work\n    for (int i = 0; i < 1000000; ++i) {\n\
      \        volatile int x = i * i;\n    }\n    \n    uint64_t duration = profiler.GetDuration();\n\
      \    printf(\"Function executed in %llu microseconds\\n\", static_cast<unsigned\
      \ long long>(duration));\n}"
    language: cpp
  notes: This method relies on high-resolution timing functions provided by the operating
    system. The accuracy of the returned value depends on the underlying timer resolution
    and may vary between different platforms. The method is designed to be lightweight
    and should not introduce significant overhead during performance measurement.
  warnings: Ensure that the MLPerformanceSample object has been properly initialized
    before calling GetDuration, otherwise the result may be undefined or zero. Avoid
    calling this method in performance-critical sections where timing precision is
    crucial, as it may involve system calls that could add latency.
  related:
  - Start
  - Reset
  - GetStartTime
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T16:40:07.220329'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
