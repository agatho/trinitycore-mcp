api:
  class: Bag
  method: ClearUpdateMask
  signature: void Bag::ClearUpdateMask(bool remove)
documentation:
  brief: Clears the update mask of the bag object, optionally removing it from updates.
  description: The ClearUpdateMask method resets the internal update mask of a Bag
    object, which is used by the TrinityCore server to track changes to the bag's
    state for synchronization with clients. When remove is set to true, the bag is
    also removed from the update queue, preventing further updates until the mask
    is rebuilt. This method is typically invoked during item management operations
    such as adding or removing items, or when the bag is being destroyed or moved.
    The update mask tracks which fields of the bag's data structure have changed since
    the last update cycle.
  parameters:
  - name: remove
    description: If true, removes the bag from the update queue after clearing the
      mask; if false, only clears the mask without removing it from updates.
  returns: null
  examples:
  - title: Clearing Update Mask Without Removal
    code: "Bag* bag = player->GetBag(0);\nif (bag)\n{\n    bag->ClearUpdateMask(false);\
      \ // Only clear the mask\n}"
    language: cpp
  - title: Clearing Update Mask and Removing from Updates
    code: "Bag* bag = player->GetBag(0);\nif (bag)\n{\n    bag->ClearUpdateMask(true);\
      \ // Clear mask and remove from updates\n}"
    language: cpp
  notes: This method is primarily used internally by the TrinityCore framework during
    item management operations. It's important to understand that clearing the update
    mask without removing the object from updates can lead to stale data being sent
    to clients if not handled properly.
  warnings: Calling this method may cause inconsistencies in client-side UI if the
    bag's state has changed but is not properly updated afterward. Always ensure that
    proper update mechanisms are in place after calling ClearUpdateMask.
  related:
  - Bag::BuildUpdate
  - Bag::AddItem
  - Bag::RemoveItem
  - Object::BuildUpdateData
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T20:49:53.232340'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
