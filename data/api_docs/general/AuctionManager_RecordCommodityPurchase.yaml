api:
  class: AuctionManager
  method: RecordCommodityPurchase
  signature: void AuctionManager::RecordCommodityPurchase(int botGuid, uint64 cost)
documentation:
  brief: Records a commodity purchase made by a bot player in the auction system.
  description: The RecordCommodityPurchase method logs a commodity transaction within
    the auction manager, tracking the purchase of a commodity item by a specific bot
    player. This method is typically invoked when a bot successfully buys a commodity
    from the auction house, updating internal records and potentially triggering related
    game mechanics such as inventory updates or transaction logging. The method takes
    the bot's unique identifier and the cost of the purchase to maintain accurate
    accounting within the auction system.
  parameters:
  - name: botGuid
    description: The unique global identifier (GUID) of the bot player who made the
      commodity purchase. This value must correspond to a valid bot entry in the game's
      database.
  - name: cost
    description: The total cost in copper coins paid by the bot for the commodity
      purchase. This value represents the final transaction amount and is used for
      logging and accounting purposes.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'AuctionManager* auctionMgr = sAuctionMgr;

      auctionMgr->RecordCommodityPurchase(12345, 5000);'
    language: cpp
  - title: Integration with Bot Purchase Logic
    code: "void HandleBotCommodityPurchase(Player* bot, uint64 purchaseCost) {\n \
      \   if (bot && purchaseCost > 0) {\n        sAuctionMgr->RecordCommodityPurchase(bot->GetGUID().GetCounter(),\
      \ purchaseCost);\n    }\n}"
    language: cpp
  notes: This method is part of the auction system's internal tracking mechanism and
    may be used in conjunction with other methods like GetCommodityTransactionLog
    or UpdateBotInventory. It is assumed that the bot GUID and cost values are validated
    before being passed to this method.
  warnings: Ensure that the botGuid corresponds to an actual bot player; passing invalid
    or non-bot GUIDs may lead to incorrect logging or system inconsistencies. The
    cost parameter should be a positive value representing the actual transaction
    amount in copper coins.
  related:
  - GetCommodityTransactionLog
  - UpdateBotInventory
  - AuctionHouseMgr::AddAuction
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T13:27:00.244128'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
