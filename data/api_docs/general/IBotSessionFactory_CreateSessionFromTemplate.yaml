api:
  class: IBotSessionFactory
  method: CreateSessionFromTemplate
  signature: std::shared_ptr<IBotSession> IBotSessionFactory::CreateSessionFromTemplate(const
    int & templateName, int characterGuid)
documentation:
  brief: Creates a new bot session instance based on a specified template and character
    GUID.
  description: The CreateSessionFromTemplate method instantiates a new IBotSession
    object using a predefined template identified by the templateName parameter. This
    function is typically used in bot management systems to initialize sessions for
    automated player characters (bots). The method requires a valid template name
    and a character GUID to associate with the newly created session. It returns a
    shared pointer to the initialized session, which can then be used to control the
    bot's behavior within the game world. The session will inherit properties defined
    in the template while being bound to the specific character identified by the
    characterGuid parameter.
  parameters:
  - name: templateName
    description: An integer identifier representing the template to use for creating
      the bot session. This value should correspond to a predefined bot template registered
      within the system.
  - name: characterGuid
    description: The global unique identifier (GUID) of the character that this bot
      session will represent. Must be a valid existing character GUID in the database.
  returns: A std::shared_ptr<IBotSession> pointing to the newly created bot session
    instance. Returns nullptr if template or character data is invalid or if session
    creation fails.
  examples:
  - title: Basic Session Creation
    code: "int templateId = 1001;\nint charGuid = 123456;\nstd::shared_ptr<IBotSession>\
      \ session = sessionFactory->CreateSessionFromTemplate(templateId, charGuid);\n\
      if (session) {\n    // Successfully created session\n    session->Start();\n\
      }"
    language: cpp
  - title: Error Handling Example
    code: "int templateId = 9999; // Invalid template\nint charGuid = 123456;\nstd::shared_ptr<IBotSession>\
      \ session = sessionFactory->CreateSessionFromTemplate(templateId, charGuid);\n\
      if (!session) {\n    // Handle error - invalid template or character\n    LOG_ERROR(\"\
      bot\", \"Failed to create bot session from template {}\", templateId);\n}"
    language: cpp
  notes: This method performs validation on both the template name and character GUID
    before creating the session. The underlying implementation may cache templates
    for performance reasons, so repeated calls with the same template name might return
    cached instances. Ensure that the character GUID corresponds to an existing character
    in the database; otherwise, the session creation will fail.
  warnings: Calling this method with an invalid templateName or non-existent characterGuid
    will result in a null return value. Always check for nullptr before using the
    returned session pointer. Improper use of this API may lead to memory leaks if
    sessions are not properly managed and released.
  related:
  - GetTemplate
  - RegisterTemplate
  - DestroySession
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T03:02:31.354194'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
