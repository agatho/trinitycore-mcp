api:
  class: MoveSpline
  method: updateState
  signature: void MoveSpline::updateState(int32 difftime)
documentation:
  brief: Updates the movement spline state based on the elapsed time since last update.
  description: The MoveSpline::updateState method is responsible for advancing the
    internal state of a movement spline by processing the time delta provided. This
    method typically handles interpolation calculations, updates position and orientation
    data, and manages the progression through waypoints or target destinations in
    a smooth motion path. It's commonly used within the game engine's movement system
    to ensure that NPC and player movements appear fluid and realistic. The method
    expects a time difference value (in milliseconds) which represents how much time
    has passed since the last update call.
  parameters:
  - name: difftime
    description: The time delta in milliseconds since the last update. This value
      determines how far along the spline path to advance the movement state. Negative
      values may indicate backward movement or system timing issues, while zero indicates
      no time has passed.
  returns: null
  examples:
  - title: Basic usage in movement update loop
    code: "void UpdateMovement() {\n    int32 deltaTime = GetTimeDiff(lastUpdateTime,\
      \ getCurrentTime());\n    spline->updateState(deltaTime);\n    lastUpdateTime\
      \ = getCurrentTime();\n}"
    language: cpp
  - title: Updating multiple splines with time delta
    code: "void UpdateAllSplineMovements() {\n    int32 currentTime = getMSTime();\n\
      \    int32 deltaTime = currentTime - lastUpdate;\n    \n    for (auto& spline\
      \ : activeSplines) {\n        spline->updateState(deltaTime);\n    }\n    \n\
      \    lastUpdate = currentTime;\n}"
    language: cpp
  notes: This method is part of the core movement system and should be called regularly
    during game ticks to maintain smooth animation. It's important that difftime values
    are accurate and consistent with the game's time system to avoid jerky or incorrect
    movement behavior.
  warnings: Calling updateState with negative or extremely large difftime values can
    cause unexpected behavior in spline interpolation, potentially leading to teleportation
    or invalid positions. Always validate input parameters before calling this method.
  related:
  - MoveSpline::getPath
  - MoveSpline::getVelocity
  - MoveSpline::isFinished
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T08:25:03.462814'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
