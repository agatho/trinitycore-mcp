api:
  class: ComplaintTicket
  method: FormatViewMessageString
  signature: int ComplaintTicket::FormatViewMessageString(ChatHandler & handler, bool
    detailed) const
documentation:
  brief: Formats and sends a complaint ticket view message to the specified chat handler.
  description: The FormatViewMessageString method constructs a formatted string representation
    of a complaint ticket, including relevant details such as ticket ID, player name,
    complaint type, and timestamp. This method is typically used in the game's administrative
    interface or when displaying ticket information to GMs or players. The detailed
    parameter controls whether additional verbose information is included in the output.
    The method returns an integer indicating success or failure of the operation,
    with 0 typically representing success.
  parameters:
  - name: handler
    description: Reference to the ChatHandler object used to send the formatted message
      to the client.
  - name: detailed
    description: Boolean flag indicating whether to include detailed information in
      the output. When true, additional fields such as full complaint text and resolution
      status are included.
  returns: Returns an integer value where 0 indicates successful formatting and message
    sending, while non-zero values may indicate errors during processing or transmission.
  examples:
  - title: Basic Usage
    code: "ComplaintTicket ticket;\n// Assume ticket has been initialized with data\n\
      int result = ticket.FormatViewMessageString(handler, false);\nif (result ==\
      \ 0) {\n    // Message sent successfully\n}"
    language: cpp
  - title: Detailed View
    code: "ComplaintTicket ticket;\n// Assume ticket has been initialized with data\n\
      int result = ticket.FormatViewMessageString(handler, true);\nif (result == 0)\
      \ {\n    // Detailed message sent successfully\n}"
    language: cpp
  notes: This method relies on the ChatHandler's ability to format and send messages
    to players or GMs. The actual output format may depend on the client-side implementation
    of the chat handler and how it interprets the constructed string. Ensure that
    the ticket data is valid before calling this method to avoid unexpected behavior.
  warnings: Calling this method with an invalid or uninitialized ChatHandler reference
    will likely result in undefined behavior or crashes. Always validate input parameters
    before invoking this function.
  related:
  - GetTicketId
  - GetPlayerName
  - GetComplaintType
  - GetTimestamp
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T16:54:37.852738'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
