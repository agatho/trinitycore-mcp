api:
  class: LootDistribution
  method: UpdateGroupLootHistory
  signature: void LootDistribution::UpdateGroupLootHistory(uint32 groupId, uint32
    winnerGuid, const LootItem & item)
documentation:
  brief: Updates the group loot history with information about a newly distributed
    item.
  description: The UpdateGroupLootHistory method records details of a loot item that
    has been awarded to a player within a group context. This function is typically
    invoked during the loot distribution process in World of Warcraft's TrinityCore
    server implementation, ensuring that the group's loot history is accurately maintained
    for future reference and audit purposes. It tracks which group member received
    which item, aiding in maintaining fair play and preventing duplicate loot claims.
  parameters:
  - name: groupId
    description: The unique identifier of the group to which the loot belongs. This
      represents the group's GUID in the game world.
  - name: winnerGuid
    description: The globally unique identifier (GUID) of the player who won the loot
      item. This identifies the recipient within the game server.
  - name: item
    description: A reference to the LootItem structure containing details about the
      distributed item, such as item entry ID, stack size, and other relevant properties.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'LootDistribution lootDist;

      uint32 groupId = 12345;

      uint32 winnerGuid = 67890;

      LootItem item;

      item.itemid = 45678;

      item.count = 1;

      lootDist.UpdateGroupLootHistory(groupId, winnerGuid, item);'
    language: cpp
  notes: This method is part of the internal loot distribution system and should be
    called only when a valid loot item has been awarded to a group member. It does
    not perform any validation on input parameters beyond basic type checking.
  warnings: null
  related:
  - GetGroupLootHistory
  - ClearGroupLootHistory
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T01:50:08.090026'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
