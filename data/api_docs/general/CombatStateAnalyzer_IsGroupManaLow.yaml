api:
  class: CombatStateAnalyzer
  method: IsGroupManaLow
  signature: bool CombatStateAnalyzer::IsGroupManaLow() const
documentation:
  brief: Determines whether the player's group has low mana available for spell casting.
  description: The IsGroupManaLow method evaluates the current mana levels of all
    members in the player's group to determine if the overall mana pool is considered
    low. This is typically used by AI systems or decision-making logic to decide when
    to conserve mana, switch to alternative strategies, or prioritize healing over
    damage output. The method checks each group member's current mana percentage against
    a predefined threshold and returns true if the average or minimum mana level across
    the group falls below this threshold. It does not account for mana regeneration
    rates or future spell costs, focusing solely on immediate available mana resources.
  parameters: []
  returns: Returns true if the group's average or minimum mana level is below the
    defined low mana threshold; otherwise returns false.
  examples:
  - title: Basic Usage in AI Decision Making
    code: "if (combatAnalyzer.IsGroupManaLow()) {\n    // Switch to defensive stance\
      \ or use mana-saving abilities\n    player->SetPower(POWER_MANA, player->GetMaxPower(POWER_MANA)\
      \ * 0.3f);\n}"
    language: cpp
  - title: Integration with Combat Logic
    code: "void PlayerAI::UpdateCombatState() {\n    if (combatAnalyzer.IsGroupManaLow())\
      \ {\n        // Prioritize mana restoration over damage\n        if (player->GetSpellCooldownDelay(20484)\
      \ <= 0) { // Ice Barrier\n            player->CastSpell(player, 20484, true);\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method relies on the current group composition and individual player
    mana values. It should be called periodically during combat to ensure up-to-date
    information. The exact threshold for 'low' mana is implementation-defined and
    may vary based on class, gear, or difficulty settings.
  warnings: The method does not consider mana regeneration or future spell costs,
    which might lead to false positives in situations where mana will replenish quickly.
    It also assumes all group members are in the same zone and subject to the same
    combat conditions.
  related:
  - GetGroupManaPercentage
  - IsPlayerManaLow
  - GetGroupMemberCount
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T19:01:39.809198'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
