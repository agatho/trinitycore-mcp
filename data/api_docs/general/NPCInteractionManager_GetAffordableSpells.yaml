api:
  class: NPCInteractionManager
  method: GetAffordableSpells
  signature: int NPCInteractionManager::GetAffordableSpells(Creature * trainer) const
documentation:
  brief: Retrieves the count of spells that the player can afford from the specified
    trainer creature.
  description: The GetAffordableSpells method determines how many spells a player
    can currently learn from a given trainer creature, based on their available gold
    and the spell costs. This method is typically used in NPC interaction logic to
    filter which spells should be displayed or made available to the player during
    a training session. It evaluates the player's current monetary state against each
    trainable spell's cost and returns a count of those that are within the player's
    financial means. The method does not modify any game state but rather provides
    information for UI or interaction purposes.
  parameters: []
  returns: An integer representing the number of spells that the player can afford
    to learn from the specified trainer. Returns 0 if no spells are affordable or
    if the trainer is invalid.
  examples:
  - title: Basic Usage Example
    code: "Creature* trainer = player->GetNPCIfCanInteractWith();\nif (trainer)\n\
      {\n    int affordableSpells = npcInteractionManager.GetAffordableSpells(trainer);\n\
      \    // Use affordableSpells to determine UI display or interaction logic\n}"
    language: cpp
  notes: This method relies on the player's current gold amount and the trainer's
    spell cost data. It may be called frequently during UI updates, so performance
    is important. The method assumes that the player has already been validated as
    able to interact with the trainer.
  warnings: Ensure that the Creature pointer passed to this method is valid and represents
    a trainer NPC; otherwise, the result will be undefined or incorrect. This method
    does not account for other currency types (e.g., reputation, items) that may be
    required for spell learning in some cases.
  related:
  - GetTrainerSpells
  - CanPlayerLearnSpell
  - GetSpellCost
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T12:14:54.149630'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
