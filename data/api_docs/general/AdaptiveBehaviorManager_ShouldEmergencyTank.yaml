api:
  class: AdaptiveBehaviorManager
  method: ShouldEmergencyTank
  signature: bool AdaptiveBehaviorManager::ShouldEmergencyTank() const
documentation:
  brief: Determines whether the AI should initiate an emergency tank behavior based
    on current threat and unit conditions.
  description: The ShouldEmergencyTank method evaluates the current state of the AI-controlled
    unit and its target to decide if an immediate tank behavior is required. This
    typically occurs when the unit's health drops below a certain threshold or when
    the threat level from the target exceeds predefined limits. The method considers
    factors such as current health percentage, target threat level, and whether the
    unit is already in a tanking state. It is used primarily within adaptive AI systems
    to dynamically adjust behavior based on real-time combat conditions.
  parameters: []
  returns: Returns true if emergency tank behavior should be initiated; otherwise
    returns false. The decision is based on health thresholds, threat levels, and
    current combat state of the unit.
  examples:
  - title: Basic usage in AI update loop
    code: "if (ai->GetAdaptiveBehaviorManager()->ShouldEmergencyTank())\n{\n    ai->SetCurrentAction(AdaptiveAction::EmergencyTank);\n\
      \    // Execute emergency tank behavior\n}"
    language: cpp
  notes: This method is typically called during AI update cycles and may be influenced
    by configurable thresholds in the TrinityCore configuration files. The implementation
    assumes that the AI unit has access to its current health, target information,
    and threat data.
  warnings: Ensure that emergency tank behavior does not conflict with other AI behaviors
    or cause unintended combat situations. This method should only be called when
    the AI unit is actively engaged in combat.
  related:
  - AdaptiveBehaviorManager::GetThreatLevel
  - AdaptiveBehaviorManager::IsInTankingState
  - AdaptiveBehaviorManager::GetCurrentHealthPercentage
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T16:23:57.503361'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
