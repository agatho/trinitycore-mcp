api:
  class: SpatialGridScheduler
  method: UpdateMapGrid
  signature: void SpatialGridScheduler::UpdateMapGrid(uint32 mapId, bool forceUpdate)
documentation:
  brief: Updates the grid scheduler for a specified map, optionally forcing an immediate
    update.
  description: The UpdateMapGrid method is responsible for refreshing or initializing
    the spatial grid scheduler for a given map. This ensures that all objects within
    the map's grid system are properly tracked and updated according to their positions
    and movement states. When forceUpdate is set to true, the method will perform
    an immediate update regardless of any existing scheduling delays. The method typically
    integrates with the game's world update loop to maintain synchronization between
    object locations and their associated grid cells.
  parameters:
  - name: mapId
    description: The unique identifier of the map for which the grid scheduler should
      be updated. This corresponds to the Map::GetId() value used internally by TrinityCore.
  - name: forceUpdate
    description: A boolean flag indicating whether to force an immediate update. If
      true, bypasses any scheduling delays and performs the update immediately; if
      false, updates may be deferred based on scheduler logic.
  returns: null
  examples:
  - title: Basic usage of UpdateMapGrid
    code: SpatialGridScheduler::UpdateMapGrid(0, false); // Updates the map with ID
      0 without forcing an immediate update
    language: cpp
  - title: Forced grid update for a specific map
    code: SpatialGridScheduler::UpdateMapGrid(13, true); // Forces an immediate update
      of map ID 13
    language: cpp
  notes: This method is typically invoked during the world update cycle to ensure
    spatial grid consistency. It's important to note that frequent forced updates
    can impact performance, especially on maps with many active objects.
  warnings: Calling this method with forceUpdate=true too frequently may cause unnecessary
    overhead and should be avoided in performance-critical sections of code. Ensure
    that mapId corresponds to a valid loaded map before calling.
  related:
  - GetMapGrid
  - AddToGrid
  - RemoveFromGrid
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T21:13:36.781853'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
