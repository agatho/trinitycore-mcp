api:
  class: ArmsWarriorRefactored
  method: UpdateStanceOptimization
  signature: void ArmsWarriorRefactored::UpdateStanceOptimization()
documentation:
  brief: Updates the warrior's stance optimization based on current combat state and
    abilities.
  description: The UpdateStanceOptimization method dynamically adjusts the Arms Warrior's
    stance to ensure optimal performance during combat. This method evaluates the
    player's current weapon conditions, available abilities, and threat levels to
    determine whether switching between Battle Stance, Defensive Stance, or Berserker
    Stance would improve damage output or survivability. It is typically called during
    combat updates or when stance-related conditions change, such as when a weapon
    swap occurs or when certain talents are activated. The method ensures that the
    warrior maintains the most effective stance for the current situation without
    manual intervention.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Combat Update Loop
    code: "void CombatUpdate()\n{\n    // Called periodically during combat\n    m_warrior->UpdateStanceOptimization();\n\
      }"
    language: cpp
  - title: Integration with Custom AI Logic
    code: "class CustomWarriorAI : public UnitAI\n{\npublic:\n    void UpdateAI(uint32\
      \ diff) override\n    {\n        if (me->IsInCombat())\n        {\n        \
      \    // Ensure stance is optimized before executing attacks\n            m_warriorRefactored->UpdateStanceOptimization();\n\
      \            // Proceed with attack logic\n        }\n    }\n};"
    language: cpp
  notes: This method relies on internal state tracking of the warrior's equipped weapons,
    active buffs, and current threat level. It does not directly change stance but
    rather evaluates whether a stance switch would be beneficial. The method may be
    called multiple times per update cycle depending on combat conditions.
  warnings: Improper use or calling this method outside of combat context may lead
    to unintended stance transitions that could reduce performance. Ensure the warrior
    is in a valid combat state before invoking this method.
  related:
  - SetStance
  - GetStance
  - CheckStanceChange
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T04:09:52.037466'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
