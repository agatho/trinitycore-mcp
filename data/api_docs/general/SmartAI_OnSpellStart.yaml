api:
  class: SmartAI
  method: OnSpellStart
  signature: void SmartAI::OnSpellStart(const SpellInfo * spellInfo)
documentation:
  brief: Handles the event when a spell starts casting in SmartAI.
  description: The OnSpellStart method is invoked when a creature using SmartAI begins
    casting a spell. This method provides an opportunity for custom AI behavior during
    spell casting, such as modifying target selection, interrupting the cast, or triggering
    additional actions. It serves as a hook point for developers to implement specialized
    logic that responds to spell initiation events within the SmartAI framework. The
    method receives a pointer to the SpellInfo structure which contains detailed information
    about the spell being cast.
  parameters:
  - name: spellInfo
    description: Pointer to the SpellInfo structure containing detailed information
      about the spell being cast. This includes spell ID, effects, duration, and other
      spell properties that can be used to customize AI behavior during casting.
  returns: null
  examples:
  - title: Basic spell start handling
    code: "void MyCreatureAI::OnSpellStart(const SpellInfo* spellInfo)\n{\n    if\
      \ (spellInfo->Id == 12345) // Example: Fireball spell\n    {\n        // Custom\
      \ behavior when Fireball starts casting\n        Talk(0);\n    }\n}"
    language: cpp
  - title: Interrupting spell casting
    code: "void MyCreatureAI::OnSpellStart(const SpellInfo* spellInfo)\n{\n    if\
      \ (spellInfo->Id == 67890) // Example: Healing spell\n    {\n        // Interrupt\
      \ healing cast if player is too close\n        if (me->GetDistance(me->GetVictim())\
      \ < 5.0f)\n        {\n            me->InterruptNonMeleeSpells(false);\n    \
      \    }\n    }\n}"
    language: cpp
  notes: This method is called during the spell casting process, before the actual
    spell effect is applied. Developers should be aware that modifying spell properties
    or behavior at this stage may affect the overall combat flow. The spellInfo parameter
    is valid only during the scope of this method call and should not be stored for
    later use.
  warnings: Do not attempt to modify the spellInfo structure directly as it's read-only.
    Avoid performing heavy computations in this method as it can impact performance
    during combat. Be cautious when interrupting spells, as improper handling may
    cause client-side issues or unexpected behavior.
  related:
  - OnSpellCast
  - OnSpellFinish
  - OnSpellInterrupt
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T02:44:11.383908'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
