api:
  class: CharmInfo
  method: SetCommandState
  signature: void CharmInfo::SetCommandState(CommandStates st)
documentation:
  brief: Sets the command state of a charm, controlling how the charmed unit responds
    to player commands.
  description: The SetCommandState method updates the current command state of a charmed
    creature, determining whether it follows, attacks, or stays idle in response to
    player instructions. This method is used internally by the TrinityCore framework
    to manage the behavior of creatures under player control, such as pets or mind-controlled
    units. The command state affects how the creature interacts with targets and executes
    actions within the game world. It typically operates in conjunction with other
    charm-related systems like movement control and combat states.
  parameters:
  - name: st
    description: The CommandStates enum value specifying the desired command behavior
      for the charmed unit. Valid values include COMMAND_FOLLOW, COMMAND_ATTACK, COMMAND_CAST,
      and COMMAND_IDLE.
  returns: null
  examples:
  - title: Setting a charm to follow mode
    code: 'CharmInfo* charmInfo = player->GetCharmInfo();

      charmInfo->SetCommandState(COMMAND_FOLLOW);'
    language: cpp
  - title: Setting a charm to attack mode
    code: "if (player->GetCharmInfo()) {\n    player->GetCharmInfo()->SetCommandState(COMMAND_ATTACK);\n\
      }"
    language: cpp
  notes: This method directly influences the AI behavior of charmed units and should
    only be called when the creature is actually under player control. The command
    state affects how the unit processes incoming commands from the player and determines
    its current tactical stance in combat situations.
  warnings: Calling this method without ensuring that a valid charm exists may lead
    to undefined behavior or crashes. Always verify that GetCharmInfo() returns a
    non-null pointer before calling SetCommandState.
  related:
  - GetCommandState
  - SetReactState
  - SetPetState
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T11:47:40.371125'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
