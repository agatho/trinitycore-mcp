api:
  class: GuildBankManager
  method: ConsolidateStacks
  signature: void GuildBankManager::ConsolidateStacks(int * player, uint32 tabId)
documentation:
  brief: Consolidates item stacks within a specified guild bank tab to maximize space
    efficiency.
  description: The ConsolidateStacks method organizes items in a guild bank tab by
    merging identical items into larger stacks where possible. This operation helps
    reduce the number of empty slots and optimizes storage usage within the guild
    bank. The method operates on a single tab at a time, identified by the tabId parameter,
    and processes all items within that tab to consolidate them according to game
    stacking rules. It is typically called when a player interacts with the guild
    bank interface or when certain guild bank management actions are performed.
  parameters:
  - name: player
    description: Pointer to an integer representing the player's account ID or GUID
      who initiated the consolidation action. This parameter may be used for permission
      checks or logging purposes.
  - name: tabId
    description: The unique identifier of the guild bank tab to consolidate stacks
      within. Valid values range from 0 to the maximum number of tabs defined in the
      guild bank configuration, typically up to 9 or more depending on server settings.
  returns: null
  examples:
  - title: Basic Consolidation Example
    code: 'GuildBankManager* bankManager = sGuildBankMgr;

      int playerId = 12345;

      uint32 tabId = 0;

      bankManager->ConsolidateStacks(&playerId, tabId);'
    language: cpp
  - title: Consolidation with Error Handling
    code: "GuildBankManager* bankManager = sGuildBankMgr;\nint playerId = 12345;\n\
      uint32 tabId = 3;\nif (tabId < MAX_GUILD_BANK_TABS) {\n    bankManager->ConsolidateStacks(&playerId,\
      \ tabId);\n} else {\n    // Handle invalid tab ID\n}"
    language: cpp
  notes: This method likely performs internal checks to ensure the player has permission
    to modify the specified guild bank tab. It may also trigger updates to the guild
    bank's UI for all online members of the guild. The consolidation process is generally
    non-blocking but might cause temporary performance impact during large stack operations.
  warnings: Calling this method with an invalid tabId or without proper player permissions
    could lead to unexpected behavior or errors in the guild bank system. Ensure that
    the tabId is within valid range before invoking this function.
  related:
  - GuildBankManager::MoveItem
  - GuildBankManager::DepositItem
  - GuildBankManager::WithdrawItem
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T06:18:49.606297'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
