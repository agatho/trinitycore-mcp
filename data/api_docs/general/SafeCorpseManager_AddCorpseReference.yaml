api:
  class: SafeCorpseManager
  method: AddCorpseReference
  signature: void SafeCorpseManager::AddCorpseReference(int corpseGuid)
documentation:
  brief: Adds a corpse reference to the safe corpse manager for tracking and cleanup
    purposes.
  description: The AddCorpseReference method is used to register a corpse GUID with
    the SafeCorpseManager, which maintains a collection of references to corpses that
    need to be properly handled during player death and resurrection events. This
    mechanism ensures that corpses are not prematurely destroyed or cleaned up while
    still referenced by active game systems. The method typically gets called when
    a player dies and their corpse is created, allowing the manager to track the corpse's
    lifecycle and perform necessary cleanup operations when appropriate.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Player Death Handler
    code: "void Player::OnDeath()\n{\n    // ... death logic ...\n    sObjectMgr->AddCorpseReference(GetGUID().GetCounter());\n\
      \    // ... rest of death handling ...\n}"
    language: cpp
  notes: This method is typically invoked internally by the core game systems when
    corpses are created. Developers should not normally call this directly unless
    implementing custom corpse management logic. The SafeCorpseManager uses internal
    tracking mechanisms to prevent memory leaks and ensure proper cleanup of corpse
    data structures.
  warnings: Calling this method without proper context or after the corpse has already
    been processed may lead to undefined behavior or memory corruption. Ensure that
    the corpse GUID being added is valid and corresponds to an actual corpse object
    in the game world.
  related:
  - RemoveCorpseReference
  - GetCorpse
  - Corpse::AddReference
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T23:21:00.127645'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
