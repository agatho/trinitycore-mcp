api:
  class: ObjectMgr
  method: AddVendorItem
  signature: void ObjectMgr::AddVendorItem(uint32 entry, const int & vItem, bool persist)
documentation:
  brief: Adds a vendor item to the specified creature entry in the object manager's
    vendor list.
  description: The AddVendorItem method registers a new item for sale by a specific
    vendor (creature entry) within the TrinityCore database. This function is typically
    used during server initialization or dynamic content loading to populate vendor
    inventories. The method supports both persistent and non-persistent item additions,
    where persistent items are saved to the database while non-persistent ones exist
    only in memory. It ensures that the item being added is valid and properly linked
    to the vendor's inventory system.
  parameters:
  - name: entry
    description: The unique creature entry ID of the vendor who will sell the item.
      This corresponds to the 'entry' field in the creature_template table.
  - name: vItem
    description: The item template ID (entry) that will be added to the vendor's inventory.
      This refers to the 'entry' field in the item_template table.
  - name: persist
    description: Boolean flag indicating whether the vendor item should be persisted
      to the database. If true, changes are saved; if false, changes exist only in
      memory.
  returns: null
  examples:
  - title: Add a persistent healing potion to a vendor
    code: ObjectMgr::instance()->AddVendorItem(12345, 1180, true); // Adds Healing
      Potion (entry 1180) to vendor with entry 12345, persisting to DB
    language: cpp
  - title: Add a temporary weapon to a vendor for testing
    code: ObjectMgr::instance()->AddVendorItem(98765, 45678, false); // Adds test
      weapon (entry 45678) to vendor with entry 98765, not persisting to DB
    language: cpp
  notes: This method should be called after the ObjectMgr has been initialized and
    before the server starts serving players. It modifies internal data structures
    used for vendor item lookup and does not directly interact with the database transaction
    system unless persist is true. The method assumes that both the vendor entry and
    item template exist in the respective tables.
  warnings: Calling this method with invalid entry IDs or non-existent item templates
    may lead to undefined behavior or runtime errors. Always validate inputs before
    calling AddVendorItem, especially when adding items dynamically during runtime.
  related:
  - GetVendorItem
  - RemoveVendorItem
  - LoadVendorTemplates
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T02:48:50.488045'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
