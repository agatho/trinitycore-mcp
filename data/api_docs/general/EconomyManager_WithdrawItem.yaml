api:
  class: EconomyManager
  method: WithdrawItem
  signature: bool EconomyManager::WithdrawItem(uint32 itemId, uint32 quantity)
documentation:
  brief: Withdraws a specified quantity of an item from the economy manager's inventory.
  description: The WithdrawItem method attempts to remove a given quantity of a specific
    item from the EconomyManager's internal inventory system. This method is typically
    used in game systems where players or NPCs interact with economic transactions,
    such as purchasing items, selling goods, or managing inventory within a virtual
    economy. The method performs validation checks to ensure that sufficient quantities
    exist before allowing the withdrawal. If the requested quantity exceeds available
    stock or if the item ID is invalid, the operation will fail and return false.
    This function is essential for maintaining accurate inventory tracking in TrinityCore-based
    World of Warcraft servers.
  parameters:
  - name: itemId
    description: The unique identifier of the item to be withdrawn from the economy
      manager's inventory. Must correspond to a valid item in the game database.
  - name: quantity
    description: The number of items to withdraw. Must be a positive integer greater
      than zero. If zero or negative, the operation will fail.
  returns: Returns true if the specified quantity of the item was successfully withdrawn
    from inventory; otherwise returns false. Failure may occur due to insufficient
    stock, invalid item ID, or other system constraints.
  examples:
  - title: Basic Item Withdrawal
    code: "EconomyManager* economyMgr = sEconomyManager;\nbool success = economyMgr->WithdrawItem(12345,\
      \ 10);\nif (success) {\n    // Item successfully withdrawn\n    printf(\"Successfully\
      \ withdrew 10x Item ID 12345\\n\");\n} else {\n    // Withdrawal failed\n  \
      \  printf(\"Failed to withdraw items\\n\");\n}"
    language: cpp
  - title: Checking Withdrawal Before Execution
    code: "EconomyManager* economyMgr = sEconomyManager;\nuint32 itemId = 67890;\n\
      uint32 quantity = 5;\n\n// Check if sufficient items are available\nif (economyMgr->HasItem(itemId,\
      \ quantity)) {\n    bool success = economyMgr->WithdrawItem(itemId, quantity);\n\
      \    if (success) {\n        printf(\"Withdrew %u of item %u\\n\", quantity,\
      \ itemId);\n    } else {\n        printf(\"Failed to withdraw %u of item %u\\\
      n\", quantity, itemId);\n    }\n} else {\n    printf(\"Not enough items available\
      \ for withdrawal\\n\");\n}"
    language: cpp
  notes: This method is likely part of a larger economy system that tracks player
    transactions and inventory changes. It may be used in conjunction with other methods
    like DepositItem or HasItem to maintain consistency across economic operations.
    The implementation should handle concurrent access safely if used in multi-threaded
    environments.
  warnings: Ensure that item IDs are validated against the game's database before
    calling this method, as invalid IDs could lead to undefined behavior or silent
    failures. Be cautious when withdrawing large quantities of rare items, as this
    might affect server performance or cause inventory inconsistencies.
  related:
  - DepositItem
  - HasItem
  - GetItemCount
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T05:30:47.451786'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
