api:
  class: WmoLiquid
  method: GetLiquidHeight
  signature: bool WmoLiquid::GetLiquidHeight(const int & pos, float & liqHeight) const
documentation:
  brief: Retrieves the liquid height at a specified position within a WMO (World Map
    Object) liquid component.
  description: The GetLiquidHeight method is used to determine the vertical height
    of liquid (such as water or lava) at a given coordinate position within a WMO
    liquid component. This method is essential for game mechanics involving terrain
    interaction, such as determining if a player or object is standing on liquid,
    calculating buoyancy effects, or handling collision detection with liquid surfaces.
    The method takes a reference to an integer position and attempts to populate a
    float variable with the corresponding liquid height. It returns true upon successful
    retrieval of the liquid height, and false if the operation fails or the position
    is invalid.
  parameters:
  - name: pos
    description: A constant reference to an integer representing the position index
      within the WMO liquid component. This index typically corresponds to a specific
      vertex or grid point in the liquid's data structure.
  - name: liqHeight
    description: A reference to a float that will be populated with the retrieved
      liquid height value if the operation succeeds. The value represents the Z-coordinate
      (vertical position) of the liquid surface at the specified position.
  returns: Returns true if the liquid height was successfully retrieved for the given
    position; otherwise, returns false. A return value of false may indicate an invalid
    position index or internal data corruption.
  examples:
  - title: Basic Usage Example
    code: "int position = 10;\nfloat height;\nif (wmoLiquid->GetLiquidHeight(position,\
      \ height)) {\n    std::cout << \"Liquid height at position \" << position <<\
      \ \" is \" << height << std::endl;\n} else {\n    std::cout << \"Failed to retrieve\
      \ liquid height at position \" << position << std::endl;\n}"
    language: cpp
  - title: Collision Detection with Liquid
    code: "float playerHeight = GetPlayerHeight();\nint playerPosition = ConvertWorldToLiquidPosition(playerX,\
      \ playerY);\nfloat liquidHeight;\nif (wmoLiquid->GetLiquidHeight(playerPosition,\
      \ liquidHeight)) {\n    if (playerHeight <= liquidHeight) {\n        // Player\
      \ is submerged in liquid\n        HandleSubmersion();\n    }\n}"
    language: cpp
  notes: This method is typically used in conjunction with other WMO-related APIs
    to perform detailed terrain and liquid analysis. The position index should be
    validated before calling this method to avoid undefined behavior. Performance-wise,
    frequent calls to this method may impact frame rate if not optimized, especially
    when processing large numbers of positions.
  warnings: Ensure that the 'pos' parameter is within valid bounds for the WMO liquid
    component; otherwise, the method will likely return false and leave 'liqHeight'
    in an undefined state. This method should not be called from multiple threads
    without proper synchronization mechanisms to prevent race conditions.
  related:
  - GetLiquidType
  - GetLiquidVertexCount
  - GetLiquidData
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T15:32:22.434032'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
