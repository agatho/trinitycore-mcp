api:
  class: BattlePetMgr
  method: AddBattlePetSpeciesBySpell
  signature: void BattlePetMgr::AddBattlePetSpeciesBySpell(int spellId, const BattlePetSpeciesEntry
    * speciesEntry)
documentation:
  brief: Adds a battle pet species to the player's collection based on a spell ID
    and species entry.
  description: The AddBattlePetSpeciesBySpell method registers a new battle pet species
    for the player, associating it with a specific spell ID. This function is typically
    used when a player learns a new battle pet ability or receives a pet through gameplay
    mechanics such as quest rewards or vendor purchases. The method takes a spell
    identifier and a pointer to a BattlePetSpeciesEntry structure that defines the
    properties of the pet species being added. It updates the internal battle pet
    collection data for the player, making the new species available for use in battles.
    This functionality is integral to the World of Warcraft Battle Pet system within
    TrinityCore.
  parameters:
  - name: spellId
    description: The unique identifier of the spell associated with the battle pet
      species. This ID determines how the pet is learned or obtained by the player.
  - name: speciesEntry
    description: A pointer to a BattlePetSpeciesEntry structure containing metadata
      about the battle pet species, including its name, visual appearance, and combat
      attributes.
  returns: null
  examples:
  - title: Adding a Battle Pet Species via Spell
    code: 'BattlePetSpeciesEntry entry;

      entry.Id = 12345;

      entry.Name = "Test Pet";

      entry.Icon = "pet_icon_test";

      // ... other fields

      battlePetMgr->AddBattlePetSpeciesBySpell(98765, &entry);'
    language: cpp
  notes: This method directly modifies the player's battle pet collection state and
    should only be called when the player is in a valid game context. The BattlePetSpeciesEntry
    must be properly initialized before being passed to this function.
  warnings: Calling this method without proper initialization of the BattlePetSpeciesEntry
    may result in undefined behavior or crashes. Ensure that all required fields are
    populated correctly.
  related:
  - RemoveBattlePetSpecies
  - HasBattlePetSpecies
  - GetBattlePetSpecies
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T12:58:56.205168'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
