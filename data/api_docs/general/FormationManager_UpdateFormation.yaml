api:
  class: FormationManager
  method: UpdateFormation
  signature: void FormationManager::UpdateFormation(uint32 diff)
documentation:
  brief: Updates the formation state for all units in the manager based on elapsed
    time.
  description: The UpdateFormation method is responsible for processing and updating
    the formation behavior of all units managed by this FormationManager instance.
    It typically handles movement adjustments, positioning recalculations, and synchronization
    of unit positions relative to their formation leader. This method is called periodically
    by the game loop to ensure that formations remain properly maintained as time
    passes and units move. The method uses the provided time delta (diff) parameter
    to calculate how much the formation should adjust based on the passage of time.
  parameters:
  - name: diff
    description: The time elapsed in milliseconds since the last update call. This
      value is used to determine how much the formation should progress or adjust
      based on time-based movement calculations.
  returns: null
  examples:
  - title: Basic Update Call
    code: "void GameLoop()\n{\n    uint32 diff = sWorld->GetLastDiff();\n    formationManager->UpdateFormation(diff);\n\
      }"
    language: cpp
  - title: Integration with AI Behavior
    code: "class MyAI : public CreatureAI\n{\npublic:\n    void UpdateAI(uint32 diff)\
      \ override\n    {\n        if (formationManager)\n            formationManager->UpdateFormation(diff);\n\
      \        // Other AI logic...\n    }\n};"
    language: cpp
  notes: This method is typically invoked from the main game loop or AI update routines.
    It's important to ensure that diff values are accurate and consistent for proper
    formation behavior. The method may perform calculations involving unit speeds,
    distances, and target positions to maintain formation integrity.
  warnings: Improper handling of the diff parameter can cause erratic formation movement
    or synchronization issues. This method should not be called from multiple threads
    without proper synchronization mechanisms.
  related:
  - GetFormation
  - SetFormation
  - AddUnitToFormation
  - RemoveUnitFromFormation
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T01:05:40.373538'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
