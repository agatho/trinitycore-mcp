api:
  class: IBotSpawnerEvents
  method: RegisterSpawnCallback
  signature: void IBotSpawnerEvents::RegisterSpawnCallback(SpawnCallback callback)
documentation:
  brief: Registers a callback function to be invoked when a bot is spawned.
  description: The RegisterSpawnCallback method allows developers to register a function
    that will be automatically called whenever a new bot is successfully spawned within
    the TrinityCore environment. This callback mechanism enables custom logic to execute
    at the moment of bot creation, such as initializing bot-specific data, applying
    buffs, or triggering events. The callback function must match the SpawnCallback
    signature and should be registered before any bots are spawned to ensure proper
    functionality. This method is typically used in AI scripting or custom bot management
    systems.
  parameters:
  - name: callback
    description: A function pointer or callable object that conforms to the SpawnCallback
      signature. This function will be invoked with relevant spawn information when
      a bot is created.
  returns: null
  examples:
  - title: Basic Callback Registration
    code: "void OnBotSpawn(Bot* bot) {\n    // Custom logic executed on bot spawn\n\
      \    bot->SetUInt32Value(UNIT_FIELD_FLAGS, UNIT_FLAG_NOT_SELECTABLE);\n}\n\n\
      // Register the callback\nbotSpawner->RegisterSpawnCallback(&OnBotSpawn);"
    language: cpp
  - title: Lambda Expression Callback
    code: "botSpawner->RegisterSpawnCallback([](Bot* bot) {\n    if (bot && bot->GetEntry()\
      \ == 12345) {\n        bot->SetHealth(bot->GetMaxHealth());\n        bot->SetPower(POWER_MANA,\
      \ bot->GetMaxPower(POWER_MANA));\n    }\n});"
    language: cpp
  notes: The callback registration should occur during initialization phase before
    any bots are created. Multiple callbacks can be registered, and they will all
    be invoked in the order of registration. Callback functions must not perform operations
    that could block or cause deadlocks, as they may be called from different threads.
  warnings: Registering a callback with an invalid function pointer or null reference
    may lead to undefined behavior. Ensure that the callback function remains valid
    for the lifetime of the spawner object to prevent dangling pointers.
  related:
  - UnregisterSpawnCallback
  - GetSpawnCallbacks
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T02:53:57.507385'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
