api:
  class: WorldSession
  method: GetConnectToInstanceKey
  signature: uint64 WorldSession::GetConnectToInstanceKey() const
documentation:
  brief: Returns the instance key used for connecting to a specific dungeon or raid
    instance
  description: The GetConnectToInstanceKey method retrieves the unique identifier
    that represents the instance key used when connecting to a specific dungeon, raid,
    or battleground instance. This key is typically generated when a player enters
    an instance and is used by the server to track and manage instance-specific data,
    such as player positions, instance timers, and loot distribution. The returned
    value is usually a 64-bit unsigned integer that uniquely identifies the instance
    session for the connected player.
  parameters: []
  returns: A uint64 value representing the instance key used for connecting to an
    instance. This identifier is unique per player-instance combination and is used
    internally by TrinityCore to manage instance-specific data and connections.
  examples:
  - title: Basic Usage Example
    code: "uint64 instanceKey = session->GetConnectToInstanceKey();\nif (instanceKey\
      \ != 0)\n{\n    // Player is connected to an instance\n    sLog->outString(\"\
      Player connected to instance with key: %llu\", instanceKey);\n}"
    language: cpp
  notes: This method should only be called when the player is actually connected to
    an instance. The returned value may be zero if the player is not currently in
    an instance. The instance key is typically set during the instance entry process
    and remains valid until the player leaves the instance or disconnects.
  warnings: null
  related:
  - GetPlayer()
  - IsInInstance()
  - GetInstanceId()
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T19:59:20.069141'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
