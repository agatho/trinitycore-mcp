api:
  class: CombatSpecializationBase
  method: IsInEmergencyState
  signature: bool CombatSpecializationBase::IsInEmergencyState() const
documentation:
  brief: Determines whether the combat specialization is currently in an emergency
    state.
  description: The IsInEmergencyState method checks if the current combat specialization
    instance is in a state that indicates emergency conditions, typically related
    to low health or critical situations where special combat behaviors are triggered.
    This method is commonly used within the TrinityCore framework to modify player
    behavior or AI decision-making during high-stress combat scenarios. The result
    of this check can influence abilities, spell casting, or tactical responses based
    on the character's current health status and combat state.
  parameters: []
  returns: Returns true if the combat specialization is currently in an emergency
    state, indicating that special emergency behaviors should be activated; otherwise
    returns false if normal combat conditions are active.
  examples:
  - title: Basic Usage Check
    code: "if (player->GetCombatSpecialization()->IsInEmergencyState()) {\n    //\
      \ Execute emergency combat behavior\n    player->CastSpell(player, EMERGENCY_SPELL_ID,\
      \ true);\n}"
    language: cpp
  - title: Conditional Emergency Response
    code: "CombatSpecializationBase* spec = player->GetCombatSpecialization();\nif\
      \ (spec && spec->IsInEmergencyState()) {\n    // Adjust AI behavior for emergency\
      \ state\n    player->SetReactState(REACT_AGGRESSIVE);\n    player->SetFlag(UNIT_FIELD_FLAGS,\
      \ UNIT_FLAG_IN_COMBAT);\n}"
    language: cpp
  notes: This method likely relies on internal health thresholds or combat state tracking
    to determine emergency conditions. It may be called frequently during combat updates,
    so performance should be considered in high-frequency scenarios.
  warnings: Ensure that the CombatSpecializationBase instance is properly initialized
    before calling this method, as accessing an uninitialized specialization could
    lead to undefined behavior. Also, emergency states are typically tied to health
    percentages, so results may vary based on character class and gear configurations.
  related:
  - SetEmergencyState
  - GetCombatState
  - IsInCombat
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T11:03:24.981518'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
