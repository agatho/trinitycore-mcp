api:
  class: CorpsePreventionManager
  method: CacheDeathLocation
  signature: void CorpsePreventionManager::CacheDeathLocation(Player * bot)
documentation:
  brief: Caches the death location of a player for corpse prevention purposes.
  description: The CacheDeathLocation method stores the current position of a player
    when they die, enabling the CorpsePreventionManager to track and potentially prevent
    corpse creation at that location. This functionality is typically used in botting
    or automation systems where players want to avoid leaving corpses that could be
    looted by others. The method updates internal tracking data structures with the
    player's coordinates, map ID, and instance ID to ensure accurate location caching
    even across different zones or instances.
  parameters:
  - name: bot
    description: Pointer to the Player object whose death location should be cached.
      Must not be null and must represent a valid player entity in the game world.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'Player* myBot = ...; // Assume this is a valid player pointer

      CorpsePreventionManager::CacheDeathLocation(myBot);'
    language: cpp
  - title: Integration with Death Event Handling
    code: "void OnPlayerDeath(Player* player)\n{\n    // Cache the death location\
      \ before any corpse-related actions\n    CorpsePreventionManager::CacheDeathLocation(player);\n\
      \    // Additional logic to prevent corpse creation or handle death\n}"
    language: cpp
  notes: This method assumes that the player object passed is currently in a valid
    state and has not been destroyed. The cached location data may be overwritten
    by subsequent calls for the same player. Performance impact is minimal as it only
    involves storing position data.
  warnings: Ensure that the player pointer is valid before calling this method to
    avoid undefined behavior. This method should typically be called immediately after
    a player dies but before corpse creation logic executes.
  related:
  - GetCachedDeathLocation
  - ClearCachedDeathLocation
  - IsCorpsePreventionEnabled
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T09:08:59.439918'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
