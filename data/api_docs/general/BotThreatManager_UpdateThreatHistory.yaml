api:
  class: BotThreatManager
  method: UpdateThreatHistory
  signature: void BotThreatManager::UpdateThreatHistory(Unit * target, float threat)
documentation:
  brief: Updates the threat history for a specified target unit with the given threat
    value.
  description: The UpdateThreatHistory method is responsible for maintaining and updating
    the threat records associated with a specific target unit within the bot's threat
    management system. This method is typically invoked when a bot's actions result
    in changes to the threat level towards a particular enemy, such as when dealing
    damage or applying effects that influence aggro. It ensures that the bot's internal
    threat database remains synchronized with the current combat state, which is crucial
    for proper threat management and decision-making during encounters. The method
    likely stores or modifies historical threat data to support features like threat
    prioritization, target switching, or avoidance of high-threat situations.
  parameters:
  - name: target
    description: Pointer to the Unit object representing the target whose threat history
      is being updated. Must not be null.
  - name: threat
    description: Float value representing the amount of threat to update for the specified
      target. Can be positive or negative depending on whether threat is being added
      or reduced.
  returns: None
  examples:
  - title: Basic Threat Update Example
    code: 'Unit* enemy = bot->GetVictim();

      float newThreat = 100.0f;

      botThreatManager->UpdateThreatHistory(enemy, newThreat);'
    language: cpp
  - title: Reducing Threat Example
    code: 'Unit* target = bot->GetTarget();

      float threatReduction = -50.0f;

      botThreatManager->UpdateThreatHistory(target, threatReduction);'
    language: cpp
  notes: This method is likely part of a larger threat management system that helps
    bots make intelligent decisions about target selection and combat behavior. It
    may be called internally by other methods or directly from AI logic modules. The
    implementation might involve updating internal data structures such as maps or
    lists that track threat levels over time.
  warnings: Ensure that the 'target' parameter is a valid Unit pointer before calling
    this method to avoid potential crashes or undefined behavior. Be cautious when
    reducing threat values, as negative values may not be handled consistently across
    all implementations.
  related:
  - GetThreatHistory
  - ClearThreatHistory
  - CalculateThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T12:52:56.441652'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
