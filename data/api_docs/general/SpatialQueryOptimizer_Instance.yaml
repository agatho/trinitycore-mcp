api:
  class: SpatialQueryOptimizer
  method: Instance
  signature: SpatialQueryOptimizer & SpatialQueryOptimizer::Instance()
documentation:
  brief: Returns the singleton instance of the SpatialQueryOptimizer class for managing
    spatial queries in the game world.
  description: The Instance method implements the singleton pattern for the SpatialQueryOptimizer
    class, ensuring that only one instance of the optimizer exists throughout the
    application lifecycle. This optimizer is responsible for handling spatial queries
    such as area-of-effect spell targeting, line-of-sight checks, and object detection
    within the game world. The returned reference provides access to all spatial query
    functionality without requiring explicit instantiation. The method is thread-safe
    and should be used to obtain the global optimizer instance for performing spatial
    calculations.
  parameters: []
  returns: A reference to the single global instance of SpatialQueryOptimizer, allowing
    direct access to its methods for performing spatial queries in the game world.
  examples:
  - title: Basic Usage
    code: 'SpatialQueryOptimizer& optimizer = SpatialQueryOptimizer::Instance();

      // Use optimizer for spatial queries

      WorldObject* target = optimizer.GetFirstUnitInObjectRange(player, 50.0f);'
    language: cpp
  - title: Performing Line-of-Sight Check
    code: "SpatialQueryOptimizer& optimizer = SpatialQueryOptimizer::Instance();\n\
      if (optimizer.IsInLineOfSight(startPos, endPos)) {\n    // Object is visible\n\
      }"
    language: cpp
  notes: This method uses the singleton pattern, so calling it multiple times returns
    references to the same object. The optimizer instance is initialized during server
    startup and should be available throughout the application lifecycle. Performance
    considerations include caching spatial query results where possible.
  warnings: Do not attempt to manually instantiate SpatialQueryOptimizer objects;
    always use the Instance() method. Modifying the singleton instance directly may
    affect all spatial queries in the game world.
  related:
  - GetFirstUnitInObjectRange
  - IsInLineOfSight
  - GetObjectInRange
metadata:
  confidence: 0.95
  generated_at: '2025-11-08T21:39:41.728439'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
