api:
  class: SceneMgr
  method: GetInstanceIdBySceneId
  signature: int SceneMgr::GetInstanceIdBySceneId(uint32 sceneId) const
documentation:
  brief: Retrieves the instance ID associated with a given scene ID.
  description: The GetInstanceIdBySceneId method is used to retrieve the unique instance
    identifier (ID) that corresponds to a specific scene ID within the TrinityCore
    framework. This functionality is essential for managing and tracking dynamic scenes
    in World of Warcraft, particularly when dealing with instance-based content such
    as dungeons, raids, or custom scenarios. The method performs a lookup operation
    using internal scene-to-instance mapping data structures. It's commonly used during
    scene activation, deactivation, or when synchronizing player states with specific
    instance contexts. The returned instance ID can then be used for further operations
    like checking player instance permissions, managing group assignments, or triggering
    instance-specific events.
  parameters: []
  returns: Returns the instance ID associated with the provided scene ID. If no valid
    mapping exists for the given scene ID, the method returns -1 to indicate an invalid
    or unknown scene ID.
  examples:
  - title: Basic Usage Example
    code: "uint32 sceneId = 12345;\nint instanceId = sSceneMgr->GetInstanceIdBySceneId(sceneId);\n\
      if (instanceId != -1)\n{\n    // Scene ID is valid, proceed with instance-based\
      \ operations\n    TC_LOG_INFO(\"scene\", \"Scene %u belongs to instance %d\"\
      , sceneId, instanceId);\n}\nelse\n{\n    // Invalid scene ID or no mapping found\n\
      \    TC_LOG_ERROR(\"scene\", \"No instance found for scene ID %u\", sceneId);\n\
      }"
    language: cpp
  notes: This method relies on internal data structures that are populated during
    scene initialization and instance loading. The performance of this lookup is generally
    O(log n) due to the use of sorted containers or hash maps internally. Ensure that
    the scene ID passed to this function is valid before calling, as invalid IDs may
    result in -1 being returned.
  warnings: Be cautious when using this method with unverified scene IDs, as it may
    return -1 for both non-existent scenes and scenes without associated instances.
    Always validate the return value before using it in further operations that require
    a valid instance ID.
  related:
  - GetInstanceIdBySceneInstance
  - GetSceneIdByInstanceId
  - IsSceneActive
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T06:56:07.301314'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
