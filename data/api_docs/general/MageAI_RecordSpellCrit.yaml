api:
  class: MageAI
  method: RecordSpellCrit
  signature: void MageAI::RecordSpellCrit(uint32 spellId, ::Unit * target, uint32
    damage)
documentation:
  brief: Records a spell critical hit event for the Mage AI, storing damage and target
    information.
  description: The RecordSpellCrit method is used by the MageAI class to log critical
    spell hits. It stores relevant data about the spell that crit, including the spell
    ID, the target unit, and the damage dealt. This functionality is typically used
    for tracking spell performance, calculating cooldowns, or triggering special effects
    related to critical hits in Mage gameplay. The method does not return any value
    but updates internal AI state for future reference.
  parameters:
  - name: spellId
    description: The unique identifier of the spell that crit. This is used to determine
      which spell's critical hit statistics should be updated.
  - name: target
    description: Pointer to the Unit object that was targeted by the spell. Used to
      identify the victim of the critical hit.
  - name: damage
    description: The amount of damage dealt in the critical hit. This value is stored
      for performance tracking and potential effect triggering.
  returns: null
  examples:
  - title: Basic usage in Mage AI context
    code: "void SomeMageAI::HandleSpellCrit(uint32 spellId, Unit* target, uint32 damage)\n\
      {\n    RecordSpellCrit(spellId, target, damage);\n}"
    language: cpp
  - title: Recording critical hit with additional logging
    code: "void MageAI::OnSpellCrit(uint32 spellId, Unit* target, uint32 damage)\n\
      {\n    // Log the crit event\n    sLog->outInfo(LOG_FILTER_AI, \"Mage AI: Spell\
      \ %u critically hit %s for %u damage.\", spellId, target->GetName(), damage);\n\
      \    \n    // Record the crit in AI state\n    RecordSpellCrit(spellId, target,\
      \ damage);\n}"
    language: cpp
  notes: This method is part of the MageAI's internal tracking system and should only
    be called when a spell actually crits. It assumes that all parameters are valid
    and non-null. The method may be used in conjunction with other Mage AI methods
    like GetSpellCritChance() or UpdateSpellCooldown().
  warnings: Ensure that the spellId corresponds to an actual spell known by the mage,
    otherwise tracking may become inconsistent. Also, do not call this method without
    verifying that a critical hit actually occurred; doing so could skew performance
    statistics.
  related:
  - GetSpellCritChance
  - UpdateSpellCooldown
  - HandleSpellHit
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T00:46:07.915947'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
