api:
  class: BlackMarketEntry
  method: BuildAuctionMailSubject
  signature: int BlackMarketEntry::BuildAuctionMailSubject(BMAHMailAuctionAnswers
    response) const
documentation:
  brief: Constructs and returns the subject line for a Black Market auction mail notification.
  description: The BuildAuctionMailSubject method generates the subject line used
    in auction-related mail notifications sent to players when their Black Market
    auctions are processed. This method takes a BMAHMailAuctionAnswers parameter that
    determines the specific type of mail subject to construct, such as for successful
    bids, expired auctions, or auction cancellations. The returned integer value typically
    represents an internal identifier or error code indicating the success or failure
    of the subject construction process. This method is part of the Black Market auction
    system in TrinityCore and integrates with the game's mail delivery mechanism to
    provide players with relevant feedback on their auction activities.
  parameters:
  - name: response
    description: Specifies the type of auction mail response to build the subject
      for. This parameter determines whether the subject line should indicate a successful
      bid, auction expiration, cancellation, or other auction-related event.
  returns: Returns an integer value representing the success status of the subject
    construction. A return value of 0 typically indicates success, while non-zero
    values may represent various error conditions such as invalid input parameters
    or internal processing failures.
  examples:
  - title: Building Mail Subject for Successful Bid
    code: "BlackMarketEntry entry;\nBMAHMailAuctionAnswers response = BMAH_MAIL_AUCTION_SOLD;\n\
      int result = entry.BuildAuctionMailSubject(response);\nif (result == 0) {\n\
      \    // Mail subject successfully constructed\n}"
    language: cpp
  - title: Handling Different Auction Response Types
    code: "BlackMarketEntry entry;\nfor (int i = 0; i < 5; ++i) {\n    BMAHMailAuctionAnswers\
      \ response = static_cast<BMAHMailAuctionAnswers>(i);\n    int subjectId = entry.BuildAuctionMailSubject(response);\n\
      \    // Process the constructed subject ID for mail delivery\n}"
    language: cpp
  notes: This method is typically called internally by the Black Market auction system
    when preparing mail notifications. Developers should be aware that the exact format
    and content of the generated subject line may vary based on game localization
    settings and server configuration. The method may perform string formatting operations
    and could potentially involve database lookups for localized text strings.
  warnings: The method relies on proper initialization of the BlackMarketEntry object
    and valid input parameters. Passing invalid BMAHMailAuctionAnswers values may
    result in undefined behavior or error codes. Ensure that the Black Market system
    is properly initialized before calling this method.
  related:
  - GetAuctionId
  - GetItemEntry
  - GetBidAmount
  - SendAuctionMail
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T03:44:23.567654'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
