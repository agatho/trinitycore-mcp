api:
  class: DynamicQuestSystem
  method: ProcessQuestTurnIn
  signature: void DynamicQuestSystem::ProcessQuestTurnIn(Player * bot, uint32 questId)
documentation:
  brief: Processes the turn-in of a quest for a player character, handling quest completion
    logic and rewards.
  description: The ProcessQuestTurnIn method is responsible for managing the completion
    of a quest by a player character in the TrinityCore framework. It validates that
    the specified quest is eligible for completion, checks if the player has met all
    necessary requirements such as item collection or NPC kills, and then awards appropriate
    rewards including experience points, gold, items, and reputation. This method
    integrates with the core quest system to ensure proper state transitions and updates
    the player's quest log accordingly. The function assumes that the player has already
    satisfied all prerequisites for quest completion and focuses solely on the finalization
    process.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the character who is turning
      in the quest. Must be a valid player instance with an active session.
  - name: questId
    description: Unique identifier of the quest being turned in. Must correspond to
      a valid quest entry in the database and be currently active for the player.
  returns: null
  examples:
  - title: Basic Quest Turn-In
    code: 'Player* player = ...; // Get player instance

      uint32 questId = 12345;

      DynamicQuestSystem::ProcessQuestTurnIn(player, questId);'
    language: cpp
  - title: Conditional Quest Turn-In with Validation
    code: "Player* player = ...;\nuint32 questId = 12345;\nif (player->GetQuestStatus(questId)\
      \ == QUEST_STATUS_COMPLETE)\n{\n    DynamicQuestSystem::ProcessQuestTurnIn(player,\
      \ questId);\n}"
    language: cpp
  notes: This method should only be called after verifying that the player has completed
    all required objectives for the quest. It does not perform validation checks on
    quest completion status or prerequisites. The implementation relies heavily on
    TrinityCore's internal quest handling systems and may trigger database updates.
  warnings: Calling this method without ensuring quest completion prerequisites are
    met can result in inconsistent quest states or reward distribution errors. Do
    not invoke this function directly from game events without proper context validation.
  related:
  - Player::GetQuestStatus
  - Player::CompleteQuest
  - Player::RewardQuest
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T05:43:11.929724'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
