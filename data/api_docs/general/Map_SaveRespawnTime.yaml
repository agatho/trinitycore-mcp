api:
  class: Map
  method: SaveRespawnTime
  signature: void Map::SaveRespawnTime(SpawnObjectType type, int spawnId, uint32 entry,
    time_t respawnTime, uint32 gridId, int dbTrans, bool startup)
documentation:
  brief: Saves respawn time for a specific spawn object in the map.
  description: This method saves the respawn time for a given spawn object within
    the map, allowing the system to track when the object should reappear after being
    destroyed or removed. The method handles various spawn types including creatures
    and game objects, storing their respawn times in the database for proper management
    during server operations. It supports both regular and startup scenarios, ensuring
    that respawn data is correctly maintained for different game states.
  parameters:
  - name: type
    description: The spawn type (creature or gameobject) that is being saved. This
      determines how the respawn time is stored and handled in the database.
  - name: spawnId
    description: Unique identifier for the specific spawn object within the map. This
      helps identify which particular spawn should be updated with the respawn time.
  - name: entry
    description: The entry ID of the spawn object, used to identify what type of object
      is being saved (e.g., creature entry or gameobject entry).
  - name: respawnTime
    description: The time when the spawn object should respawn. This value represents
      a timestamp in seconds since epoch.
  - name: gridId
    description: The grid ID where the spawn object is located, used for proper database
      storage and retrieval of respawn data.
  - name: dbTrans
    description: Database transaction identifier used to ensure proper handling of
      database operations during the save process. This allows for transaction management
      during updates.
  - name: startup
    description: Boolean flag indicating whether this is a startup scenario or regular
      operation. When true, it indicates that the respawn time is being saved during
      server startup rather than normal gameplay.
  returns: null
  examples:
  - title: Basic Usage Example
    code: Map::SaveRespawnTime(SpawnObjectType::CREATURE, 12345, 1001, time(nullptr),
      100, 0, false);
    language: cpp
  - title: Startup Scenario Example
    code: Map::SaveRespawnTime(SpawnObjectType::GAMEOBJECT, 67890, 2002, time(nullptr),
      200, 1, true);
    language: cpp
  notes: The method is designed to work with database transactions to ensure data
    consistency. It should be called only when the map is in a state where it can
    properly handle database updates. The method ensures that respawn times are correctly
    stored for both creature and gameobject spawns, making sure that they are properly
    managed during server operations.
  warnings: Improper use of this method may lead to incorrect respawn time storage,
    potentially causing objects to not respawn at the correct time or even remain
    permanently removed from the map. Care must be taken when specifying the spawnId
    and entry values as these determine how the database records are updated.
  related:
  - Map::GetRespawnTime
  - Map::UpdateRespawnTime
metadata:
  confidence: 0.95
  generated_at: '2025-10-31T02:03:27.825232'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
