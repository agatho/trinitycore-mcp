api:
  class: ScriptedAI
  method: IsTimewalking
  signature: bool ScriptedAI::IsTimewalking() const
documentation:
  brief: Determines whether the current AI instance is operating within a Timewalking
    dungeon context.
  description: The IsTimewalking method checks if the ScriptedAI instance is currently
    running inside a Timewalking dungeon. This functionality is crucial for NPCs and
    creatures that need to behave differently depending on whether they are in a normal
    dungeon or a special Timewalking scenario. The method returns true when the AI
    is active within a Timewalking environment, which typically modifies quest behaviors,
    loot drops, and encounter mechanics. It's commonly used by custom AI scripts to
    adjust NPC behavior dynamically based on the current dungeon type.
  parameters: []
  returns: Returns true if the ScriptedAI instance is operating within a Timewalking
    dungeon context; otherwise returns false.
  examples:
  - title: Basic usage in AI behavior
    code: "class MyNPCAI : public ScriptedAI\n{\npublic:\n    void UpdateAI(uint32\
      \ diff) override\n    {\n        if (IsTimewalking())\n        {\n         \
      \   // Special Timewalking behavior\n            DoCast(SPELL_TIMED_BUFF);\n\
      \        }\n        else\n        {\n            // Normal behavior\n      \
      \      DoCast(SPELL_NORMAL_BUFF);\n        }\n    }\n};"
    language: cpp
  - title: Conditional quest reward logic
    code: "class QuestGiverAI : public ScriptedAI\n{\npublic:\n    void OnQuestAccept(Player*\
      \ player, Quest const* quest) override\n    {\n        if (IsTimewalking())\n\
      \        {\n            // Provide special Timewalking quest rewards\n     \
      \       player->AddItem(ITEM_TIMED_REWARD, 1);\n        }\n        else\n  \
      \      {\n            // Standard quest rewards\n            player->AddItem(ITEM_NORMAL_REWARD,\
      \ 1);\n        }\n    }\n};"
    language: cpp
  notes: This method relies on the internal dungeon context tracking of TrinityCore.
    The Timewalking status is determined by checking if the current instance is flagged
    as a Timewalking dungeon. Developers should be aware that this check only affects
    the AI behavior and does not modify the actual dungeon mechanics or quest data.
  warnings: Ensure that any logic relying on IsTimewalking() is properly tested in
    both regular and Timewalking scenarios to avoid unexpected behavior. The method
    may return false in instances where the AI is not directly tied to a dungeon context,
    such as world NPCs or non-dungeon creatures.
  related:
  - IsInCombat
  - IsAlive
  - GetMap
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T06:39:57.034567'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
