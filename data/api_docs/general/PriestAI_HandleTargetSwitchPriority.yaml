api:
  class: PriestAI
  method: HandleTargetSwitchPriority
  signature: bool PriestAI::HandleTargetSwitchPriority(int *& target)
documentation:
  brief: Evaluates and switches to a higher-priority target for the priest AI.
  description: The HandleTargetSwitchPriority method is responsible for determining
    whether the current target held by the PriestAI instance should be replaced with
    a more optimal target based on priority rules. This method typically evaluates
    factors such as threat level, target health, proximity, and spell requirements
    to decide if a switch is beneficial. It modifies the target pointer to reference
    a new target if a better one is found, returning true to indicate a successful
    switch or false if no suitable alternative exists. The method is part of the core
    AI decision-making loop for priest NPCs in TrinityCore.
  parameters: []
  returns: Returns true if the target was successfully switched to a higher-priority
    target; otherwise returns false if no better target is available or if the current
    target remains optimal.
  examples:
  - title: Basic usage within AI update loop
    code: "void PriestAI::UpdateAI(const uint32 diff)\n{\n    if (HandleTargetSwitchPriority(m_target))\n\
      \    {\n        // Target has been switched, proceed with new target logic\n\
      \        DoCast(m_target, SPELL_FLASH_HEAL);\n    }\n}"
    language: cpp
  notes: This method assumes that the AI's internal target pointer is valid and points
    to a current target. It should be called regularly during the AI update cycle
    to ensure optimal targeting behavior.
  warnings: null
  related:
  - GetNextTarget
  - IsTargetValid
  - SetCurrentTarget
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T11:06:19.367771'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
