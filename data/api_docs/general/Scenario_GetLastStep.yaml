api:
  class: Scenario
  method: GetLastStep
  signature: const ScenarioStepEntry * Scenario::GetLastStep() const
documentation:
  brief: Returns a pointer to the last step entry in the scenario.
  description: The GetLastStep method retrieves the final step definition within a
    scenario. This is typically used to determine the end point or final objective
    of a scenario progression. The returned pointer references an immutable ScenarioStepEntry
    object that defines properties such as step ID, required criteria, rewards, and
    associated quest information. The method does not perform any validation on whether
    the scenario has been initialized or if steps exist; it simply returns the last
    entry in the internal step list. This can be useful for checking scenario completion
    status or determining what the final reward or objective is without having to
    iterate through all steps manually.
  parameters: []
  returns: A const pointer to a ScenarioStepEntry object representing the last step
    in the scenario, or nullptr if no steps are defined in the scenario.
  examples:
  - title: Basic usage to check final scenario step
    code: "const ScenarioStepEntry* lastStep = scenario->GetLastStep();\nif (lastStep)\n\
      {\n    printf(\"Final step ID: %u\\n\", lastStep->ID);\n    // Process final\
      \ step information\n}"
    language: cpp
  - title: Using last step to determine if scenario is complete
    code: "const ScenarioStepEntry* lastStep = scenario->GetLastStep();\nif (lastStep\
      \ && player->HasAchieved(lastStep->CriteriaID))\n{\n    // Player has completed\
      \ the final objective\n    scenario->Complete();\n}"
    language: cpp
  notes: The returned ScenarioStepEntry pointer is valid only as long as the Scenario
    object remains alive and unchanged. The method assumes that steps are stored in
    a sequential order internally, with the last step being the final one in that
    sequence. This method may return nullptr if the scenario has no defined steps
    or if the scenario data hasn't been properly initialized.
  warnings: Be sure to check for null return values before dereferencing the returned
    pointer. Accessing members of a null pointer will cause undefined behavior. Also,
    since this returns a const pointer, attempting to modify the step entry through
    this interface will not be possible and may lead to compilation errors if such
    attempts are made.
  related:
  - GetStep
  - GetNumSteps
  - GetCurrentStep
  - IsScenarioComplete
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T19:13:10.093411'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
