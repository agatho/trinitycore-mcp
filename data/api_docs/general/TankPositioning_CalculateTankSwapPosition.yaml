api:
  class: TankPositioning
  method: CalculateTankSwapPosition
  signature: int TankPositioning::CalculateTankSwapPosition(Player * currentTank,
    Player * swapTank, Unit * target)
documentation:
  brief: Calculates and returns the optimal position for swapping tank roles during
    combat.
  description: The CalculateTankSwapPosition method determines the best location for
    a player to move to when swapping tank responsibilities with another player. This
    method evaluates the current positions of both players, the target unit they are
    engaging, and relevant combat mechanics to compute an appropriate swap position
    that maintains optimal threat distribution and positioning. It is typically used
    in group scenarios where tank switching occurs during encounters. The method considers
    factors such as distance to the target, positioning relative to other group members,
    and avoidance of harmful effects or terrain obstacles.
  parameters:
  - name: currentTank
    description: Pointer to the Player object currently acting as the tank. Must be
      a valid player instance in combat.
  - name: swapTank
    description: Pointer to the Player object who will take over tanking responsibilities.
      Must be a valid player instance and within the same group/instance.
  - name: target
    description: Pointer to the Unit object being targeted by both tanks. This represents
      the enemy or mob currently engaged in combat.
  returns: Returns an integer value representing the calculated swap position index
    or identifier. A positive value typically indicates a successful calculation and
    valid position, while zero or negative values may indicate failure or invalid
    input conditions.
  examples:
  - title: Basic Tank Swap Calculation
    code: "int swapPosition = tankPositioning->CalculateTankSwapPosition(currentPlayer,\
      \ newTankPlayer, targetUnit);\nif (swapPosition > 0) {\n    // Proceed with\
      \ tank swap to calculated position\n    // Implementation logic here\n}"
    language: cpp
  - title: Tank Swap with Error Handling
    code: "int result = tankPositioning->CalculateTankSwapPosition(player1, player2,\
      \ mob);\nswitch (result) {\n    case 0:\n        // Invalid parameters or no\
      \ valid position found\n        break;\n    case -1:\n        // Calculation\
      \ failed due to combat state issues\n        break;\n    default:\n        //\
      \ Valid swap position calculated\n        // Execute tank swap logic using result\n\
      \        break;\n}"
    language: cpp
  notes: This method assumes both players are in the same instance and group. The
    calculation may be affected by player movement speed, target positioning, and
    current combat state. It is recommended to call this method only when both players
    are actively engaged in combat with a valid target.
  warnings: Ensure that both Player objects passed to this method are valid and not
    null before calling. Passing invalid pointers can lead to undefined behavior or
    crashes. The method should not be called outside of combat scenarios where tank
    positioning is relevant.
  related:
  - GetTankSwapPosition
  - ValidateTankPosition
  - ExecuteTankSwap
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T01:31:40.675079'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
