api:
  class: SmartScript
  method: FillScript
  signature: void SmartScript::FillScript(SmartAIEventList && e, WorldObject * obj,
    const AreaTriggerEntry * at, const SceneTemplate * scene, const Quest * quest,
    uint32 event)
documentation:
  brief: Initializes and populates a SmartAI event script with provided contextual
    data for AI behavior execution.
  description: The FillScript method prepares a SmartAI event list by associating
    it with contextual game objects such as WorldObject, AreaTriggerEntry, SceneTemplate,
    Quest, or specific event identifiers. This allows the SmartAI system to properly
    evaluate and execute scripted behaviors based on the provided environmental context.
    The method is typically invoked during AI initialization or when an event triggers
    that requires contextual awareness. It ensures all relevant data is correctly
    set up before the AI processes events, enabling dynamic and responsive NPC behavior
    within the game world.
  parameters:
  - name: e
    description: An rvalue reference to a SmartAIEventList containing the event definitions
      and actions to be filled into the script.
  - name: obj
    description: A pointer to the WorldObject that serves as the primary context for
      the AI behavior, such as an NPC or GameObject.
  - name: at
    description: A pointer to the AreaTriggerEntry which provides area-specific trigger
      data used in the script execution.
  - name: scene
    description: A pointer to the SceneTemplate that defines scene-based triggers
      or conditions for the AI behavior.
  - name: quest
    description: A pointer to the Quest object which provides quest-specific context,
      such as quest state or objectives.
  - name: event
    description: An unsigned 32-bit integer representing a specific event identifier
      that determines how the script should be processed.
  returns: null
  examples:
  - title: Basic usage of FillScript with WorldObject and Quest context
    code: 'SmartAIEventList events;

      // ... populate events with AI actions ...

      Player* player = ...;

      Quest const* quest = sObjectMgr->GetQuestTemplate(12345);

      smartAI->FillScript(std::move(events), player, nullptr, nullptr, quest, SMART_EVENT_UPDATE_INFORM);'
    language: cpp
  - title: Advanced usage including AreaTrigger and SceneTemplate
    code: 'SmartAIEventList events;

      // ... populate events with AI actions ...

      GameObject* go = ...;

      AreaTriggerEntry const* at = sAreaTriggerStore.LookupEntry(5678);

      SceneTemplate const* scene = sSceneMgr->GetSceneTemplate(9012);

      smartAI->FillScript(std::move(events), go, at, scene, nullptr, SMART_EVENT_RECEIVE_EMOTE);'
    language: cpp
  notes: This method modifies the SmartAIEventList in-place and takes ownership of
    the event list via move semantics. It is crucial that all pointers passed are
    valid during execution to avoid undefined behavior. The method does not perform
    any validation on input parameters beyond ensuring they are non-null where required.
  warnings: Incorrectly setting context data may lead to unexpected AI behavior or
    crashes. Ensure that pointers like obj, at, scene, and quest are properly initialized
    before calling this method. Passing invalid or stale pointers can cause memory
    corruption or logic errors in the SmartAI system.
  related:
  - SmartScript::ProcessEvents
  - SmartScript::LoadFromDB
  - SmartScript::Reset
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T21:26:55.095424'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
