api:
  class: InteractionManager
  method: UpdateInteraction
  signature: bool InteractionManager::UpdateInteraction(Player * bot, InteractionContext
    & context, uint32 diff)
documentation:
  brief: Updates the interaction state for a player bot within the specified context.
  description: The UpdateInteraction method is responsible for managing and updating
    the state of interactions between a player bot and various game objects or NPCs.
    It processes the current interaction context, applies necessary updates based
    on elapsed time (diff), and determines whether the interaction should continue
    or conclude. This method is typically called during the game loop to maintain
    active interactions such as quest progress, gossip options, or other interactive
    events. The method returns true if the interaction was successfully updated and
    should continue, or false if the interaction has completed or failed.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot whose interaction
      state is being updated. Must not be null.
  - name: context
    description: Reference to an InteractionContext object that holds the current
      state and data of the interaction. This includes information about the target,
      progress, and other relevant context.
  - name: diff
    description: The time difference in milliseconds since the last update call. Used
      to determine how much time has passed for timing-based interactions.
  returns: Returns true if the interaction was successfully updated and should continue;
    false if the interaction has completed or failed.
  examples:
  - title: Basic usage in game loop
    code: "void GameLoop()\n{\n    for (auto& bot : botList)\n    {\n        InteractionContext\
      \ context;\n        // Initialize context...\n        if (!interactionManager.UpdateInteraction(bot,\
      \ context, diff))\n        {\n            // Handle interaction completion or\
      \ failure\n        }\n    }\n}"
    language: cpp
  - title: Updating interaction with time-based logic
    code: "bool UpdateInteraction(Player* bot, InteractionContext& context, uint32\
      \ diff)\n{\n    context.elapsedTime += diff;\n    \n    if (context.elapsedTime\
      \ >= context.maxDuration)\n    {\n        return false; // Interaction timed\
      \ out\n    }\n    \n    // Process interaction logic here\n    return true;\
      \ // Continue interaction\n}"
    language: cpp
  notes: This method is typically invoked from within the main game update loop. It's
    important to ensure that the context object is properly initialized before calling
    this method, as it relies on accurate state data. The diff parameter should accurately
    reflect the time passed since the last call to maintain proper timing behavior.
  warnings: Do not pass null pointers for bot or context parameters; doing so will
    likely result in undefined behavior. Be cautious when modifying the interaction
    context within this method, as changes may affect subsequent calls.
  related:
  - GetInteractionContext
  - InitializeInteraction
  - CompleteInteraction
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T16:59:56.107947'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
