api:
  class: AoEDecisionManager
  method: GetGridKey
  signature: uint32 AoEDecisionManager::GetGridKey(const int & pos) const
documentation:
  brief: Calculates and returns a grid key value based on the provided position coordinate
    for AoE decision management.
  description: The GetGridKey method computes a unique grid key identifier from a
    given position coordinate, typically used in area-of-effect (AoE) spell or ability
    targeting logic within TrinityCore's AI system. This method is essential for organizing
    and managing spatial data related to AoE effects, enabling efficient lookup and
    processing of grid-based interactions. The calculation likely maps continuous
    world coordinates into discrete grid indices that can be used for fast spatial
    queries or caching mechanisms. The method operates on a constant reference to
    an integer position value, suggesting it's designed to work with either X or Y
    coordinate values from a 2D grid system.
  parameters:
  - name: pos
    description: A constant reference to an integer representing a world coordinate
      position (typically X or Y axis). This value is used as input for calculating
      the grid key identifier.
  returns: Returns a uint32 value that represents the computed grid key. This identifier
    uniquely maps to a specific grid cell in the AoE decision manager's spatial indexing
    system, enabling efficient retrieval and management of area-of-effect related
    data.
  examples:
  - title: Basic Usage Example
    code: 'int playerX = 1234;

      uint32 gridKey = aoEDecisionManager->GetGridKey(playerX);

      // gridKey now contains the calculated grid identifier for position 1234'
    language: cpp
  - title: Using Grid Key for Spatial Query
    code: "int targetX = 5678;\nuint32 key = aoEDecisionManager->GetGridKey(targetX);\n\
      // Use key to lookup relevant AoE data in grid-based cache\nif (aoEDecisionManager->HasAoEData(key))\
      \ {\n    // Process AoE effects for this grid cell\n}"
    language: cpp
  notes: This method is likely part of a larger spatial indexing system that divides
    the game world into discrete grid cells. The exact calculation algorithm may depend
    on grid cell size and coordinate mapping strategy used by TrinityCore's AI framework.
    Developers should be aware that this method operates on integer coordinates and
    may involve implicit rounding or truncation when converting from floating-point
    world positions.
  warnings: Ensure that the input position value is within expected bounds to avoid
    unexpected grid key calculations. Since this is a const method, it does not modify
    any internal state but relies on consistent coordinate system conventions throughout
    the application.
  related:
  - GetGridKey
  - HasAoEData
  - AddAoEData
  - RemoveAoEData
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T22:18:22.924807'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
