api:
  class: WorldSession
  method: SendBlackMarketWonNotification
  signature: void WorldSession::SendBlackMarketWonNotification(const BlackMarketEntry
    * entry, const Item * item)
documentation:
  brief: Sends a notification to the player's client indicating they have won an item
    in the Black Market auction.
  description: 'The SendBlackMarketWonNotification method is responsible for transmitting
    a message to the player''s client when they successfully win an item through the
    Black Market auction system. This notification includes details about the winning
    bid and the item received, allowing the client to display appropriate UI elements
    such as a popup or chat message. The method takes two parameters: a pointer to
    the BlackMarketEntry that was won and a pointer to the Item object that was awarded
    to the player. It is typically called after processing the auction outcome and
    updating the player''s inventory with the new item.'
  parameters:
  - name: entry
    description: Pointer to the BlackMarketEntry structure representing the auction
      entry that was won by the player. This contains information about the item,
      bid amount, and auction details.
  - name: item
    description: Pointer to the Item object that was awarded to the player as a result
      of winning the Black Market auction. This represents the actual item instance
      given to the player's inventory.
  returns: null
  examples:
  - title: Basic usage in auction processing
    code: "void ProcessBlackMarketWin(WorldSession* session, BlackMarketEntry* entry,\
      \ Item* item)\n{\n    // ... validation and processing logic ...\n    session->SendBlackMarketWonNotification(entry,\
      \ item);\n}"
    language: cpp
  - title: Sending notification after successful bid
    code: "void HandleBidWinning(WorldSession* session, uint32 auctionId)\n{\n   \
      \ BlackMarketEntry* entry = sBlackMarketMgr->GetBlackMarketEntry(auctionId);\n\
      \    if (entry && entry->IsWon())\n    {\n        Item* item = session->GetPlayer()->GetItemByGuid(entry->GetItemGUID());\n\
      \        if (item)\n        {\n            session->SendBlackMarketWonNotification(entry,\
      \ item);\n        }\n    }\n}"
    language: cpp
  notes: This method is part of the Black Market auction system integration and relies
    on proper synchronization between server-side auction state and client-side UI
    updates. The method assumes that both entry and item parameters are valid and
    properly initialized before being passed to it.
  warnings: Ensure that the BlackMarketEntry and Item objects passed to this method
    remain valid until the client receives and processes the notification. Passing
    null pointers or invalid object references may result in undefined behavior or
    client-side crashes.
  related:
  - SendBlackMarketAuctionUpdate
  - SendBlackMarketBidResult
  - SendBlackMarketSellResult
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T19:38:58.473665'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
