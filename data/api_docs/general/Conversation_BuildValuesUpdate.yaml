api:
  class: Conversation
  method: BuildValuesUpdate
  signature: void Conversation::BuildValuesUpdate(int * data, int flags, const int
    * target) const
documentation:
  brief: Updates and builds the conversation data values for transmission to clients
  description: The BuildValuesUpdate method prepares and constructs the data necessary
    for updating conversation state information to be sent to connected clients. This
    method is typically invoked during network synchronization or when conversation
    events occur that require client-side state updates. It processes internal conversation
    data structures and populates the provided data buffer according to the specified
    flags and target parameters. The method ensures that all relevant conversation
    properties are accurately serialized for network transmission, maintaining consistency
    between server-side conversation state and client-side representation.
  parameters:
  - name: data
    description: Pointer to an integer array where the constructed update data will
      be stored. This buffer must be pre-allocated with sufficient space to hold all
      required values.
  - name: flags
    description: Integer flags that determine which parts of the conversation data
      should be included in the update. These flags typically control serialization
      behavior and data filtering based on client requirements or update types.
  - name: target
    description: Pointer to an integer array specifying the target client or group
      for which the update is intended. This parameter may influence how data is formatted
      or filtered for specific recipients.
  returns: null
  examples:
  - title: Basic conversation update
    code: 'int updateData[100];

      int flags = 0x01;

      int target[3] = {0, 0, 0};

      conversation->BuildValuesUpdate(updateData, flags, target);'
    language: cpp
  - title: Updating conversation with specific client targeting
    code: 'int updateBuffer[256];

      int updateFlags = 0x07;

      int clientTarget[3] = {12345, 0, 0};

      conversation->BuildValuesUpdate(updateBuffer, updateFlags, clientTarget);'
    language: cpp
  notes: This method is part of the internal network synchronization system for conversations.
    Developers should ensure that the data buffer pointed to by 'data' has sufficient
    capacity to avoid buffer overflows. The exact format and interpretation of flags
    depend on the specific implementation details within TrinityCore's conversation
    handling subsystem.
  warnings: Calling this method without properly allocating memory for the 'data'
    parameter will result in undefined behavior or crashes. The target parameter should
    be carefully validated as it may affect how data is serialized for different client
    types.
  related:
  - Conversation::SendUpdate
  - Conversation::GetConversationData
  - Conversation::SetConversationData
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T16:50:20.003474'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
