api:
  class: WorldSession
  method: SendCharFactionChange
  signature: void WorldSession::SendCharFactionChange(int result, const WorldPackets::Character::CharRaceOrFactionChangeInfo
    * factionChangeInfo)
documentation:
  brief: Sends a character faction change result packet to the client.
  description: The SendCharFactionChange method is responsible for transmitting the
    outcome of a character's faction or race change operation to the connected client.
    This method is typically invoked during character customization or when a player
    attempts to switch their faction or race, providing feedback on whether the operation
    was successful or if an error occurred. The method uses a result code and optional
    faction change information to construct and send the appropriate packet to the
    player's session.
  parameters:
  - name: result
    description: An integer representing the outcome of the faction/race change operation.
      Valid values typically include success (0), failure due to restrictions (1),
      or other error conditions depending on game logic.
  - name: factionChangeInfo
    description: A pointer to a CharRaceOrFactionChangeInfo packet structure containing
      detailed information about the faction or race change, such as new faction/race
      IDs and associated visual data. May be null if no additional information is
      required.
  returns: null
  examples:
  - title: Basic usage of SendCharFactionChange
    code: 'WorldSession* session = player->GetSession();

      WorldPackets::Character::CharRaceOrFactionChangeInfo info;

      info.NewFactionID = 123;

      info.NewRaceID = 456;

      session->SendCharFactionChange(0, &info);'
    language: cpp
  notes: This method directly interacts with the network layer to send packets to
    clients. It should only be called from within a valid WorldSession context where
    the player is connected and authenticated.
  warnings: Ensure that the factionChangeInfo parameter is properly initialized before
    calling this method, as passing an uninitialized or invalid pointer may lead to
    undefined behavior or client-side crashes.
  related:
  - SendCharRaceChange
  - SendCharFactionChangeResult
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T19:35:45.935879'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
