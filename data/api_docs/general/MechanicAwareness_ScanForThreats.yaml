api:
  class: MechanicAwareness
  method: ScanForThreats
  signature: int MechanicAwareness::ScanForThreats(Player * bot, float scanRadius)
documentation:
  brief: Scans for threats within a specified radius around the player bot and returns
    the number of detected hostile units.
  description: The ScanForThreats method performs a threat detection scan in the vicinity
    of the specified player bot. It evaluates nearby units to determine if they pose
    a threat based on combat-related mechanics such as aggro, hostility, or attack
    intent. This method is typically used by AI systems to assess danger levels and
    make tactical decisions. The scan considers only units within the given radius
    and returns an integer count of hostile targets found. The behavior may vary depending
    on the bot's current state, faction, and combat awareness settings.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the AI-controlled bot that
      will perform the threat scan. Must not be null.
  - name: scanRadius
    description: Floating-point value defining the radius in yards within which threats
      are detected. Should be a positive number greater than zero.
  returns: An integer representing the total count of hostile units detected within
    the specified scan radius. Returns zero if no threats are found or if the input
    parameters are invalid.
  examples:
  - title: Basic Threat Scan
    code: "Player* myBot = ...; // Assume valid bot pointer\nint threatCount = MechanicAwareness::ScanForThreats(myBot,\
      \ 30.0f);\nif (threatCount > 0) {\n    // Bot detects threats nearby\n    //\
      \ Implement defensive behavior\n}"
    language: cpp
  - title: Dynamic Threat Assessment
    code: "Player* bot = ...;\nfloat radius = 25.0f;\nint threatCount = MechanicAwareness::ScanForThreats(bot,\
      \ radius);\nif (threatCount >= 3) {\n    // High threat level - initiate retreat\n\
      \    bot->GetMotionMaster()->MoveFleeing(bot, 10000); // Flee for 10 seconds\n\
      } else if (threatCount == 0) {\n    // Safe environment - resume normal behavior\n\
      \    bot->GetMotionMaster()->MoveTargetedHome();\n}"
    language: cpp
  notes: This method is part of the AI awareness system and relies on internal threat
    detection logic. It may use cached data or real-time unit positioning to determine
    hostility. Performance can be impacted by large numbers of nearby units, especially
    in crowded areas like battlegrounds or raids.
  warnings: Ensure that the bot pointer passed is valid and not null; otherwise, the
    method will likely crash or produce undefined behavior. The scan radius should
    be reasonable to avoid excessive processing overhead or unrealistic threat detection.
  related:
  - GetThreatLevel
  - IsHostile
  - CheckAggroStatus
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T00:10:04.978158'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
