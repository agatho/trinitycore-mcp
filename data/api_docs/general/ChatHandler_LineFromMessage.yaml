api:
  class: ChatHandler
  method: LineFromMessage
  signature: char * ChatHandler::LineFromMessage(char *& pos)
documentation:
  brief: Extracts and returns the next line of text from a message buffer, advancing
    the position pointer.
  description: The LineFromMessage method is used to parse a message string by extracting
    the next logical line of text. It modifies the input position pointer to point
    to the beginning of the next line after the extracted one. This functionality
    is commonly used in chat handling systems where messages may contain multiple
    lines or commands that need to be processed individually. The method assumes that
    lines are separated by newline characters and handles standard C-style string
    manipulation for parsing. It's typically employed within the TrinityCore's ChatHandler
    class to process multi-line input from players or system messages.
  parameters:
  - name: pos
    description: A reference to a character pointer that points to the current position
      in the message buffer. This pointer is modified by the method to point to the
      start of the next line after extraction.
  returns: A pointer to the beginning of the extracted line within the original message
    buffer. Returns NULL if no more lines are available or if the input position pointer
    points to a null-terminated string.
  examples:
  - title: Basic usage for parsing multi-line chat messages
    code: 'char message[] = "Hello\nWorld\nTest";

      char* pos = message;

      char* line1 = handler->LineFromMessage(pos);

      char* line2 = handler->LineFromMessage(pos);

      char* line3 = handler->LineFromMessage(pos);'
    language: cpp
  - title: Processing a chat command with multiple lines
    code: 'char message[] = "/tell player1\nHello there!\nHow are you?";

      char* pos = message;

      char* command = handler->LineFromMessage(pos);

      char* line1 = handler->LineFromMessage(pos);

      char* line2 = handler->LineFromMessage(pos);

      // Process each line separately'
    language: cpp
  notes: The method modifies the input parameter 'pos' in-place, which means it advances
    the pointer to the next line. Developers should ensure that the original message
    buffer remains valid throughout the parsing process. This function is designed
    for internal use within TrinityCore's chat system and assumes standard C-style
    null-terminated strings with newline character separation.
  warnings: This method does not perform bounds checking on the input buffer, so passing
    an invalid or corrupted position pointer may lead to undefined behavior. Ensure
    that the message buffer is properly null-terminated and that pos points to a valid
    location within it before calling this function.
  related:
  - ChatHandler::ProcessCommand
  - ChatHandler::ReadLine
  - ChatHandler::HasStringAbbr
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T10:04:43.758635'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
