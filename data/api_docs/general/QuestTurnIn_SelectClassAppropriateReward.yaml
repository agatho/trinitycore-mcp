api:
  class: QuestTurnIn
  method: SelectClassAppropriateReward
  signature: uint32 QuestTurnIn::SelectClassAppropriateReward(const int & rewards,
    Player * bot)
documentation:
  brief: Selects the most appropriate reward for a quest turn-in based on player class
    and available rewards.
  description: The SelectClassAppropriateReward method determines which reward from
    a set of possible rewards is most suitable for a given player character based
    on their class. This method is typically used in automated quest completion systems
    or AI-driven bots to ensure that the reward selected aligns with the player's
    capabilities and progression. The method evaluates the provided reward data against
    the player's class-specific preferences or requirements, such as item type restrictions,
    stat bonuses, or quest-specific rules. It returns a unique identifier for the
    chosen reward from the available options.
  parameters:
  - name: rewards
    description: An integer representing the bitmask or index of available rewards
      for the quest. This value typically encodes multiple possible reward choices
      that can be selected by the player.
  - name: bot
    description: A pointer to the Player object representing the character for whom
      the reward is being selected. The method uses this player's class and other
      attributes to determine the most appropriate reward.
  returns: Returns a uint32 value that represents the unique identifier (ID) of the
    selected reward from the available options. This ID corresponds to a specific
    entry in the game's reward database, ensuring that the correct item or currency
    is awarded.
  examples:
  - title: Basic usage in quest completion logic
    code: 'uint32 selectedReward = questTurnIn.SelectClassAppropriateReward(0x07,
      playerBot);

      // Assume rewards bitmask 0x07 includes 3 possible items

      // The method returns the ID of the best matching reward for playerBot''s class'
    language: cpp
  - title: Using selected reward to award quest completion
    code: "uint32 rewardId = questTurnIn.SelectClassAppropriateReward(rewardMask,\
      \ bot);\nif (rewardId != 0)\n{\n    // Award the selected reward to the player\n\
      \    bot->AddItem(rewardId, 1);\n}\nelse\n{\n    // Handle error case where\
      \ no suitable reward was found\n    sLog->outError(\"No appropriate reward found\
      \ for quest turn-in\");\n}"
    language: cpp
  notes: This method is primarily intended for use in automated quest systems or AI
    bots. It assumes that the 'rewards' parameter contains valid reward data and that
    the 'bot' pointer points to a valid Player object with initialized class information.
    The implementation may vary depending on how rewards are encoded internally within
    TrinityCore.
  warnings: Ensure that the player object passed as 'bot' is fully initialized before
    calling this method, otherwise the selection logic might fail or return unexpected
    results. Also, be cautious when using reward bitmasks; invalid or malformed values
    could lead to incorrect selections or undefined behavior.
  related:
  - GetQuestRewards
  - ValidatePlayerClass
  - AwardQuestReward
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T21:05:25.124683'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
