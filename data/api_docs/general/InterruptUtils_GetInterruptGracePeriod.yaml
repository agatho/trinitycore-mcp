api:
  class: InterruptUtils
  method: GetInterruptGracePeriod
  signature: uint32 InterruptUtils::GetInterruptGracePeriod(uint32 spellId)
documentation:
  brief: Retrieves the grace period duration in milliseconds for spell interrupts
    based on the provided spell ID.
  description: The GetInterruptGracePeriod method returns the time interval, measured
    in milliseconds, during which a spell can be interrupted after it has started
    casting. This grace period is used by the game engine to determine how long an
    interruptible spell remains vulnerable to being interrupted by hostile actions
    such as melee attacks or other spells. The method looks up the specified spell
    ID in the internal database of spell properties and retrieves its associated grace
    period value. If the spell ID does not exist or has no defined grace period, the
    method returns a default value typically representing zero or minimal grace period.
  parameters:
  - name: spellId
    description: The unique identifier of the spell for which to retrieve the interrupt
      grace period. Must be a valid spell entry in the TrinityCore database.
  returns: A uint32 value representing the grace period duration in milliseconds.
    Returns 0 if the spell ID is invalid or has no defined grace period.
  examples:
  - title: Retrieve Grace Period for a Spell
    code: "uint32 gracePeriod = InterruptUtils::GetInterruptGracePeriod(12345);\n\
      if (gracePeriod > 0)\n{\n    // Use the grace period value\n    printf(\"Spell\
      \ has a grace period of %u ms\\n\", gracePeriod);\n}\nelse\n{\n    printf(\"\
      No grace period defined for this spell.\\n\");\n}"
    language: cpp
  - title: Use Grace Period in Interrupt Logic
    code: "class SpellInterruptHandler\n{\npublic:\n    void HandleSpellInterrupt(uint32\
      \ spellId)\n    {\n        uint32 gracePeriod = InterruptUtils::GetInterruptGracePeriod(spellId);\n\
      \        if (gracePeriod > 0)\n        {\n            // Apply interrupt logic\
      \ with grace period\n            ApplyInterruptWithGracePeriod(gracePeriod);\n\
      \        }\n        else\n        {\n            // Immediate interrupt\n  \
      \          ApplyImmediateInterrupt();\n        }\n    }\n};"
    language: cpp
  notes: This method relies on internal spell data tables within TrinityCore. Ensure
    that the spell ID passed is valid and corresponds to an actual spell entry in
    the database. The grace period values are typically defined in the Spell.dbc or
    similar game data files.
  warnings: Passing an invalid spell ID may result in unexpected behavior or return
    a default value. Always validate spell IDs before calling this method if strict
    correctness is required.
  related:
  - GetSpellInfo
  - IsSpellInterruptible
  - GetSpellDuration
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T02:46:44.312802'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
