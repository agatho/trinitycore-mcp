api:
  class: PathfindingAdapter
  method: GetNearestWalkablePosition
  signature: bool PathfindingAdapter::GetNearestWalkablePosition(Map * map, const
    int & position, int & walkable, float searchRange) const
documentation:
  brief: Finds the nearest walkable position to a given location within a specified
    search range on a map.
  description: 'The GetNearestWalkablePosition method searches for the closest navigable
    point to a provided position within a defined radius. It is commonly used in pathfinding
    and movement logic to ensure NPCs or players can move smoothly through terrain
    that may contain obstacles, water, or other non-walkable areas. The method operates
    on a given map instance and adjusts the input position to the nearest valid walkable
    coordinate. This functionality is essential for realistic AI behavior and smooth
    character movement in World of Warcraft environments. Precondition: The map parameter
    must be a valid pointer to an existing Map object; the searchRange should be a
    positive value.'
  parameters:
  - name: map
    description: Pointer to the Map object where the search for walkable positions
      occurs. Must not be null.
  - name: position
    description: The starting position (likely an integer coordinate) from which the
      nearest walkable point is searched. This represents a location in map space.
  - name: walkable
    description: Reference to an integer that will be updated with the resulting walkable
      position if found. The value is modified upon successful execution.
  - name: searchRange
    description: Maximum distance (in map units) to search for a walkable point around
      the input position. Must be positive.
  returns: True if a walkable position was found within the specified range; false
    otherwise. If no valid walkable area exists within the search range, the method
    returns false and the 'walkable' parameter remains unchanged.
  examples:
  - title: Basic usage to find nearest walkable point
    code: "Map* myMap = ...;\nint startPosition = 1000;\nint walkablePosition;\nfloat\
      \ searchRadius = 5.0f;\n\nif (pathfinder.GetNearestWalkablePosition(myMap, startPosition,\
      \ walkablePosition, searchRadius)) {\n    // Use walkablePosition for movement\
      \ logic\n    printf(\"Found walkable position: %d\\n\", walkablePosition);\n\
      } else {\n    printf(\"No walkable area found within range.\\n\");\n}"
    language: cpp
  - title: Using in AI pathfinding context
    code: "class NPC {\npublic:\n    bool MoveToPosition(Map* map, int targetPos)\
      \ {\n        int walkable;\n        if (pathfinder.GetNearestWalkablePosition(map,\
      \ targetPos, walkable, 10.0f)) {\n            // Proceed with movement to walkable\
      \ position\n            return true;\n        }\n        return false; // Cannot\
      \ find valid path\n    }\n};"
    language: cpp
  notes: This method is part of the TrinityCore's navigation system and relies on
    internal mesh data for determining walkability. It may perform multiple checks
    depending on map complexity, so performance can vary with large maps or high-frequency
    calls. The function modifies the 'walkable' parameter only when a valid result
    is found.
  warnings: Ensure that the Map pointer passed to this method is valid and initialized
    before calling it. Passing an invalid or null pointer will likely cause undefined
    behavior or crashes. Also, very small search ranges may fail to find any walkable
    points even if one exists nearby.
  related:
  - GetPath
  - IsWalkable
  - CalculatePath
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T22:11:50.147046'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
