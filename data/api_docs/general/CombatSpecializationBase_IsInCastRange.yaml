api:
  class: CombatSpecializationBase
  method: IsInCastRange
  signature: bool CombatSpecializationBase::IsInCastRange(::Unit * target, uint32
    spellId) const
documentation:
  brief: Checks if the unit is within cast range of the specified target for the given
    spell.
  description: The IsInCastRange method determines whether a Unit (such as a player
    or creature) can cast a specific spell on a target based on the spell's range
    requirements. It evaluates the distance between the caster and target, comparing
    it against the spell's maximum cast range. This method is commonly used in combat
    logic to validate spell casting eligibility before attempting to execute a spell.
    The check considers both the caster's position and the target's position, as well
    as any applicable modifiers or restrictions that may affect spell range.
  parameters:
  - name: target
    description: Pointer to the Unit object representing the target of the spell.
      Must be a valid Unit instance; null pointers will result in undefined behavior.
  - name: spellId
    description: The unique identifier for the spell being evaluated. This ID corresponds
      to an entry in the Spell.dbc file and determines the spell's range properties.
  returns: Returns true if the target is within the cast range of the specified spell,
    false otherwise. The method returns false when either the target is null or the
    distance exceeds the spell's maximum range.
  examples:
  - title: Basic usage in combat logic
    code: "if (player->IsInCastRange(target, 12345)) {\n    player->CastSpell(target,\
      \ 12345, true);\n} else {\n    player->SendSpellFailed(12345, SPELL_FAILED_OUT_OF_RANGE);\n\
      }"
    language: cpp
  - title: Using with creature AI
    code: "if (creature->IsInCastRange(target, 98765)) {\n    creature->CastSpell(target,\
      \ 98765, true);\n} else {\n    creature->SetReactState(REACT_AGGRESSIVE);\n}"
    language: cpp
  notes: This method relies on the spell's range data from the database and accounts
    for any range modifiers or restrictions defined in the spell's properties. It
    does not consider line-of-sight or other environmental factors beyond distance.
    The method is typically used during spell preparation or execution validation
    phases.
  warnings: Ensure that the target pointer is valid before calling this method, as
    passing a null pointer may cause crashes or undefined behavior. Also note that
    this check only evaluates range and does not validate other preconditions such
    as line-of-sight or target validity.
  related:
  - IsInFront
  - IsWithinDist
  - GetSpellRange
  - CanCast
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T11:03:57.998422'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
