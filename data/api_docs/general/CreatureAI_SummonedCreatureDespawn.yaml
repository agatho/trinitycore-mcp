api:
  class: CreatureAI
  method: SummonedCreatureDespawn
  signature: void CreatureAI::SummonedCreatureDespawn(Creature * param0)
documentation:
  brief: Handles the cleanup and removal of a summoned creature when it despawns.
  description: The SummonedCreatureDespawn method is invoked by the CreatureAI system
    when a creature that was summoned by this AI instance is removed from the world.
    This typically occurs when the summoned creature's timer expires, is killed, or
    is explicitly dismissed. The method ensures proper cleanup of any references or
    state associated with the summoned creature, allowing the AI to maintain accurate
    tracking of its summoned units and prevent memory leaks or dangling pointers.
    This method is part of the standard AI lifecycle management for summoned creatures
    in TrinityCore.
  parameters:
  - name: param0
    description: Pointer to the Creature object that has despawned. This represents
      the summoned creature instance being removed from the world.
  returns: null
  examples:
  - title: Basic usage in custom AI implementation
    code: "class MyCreatureAI : public CreatureAI {\npublic:\n    void SummonedCreatureDespawn(Creature*\
      \ summon) override {\n        // Remove the summoned creature from our tracking\
      \ list\n        if (summon && summonedCreatures.find(summon) != summonedCreatures.end())\
      \ {\n            summonedCreatures.erase(summon);\n        }\n        // Call\
      \ base implementation to ensure proper cleanup\n        CreatureAI::SummonedCreatureDespawn(summon);\n\
      \    }\n};"
    language: cpp
  notes: This method is automatically called by the core AI system when a summoned
    creature despawns. Developers should not invoke this method directly unless implementing
    custom behavior that requires explicit handling of summoned creature removal.
    The method may be called multiple times for the same summon if it despawns through
    different mechanisms (e.g., death, timeout, dismissal).
  warnings: Do not assume that the summoned creature pointer is valid after this method
    completes, as it may have been deleted by the time the method returns. Avoid performing
    operations on the creature object within this method that could cause undefined
    behavior.
  related:
  - SummonedCreatureDies
  - SummonedCreatureReachedHome
  - DoSummon
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T09:06:55.850301'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
