api:
  class: DungeonBehavior
  method: DistributeLoot
  signature: void DungeonBehavior::DistributeLoot(Group * group, const int & lootItems)
documentation:
  brief: Distributes loot items to players within a dungeon group based on predefined
    rules.
  description: The DistributeLoot method handles the process of awarding loot items
    to players in a dungeon group. It ensures that loot is properly distributed according
    to game rules such as need-before-greed systems, item quality thresholds, and
    group composition. This method typically integrates with the TrinityCore's loot
    system and may consider factors like player roles, gear levels, and loot distribution
    settings configured for the specific dungeon instance. The method operates on
    a provided Group object and uses the specified number of loot items to determine
    how many items should be distributed.
  parameters:
  - name: group
    description: Pointer to the Group object representing the dungeon group whose
      members will receive loot. Must not be null.
  - name: lootItems
    description: Reference to an integer indicating the number of loot items to distribute
      within the group. Should be a non-negative value.
  returns: null
  examples:
  - title: Basic Loot Distribution Example
    code: "Group* dungeonGroup = player->GetGroup();\nint itemsToDistribute = 5;\n\
      if (dungeonGroup)\n{\n    dungeonBehavior.DistributeLoot(dungeonGroup, itemsToDistribute);\n\
      }"
    language: cpp
  - title: Conditional Loot Distribution
    code: "Group* group = player->GetGroup();\nint lootCount = 0;\nif (group && group->GetMembersCount()\
      \ > 0)\n{\n    lootCount = group->GetMembersCount() * 2; // Distribute 2 items\
      \ per member\n    dungeonBehavior.DistributeLoot(group, lootCount);\n}"
    language: cpp
  notes: This method relies on the TrinityCore's built-in loot system and assumes
    that all group members are valid and eligible for loot. It does not perform any
    validation on whether players have space in their inventory or if they meet requirements
    for specific items.
  warnings: Ensure that the Group pointer is valid before calling this method to avoid
    undefined behavior. Also, be cautious when using large values for lootItems as
    it may cause performance issues or overflow in certain systems.
  related:
  - Group::GetMembersCount
  - Group::GetMember
  - Loot::GenerateLoot
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T15:24:42.989260'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
