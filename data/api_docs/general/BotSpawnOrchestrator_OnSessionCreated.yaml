api:
  class: BotSpawnOrchestrator
  method: OnSessionCreated
  signature: void BotSpawnOrchestrator::OnSessionCreated(std::shared_ptr<class BotSession>
    session, const int & request)
documentation:
  brief: Handles initialization and setup when a new bot session is created within
    the TrinityCore framework.
  description: The OnSessionCreated method is invoked whenever a new bot session is
    established in the TrinityCore system. This method serves as a critical hook for
    initializing bot-specific data structures, setting up necessary configurations,
    and integrating the newly created session into the broader bot management infrastructure.
    It ensures that each bot session is properly configured with appropriate settings,
    permissions, and contextual information required for its operation within the
    game environment. The method typically performs setup tasks such as assigning
    unique identifiers, loading default behaviors, initializing state variables, and
    registering the session with relevant subsystems.
  parameters:
  - name: session
    description: A shared pointer to the newly created BotSession object that requires
      initialization and configuration.
  - name: request
    description: An integer reference representing the request identifier or type
      associated with this session creation event. Used to determine specific behavior
      or configuration options for the bot session.
  returns: null
  examples:
  - title: Basic Session Creation Handler
    code: "void BotSpawnOrchestrator::OnSessionCreated(std::shared_ptr<BotSession>\
      \ session, const int& request)\n{\n    // Initialize bot session with default\
      \ settings\n    session->SetBotId(request);\n    session->LoadDefaultBehavior();\n\
      \    session->RegisterWithManager();\n}"
    language: cpp
  - title: Advanced Session Setup with Conditional Logic
    code: "void BotSpawnOrchestrator::OnSessionCreated(std::shared_ptr<BotSession>\
      \ session, const int& request)\n{\n    // Configure based on request type\n\
      \    switch (request)\n    {\n        case BOT_REQUEST_TYPE_COMBAT:\n      \
      \      session->SetBehavior(BOT_BEHAVIOR_COMBAT);\n            break;\n    \
      \    case BOT_REQUEST_TYPE_QUEST:\n            session->SetBehavior(BOT_BEHAVIOR_QUEST);\n\
      \            break;\n        default:\n            session->SetBehavior(BOT_BEHAVIOR_IDLE);\n\
      \            break;\n    }\n    \n    // Set up session data\n    session->Initialize();\n\
      \    session->AssignUniqueIdentifier();\n}"
    language: cpp
  notes: This method is typically called from within the core bot spawning logic and
    should not be invoked directly by external code. It's important to ensure that
    all session initialization steps are completed before returning, as subsequent
    operations may depend on properly configured session data.
  warnings: Improper handling of this method can lead to undefined behavior or crashes
    if session data is not correctly initialized. Avoid performing heavy computations
    or blocking operations within this method as it may impact session creation performance.
  related:
  - BotSpawnOrchestrator::OnSessionDestroyed
  - BotSpawnOrchestrator::CreateBotSession
  - BotSession::Initialize
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T05:16:00.216152'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
