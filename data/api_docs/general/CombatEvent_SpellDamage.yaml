api:
  class: CombatEvent
  method: SpellDamage
  signature: CombatEvent CombatEvent::SpellDamage(int caster, int victim, uint32 spellId,
    int32 damage, uint32 school)
documentation:
  brief: Creates and returns a new CombatEvent object representing a spell damage
    instance.
  description: The SpellDamage method is a static factory function within the CombatEvent
    class that constructs and initializes a new combat event object specifically for
    spell-based damage interactions. This method encapsulates the essential data required
    to represent a spell casting event where damage is dealt from a caster to a victim.
    The returned CombatEvent object can be used in combat logging, event handling
    systems, or damage calculation pipelines within the TrinityCore framework. It
    ensures proper initialization of combat-related metadata including the caster's
    identifier, target's identifier, spell information, damage amount, and magical
    school properties.
  parameters:
  - name: caster
    description: The unique identifier (GUID) of the entity casting the spell. This
      should be a valid GameObject, Creature, or Player identifier within the TrinityCore
      world.
  - name: victim
    description: The unique identifier (GUID) of the target receiving the spell damage.
      Must correspond to a valid GameObject, Creature, or Player in the game world.
  - name: spellId
    description: The unique identifier for the spell being cast. This corresponds
      to entries in the Spell.dbc database file and must represent a valid spell entry.
  - name: damage
    description: The amount of damage dealt by the spell. Can be positive (damage),
      negative (healing), or zero. Negative values typically indicate healing effects.
  - name: school
    description: The magical school or damage type associated with the spell. This
      is a bitmask value representing the school of magic (physical, holy, fire, nature,
      etc.) as defined in SpellSchools enum.
  returns: A newly constructed CombatEvent object initialized with the provided parameters.
    The returned object represents a complete spell damage combat event that can be
    processed by the game's combat system or logged for analysis.
  examples:
  - title: Basic Spell Damage Event Creation
    code: CombatEvent event = CombatEvent::SpellDamage(12345, 67890, 1234, 500, 4);
    language: cpp
  - title: Healing Spell Event Creation
    code: CombatEvent healEvent = CombatEvent::SpellDamage(playerGuid, targetGuid,
      5678, -300, 16); // Healing with holy school
    language: cpp
  notes: This method is typically used in combat processing systems where spell effects
    need to be tracked and recorded. The CombatEvent object returned should be added
    to an appropriate event queue or processed immediately by the combat manager.
    The spellId parameter must reference a valid spell entry in the database, otherwise
    the event may not process correctly.
  warnings: Ensure that the caster and victim GUIDs are valid before calling this
    method, as invalid identifiers can cause runtime errors or unexpected behavior
    in the combat system. The damage value should be carefully validated to prevent
    overflow conditions or invalid healing amounts.
  related:
  - CombatEvent::SpellHeal
  - CombatEvent::MeleeDamage
  - CombatEvent::SpellMiss
metadata:
  confidence: 0.95
  generated_at: '2025-11-09T02:58:41.262870'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
