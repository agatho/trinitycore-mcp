api:
  class: BotThreatManager
  method: OnHealingDone
  signature: void BotThreatManager::OnHealingDone(Unit * target, uint32 healing)
documentation:
  brief: Handles threat generation when a bot performs healing on a target unit
  description: The OnHealingDone method is invoked by the BotThreatManager to process
    threat calculations when a bot character performs healing actions on a target
    unit. This method integrates with the World of Warcraft's threat system to ensure
    that healing done by bots contributes appropriately to the threat table, which
    affects mob aggro behavior. The method takes into account the amount of healing
    performed and the target unit to determine how much threat should be generated.
    It is typically called internally by the bot AI system when a healing spell or
    ability is successfully executed.
  parameters:
  - name: target
    description: Pointer to the Unit object that received the healing. This represents
      the target of the healing action and is used to determine threat generation
      for that specific unit.
  - name: healing
    description: The amount of healing points that were applied to the target. This
      value directly influences the threat generated by the healing action, with higher
      healing amounts typically generating more threat.
  returns: null
  examples:
  - title: Basic usage in bot AI
    code: "void BotAI::HandleHealing(Unit* target, uint32 amount)\n{\n    m_threatManager->OnHealingDone(target,\
      \ amount);\n}"
    language: cpp
  - title: Integration with healing spell execution
    code: "void BotSpellHandler::ExecuteHealSpell(Unit* target, uint32 healAmount)\n\
      {\n    // Perform the actual healing\n    DoHeal(target, healAmount);\n    \n\
      \    // Notify threat manager of the healing action\n    m_botThreatManager->OnHealingDone(target,\
      \ healAmount);\n}"
    language: cpp
  notes: This method is part of the bot AI threat management system and should only
    be called when a bot actually performs a healing action. It does not directly
    modify the target's health but calculates and applies threat values based on the
    healing amount. The method assumes that the healing has already been applied to
    the target before being called.
  warnings: Ensure that this method is only called after healing has been successfully
    applied to avoid incorrect threat calculations. Calling this method with invalid
    target pointers or zero healing amounts may lead to unexpected behavior in the
    threat system.
  related:
  - OnDamageDone
  - OnSpellCast
  - CalculateThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T10:31:38.028222'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
