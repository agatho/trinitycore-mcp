api:
  class: TradeSystem
  method: ValidateTradeStates
  signature: void TradeSystem::ValidateTradeStates()
documentation:
  brief: Validates the current trade state between two players to ensure both parties
    are eligible to proceed with the trade.
  description: The ValidateTradeStates method checks the validity of an ongoing trade
    session between two players in the TrinityCore framework. It ensures that both
    traders meet the necessary conditions for trading, such as being within range,
    not in combat, and having valid trade windows open. This method typically runs
    during trade updates or when a player attempts to accept or cancel a trade. The
    validation includes checking for invalidation conditions like distance violations,
    combat status changes, or any other state that would make the trade no longer
    permissible. It is an essential part of maintaining game integrity and preventing
    exploits related to trading mechanics.
  parameters: []
  returns: null
  examples:
  - title: Basic Trade State Validation
    code: 'TradeSystem* tradeSys = sObjectAccessor->GetTradeSystem();

      tradeSys->ValidateTradeStates();'
    language: cpp
  notes: This method is usually invoked automatically by the core trading system during
    trade updates. Developers should not call this directly unless implementing custom
    trade logic or debugging trade-related issues.
  warnings: Improper handling of trade state validation can lead to players being
    able to trade while in invalid states (e.g., in combat), which may cause game
    balance issues or exploit opportunities.
  related:
  - TradeSystem::StartTrade
  - TradeSystem::CancelTrade
  - TradeSystem::AcceptTrade
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T00:25:26.345424'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
