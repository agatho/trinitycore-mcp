api:
  class: EquipmentManager
  method: CalculateTotalStats
  signature: float EquipmentManager::CalculateTotalStats(const int * proto, const
    int & weights)
documentation:
  brief: Calculates and returns the total statistical value of all equipped items
    for a player.
  description: The CalculateTotalStats method aggregates the combined statistical
    bonuses from all currently equipped items in a player's inventory. This includes
    attributes such as strength, agility, stamina, intellect, spirit, and other combat-related
    stats. The method uses internal proto data and weight factors to compute a normalized
    total stat value that can be used for various game mechanics like character power
    calculations, item comparison, or performance evaluation. It is typically invoked
    during character loading, equipment changes, or when recalculating player capabilities
    after gear modifications.
  parameters:
  - name: proto
    description: Pointer to an array of integers representing the base statistical
      properties of each equipped item. Each element corresponds to a specific stat
      type (e.g., strength, agility) and may include modifiers from enchantments or
      gems.
  - name: weights
    description: Reference to an integer value that determines how much each stat
      contributes to the final total. This weight factor is used to normalize different
      stat types into a single comparable metric based on game balance requirements.
  returns: Returns a floating-point number representing the cumulative normalized
    statistical strength of all equipped items. A higher value indicates better overall
    equipment stats, which directly affects character performance in combat and other
    gameplay scenarios.
  examples:
  - title: Basic Usage Example
    code: float totalStats = player->GetEquipmentManager()->CalculateTotalStats(protoArray,
      weightFactor);
    language: cpp
  - title: Usage with Dynamic Stat Calculation
    code: 'int proto[10] = {100, 50, 75, 30, 20, 40, 60, 80, 90, 10};

      int weight = 5;

      float result = equipmentManager->CalculateTotalStats(proto, weight);

      // Result represents normalized total stats for the player''s current gear'
    language: cpp
  notes: This method is part of the core equipment management system and should only
    be called after verifying that all item data is properly loaded. The proto array
    must contain valid stat values; otherwise, the result will be inaccurate or undefined.
    Performance-wise, this function may involve multiple iterations over equipped
    items and their properties, so frequent calls in tight loops could impact frame
    rate.
  warnings: Ensure that the proto array contains exactly the expected number of elements
    matching the item types being evaluated. Passing incorrect or unallocated memory
    can lead to segmentation faults or corrupted data. Also, do not assume that stat
    weights remain constant across different game modes or expansions without verifying
    their values.
  related:
  - GetEquippedItems
  - RecalculateStats
  - UpdateEquipment
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T03:39:03.330466'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
