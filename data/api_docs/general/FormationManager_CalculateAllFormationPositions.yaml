api:
  class: FormationManager
  method: CalculateAllFormationPositions
  signature: int FormationManager::CalculateAllFormationPositions()
documentation:
  brief: Calculates and updates the positions of all units in a formation based on
    their formation data and leader's current position.
  description: The CalculateAllFormationPositions method computes the absolute world
    coordinates for all units within a formation, taking into account each unit's
    relative position to the formation leader. This method is typically invoked when
    the formation leader moves or when formation parameters change, ensuring that
    all units maintain their proper formation layout. The calculation considers the
    leader's current position, orientation, and the predefined formation offsets for
    each member. It updates internal state tracking for unit positions and returns
    a status code indicating success or failure of the recalculation process.
  parameters: []
  returns: Returns 0 on successful recalculation of all formation positions. Returns
    a non-zero error code if the calculation fails due to invalid formation data,
    missing leader, or other internal inconsistencies.
  examples:
  - title: Basic Formation Position Update
    code: "FormationManager* manager = player->GetFormationManager();\nint result\
      \ = manager->CalculateAllFormationPositions();\nif (result == 0) {\n    // Formation\
      \ positions updated successfully\n    // All units now have their correct world\
      \ coordinates\n}"
    language: cpp
  notes: This method is typically called internally by the formation system when leader
    movement occurs. It performs calculations in world space coordinates and updates
    unit positions immediately. The method assumes that all formation members are
    valid and properly initialized with formation data.
  warnings: Do not call this method directly unless you understand the formation system's
    internal state management. Improper use may result in inconsistent unit positioning
    or invalid memory access if units are not properly registered in the formation.
  related:
  - GetFormationLeader
  - AddUnitToFormation
  - RemoveUnitFromFormation
  - UpdateFormationPosition
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T07:38:29.026331'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
