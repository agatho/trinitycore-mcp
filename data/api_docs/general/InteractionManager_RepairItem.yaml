api:
  class: InteractionManager
  method: RepairItem
  signature: bool InteractionManager::RepairItem(Player * bot, Creature * vendor,
    Item * item)
documentation:
  brief: Repairs an item for a player using a vendor.
  description: The RepairItem method attempts to repair a specified item owned by
    a player using a creature vendor. It checks if the item is repairable, verifies
    that the player has sufficient funds to cover the repair cost, and then performs
    the repair operation. The method returns true if the repair was successful, or
    false if it failed due to insufficient funds, invalid item, or other issues. This
    functionality is typically used in botting or automated systems where players
    need to maintain their equipment.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the player whose item will
      be repaired.
  - name: vendor
    description: Pointer to the Creature object representing the vendor who will perform
      the repair.
  - name: item
    description: Pointer to the Item object that needs to be repaired.
  returns: True if the item was successfully repaired, false otherwise. Failure can
    occur due to insufficient funds, invalid item type, or other game logic constraints.
  examples:
  - title: Basic Repair Usage
    code: "Player* player = ...;\nCreature* vendor = ...;\nItem* item = player->GetItemByPos(INVENTORY_SLOT_BAG_0,\
      \ 0);\nbool success = sInteractionManager->RepairItem(player, vendor, item);\n\
      if (success)\n    TC_LOG_INFO(\"player\", \"Item repaired successfully\");"
    language: cpp
  - title: Conditional Repair with Error Handling
    code: "Player* player = ...;\nCreature* vendor = ...;\nItem* item = player->GetItemByPos(INVENTORY_SLOT_BAG_0,\
      \ 1);\nif (item && item->IsBroken()) {\n    bool result = sInteractionManager->RepairItem(player,\
      \ vendor, item);\n    if (!result) {\n        TC_LOG_ERROR(\"player\", \"Failed\
      \ to repair item: %u\", item->GetEntry());\n    }\n}"
    language: cpp
  notes: This method relies on the TrinityCore's vendor and item repair systems. It
    assumes that the vendor is a valid repairer and that the player has sufficient
    gold to cover the repair cost. The method does not perform any validation beyond
    checking if the item is repairable and the player can afford it.
  warnings: Ensure that all pointers are valid before calling this method, as passing
    null pointers will likely cause crashes or undefined behavior. Also, be aware
    that this function may not work correctly in all game contexts (e.g., during certain
    quests or in specific zones with special vendor restrictions).
  related:
  - CanRepairItem
  - GetRepairCost
  - Player::HasEnoughMoney
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T02:20:47.826073'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
