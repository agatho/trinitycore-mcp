api:
  class: DynamicQuestSystem
  method: CalculateQuestDifficulty
  signature: float DynamicQuestSystem::CalculateQuestDifficulty(const Quest * quest,
    Player * bot)
documentation:
  brief: Calculates and returns the difficulty rating of a quest for a specific player
    character.
  description: The CalculateQuestDifficulty method computes a float value representing
    how difficult a given quest is for a particular player. This calculation takes
    into account various factors such as the player's level, the quest's level requirements,
    available quest rewards, and other dynamic elements within the TrinityCore framework.
    The returned difficulty score can be used by AI systems or quest management logic
    to determine appropriate quest assignment, difficulty scaling, or player engagement
    metrics. This method is typically invoked when evaluating quest suitability for
    a bot or player character in automated questing systems.
  parameters:
  - name: quest
    description: A pointer to the Quest object whose difficulty will be calculated.
      Must not be null.
  - name: bot
    description: A pointer to the Player object for whom the quest difficulty is being
      evaluated. Must not be null.
  returns: A float value representing the calculated difficulty of the quest for the
    specified player. Higher values indicate more difficult quests, with typical ranges
    between 0.0 (very easy) and 10.0 (very hard). Returns 0.0 if either parameter
    is invalid or calculation fails.
  examples:
  - title: Basic usage example
    code: "Quest* quest = sObjectMgr->GetQuestTemplate(12345);\nPlayer* bot = ...;\
      \ // Get player reference\nfloat difficulty = dynamicQuestSystem->CalculateQuestDifficulty(quest,\
      \ bot);\nif (difficulty > 5.0f) {\n    // Handle high difficulty quest\n}"
    language: cpp
  - title: Integration with AI quest selection
    code: "float CalculateOptimalQuestDifficulty(Player* player) {\n    float maxDifficulty\
      \ = 0.0f;\n    for (uint32 questId : availableQuests) {\n        Quest* quest\
      \ = sObjectMgr->GetQuestTemplate(questId);\n        if (quest) {\n         \
      \   float difficulty = dynamicQuestSystem->CalculateQuestDifficulty(quest, player);\n\
      \            maxDifficulty = std::max(maxDifficulty, difficulty);\n        }\n\
      \    }\n    return maxDifficulty;\n}"
    language: cpp
  notes: This method relies on internal quest and player data structures within TrinityCore.
    It may perform multiple lookups and calculations involving quest templates, player
    stats, and dynamic modifiers. The exact algorithm used for difficulty calculation
    is not publicly exposed in the core API but likely considers level deltas, reward
    values, quest type, and player class/role.
  warnings: Ensure that both quest and bot parameters are valid pointers before calling
    this method to avoid undefined behavior or crashes. The returned value should
    be interpreted carefully as it's a relative difficulty score rather than an absolute
    measure.
  related:
  - GetQuestLevel
  - GetQuestRewardMoney
  - GetQuestRewardXP
  - IsQuestAvailable
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T05:50:14.249747'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
