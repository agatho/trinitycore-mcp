api:
  class: EnhancedBotAI
  method: OnThreatChanged
  signature: void EnhancedBotAI::OnThreatChanged(Unit * target, float threat)
documentation:
  brief: Handles threat level changes for a target unit within the bot's AI system
  description: The OnThreatChanged method is invoked when the threat level associated
    with a specific target unit undergoes modification within the EnhancedBotAI system.
    This method allows the AI to respond dynamically to changes in combat threat,
    such as when a bot shifts focus from one enemy to another or when threat levels
    fluctuate during combat. It serves as a critical callback mechanism for maintaining
    proper targeting and combat behavior in the context of TrinityCore's AI framework.
  parameters:
  - name: target
    description: Pointer to the Unit object for which threat level has changed. This
      represents the current target unit being tracked by the bot's AI system.
  - name: threat
    description: Float value representing the new threat level associated with the
      target unit. Higher values typically indicate a greater likelihood of the bot
      targeting this unit.
  returns: null
  examples:
  - title: Basic Threat Change Handling
    code: "void EnhancedBotAI::OnThreatChanged(Unit* target, float threat)\n{\n  \
      \  if (threat > 100.0f)\n    {\n        // Switch to aggressive behavior when\
      \ threat is high\n        SetCombatMode(COMBAT_MODE_AGGRESSIVE);\n    }\n  \
      \  else if (threat < 20.0f)\n    {\n        // Revert to passive mode when threat\
      \ is low\n        SetCombatMode(COMBAT_MODE_PASSIVE);\n    }\n}"
    language: cpp
  notes: This method is typically called internally by the TrinityCore AI system upon
    detection of a threat change event. Developers should ensure that any logic implemented
    within this method does not introduce significant performance overhead, as it
    may be invoked frequently during active combat scenarios.
  warnings: Improper handling of threat changes can lead to erratic bot behavior or
    incorrect targeting decisions. Ensure that all state transitions based on threat
    levels are consistent with the overall AI strategy and do not cause conflicts
    with other AI systems.
  related:
  - OnCombatStart
  - OnCombatStop
  - GetThreatList
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T14:40:41.886095'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
