api:
  class: Player
  method: UpdateTraitConfig
  signature: void Player::UpdateTraitConfig(WorldPackets::Traits::TraitConfig && newConfig,
    int32 savedConfigId, bool withCastTime)
documentation:
  brief: Updates the player's trait configuration with the provided data and optionally
    applies a cast time.
  description: The UpdateTraitConfig method is responsible for updating a player's
    trait configuration in the World of Warcraft client. It accepts a new trait configuration
    packet, a saved configuration ID, and a boolean flag indicating whether to apply
    a cast time. This method is typically invoked when a player modifies their character's
    trait setup, such as changing talent selections or trait configurations. The method
    handles synchronization between the server and client state for trait data, ensuring
    that any changes are properly communicated to the player's interface. It may also
    trigger updates to the player's stats, abilities, or visual appearance based on
    the new trait configuration.
  parameters:
  - name: newConfig
    description: An rvalue reference to a WorldPackets::Traits::TraitConfig object
      containing the updated trait configuration data. This includes information about
      selected traits, their ranks, and any associated modifiers.
  - name: savedConfigId
    description: An integer identifier representing the saved configuration ID for
      this trait setup. This value is used to track which specific trait configuration
      is being applied and can be used for saving/loading purposes.
  - name: withCastTime
    description: A boolean flag indicating whether to apply a cast time when updating
      the trait configuration. When true, the update may include a delay or animation
      associated with the trait change.
  returns: null
  examples:
  - title: Basic Trait Configuration Update
    code: 'WorldPackets::Traits::TraitConfig config;

      // Populate config with trait data

      player->UpdateTraitConfig(std::move(config), 12345, true);'
    language: cpp
  - title: Updating Trait Configuration Without Cast Time
    code: 'WorldPackets::Traits::TraitConfig config;

      // Populate config with trait data

      player->UpdateTraitConfig(std::move(config), 67890, false);'
    language: cpp
  notes: This method is part of the player's trait management system and is closely
    tied to the character's talent and trait progression. The implementation likely
    involves sending updates to the client via network packets to reflect the new
    trait configuration. It may also trigger internal recalculations of player stats
    or abilities based on the updated traits.
  warnings: Improper use of this method could result in inconsistent trait states
    between server and client, potentially causing visual glitches or incorrect stat
    calculations. Ensure that the provided TraitConfig is valid before calling this
    method.
  related:
  - GetTraitConfig
  - SaveTraitConfig
  - ApplyTraitChanges
metadata:
  confidence: 0.85
  generated_at: '2025-10-29T17:10:35.181208'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
