api:
  class: CombatAction
  method: GetThreat
  signature: float CombatAction::GetThreat(BotAI * ai) const
documentation:
  brief: Calculates and returns the threat level generated by this combat action against
    the current target.
  description: The GetThreat method computes the amount of threat that a specific
    combat action would generate when executed against the current target in the AI's
    context. This value is crucial for determining whether an action will cause the
    bot to gain aggro or maintain its current threat position. The method takes into
    account various factors such as the bot's attack power, spell damage, weapon speed,
    and target resistance. It serves as a core component in the decision-making process
    of the AI when selecting which actions to perform during combat.
  parameters: []
  returns: A float value representing the calculated threat level generated by this
    combat action. Higher values indicate greater threat, potentially leading to aggro.
    The exact scale and interpretation may depend on the specific implementation details
    of the combat system and target's resistance mechanics.
  examples:
  - title: Basic Threat Calculation
    code: "float threat = combatAction->GetThreat(ai);\nif (threat > 100.0f)\n{\n\
      \    // Action is likely to generate significant threat\n    ai->TellMaster(\"\
      This action will generate high threat.\");\n}"
    language: cpp
  - title: Comparing Threat Levels
    code: "float threat1 = action1->GetThreat(ai);\nfloat threat2 = action2->GetThreat(ai);\n\
      if (threat1 > threat2)\n{\n    // Execute the higher threat action\n    ai->ExecuteAction(action1);\n\
      }\nelse\n{\n    ai->ExecuteAction(action2);\n}"
    language: cpp
  notes: This method is typically called during AI decision-making cycles to evaluate
    potential actions before execution. The returned threat value may be influenced
    by temporary buffs, debuffs, or combat stance effects. It's important to note
    that the actual threat generated may differ from the calculated value due to game
    mechanics like threat modifiers, diminishing returns, or target-specific resistance
    adjustments.
  warnings: The method relies on accurate AI state information including current target,
    bot stats, and combat context. Calling this method outside of a proper combat
    context may produce unreliable results. Additionally, threat calculations can
    vary significantly between different mob types and difficulty levels, so results
    should be interpreted accordingly.
  related:
  - CombatAction::GetDamage
  - CombatAction::IsUsable
  - BotAI::GetThreat
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T11:19:55.012299'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
