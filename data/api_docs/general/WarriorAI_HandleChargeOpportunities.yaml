api:
  class: WarriorAI
  method: HandleChargeOpportunities
  signature: void WarriorAI::HandleChargeOpportunities(::Unit * target)
documentation:
  brief: Evaluates and executes charge opportunities for the warrior AI based on target
    proximity and combat state.
  description: The HandleChargeOpportunities method in WarriorAI assesses whether
    a charge ability can be effectively used against the specified target. It evaluates
    factors such as target distance, line of sight, and current combat state to determine
    if a charge is viable. This method is typically invoked during AI decision-making
    processes when the warrior is engaged in combat. The method ensures that charges
    are only attempted when beneficial and within game mechanics constraints, such
    as not being in melee range already or having sufficient rage for the ability.
  parameters:
  - name: target
    description: Pointer to the Unit object representing the target against which
      a charge opportunity is evaluated. Must be a valid Unit pointer; null pointers
      will result in undefined behavior.
  returns: void
  examples:
  - title: Basic Usage in Combat AI
    code: "void WarriorAI::UpdateAI(uint32 diff)\n{\n    if (!UpdateVictim())\n  \
      \      return;\n\n    Unit* target = GetVictim();\n    HandleChargeOpportunities(target);\n\
      }"
    language: cpp
  - title: Integration with Custom Charge Logic
    code: "void WarriorAI::HandleChargeOpportunities(Unit* target)\n{\n    if (!target\
      \ || !me->IsWithinLOSInMap(target))\n        return;\n\n    float distance =\
      \ me->GetDistance(target);\n    if (distance > 8.0f && distance < 25.0f) //\
      \ Charge range\n    {\n        if (me->HasUnitState(UNIT_STATE_CASTING))\n \
      \           return;\n\n        DoCast(target, SPELL_CHARGE);\n    }\n}"
    language: cpp
  notes: This method is part of the warrior's AI behavior system and should be called
    regularly during combat updates. It assumes that the target unit is valid and
    within range for charge mechanics. The method does not perform any direct spell
    casting but rather evaluates conditions to determine if a charge should occur.
  warnings: Ensure that the target parameter is always valid before calling this method,
    as passing a null pointer may lead to crashes or undefined behavior. Also note
    that this method does not handle all possible combat scenarios and may require
    additional checks in custom implementations.
  related:
  - UpdateAI
  - DoCast
  - GetVictim
  - IsWithinLOSInMap
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T17:09:58.472505'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
