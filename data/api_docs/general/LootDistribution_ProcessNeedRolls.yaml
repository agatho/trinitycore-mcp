api:
  class: LootDistribution
  method: ProcessNeedRolls
  signature: uint32 LootDistribution::ProcessNeedRolls(LootRoll & roll)
documentation:
  brief: Processes all need rolls for a loot item and returns the number of players
    who rolled need.
  description: The ProcessNeedRolls method handles the logic for evaluating all players
    who have rolled 'need' on a specific loot item during a loot distribution. It
    iterates through the pending rolls, determines if any players meet the criteria
    to receive the item (based on loot rules and permissions), and updates the loot
    state accordingly. This method is typically invoked as part of the loot distribution
    cycle in World of Warcraft's TrinityCore server implementation. The method ensures
    proper handling of roll outcomes and maintains consistency with the game's loot
    system mechanics.
  parameters: []
  returns: Returns the number of players who successfully rolled need and were eligible
    to receive the item. A value of zero indicates no valid need rolls occurred or
    all rolls were disqualified.
  examples:
  - title: Basic usage in loot processing
    code: "LootRoll roll;\nuint32 needRollCount = lootDistribution.ProcessNeedRolls(roll);\n\
      if (needRollCount > 0)\n{\n    // Handle successful need rolls\n    sLog->outString(\"\
      Processed %u need rolls for item.\", needRollCount);\n}"
    language: cpp
  notes: This method is part of the loot distribution system and assumes that the
    LootRoll object has already been initialized with valid player rolls. It's designed
    to be called during the active loot processing phase, typically after all players
    have finished rolling.
  warnings: Do not call this method without ensuring that the LootRoll object contains
    valid data. Calling it on an uninitialized or improperly configured roll object
    may lead to undefined behavior or incorrect loot distribution results.
  related:
  - LootDistribution::ProcessLoot
  - LootRoll::AddNeedRoll
  - LootRoll::GetPlayerRolls
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T01:06:18.695402'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
