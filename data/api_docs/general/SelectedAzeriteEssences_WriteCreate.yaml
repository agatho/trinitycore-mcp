api:
  class: SelectedAzeriteEssences
  method: WriteCreate
  signature: void SelectedAzeriteEssences::WriteCreate(ByteBuffer & data, const AzeriteItem
    * owner, const Player * receiver) const
documentation:
  brief: Writes the selected azerite essences data into a byte buffer for transmission
    to the client.
  description: The WriteCreate method serializes the current state of selected azerite
    essences associated with an item and writes it to a provided ByteBuffer. This
    is typically used when sending initial data about azerite item properties to a
    player's client during packet creation or synchronization. The method requires
    both the owner of the azerite item and the receiving player to properly determine
    what data should be included in the serialized output. It is part of the TrinityCore's
    handling of Azerite mechanics, which allow players to select and apply different
    essences to their items for enhanced effects.
  parameters:
  - name: data
    description: The ByteBuffer where the serialized azerite essence data will be
      written. This buffer is typically used to construct network packets sent to
      the client.
  - name: owner
    description: Pointer to the AzeriteItem object that owns the selected essences.
      Used to retrieve the current state of the essences for serialization.
  - name: receiver
    description: Pointer to the Player object who will receive this data. May be used
      to determine visibility or filtering of essence data based on player-specific
      conditions.
  returns: null
  examples:
  - title: Basic usage in packet creation
    code: 'ByteBuffer data;

      AzeriteItem* item = player->GetAzeriteItem();

      SelectedAzeriteEssences essences;

      essences.WriteCreate(data, item, player);

      // Send data as part of a packet to the client'
    language: cpp
  notes: This method is usually called internally by TrinityCore's packet system when
    constructing updates for azerite items. Developers should ensure that the provided
    ByteBuffer is properly initialized and cleared before calling this method. The
    data written may vary depending on whether the owner item has active essences
    or if the receiver has access to view them.
  warnings: Incorrect usage of this method without proper initialization of the ByteBuffer
    can lead to memory corruption or invalid packet structures. Ensure that both owner
    and receiver parameters are valid pointers; passing null values may cause undefined
    behavior.
  related:
  - GetSelectedEssences
  - SetSelectedEssences
  - WriteUpdate
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T20:06:43.140831'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
