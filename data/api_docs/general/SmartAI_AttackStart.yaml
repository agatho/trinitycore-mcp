api:
  class: SmartAI
  method: AttackStart
  signature: void SmartAI::AttackStart(Unit * who)
documentation:
  brief: Initiates attack behavior against a specified unit in SmartAI.
  description: The AttackStart method is used by SmartAI to begin combat with a target
    unit. It sets up the AI's attack state and triggers appropriate combat behaviors
    such as aggro generation, threat calculation, and attack execution. This method
    is typically invoked when an AI-controlled creature detects or is provoked by
    a hostile unit. The method does not directly perform damage but rather initializes
    the attack sequence and updates the AI's internal state to reflect active combat
    with the target.
  parameters:
  - name: who
    description: Pointer to the Unit object that the AI should start attacking. This
      parameter must be a valid pointer to a Unit instance; passing nullptr will result
      in undefined behavior or potential crashes.
  returns: null
  examples:
  - title: Basic Attack Start Usage
    code: "void OnCreatureEnterCombat(Unit* who)\n{\n    AttackStart(who);\n}"
    language: cpp
  - title: Attack Start with Conditional Logic
    code: "void UpdateAI(uint32 diff) override\n{\n    if (!UpdateVictim())\n    {\n\
      \        if (Unit* target = SelectTarget(SELECT_TARGET_TOPAGGRO))\n        {\n\
      \            AttackStart(target);\n        }\n    }\n}"
    language: cpp
  notes: This method is part of the SmartAI framework and integrates with TrinityCore's
    combat system. It automatically handles threat generation and ensures that the
    AI unit enters combat state properly. The method should only be called when the
    AI is in a valid state to initiate combat.
  warnings: Passing a null pointer for 'who' will likely cause crashes or undefined
    behavior. Always validate that the target unit is alive and valid before calling
    AttackStart. This method does not check if the target is already in combat or
    if the AI is already attacking another unit.
  related:
  - UpdateAI
  - AttackStartNoMove
  - AttackStartMelee
  - SetVictim
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T02:58:53.377703'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
