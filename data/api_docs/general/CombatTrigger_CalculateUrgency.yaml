api:
  class: CombatTrigger
  method: CalculateUrgency
  signature: float CombatTrigger::CalculateUrgency(BotAI * ai) const
documentation:
  brief: Calculates and returns the urgency level of a combat situation for the AI
    bot.
  description: The CalculateUrgency method evaluates the current combat state of the
    AI bot and determines how urgently it needs to take action. This value is typically
    used by the bot's decision-making system to prioritize actions such as casting
    spells, moving positions, or engaging targets. The urgency level is represented
    as a floating-point number where higher values indicate more critical situations
    requiring immediate attention. The method considers factors like health status,
    threat level from enemies, and available resources to compute this value.
  parameters: []
  returns: A float value representing the calculated urgency level. Higher values
    indicate more urgent combat conditions. Typically ranges from 0.0 (no urgency)
    to 1.0 (maximum urgency), though values may exceed 1.0 in extreme cases.
  examples:
  - title: Basic Usage
    code: "float urgency = combatTrigger.CalculateUrgency(ai);\nif (urgency > 0.7f)\n\
      {\n    // Execute high-priority combat actions\n    ai->CastSpellAtTarget(spellId,\
      \ target);\n}"
    language: cpp
  - title: Using Urgency for Decision Making
    code: "float urgency = combatTrigger.CalculateUrgency(ai);\nswitch (urgency)\n\
      {\n    case urgency >= 0.9f:\n        ai->ExecuteCombatStrategy(COMBAT_STRATEGY_CRITICAL);\n\
      \        break;\n    case urgency >= 0.6f:\n        ai->ExecuteCombatStrategy(COMBAT_STRATEGY_HIGH);\n\
      \        break;\n    default:\n        ai->ExecuteCombatStrategy(COMBAT_STRATEGY_NORMAL);\n\
      \        break;\n}"
    language: cpp
  notes: This method is typically called during the AI's update cycle to assess current
    combat conditions. It may involve expensive calculations involving multiple combat
    parameters, so caching results when possible can improve performance. The exact
    implementation details depend on the specific combat trigger type and its configuration.
  warnings: Ensure that the BotAI pointer passed to this method is valid and not null,
    as accessing invalid AI state could lead to undefined behavior or crashes. The
    returned urgency value should be interpreted within the context of the bot's overall
    strategy framework.
  related:
  - GetCombatState
  - IsInCombat
  - EvaluateThreatLevel
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T16:56:31.129755'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
