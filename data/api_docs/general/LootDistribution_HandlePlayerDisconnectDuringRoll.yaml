api:
  class: LootDistribution
  method: HandlePlayerDisconnectDuringRoll
  signature: void LootDistribution::HandlePlayerDisconnectDuringRoll(uint32 rollId,
    uint32 playerGuid)
documentation:
  brief: Handles the cleanup of loot rolling state when a player disconnects during
    a roll.
  description: This method is invoked to manage the removal or adjustment of a player's
    participation in an ongoing loot roll when they disconnect from the game. It ensures
    that the loot distribution system properly accounts for disconnected players,
    preventing potential issues with roll results and maintaining data integrity.
    The method typically updates internal tracking structures and may trigger notifications
    or adjustments to other players involved in the same loot roll.
  parameters:
  - name: rollId
    description: The unique identifier of the loot roll during which the player disconnected.
      Used to locate and modify the specific roll context.
  - name: playerGuid
    description: The global unique identifier (GUID) of the disconnected player. Used
      to identify which player's participation needs to be removed or adjusted in
      the roll.
  returns: null
  examples:
  - title: Basic usage during player disconnect
    code: LootDistribution::HandlePlayerDisconnectDuringRoll(12345, 67890);
    language: cpp
  notes: This method is typically called from the player session management system
    when a player's connection is lost. It assumes that the roll context and player
    state are valid and accessible within the current scope.
  warnings: Improper handling of this method may lead to inconsistencies in loot distribution,
    such as invalid roll results or incorrect item assignments. Ensure that all related
    data structures are properly locked or synchronized if accessed concurrently.
  related:
  - HandlePlayerRoll
  - InitializeLootRoll
  - UpdateRollResult
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T09:29:04.526833'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
