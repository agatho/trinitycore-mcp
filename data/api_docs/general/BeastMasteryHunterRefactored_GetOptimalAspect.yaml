api:
  class: BeastMasteryHunterRefactored
  method: GetOptimalAspect
  signature: uint32 BeastMasteryHunterRefactored::GetOptimalAspect() const
documentation:
  brief: Determines and returns the optimal aspect spell ID for a beast mastery hunter
    based on current combat state and pet behavior.
  description: The GetOptimalAspect method evaluates the current hunting scenario,
    including the hunter's pet's health, target threat level, and available aspects
    to determine which aspect spell would provide maximum benefit. This method is
    typically used in AI decision-making logic for beast mastery hunters to dynamically
    select the most effective aspect during combat. The returned value represents
    a spell ID corresponding to one of the available beast mastery aspects such as
    Aspect of the Hawk, Aspect of the Monkey, or Aspect of the Pack. The method considers
    factors like pet health percentage, distance to target, and threat level to make
    this determination.
  parameters: []
  returns: 'Returns a uint32 representing the spell ID of the optimal aspect. Possible
    values include: 13165 (Aspect of the Hawk), 13161 (Aspect of the Monkey), 13159
    (Aspect of the Pack), or 0 if no optimal aspect is determined.'
  examples:
  - title: Basic usage in AI decision making
    code: "uint32 optimalAspect = hunter->GetOptimalAspect();\nif (optimalAspect !=\
      \ 0)\n{\n    // Cast the optimal aspect\n    hunter->CastSpell(hunter, optimalAspect,\
      \ true);\n}"
    language: cpp
  - title: Using result to determine pet management strategy
    code: "uint32 aspect = hunter->GetOptimalAspect();\nswitch (aspect)\n{\n    case\
      \ 13165: // Aspect of the Hawk\n        // Increase focus regeneration and ranged\
      \ attack power\n        break;\n    case 13161: // Aspect of the Monkey\n  \
      \      // Improve pet's evasion and movement speed\n        break;\n    case\
      \ 13159: // Aspect of the Pack\n        // Enhance pet's damage output and threat\
      \ generation\n        break;\n}"
    language: cpp
  notes: This method is primarily used in AI logic for beast mastery hunters to make
    dynamic decisions about aspect usage. The implementation likely considers pet
    health, target distance, and combat situation. It may be called frequently during
    combat, so performance should be considered when implementing custom behavior.
  warnings: The method returns 0 if no optimal aspect can be determined, which should
    be handled as an error condition in calling code. Be cautious about calling this
    method outside of combat situations where the decision-making logic might not
    be appropriate.
  related:
  - GetPet()
  - GetTarget()
  - IsInCombat()
  - CastSpell()
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T10:22:23.970161'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
