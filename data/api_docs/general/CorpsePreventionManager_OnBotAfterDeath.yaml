api:
  class: CorpsePreventionManager
  method: OnBotAfterDeath
  signature: void CorpsePreventionManager::OnBotAfterDeath(Player * bot)
documentation:
  brief: Handles post-death actions for a bot player, preventing corpse creation and
    managing related cleanup.
  description: The OnBotAfterDeath method is invoked after a bot player has died,
    serving to prevent the creation of a corpse and perform necessary cleanup operations.
    This method ensures that bots do not leave behind corpses in the world, which
    could interfere with gameplay mechanics or server performance. It typically handles
    removal of loot, resetting of bot state, and any other post-death cleanup required
    for automated players. The method is part of the CorpsePreventionManager's functionality
    to maintain clean gameplay environments when bots are used in automated scenarios
    such as questing or combat simulations.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that has just died.
      This parameter must be a valid player instance; passing nullptr will result
      in undefined behavior.
  returns: null
  examples:
  - title: Basic usage in death handler
    code: "void MyDeathHandler(Player* player) {\n    if (player && player->IsBot())\
      \ {\n        sCorpsePreventionManager->OnBotAfterDeath(player);\n    }\n}"
    language: cpp
  - title: Integration with custom bot AI system
    code: "class BotAIHandler {\npublic:\n    void HandleBotDeath(Player* bot) {\n\
      \        sCorpsePreventionManager->OnBotAfterDeath(bot);\n        // Additional\
      \ cleanup logic here\n    }\n};"
    language: cpp
  notes: This method assumes that the provided Player object is indeed a bot and not
    a regular player. It's designed to be called only from within death-related event
    handlers or similar contexts where bot-specific behavior needs to be enforced.
    The method does not perform any checks on whether the player is actually dead,
    so it should only be invoked after confirming the death state.
  warnings: Passing a nullptr or a non-bot Player object to this method may lead to
    crashes or unexpected behavior. Always validate that the input parameter represents
    a valid bot before calling this method. Additionally, since this method directly
    manipulates player state and potentially removes items from the game world, it
    should not be called during critical sections of code where race conditions might
    occur.
  related:
  - CorpsePreventionManager::OnPlayerDeath
  - CorpsePreventionManager::IsCorpsePrevented
  - CorpsePreventionManager::PreventCorpseCreation
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T09:08:35.077660'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
