api:
  class: Unit
  method: HealBySpell
  signature: int32 Unit::HealBySpell(HealInfo & healInfo, bool critical)
documentation:
  brief: Calculates and applies healing from a spell to a target.
  description: The HealBySpell method performs the calculation and application of
    healing effects from a spell, handling both regular and critical heals. It processes
    the heal information provided in the HealInfo structure and returns the actual
    amount healed. This method is commonly used in spell processing logic within TrinityCore's
    combat system to determine how much health is restored to targets during healing
    spells.
  parameters:
  - name: healInfo
    description: Structure containing detailed information about the heal being applied,
      including base heal amount, critical chance, and target information.
  - name: critical
    description: Boolean flag indicating whether the heal is a critical hit. If true,
      the heal will be processed with critical healing mechanics.
  returns: Returns the actual amount of health healed, which may be zero if no healing
    occurs or negative if the heal was reduced by damage mitigation.
  examples:
  - title: Basic Heal Application
    code: 'Unit* target = new Unit();

      HealInfo healInfo;

      healInfo.HealAmount = 100;

      healInfo.Target = target;

      int32 healing = target->HealBySpell(healInfo, false);'
    language: cpp
  - title: Critical Heal Application
    code: 'Unit* caster = new Unit();

      HealInfo healInfo;

      healInfo.HealAmount = 200;

      healInfo.Target = caster;

      int32 healing = caster->HealBySpell(healInfo, true);'
    language: cpp
  notes: This method is part of the core combat system and should be used with caution
    when dealing with healing mechanics. The method handles both regular and critical
    healing calculations, making it essential for accurate healing implementation.
  warnings: Improper handling of healInfo can lead to incorrect healing values or
    even negative healing amounts. Ensure that all parameters are properly initialized
    before calling this method.
  related:
  - HealBySpell
  - Spell::CalculateHeal
  - Unit::GetHealth
  - Unit::SetHealth
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T21:04:35.223829'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
