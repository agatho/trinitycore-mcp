api:
  class: Action
  method: AddPrerequisite
  signature: void Action::AddPrerequisite(std::shared_ptr<Action> action)
documentation:
  brief: Adds a prerequisite action that must be completed before this action can
    be executed.
  description: The AddPrerequisite method establishes a dependency relationship between
    two actions in the TrinityCore AI system. When an action has prerequisites, it
    will not execute until all required prerequisite actions have been successfully
    completed. This method is commonly used in quest and NPC AI logic to enforce conditional
    execution order. The added prerequisite action is stored internally and checked
    during action validation. This mechanism supports complex AI behavior where certain
    actions are conditional upon others having been executed first.
  parameters:
  - name: action
    description: A shared pointer to the Action object that serves as a prerequisite.
      This action must be valid and cannot be null. The prerequisite action will be
      executed before this action can proceed.
  returns: null
  examples:
  - title: Basic Prerequisite Setup
    code: 'std::shared_ptr<Action> talkAction = std::make_shared<TalkAction>("Hello
      there!");

      std::shared_ptr<Action> moveAction = std::make_shared<MoveAction>(10.0f, 20.0f);

      moveAction->AddPrerequisite(talkAction);'
    language: cpp
  - title: Multiple Prerequisites in Quest Logic
    code: 'std::shared_ptr<Action> questStart = std::make_shared<QuestStartAction>(12345);

      std::shared_ptr<Action> itemCollect = std::make_shared<ItemCollectionAction>(67890,
      5);

      std::shared_ptr<Action> questComplete = std::make_shared<QuestCompleteAction>(12345);


      questComplete->AddPrerequisite(questStart);

      questComplete->AddPrerequisite(itemCollect);'
    language: cpp
  notes: This method modifies the internal prerequisite list of the action. The prerequisite
    actions are typically executed in the order they were added, though this behavior
    may depend on the AI system's execution logic. Multiple calls to AddPrerequisite
    with the same action will result in duplicate entries unless the system prevents
    such duplicates.
  warnings: Adding circular dependencies between actions can lead to infinite loops
    or deadlock conditions during AI execution. Ensure that prerequisite chains are
    acyclic. Also, be cautious when adding prerequisites to actions that may not be
    properly initialized or validated.
  related:
  - GetPrerequisites
  - HasPrerequisites
  - RemovePrerequisite
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T22:36:27.625551'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
