api:
  class: DB2Manager
  method: GetPowerIndexByClass
  signature: uint32 DB2Manager::GetPowerIndexByClass(int power, uint32 classId) const
documentation:
  brief: Retrieves the power index for a specified power type and class ID.
  description: The GetPowerIndexByClass method is used to determine the appropriate
    power index associated with a given power type and class identifier. This functionality
    is essential for retrieving correct power-related data from DB2 files, which are
    used extensively in TrinityCore for managing game assets such as player classes,
    powers, and their relationships. The method allows the core system to map specific
    power types (such as mana, rage, energy) to their corresponding indices within
    a class's power configuration. It is commonly used during character initialization,
    power management, and UI display logic where accurate power type indexing is required.
  parameters:
  - name: power
    description: The power type identifier (e.g., 0 for mana, 1 for rage, 2 for energy).
      Valid values are typically defined by the game's power system and correspond
      to specific resource types.
  - name: classId
    description: The class identifier (e.g., 1 for Warrior, 2 for Paladin, etc.).
      This ID maps to a specific player class in the game database.
  returns: Returns a uint32 representing the power index associated with the specified
    power type and class. If no matching entry is found, the method may return 0 or
    an undefined value depending on internal implementation.
  examples:
  - title: Retrieve Power Index for Mana of Warrior Class
    code: uint32 manaIndex = sDB2Manager->GetPowerIndexByClass(0, 1); // 0 = mana,
      1 = warrior
    language: cpp
  - title: Use Power Index in Character Initialization
    code: "uint32 powerIndex = sDB2Manager->GetPowerIndexByClass(player->GetPowerType(),\
      \ player->getClass());\nif (powerIndex > 0)\n{\n    // Use the power index for\
      \ further processing\n}"
    language: cpp
  notes: This method relies on internal DB2 data structures and assumes that valid
    class and power mappings exist in the loaded DB2 files. It is recommended to validate
    inputs before calling this method, especially when dealing with dynamic or user-provided
    values.
  warnings: The method may return invalid indices if incorrect class or power IDs
    are passed. Ensure that all parameters conform to known game constants and that
    DB2 files are properly loaded before invoking this function.
  related:
  - GetPowerTypeByClass
  - GetClassPowerData
  - LoadDB2Files
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T14:49:57.920861'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
