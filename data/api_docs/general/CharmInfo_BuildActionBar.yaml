api:
  class: CharmInfo
  method: BuildActionBar
  signature: void CharmInfo::BuildActionBar(WorldPacket * data)
documentation:
  brief: Populates a WorldPacket with the charm's action bar data for client synchronization.
  description: The BuildActionBar method constructs and fills a WorldPacket with the
    current state of the charm's action bar, including all available spells, items,
    and abilities. This method is typically invoked when sending updates to the client
    about the charm's action bar state, ensuring that the player sees the correct
    set of actions available while the creature is under charm effect. It handles
    serialization of action bar slots and their associated data, making sure that
    the client UI reflects the actual capabilities of the charmed unit. The method
    does not perform any validation or checks on the packet itself; it simply populates
    the provided WorldPacket with the appropriate data structure.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Charm Update
    code: 'WorldPacket data(SMSG_PET_SPELLS, 100);

      charminfo->BuildActionBar(&data);

      player->SendDirectMessage(&data);'
    language: cpp
  notes: This method assumes that the CharmInfo object has valid action bar data and
    that the provided WorldPacket is properly initialized for the SMSG_PET_SPELLS
    opcode. The method directly writes to the packet buffer without any additional
    memory allocation or error handling.
  warnings: Ensure that the CharmInfo instance is properly initialized before calling
    this method, as it may lead to undefined behavior if action bar data is not correctly
    set up. Also, be cautious about sending this packet multiple times in rapid succession,
    as it could cause client-side performance issues.
  related:
  - SetActionBar
  - GetActionBar
  - SendActionBarUpdate
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T17:26:01.043395'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
