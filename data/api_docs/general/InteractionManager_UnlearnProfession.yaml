api:
  class: InteractionManager
  method: UnlearnProfession
  signature: bool InteractionManager::UnlearnProfession(Player * bot, Creature * trainer,
    uint32 skillId)
documentation:
  brief: Removes a profession skill from a player character.
  description: The UnlearnProfession method removes a specified profession skill from
    a player character, effectively unlearning that skill. This function typically
    interacts with the game's skill system to update the player's known skills and
    may involve communication with the trainer NPC to confirm the unlearning process.
    The method ensures that the player's skill data is properly updated in both memory
    and database storage. It performs validation checks to ensure the skill exists
    and can be unlearned, and it handles the necessary cleanup of related skill information.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the character whose profession
      will be unlearned.
  - name: trainer
    description: Pointer to the Creature object representing the NPC trainer who is
      facilitating the unlearning process.
  - name: skillId
    description: The unique identifier of the skill to be unlearned, typically corresponding
      to a profession or secondary skill in the game's skill system.
  returns: Returns true if the profession was successfully unlearned, false otherwise.
    The method may return false if the skill does not exist, is not learnable, or
    if there are validation errors during the unlearning process.
  examples:
  - title: Basic Unlearn Profession
    code: "Player* player = ...;\nCreature* trainer = ...;\nuint32 professionId =\
      \ 164; // Blacksmithing\nbool success = sInteractionManager->UnlearnProfession(player,\
      \ trainer, professionId);\nif (success)\n    ChatHandler(player->GetSession()).SendSysMessage(\"\
      Profession successfully unlearned.\");"
    language: cpp
  notes: This method likely interacts with the player's skill database entries and
    may trigger updates to the player's skill UI. It should be called only when appropriate
    game conditions are met, such as when a player is interacting with a valid trainer.
    The method assumes that proper validation has been performed on the input parameters
    before being invoked.
  warnings: Improper use of this method can result in inconsistent skill data or unexpected
    behavior for players. Ensure that the skillId corresponds to a valid learnable
    profession and that the player has actually learned the skill before attempting
    to unlearn it. Calling this method without proper context may cause issues with
    the player's skill progression.
  related:
  - LearnProfession
  - HasSkill
  - AddSkill
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T02:10:17.879933'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
