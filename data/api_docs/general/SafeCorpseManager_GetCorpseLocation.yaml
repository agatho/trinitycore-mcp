api:
  class: SafeCorpseManager
  method: GetCorpseLocation
  signature: bool SafeCorpseManager::GetCorpseLocation(int ownerGuid, float & x, float
    & y, float & z, uint32 & mapId) const
documentation:
  brief: Retrieves the location of a player's corpse given their GUID.
  description: The GetCorpseLocation method retrieves the 3D coordinates (x, y, z)
    and map ID where a player's corpse is located. This method is typically used in
    the context of corpse management within TrinityCore's world server to determine
    where a player's body rests after death. The method requires a valid owner GUID
    to locate the corresponding corpse. If the specified player has no corpse or if
    the data is unavailable, the method returns false and leaves the output parameters
    unchanged. This functionality supports features like corpse retrieval, resurrection
    mechanics, and player tracking.
  parameters:
  - name: ownerGuid
    description: The unique identifier (GUID) of the player whose corpse location
      is being requested. Must be a valid player GUID.
  - name: x
    description: Reference to a float that will be filled with the X coordinate of
      the corpse's location upon successful retrieval.
  - name: y
    description: Reference to a float that will be filled with the Y coordinate of
      the corpse's location upon successful retrieval.
  - name: z
    description: Reference to a float that will be filled with the Z coordinate of
      the corpse's location upon successful retrieval.
  - name: mapId
    description: Reference to a uint32 that will be filled with the map ID where the
      corpse is located upon successful retrieval.
  returns: True if the corpse location was successfully retrieved for the given owner
    GUID; false otherwise. The method returns false when no corpse exists for the
    specified player or if there is an internal error during lookup.
  examples:
  - title: Retrieve Corpse Location for Player
    code: "uint32 playerGuid = 12345;\nfloat x, y, z;\nuint32 mapId;\nif (sSafeCorpseManager->GetCorpseLocation(playerGuid,\
      \ x, y, z, mapId)) {\n    printf(\"Corpse found at (%.2f, %.2f, %.2f) on map\
      \ %u\\n\", x, y, z, mapId);\n} else {\n    printf(\"No corpse found for player\
      \ with GUID %u\\n\", playerGuid);\n}"
    language: cpp
  notes: This method is part of the SafeCorpseManager class which handles corpse-related
    operations in a thread-safe manner. It relies on internal data structures that
    track player corpses, so performance may be impacted if many corpses are present.
    The method does not perform any validation on the input GUID beyond checking for
    existence of a corresponding corpse.
  warnings: The method assumes that the provided ownerGuid corresponds to a valid
    player who has died and whose corpse is still in the world. If called with an
    invalid or non-existent GUID, it will return false without side effects. Be cautious
    when using this function in high-frequency scenarios due to potential internal
    lookups.
  related:
  - GetCorpse
  - RemoveCorpse
  - CreateCorpse
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T07:00:53.196372'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
