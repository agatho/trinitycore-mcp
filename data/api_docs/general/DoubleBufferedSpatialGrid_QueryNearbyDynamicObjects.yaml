api:
  class: DoubleBufferedSpatialGrid
  method: QueryNearbyDynamicObjects
  signature: int DoubleBufferedSpatialGrid::QueryNearbyDynamicObjects(const int &
    pos, float radius) const
documentation:
  brief: Queries and returns the count of nearby dynamic objects within a specified
    radius from a given position.
  description: The QueryNearbyDynamicObjects method performs a spatial query to determine
    how many dynamic objects (such as creatures, game objects, or players) are located
    within a given radius around a specified position. This method is typically used
    in spatial indexing systems to efficiently find nearby entities for AI behavior,
    collision detection, or interaction logic. It operates on a double-buffered spatial
    grid structure which allows for consistent querying during concurrent updates.
    The method takes a position and a radius as input parameters and returns an integer
    representing the number of dynamic objects found within that area.
  parameters:
  - name: pos
    description: The reference position from which to query nearby dynamic objects.
      This parameter is typically represented as an index or coordinate in the spatial
      grid system.
  - name: radius
    description: The radius within which to search for dynamic objects. Must be a
      positive floating-point value representing the distance in world units.
  returns: An integer indicating the number of dynamic objects found within the specified
    radius from the given position. Returns zero if no objects are found or if invalid
    parameters are provided.
  examples:
  - title: Basic Usage
    code: int count = grid.QueryNearbyDynamicObjects(100, 5.0f); // Query for objects
      within 5 units of position 100
    language: cpp
  - title: Using with Spatial Grid Position
    code: 'float x = player->GetPositionX();

      float y = player->GetPositionY();

      int gridPos = grid.GetGridPosition(x, y);

      int nearbyCount = grid.QueryNearbyDynamicObjects(gridPos, 10.0f); // Find objects
      near player within 10 units'
    language: cpp
  notes: This method is part of a double-buffered spatial grid system which ensures
    that queries are performed on a consistent snapshot of the grid even when updates
    occur concurrently. The method assumes that the position parameter refers to a
    valid grid cell index or coordinate within the bounds of the spatial grid. Performance
    can be affected by the density of objects in the queried area and the size of
    the radius.
  warnings: Ensure that the provided position is valid and within the bounds of the
    spatial grid; otherwise, behavior may be undefined. Large radius values may result
    in performance degradation due to scanning many grid cells. This method does not
    account for object bounding boxes or complex collision shapes, only simple distance-based
    queries.
  related:
  - QueryNearbyObjects
  - GetGridPosition
  - UpdateDynamicObject
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T15:35:00.655145'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
