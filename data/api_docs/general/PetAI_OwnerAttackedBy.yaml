api:
  class: PetAI
  method: OwnerAttackedBy
  signature: void PetAI::OwnerAttackedBy(int * attacker)
documentation:
  brief: Handles the event when a pet's owner is attacked by an entity.
  description: The OwnerAttackedBy method is invoked in the PetAI class to process
    situations where the pet's owner is targeted or attacked by another creature or
    player. This method typically triggers defensive behaviors from the pet, such
    as aggroing the attacker or entering combat mode. It serves as a core component
    of the pet's AI system, ensuring that pets react appropriately to threats against
    their owners. The method does not return any value and operates directly on the
    pet's internal AI state.
  parameters:
  - name: attacker
    description: A pointer to an integer representing the identifier or index of the
      entity that attacked the pet's owner. This could be a creature GUID, player
      GUID, or other unique identifier used internally by TrinityCore.
  returns: null
  examples:
  - title: Basic usage in AI event handling
    code: "void PetAI::OwnerAttackedBy(int* attacker)\n{\n    if (!owner || !attacker)\
      \ return;\n    // Trigger pet to attack the attacker\n    me->SetInCombatWith(*attacker);\n\
      \    me->GetMotionMaster()->MoveChase(*attacker);\n}"
    language: cpp
  notes: This method is typically called from within the core game loop or event handling
    system when an owner's combat state changes. Developers should ensure that the
    attacker parameter is valid and not null before using it in any logic.
  warnings: Improper handling of the attacker pointer may lead to crashes or undefined
    behavior. Always validate input parameters before dereferencing them.
  related:
  - PetAI::OwnerAttacked
  - PetAI::UpdateAI
  - PetAI::EnterCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T06:25:07.703307'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
