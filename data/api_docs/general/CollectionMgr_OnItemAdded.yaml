api:
  class: CollectionMgr
  method: OnItemAdded
  signature: void CollectionMgr::OnItemAdded(Item * item)
documentation:
  brief: Handles the event when an item is added to a player's collection in the game
    world.
  description: The OnItemAdded method is invoked whenever an item is successfully
    added to a player's collection, such as when acquiring loot, receiving items through
    quests, or purchasing from vendors. This method typically performs necessary updates
    to the player's collection tracking, achievements, and related game state changes.
    It may also trigger notifications or events that inform other systems about the
    new item addition. The method is part of the CollectionMgr class which manages
    all aspects of player collections within TrinityCore.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Collection Manager
    code: "void MyCollectionManager::OnItemAdded(Item* item)\n{\n    // Update collection\
      \ statistics\n    ++m_totalItems;\n    \n    // Notify observers of new item\n\
      \    for (auto& observer : m_observers)\n    {\n        observer->OnItemAdded(item);\n\
      \    }\n}"
    language: cpp
  notes: This method should be called only after verifying that the item has been
    properly added to the player's inventory. It is typically invoked internally by
    the game engine upon successful item acquisition, not directly by external code.
  warnings: Do not call this method without ensuring the item is actually present
    in the player's collection; doing so may lead to inconsistent state or missing
    achievements. Avoid modifying the item object within this method as it might be
    used elsewhere.
  related:
  - OnItemRemoved
  - HasItem
  - GetCollectionSize
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T09:42:47.065990'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
