api:
  class: CombatEventBus
  method: UpdateMetrics
  signature: void CombatEventBus::UpdateMetrics(std::chrono::microseconds processingTime)
documentation:
  brief: Updates internal combat event processing metrics with the given time duration.
  description: The UpdateMetrics method is responsible for recording and maintaining
    performance statistics related to combat event processing within the TrinityCore
    framework. It accepts a std::chrono::microseconds parameter representing the time
    taken to process a combat event, which is then used to update internal tracking
    mechanisms such as average processing times, maximum latency records, or other
    performance-related metrics. This method plays a crucial role in monitoring the
    efficiency of combat handling systems and can be used for debugging, performance
    tuning, or generating system health reports. The method does not require any specific
    preconditions but should be called consistently after each combat event processing
    to ensure accurate metric tracking.
  parameters:
  - name: processingTime
    description: The time duration in microseconds that was spent processing a single
      combat event. This value is typically obtained by measuring the difference between
      start and end timestamps of event handling operations.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'auto startTime = std::chrono::high_resolution_clock::now();

      // ... combat event processing logic ...

      auto endTime = std::chrono::high_resolution_clock::now();

      std::chrono::microseconds processingTime = std::chrono::duration_cast<std::chrono::microseconds>(endTime
      - startTime);

      combatEventBus.UpdateMetrics(processingTime);'
    language: cpp
  notes: This method is likely called from within combat handling loops or event processors.
    It's important to ensure that the processingTime value passed is accurate and
    represents only the actual event processing time, excluding any overhead such
    as locking mechanisms or logging operations.
  warnings: null
  related:
  - GetMetrics
  - ResetMetrics
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T04:38:24.883429'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
