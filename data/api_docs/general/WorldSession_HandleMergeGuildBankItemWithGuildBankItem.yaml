api:
  class: WorldSession
  method: HandleMergeGuildBankItemWithGuildBankItem
  signature: void WorldSession::HandleMergeGuildBankItemWithGuildBankItem(WorldPackets::Guild::MergeGuildBankItemWithGuildBankItem
    & mergeGuildBankItemWithGuildBankItem)
documentation:
  brief: Merges items from one guild bank slot into another guild bank slot.
  description: This method handles the client request to merge items from one guild
    bank item slot into another. It is typically invoked when a player attempts to
    combine stacks of identical items within their guild's bank. The method validates
    that both source and destination slots are valid, checks for item compatibility,
    ensures sufficient space in the target slot, and performs the necessary updates
    to the guild bank inventory. This action may also trigger updates to the guild
    bank tab permissions and audit logs depending on server configuration.
  parameters: []
  returns: null
  examples:
  - title: Basic usage example
    code: "void HandleMergeGuildBankItemWithGuildBankItem(WorldPackets::Guild::MergeGuildBankItemWithGuildBankItem&\
      \ mergePacket) {\n    // Validate guild membership and permissions\n    if (!GetPlayer()->GetGuild()\
      \ || !GetPlayer()->GetGuild()->HasRankRight(GetPlayer()->GetRank(), GUILD_BANK_RIGHT_DEPOSIT_ITEM))\
      \ {\n        return;\n    }\n    \n    // Process the merge operation\n    GetPlayer()->GetGuild()->MergeGuildBankItem(mergePacket.SourceSlot,\
      \ mergePacket.DestinationSlot);\n}"
    language: cpp
  notes: This method assumes that all validation checks (such as slot validity and
    item compatibility) are performed before calling. The actual merging logic is
    handled by the Guild class's MergeGuildBankItem method. This operation should
    be thread-safe within the context of a single session.
  warnings: Improper handling of source or destination slots can lead to data corruption
    in the guild bank. Ensure that both slots refer to valid items and that the merge
    operation does not violate any item stacking limits or guild bank tab restrictions.
  related:
  - WorldSession::HandleMoveGuildBankItem
  - WorldSession::HandleSwapGuildBankItem
  - Guild::MergeGuildBankItem
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T21:38:23.693467'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
