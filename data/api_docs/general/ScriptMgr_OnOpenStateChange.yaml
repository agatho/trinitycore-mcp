api:
  class: ScriptMgr
  method: OnOpenStateChange
  signature: void ScriptMgr::OnOpenStateChange(bool open)
documentation:
  brief: Notifies scripts when the open state of a game object has changed.
  description: The OnOpenStateChange method is a callback function in the ScriptMgr
    class that is invoked whenever the open state of a game object, such as a door
    or chest, is modified. This method allows script developers to execute custom
    logic in response to state changes, enabling dynamic gameplay elements like triggering
    events, playing sounds, or updating quest states. The method is typically called
    by the core engine when an object's state transitions from open to closed or vice
    versa. It serves as a key integration point for customizing behavior based on
    object interaction.
  parameters:
  - name: open
    description: A boolean value indicating the new open state of the game object.
      True indicates the object is now open, false indicates it is closed.
  returns: null
  examples:
  - title: Basic implementation to log state changes
    code: "class MyGameObjectScript : public GameObjectAI\n{\npublic:\n    void OnOpenStateChange(bool\
      \ open) override\n    {\n        if (open)\n            sLog->outString(\"GameObject\
      \ opened\");\n        else\n            sLog->outString(\"GameObject closed\"\
      );\n    }\n};"
    language: cpp
  - title: Triggering quest completion on object open
    code: "class QuestDoorScript : public GameObjectAI\n{\npublic:\n    void OnOpenStateChange(bool\
      \ open) override\n    {\n        if (open && GetQuestStatus(12345) == QUEST_STATUS_INCOMPLETE)\n\
      \            CompleteQuest(12345);\n    }\n};"
    language: cpp
  notes: This method is called from the core game loop and should avoid heavy computations
    or blocking operations to prevent performance degradation. The open state parameter
    reflects the final state after the change, not the previous state.
  warnings: Do not modify the game object's state within this callback as it may cause
    recursion or unexpected behavior. Ensure that any modifications to quest states
    or other systems are done safely and asynchronously if necessary.
  related:
  - OnGameObjectStateChanged
  - OnGameObjectLootStateChanged
  - OnGameObjectUpdate
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T22:30:07.796762'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
