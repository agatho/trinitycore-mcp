api:
  class: ActionPriorityQueue
  method: AddAction
  signature: void ActionPriorityQueue::AddAction(uint32 spellId, ActionPriority priority,
    float score, int * target)
documentation:
  brief: Adds a new action to the priority queue with specified spell ID, priority
    level, score, and target.
  description: The AddAction method inserts a new action into the ActionPriorityQueue,
    which is used by AI systems to determine the order of actions to execute. Each
    action consists of a spell identifier, a priority level that determines execution
    order, a score that influences decision-making, and an optional target pointer.
    The queue maintains actions sorted by priority and score to ensure optimal AI
    behavior during combat or other gameplay scenarios. This method is typically called
    by AI scripts when deciding which actions to consider for execution next.
  parameters:
  - name: spellId
    description: The unique identifier of the spell associated with this action. Must
      be a valid spell entry from the game's spell database.
  - name: priority
    description: The priority level of this action, determining its position in the
      queue. Higher values are executed first.
  - name: score
    description: A numerical score that affects the action's ranking within its priority
      tier. Higher scores increase likelihood of execution.
  - name: target
    description: Pointer to an integer representing the target for this action. Can
      be NULL if no specific target is required.
  returns: null
  examples:
  - title: Basic Action Addition
    code: 'ActionPriorityQueue queue;

      uint32 spellId = 12345;

      ActionPriority priority = ACTION_PRIORITY_HIGH;

      float score = 8.5f;

      int target = 42;

      queue.AddAction(spellId, priority, score, &target);'
    language: cpp
  - title: Adding Action with Null Target
    code: 'ActionPriorityQueue queue;

      uint32 spellId = 67890;

      ActionPriority priority = ACTION_PRIORITY_MEDIUM;

      float score = 5.0f;

      queue.AddAction(spellId, priority, score, nullptr);'
    language: cpp
  notes: This method modifies the internal state of the ActionPriorityQueue and may
    trigger re-sorting of existing actions. The target parameter should point to a
    valid integer that represents the target entity's ID or index within the AI's
    context. Performance is optimized for frequent additions but may be impacted if
    many actions are added in rapid succession.
  warnings: Ensure that spellId corresponds to an actual spell in the game database,
    as invalid IDs may cause runtime errors or undefined behavior. The target pointer
    must remain valid throughout the lifetime of the action, otherwise accessing it
    could lead to memory corruption.
  related:
  - ActionPriorityQueue::RemoveAction
  - ActionPriorityQueue::GetNextAction
  - ActionPriorityQueue::Clear
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T22:30:45.999766'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
