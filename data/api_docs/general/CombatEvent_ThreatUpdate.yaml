api:
  class: CombatEvent
  method: ThreatUpdate
  signature: CombatEvent CombatEvent::ThreatUpdate(int unit, int victim, int32 threatChange)
documentation:
  brief: Updates threat values for a unit and its victim in combat
  description: The ThreatUpdate method modifies the threat level of a specified unit
    against a victim within the combat system. This method is typically used to adjust
    how much aggro a creature or player has on a target, which affects combat behavior
    such as target switching and attack priority. The threat change value can be positive
    (increasing threat) or negative (decreasing threat), and it directly influences
    the combat dynamics in World of Warcraft's TrinityCore environment.
  parameters:
  - name: unit
    description: The identifier of the unit whose threat level is being updated. This
      typically represents a creature or player in combat.
  - name: victim
    description: The identifier of the target unit against which threat is being modified.
      This is usually the unit that is being attacked or targeted.
  - name: threatChange
    description: The amount by which to modify the threat level. Positive values increase
      threat, negative values decrease it. Zero results in no change to threat.
  returns: Returns a CombatEvent object representing the updated threat state for
    further processing or event handling within the combat system.
  examples:
  - title: Basic Threat Update Example
    code: CombatEvent event = combatEvent.ThreatUpdate(12345, 67890, 100);
    language: cpp
  - title: Decreasing Threat Level
    code: CombatEvent event = combatEvent.ThreatUpdate(12345, 67890, -50);
    language: cpp
  notes: This method is part of the core combat system and should only be called during
    active combat events. It's important to ensure that both unit and victim identifiers
    are valid before calling this method to prevent unexpected behavior or crashes.
  warnings: Calling this method with invalid unit or victim IDs may cause undefined
    behavior or system instability. Always validate parameters before use, especially
    when dealing with dynamic combat scenarios where units might be removed from combat.
  related:
  - CombatEvent::DamageTaken
  - CombatEvent::AggroUpdate
  - CombatEvent::CombatStart
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T07:02:15.820211'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
