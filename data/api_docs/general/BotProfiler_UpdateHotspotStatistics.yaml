api:
  class: BotProfiler
  method: UpdateHotspotStatistics
  signature: void BotProfiler::UpdateHotspotStatistics(PerformanceHotspot & hotspot,
    uint64_t duration)
documentation:
  brief: Updates performance hotspot statistics with the given duration measurement.
  description: The UpdateHotspotStatistics method is responsible for recording and
    updating performance metrics for a specific gameplay hotspot within the TrinityCore
    framework. It takes a reference to a PerformanceHotspot object and a duration
    value, which represents the time taken to execute a particular operation or process.
    This method is typically used in profiling scenarios to track how long certain
    game systems or AI behaviors take to complete, helping developers identify performance
    bottlenecks. The method updates internal statistics such as average execution
    time, maximum duration, and call frequency for the specified hotspot.
  parameters:
  - name: hotspot
    description: Reference to a PerformanceHotspot object that represents a specific
      area or function being profiled. This object contains metadata about the hotspot
      and stores accumulated performance statistics.
  - name: duration
    description: A 64-bit unsigned integer representing the time duration (in microseconds
      or milliseconds) taken to execute the operation associated with this hotspot.
      This value is used to update statistical aggregates.
  returns: null
  examples:
  - title: Basic Usage in Profiling Context
    code: 'PerformanceHotspot myHotspot("AI_Bot_Think");

      uint64_t executionTime = GetTickCount();

      // ... bot AI logic here ...

      executionTime = GetTickCount() - executionTime;

      botProfiler.UpdateHotspotStatistics(myHotspot, executionTime);'
    language: cpp
  - title: Updating Statistics for Multiple Hotspots
    code: 'PerformanceHotspot aiThink("AI_Think");

      PerformanceHotspot movement("Movement");


      uint64_t thinkStart = GetTickCount();

      bot->DoThink();

      uint64_t thinkDuration = GetTickCount() - thinkStart;


      uint64_t moveStart = GetTickCount();

      bot->MoveToTarget();

      uint64_t moveDuration = GetTickCount() - moveStart;


      botProfiler.UpdateHotspotStatistics(aiThink, thinkDuration);

      botProfiler.UpdateHotspotStatistics(movement, moveDuration);'
    language: cpp
  notes: This method is part of the BotProfiler class and is designed to be thread-safe
    for concurrent bot profiling operations. It assumes that the PerformanceHotspot
    object passed in has been properly initialized with valid identifiers and configuration.
    The duration parameter should represent actual execution time, not wall-clock
    time, to ensure accurate profiling data.
  warnings: Ensure that the PerformanceHotspot object remains valid throughout the
    lifetime of this call, as passing a dangling reference may lead to undefined behavior.
    Also, avoid calling this method with zero or negative durations, as it could skew
    statistical calculations.
  related:
  - BotProfiler::GetHotspot
  - BotProfiler::ResetHotspotStatistics
  - BotProfiler::PrintHotspotReport
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T05:26:25.624316'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
