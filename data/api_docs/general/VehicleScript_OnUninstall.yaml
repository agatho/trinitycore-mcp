api:
  class: VehicleScript
  method: OnUninstall
  signature: void VehicleScript::OnUninstall(Vehicle * veh)
documentation:
  brief: Called when a vehicle is uninstalled from a player, typically during vehicle
    removal or dismounting.
  description: The OnUninstall method is invoked when a vehicle script is removed
    from a player's vehicle system. This occurs during vehicle dismounting, vehicle
    destruction, or when the vehicle is no longer associated with the player. The
    method provides an opportunity for custom logic to execute when this event happens,
    such as cleaning up resources, resetting states, or triggering related game events.
    It serves as a cleanup hook in the vehicle lifecycle management system within
    TrinityCore's scripting framework.
  parameters:
  - name: veh
    description: Pointer to the Vehicle object being uninstalled from the player.
      This represents the vehicle instance that is being removed from the current
      player's control.
  returns: null
  examples:
  - title: Basic Vehicle Uninstall Handler
    code: "class MyVehicleScript : public VehicleScript\n{\npublic:\n    void OnUninstall(Vehicle*\
      \ veh) override\n    {\n        // Perform cleanup when vehicle is uninstalled\n\
      \        if (veh)\n        {\n            // Reset any custom vehicle states\n\
      \            veh->SetVehicleInfo(nullptr);\n            // Log uninstall event\n\
      \            sLog->outString(\"Vehicle %u has been uninstalled.\", veh->GetGUID().GetCounter());\n\
      \        }\n    }\n};"
    language: cpp
  notes: This method is part of the VehicleScript interface and is automatically called
    by the TrinityCore framework during vehicle lifecycle events. Developers should
    ensure that any cleanup performed here does not cause race conditions or access
    invalid memory, as the vehicle object may be in a transitional state.
  warnings: Do not attempt to access vehicle members after calling methods that might
    destroy the vehicle object. The vehicle pointer passed to this method is valid
    during execution but may become invalid immediately after returning from the function.
  related:
  - OnInstall
  - OnAddPassenger
  - OnRemovePassenger
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T19:45:20.700455'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
