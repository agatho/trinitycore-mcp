api:
  class: CombatSpecializationBase
  method: GetBuffRemainingTime
  signature: uint32 CombatSpecializationBase::GetBuffRemainingTime(uint32 spellId)
    const
documentation:
  brief: Retrieves the remaining time in milliseconds for a specified buff spell on
    the combat specialization.
  description: The GetBuffRemainingTime method returns the duration remaining for
    a specific spell effect that has been applied to the combat specialization. This
    is typically used to determine how much longer a buff, such as a damage increase
    or defensive shield, will remain active. The method checks the internal spell
    tracking system of the combat specialization and retrieves the time left until
    the spell expires. It is commonly used in AI logic, cooldown management, or status
    display systems within the TrinityCore framework. The returned value represents
    milliseconds, with 0 indicating that the buff has expired or is not currently
    active.
  parameters: []
  returns: Returns a uint32 value representing the remaining time in milliseconds
    for the specified spell buff. A return value of 0 indicates that the buff is either
    inactive, expired, or not found on the combat specialization.
  examples:
  - title: Check Remaining Time of a Damage Buff
    code: "uint32 remainingTime = combatSpec->GetBuffRemainingTime(12345);\nif (remainingTime\
      \ > 0)\n{\n    // Buff is active, continue with logic\n    printf(\"Buff has\
      \ %u ms remaining\\n\", remainingTime);\n}\nelse\n{\n    // Buff has expired\
      \ or is not active\n    printf(\"Buff is no longer active\\n\");\n}"
    language: cpp
  - title: Use Remaining Time for AI Decision Making
    code: "uint32 shieldTime = combatSpec->GetBuffRemainingTime(98765);\nif (shieldTime\
      \ < 5000 && shieldTime > 0)\n{\n    // Shield expires soon, consider reapplying\n\
      \    combatSpec->CastSpell(SPELL_REAPPLY_SHIELD);\n}\nelse if (shieldTime ==\
      \ 0)\n{\n    // No shield active, apply immediately\n    combatSpec->CastSpell(SPELL_SHIELD_OF_FAITH);\n\
      }"
    language: cpp
  notes: This method relies on the internal spell tracking system of CombatSpecializationBase.
    It assumes that the spell ID provided is valid and corresponds to a buff that
    has been applied through the specialization's spell management system. Performance-wise,
    this method should be relatively fast as it typically operates on cached or indexed
    spell data.
  warnings: Ensure that the spellId passed into this method is valid and represents
    an actual buff that was applied via the combat specialization; otherwise, the
    result may be misleading or incorrect. This method does not validate the existence
    of the spell ID itself, only that it's tracked by the specialization.
  related:
  - GetSpellCooldown
  - IsSpellActive
  - HasBuff
  - CastSpell
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T11:13:45.822023'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
