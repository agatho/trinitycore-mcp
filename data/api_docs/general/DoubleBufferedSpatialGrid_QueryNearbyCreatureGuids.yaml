api:
  class: DoubleBufferedSpatialGrid
  method: QueryNearbyCreatureGuids
  signature: int DoubleBufferedSpatialGrid::QueryNearbyCreatureGuids(const int & pos,
    float radius) const
documentation:
  brief: Queries and returns the number of nearby creature GUIDs within a specified
    radius from a given position.
  description: The QueryNearbyCreatureGuids method performs a spatial query to find
    all creature GUIDs located within a given radius around a specified position.
    It leverages the internal double-buffered spatial grid structure to efficiently
    locate nearby creatures without iterating through the entire world object list.
    This method is commonly used in AI behavior, pathfinding, and proximity-based
    interactions. The method returns the count of found creatures, which can then
    be used to iterate over the results or perform further operations on the returned
    GUIDs. It's important to note that this method does not directly return the GUIDs
    themselves but rather provides a count for use with other related methods in the
    grid system.
  parameters:
  - name: pos
    description: The position (as an integer index) from which to query nearby creatures.
      This is typically derived from a world coordinate using the spatial grid's indexing
      system.
  - name: radius
    description: The radius within which to search for nearby creatures, measured
      in world units. Creatures within this distance will be included in the result
      set.
  returns: Returns an integer representing the number of creature GUIDs found within
    the specified radius from the given position. A return value of zero indicates
    no creatures were found in the area.
  examples:
  - title: Basic usage to find nearby creatures
    code: "int count = grid.QueryNearbyCreatureGuids(100, 50.0f);\nif (count > 0)\n\
      {\n    // Process found creatures\n    // Note: Additional methods would be\
      \ needed to retrieve actual GUIDs\n}"
    language: cpp
  - title: Using the result for AI decision making
    code: "int nearbyCreatures = grid.QueryNearbyCreatureGuids(playerPosition, 30.0f);\n\
      if (nearbyCreatures > 5)\n{\n    // Trigger flee behavior\n    creature->SetFlee(true);\n\
      }\nelse if (nearbyCreatures == 0)\n{\n    // Return to patrol\n    creature->SetPatrol(true);\n\
      }"
    language: cpp
  notes: This method is part of a double-buffered spatial grid system, which means
    it operates on a consistent snapshot of the world state. The 'pos' parameter should
    be properly converted from world coordinates to grid indices before calling this
    method. Performance is optimized for frequent queries but may vary depending on
    the density of creatures in the queried area.
  warnings: Ensure that the position index passed is valid and within the bounds of
    the spatial grid to avoid undefined behavior. This method does not return actual
    GUIDs, so additional calls to retrieve the GUID data are required after calling
    this method.
  related:
  - GetCreatureGuidsInArea
  - QueryNearbyGameObjectGuids
  - QueryNearbyPlayerGuids
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T15:35:46.190278'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
