api:
  class: VendorInteractionManager
  method: RecordPurchase
  signature: void VendorInteractionManager::RecordPurchase(uint32 itemId, uint64 goldCost,
    bool success)
documentation:
  brief: Records a purchase transaction made by a player from a vendor.
  description: The RecordPurchase method logs a vendor transaction into the system,
    tracking the item purchased, the gold cost, and whether the transaction was successful.
    This method is typically invoked when a player buys an item from a vendor NPC,
    ensuring that the purchase is properly recorded for gameplay mechanics such as
    achievement tracking, audit logging, or transaction history. The method does not
    perform any validation on the input parameters; it simply records the data as
    provided. It is expected that the calling code has already verified the player's
    ability to make the purchase and that the vendor has the item available.
  parameters:
  - name: itemId
    description: The unique identifier of the item purchased from the vendor. This
      corresponds to the ItemTemplate entry in the database.
  - name: goldCost
    description: The amount of gold paid for the item, represented as a 64-bit unsigned
      integer. This value should reflect the final cost after any discounts or taxes
      have been applied.
  - name: success
    description: A boolean flag indicating whether the purchase was successful (true)
      or failed (false). This allows for logging both completed and failed transactions
      for debugging or analytics purposes.
  returns: null
  examples:
  - title: Basic Purchase Recording
    code: VendorInteractionManager::RecordPurchase(12345, 5000, true);
    language: cpp
  - title: Failed Transaction Logging
    code: VendorInteractionManager::RecordPurchase(67890, 10000, false);
    language: cpp
  notes: This method is likely part of a larger vendor interaction system and may
    be used in conjunction with other methods such as GetVendorItemInfo or ValidatePlayerFunds.
    It is assumed that the calling code handles currency deduction and item delivery
    before invoking this method.
  warnings: Ensure that the itemId corresponds to an actual item in the database,
    otherwise the recorded transaction may not align with any real-world item. Also,
    be cautious about logging failed transactions if they are frequent, as this could
    lead to excessive data storage usage.
  related:
  - GetVendorItemInfo
  - ValidatePlayerFunds
  - LogTransaction
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T04:36:50.894250'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
