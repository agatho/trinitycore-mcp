api:
  class: PathfindingUtils
  method: AdjustWaypointsToGround
  signature: int PathfindingUtils::AdjustWaypointsToGround(const int & waypoints,
    Map * map)
documentation:
  brief: Adjusts a set of waypoints to align with ground level on the specified map.
  description: The AdjustWaypointsToGround method modifies a collection of waypoints
    to ensure they are properly aligned with the terrain height of the given map.
    This is essential for pathfinding in World of Warcraft environments where characters
    must navigate along realistic ground surfaces rather than floating in mid-air.
    The method takes a reference to an array of waypoints and a pointer to the Map
    object on which adjustments should be made. It returns an integer indicating success
    or failure of the adjustment process, with positive values typically representing
    successful operations and negative values indicating errors.
  parameters:
  - name: waypoints
    description: A reference to an array or list of waypoints that need to be adjusted
      to ground level. These waypoints are typically represented as coordinate points
      in 3D space.
  - name: map
    description: A pointer to the Map object on which the waypoint adjustments will
      be performed. This parameter is required to access terrain data for height calculations.
  returns: An integer value indicating the outcome of the adjustment process. A positive
    return value usually signifies successful adjustment, while a negative value may
    indicate an error such as invalid input or failed terrain lookup.
  examples:
  - title: Basic Waypoint Adjustment
    code: "std::vector<Position> waypoints = {{100.0f, 200.0f, 300.0f}, {150.0f, 250.0f,\
      \ 350.0f}};\nint result = PathfindingUtils::AdjustWaypointsToGround(waypoints,\
      \ map);\nif (result >= 0) {\n    // Waypoints successfully adjusted\n}"
    language: cpp
  - title: Advanced Waypoint Adjustment with Error Handling
    code: "std::vector<Position> waypoints = {{100.0f, 200.0f, 300.0f}, {150.0f, 250.0f,\
      \ 350.0f}};\nMap* currentMap = player->GetMap();\nint result = PathfindingUtils::AdjustWaypointsToGround(waypoints,\
      \ currentMap);\nif (result < 0) {\n    // Handle error case\n    sLog->outError(\"\
      Failed to adjust waypoints to ground level\");\n} else {\n    // Proceed with\
      \ adjusted waypoints\n}"
    language: cpp
  notes: This method relies on the underlying map's terrain data for accurate height
    calculations. Performance may be impacted when adjusting large numbers of waypoints
    or in high-detail maps. The method assumes that the input waypoints are valid
    and within the bounds of the specified map.
  warnings: Ensure that the map pointer is valid before calling this function to avoid
    segmentation faults. The method does not validate the contents of the waypoints
    array, so invalid data may lead to unexpected behavior or errors.
  related:
  - GetWaypointHeight
  - ValidateWaypoint
  - CalculatePath
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T06:47:15.113086'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
