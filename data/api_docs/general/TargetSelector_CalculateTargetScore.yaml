api:
  class: TargetSelector
  method: CalculateTargetScore
  signature: float TargetSelector::CalculateTargetScore(Unit * target, const SelectionContext
    & context)
documentation:
  brief: Evaluates and returns a scoring value for a given target unit based on selection
    criteria.
  description: The CalculateTargetScore method computes a float score representing
    how desirable a specific target unit is for selection within an AI decision-making
    context. This score is typically used by target selection algorithms to determine
    the most suitable enemy or ally to attack or assist. The method considers various
    factors such as threat level, distance, health, and other contextual attributes
    defined in the SelectionContext parameter. It serves as a core component in TrinityCore's
    AI targeting system, enabling intelligent behavior for NPCs and creatures.
  parameters:
  - name: target
    description: Pointer to the Unit object that is being evaluated for target selection.
      Must not be null.
  - name: context
    description: Reference to a SelectionContext structure containing contextual data
      such as caster, threat list, and other relevant AI parameters that influence
      scoring.
  returns: A float value representing the calculated target score. Higher scores indicate
    more desirable targets. The exact scale and interpretation depend on implementation
    details of the AI system.
  examples:
  - title: Basic usage in AI logic
    code: "float score = selector.CalculateTargetScore(targetUnit, context);\nif (score\
      \ > bestScore) {\n    bestScore = score;\n    bestTarget = targetUnit;\n}"
    language: cpp
  - title: Using with AI decision tree
    code: "float EvaluateTarget(Unit* target, const SelectionContext& context) {\n\
      \    float score = CalculateTargetScore(target, context);\n    // Apply additional\
      \ modifiers based on target state\n    if (target->IsDead())\n        score\
      \ -= 100.0f;\n    return score;\n}"
    language: cpp
  notes: This method is part of the core AI targeting system and may be called frequently
    during combat logic execution. It's recommended to cache results when possible
    to avoid redundant calculations. The scoring algorithm might vary depending on
    creature type, AI behavior flags, or specific spell effects.
  warnings: Ensure that the target pointer is valid before calling this method; passing
    a null pointer will likely result in undefined behavior or crashes. The SelectionContext
    must be properly initialized with relevant data for accurate scoring.
  related:
  - GetTarget
  - SelectTarget
  - IsTargetValid
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T01:25:28.406321'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
