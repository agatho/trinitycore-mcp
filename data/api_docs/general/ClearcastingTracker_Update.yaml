api:
  class: ClearcastingTracker
  method: Update
  signature: void ClearcastingTracker::Update(Player * bot)
documentation:
  brief: Updates the clearcasting tracker state for the specified player bot.
  description: The ClearcastingTracker::Update method is responsible for managing
    and refreshing the state of the clearcasting effect for a given player bot. This
    method typically checks if the bot currently has the clearcasting buff active,
    updates internal tracking variables accordingly, and may trigger related actions
    such as enabling or disabling spell casting optimizations. The method operates
    within the context of TrinityCore's AI system where bots use various buffs and
    debuffs to enhance their gameplay performance. It ensures that the bot's behavior
    aligns with the current state of its clearcasting status.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot whose clearcasting
      state needs to be updated. This parameter must not be null and should refer
      to a valid player instance within the game world.
  returns: null
  examples:
  - title: Basic Usage in AI Update Loop
    code: "void BotAI::UpdateAI(uint32 diff)\n{\n    if (m_bot)\n        ClearcastingTracker::Update(m_bot);\n\
      }"
    language: cpp
  - title: Integration with Spell Casting Logic
    code: "void ClearcastingTracker::Update(Player* bot)\n{\n    if (!bot || !bot->IsInWorld())\n\
      \        return;\n\n    // Check if clearcasting is active\n    if (bot->HasAura(SPELL_CLEARCASTING_AURA))\n\
      \    {\n        // Update internal tracking state\n        m_isClearcastingActive\
      \ = true;\n        // Enable optimized spell casting\n        bot->SetCanCastSpells(true);\n\
      \    }\n    else\n    {\n        m_isClearcastingActive = false;\n        //\
      \ Revert to normal spell casting behavior\n        bot->SetCanCastSpells(false);\n\
      \    }\n}"
    language: cpp
  notes: This method is typically called during the AI update cycle of a bot. It's
    important that the player object passed in is valid and currently in the world,
    otherwise the behavior may be undefined. The implementation may involve checking
    for specific aura IDs related to clearcasting effects.
  warnings: Passing a null pointer to this method will likely result in a crash or
    undefined behavior. Always validate the player pointer before calling this method.
    Additionally, ensure that the bot is properly initialized and part of the game
    world before invoking this update routine.
  related:
  - ClearcastingTracker::IsClearcastingActive
  - ClearcastingTracker::SetClearcastingState
  - Player::HasAura
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T07:09:26.479187'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
