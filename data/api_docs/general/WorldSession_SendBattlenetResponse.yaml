api:
  class: WorldSession
  method: SendBattlenetResponse
  signature: void WorldSession::SendBattlenetResponse(uint32 serviceHash, uint32 methodId,
    uint32 token, uint32 status)
documentation:
  brief: Sends a Battle.net response packet to the client with specified service hash,
    method ID, token, and status.
  description: The SendBattlenetResponse method is used to transmit a Battle.net protocol
    response back to the connected client. This method facilitates communication within
    the Battle.net authentication and messaging system, allowing the server to respond
    to various Battle.net service requests. The parameters define the service context,
    method being invoked, request token for correlation, and the status code of the
    operation. This method is typically used in the context of Battle.net integration,
    including authentication flows, account management, and other Battle.net-specific
    services within the TrinityCore framework.
  parameters:
  - name: serviceHash
    description: A unique hash identifier representing the Battle.net service being
      responded to. This value identifies which service the response is for, such
      as authentication or account services.
  - name: methodId
    description: The method ID within the specified service that this response corresponds
      to. Used to identify the specific operation or function being handled.
  - name: token
    description: A unique token value used for correlating requests and responses.
      This helps track the specific request that this response is handling.
  - name: status
    description: The status code indicating the result of the operation. Common values
      include success (0), error codes, or other service-specific status indicators.
  returns: null
  examples:
  - title: Basic Battle.net Response
    code: 'WorldSession* session = ...;

      // Send a successful response for a Battle.net authentication request

      session->SendBattlenetResponse(0x12345678, 1, 987654321, 0);'
    language: cpp
  - title: Battle.net Error Response
    code: 'WorldSession* session = ...;

      // Send an error response for a Battle.net service request

      session->SendBattlenetResponse(0x87654321, 2, 112233445, 5); // Status code
      5 indicates an authentication failure'
    language: cpp
  notes: This method is part of the Battle.net protocol implementation in TrinityCore
    and should only be called when a Battle.net service request has been processed.
    The method directly sends a packet to the client, so it must be used carefully
    to avoid sending malformed or incorrect responses that could cause client-side
    issues.
  warnings: Improper usage of this method can result in communication errors with
    Battle.net clients. Ensure all parameters are valid before calling this method,
    especially the status code which should match expected values for the given service
    and method.
  related:
  - SendBattlenetPacket
  - HandleBattlenetRequest
  - GetBattlenetSession
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T19:44:22.605618'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
