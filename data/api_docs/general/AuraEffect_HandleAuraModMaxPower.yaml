api:
  class: AuraEffect
  method: HandleAuraModMaxPower
  signature: void AuraEffect::HandleAuraModMaxPower(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Modifies the maximum power value of the target based on the aura application.
  description: The HandleAuraModMaxPower method is responsible for adjusting the maximum
    power (such as mana, rage, or energy) of a unit when an aura that modifies power
    is applied or removed. This method is typically invoked during aura application
    or removal events and adjusts the unit's power capacity according to the aura's
    effect. The modification can either increase or decrease the maximum power depending
    on whether the aura is being applied or removed. It interacts with the AuraApplication
    object to determine the specific parameters of the power modification, such as
    the type of power and the magnitude of change.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object that contains information about
      the aura being applied or removed. This includes details like the aura's effect
      type, amount, and target.
  - name: mode
    description: The mode of operation indicating how the aura should be handled (e.g.,
      application or removal). Values are typically defined by the AuraStateType or
      similar enums within TrinityCore.
  - name: apply
    description: Boolean flag indicating whether the aura is being applied (true)
      or removed (false). This determines the direction of the power modification.
  returns: null
  examples:
  - title: Applying a Power Modifying Aura
    code: "void ApplyPowerAura(Unit* target, int32 amount)\n{\n    AuraApplication*\
      \ aurApp = new AuraApplication(target, target, SpellInfo);\n    aurApp->SetAmount(amount);\n\
      \    auraEffect->HandleAuraModMaxPower(aurApp, 0, true);\n}"
    language: cpp
  - title: Removing a Power Modifying Aura
    code: "void RemovePowerAura(Unit* target)\n{\n    AuraApplication* aurApp = GetAuraApplication(target);\n\
      \    auraEffect->HandleAuraModMaxPower(aurApp, 0, false);\n}"
    language: cpp
  notes: This method is part of the core aura handling system in TrinityCore and is
    usually called internally by the aura management subsystem. It directly modifies
    the target's power stats and should be used carefully to avoid unintended side
    effects on gameplay balance.
  warnings: Improper use of this method may lead to incorrect power values, which
    can affect gameplay mechanics like spell casting or ability usage. Ensure that
    all parameters are valid before calling this method.
  related:
  - AuraEffect::HandleAuraModMaxHealth
  - AuraEffect::HandleAuraModPowerRegen
  - AuraApplication::GetAmount
metadata:
  confidence: 0.95
  generated_at: '2025-10-31T13:16:29.835347'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
