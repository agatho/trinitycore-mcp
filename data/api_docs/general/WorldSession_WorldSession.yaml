api:
  class: WorldSession
  method: WorldSession
  signature: void WorldSession::WorldSession(uint32 id, std::string && name, uint32
    battlenetAccountId, std::shared_ptr<WorldSocket> sock, AccountTypes sec, uint8
    expansion, time_t mute_time, std::string os, int timezoneOffset, uint32 build,
    int clientBuildVariant, LocaleConstant locale, uint32 recruiter, bool isARecruiter)
documentation:
  brief: Initializes a new WorldSession instance with provided session details including
    account information, socket connection, and client metadata.
  description: The WorldSession constructor initializes a new session object for a
    connected client. It sets up internal state variables such as the session ID,
    account name, Battle.net account ID, socket connection, security level, client
    expansion, mute time, operating system, timezone offset, build version, client
    build variant, locale, recruiter ID, and whether the user is a recruiter. This
    constructor is typically called during the login process when a new player connects
    to the server. The session object manages all communication between the client
    and the server for that specific connection, including handling packets, maintaining
    account state, and enforcing security policies based on the provided parameters.
  parameters:
  - name: id
    description: Unique identifier for this session, typically assigned by the server
      during login process
  - name: name
    description: Account name associated with this session, moved as rvalue to avoid
      unnecessary copies
  - name: battlenetAccountId
    description: Battle.net account identifier for the connected user, used for cross-platform
      authentication
  - name: sock
    description: Shared pointer to the WorldSocket object representing the network
      connection to the client
  - name: sec
    description: Security level of the account, determining access privileges and
      command availability
  - name: expansion
    description: Client expansion version indicating which World of Warcraft expansion
      is being played
  - name: mute_time
    description: Timestamp when the player was muted, or 0 if not muted
  - name: os
    description: Operating system information reported by the client for compatibility
      tracking
  - name: timezoneOffset
    description: Timezone offset in minutes from UTC, used for time-related game mechanics
  - name: build
    description: Client build number indicating exact version of the game client being
      used
  - name: clientBuildVariant
    description: Additional variant information about the client build (e.g., retail
      vs PTR)
  - name: locale
    description: Locale constant specifying language and regional settings for the
      client
  - name: recruiter
    description: Account ID of the recruiter who invited this player, or 0 if not
      recruited
  - name: isARecruiter
    description: Boolean flag indicating whether this account is a recruiter (can
      recruit others)
  returns: null
  examples:
  - title: Creating a new WorldSession during login
    code: 'std::shared_ptr<WorldSocket> socket = std::make_shared<WorldSocket>(acceptor);

      WorldSession session(12345, "PlayerAccount", 987654321, socket, SEC_PLAYER,
      EXPANSION_WRATH_OF_THE_LICH_KING, 0, "Windows", 0, 18414, 0, LOCALE_enUS, 0,
      false);'
    language: cpp
  notes: This constructor is part of the core session management system in TrinityCore.
    It's important to note that all parameters must be properly validated before creating
    a session object, as invalid data can lead to security vulnerabilities or unexpected
    behavior. The constructor does not perform any network I/O operations directly;
    it only initializes internal state.
  warnings: Improperly initialized session objects can cause crashes or security issues.
    All parameters should be validated before construction. The 'sock' parameter must
    point to a valid socket object, otherwise subsequent operations may fail. Incorrect
    expansion or build versions might prevent proper client compatibility checks.
  related:
  - WorldSession::Update
  - WorldSession::SendPacket
  - WorldSession::HandleAuthSession
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T14:43:11.039661'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
