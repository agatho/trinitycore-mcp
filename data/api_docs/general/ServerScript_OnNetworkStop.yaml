api:
  class: ServerScript
  method: OnNetworkStop
  signature: void ServerScript::OnNetworkStop()
documentation:
  brief: Called when the server's network subsystem is shutting down
  description: The OnNetworkStop method is invoked when the TrinityCore server begins
    its shutdown process and the network layer is being terminated. This callback
    provides an opportunity for server scripts to perform cleanup operations related
    to network connections, such as saving player data, closing active sessions, or
    releasing network-related resources. The method is part of the ServerScript class
    which allows developers to hook into various server lifecycle events. It's important
    to note that this method is called during the shutdown sequence and should not
    be used for long-running operations as it may block the shutdown process.
  parameters: []
  returns: null
  examples:
  - title: Basic Server Script Cleanup
    code: "class MyServerScript : public ServerScript\n{\npublic:\n    void OnNetworkStop()\
      \ override\n    {\n        // Perform cleanup tasks here\n        sLog->outString(\"\
      Network shutdown initiated, cleaning up resources...\");\n        // Save any\
      \ pending data or close connections\n    }\n};"
    language: cpp
  notes: This method is called during the server's shutdown sequence and should be
    used for lightweight cleanup operations only. Heavy processing or blocking operations
    may delay the shutdown process. The method is guaranteed to be called before the
    server fully terminates, but after network services have been stopped.
  warnings: Avoid performing heavy I/O operations or long-running tasks in this method
    as it can block the server shutdown. Do not attempt to reinitialize network components
    from within this callback as the network subsystem is already being torn down.
  related:
  - OnNetworkStart
  - OnServerOpen
  - OnServerClose
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T21:42:51.189809'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
