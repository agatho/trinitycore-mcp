api:
  class: Group
  method: UpdateLooterGuid
  signature: void Group::UpdateLooterGuid(WorldObject * pLootedObject, bool ifneed)
documentation:
  brief: Updates the group's looter GUID based on the provided loot object and conditions.
  description: The UpdateLooterGuid method is responsible for determining and setting
    the appropriate looter GUID within a group when an item is looted. It evaluates
    whether the current looter should be updated based on the provided loot object
    and the 'ifneed' flag, which typically indicates if the update is required under
    certain conditions such as when a new item is dropped or when the group's looting
    settings change. This method plays a crucial role in maintaining proper looting
    order and permissions within a World of Warcraft group context, ensuring that
    items are distributed according to the group's looting rules.
  parameters:
  - name: pLootedObject
    description: Pointer to the WorldObject that was looted. This object represents
      the item or container from which loot is being obtained.
  - name: ifneed
    description: Boolean flag indicating whether the looter GUID should be updated.
      If true, the method will attempt to update the looter if necessary based on
      group looting rules and current state.
  returns: null
  examples:
  - title: Basic Usage in Looting Context
    code: "void HandleLootDrop(Group* group, WorldObject* lootObj)\n{\n    group->UpdateLooterGuid(lootObj,\
      \ true);\n}"
    language: cpp
  - title: Conditional Looter Update Based on Group Settings
    code: "void ProcessGroupLoot(Group* group, WorldObject* lootObj, bool needsUpdate)\n\
      {\n    if (needsUpdate && group->GetLootMethod() == LOOT_GROUP)\n    {\n   \
      \     group->UpdateLooterGuid(lootObj, true);\n    }\n}"
    language: cpp
  notes: This method is typically invoked internally by the TrinityCore core when
    loot is generated or when group looting rules are applied. Developers should ensure
    that the provided WorldObject pointer is valid and represents a legitimate loot
    source before calling this method. The method does not directly modify the object's
    GUID but rather updates internal tracking within the Group class to reflect the
    correct looter.
  warnings: Calling this method with an invalid or null pLootedObject pointer may
    lead to undefined behavior or crashes. Always verify that the WorldObject is valid
    and has been initialized properly before invoking UpdateLooterGuid.
  related:
  - GetLooterGuid
  - SetLooterGuid
  - GetLootMethod
metadata:
  confidence: 0.9
  generated_at: '2025-10-31T11:41:06.635973'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
