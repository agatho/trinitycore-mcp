api:
  class: CreatureAI
  method: _EnterEvadeMode
  signature: bool CreatureAI::_EnterEvadeMode(int why)
documentation:
  brief: Initiates the creature's evade mode, causing it to return to its initial
    position and orientation.
  description: The _EnterEvadeMode method is a core part of the CreatureAI system
    in TrinityCore that handles the logic for when a creature should return to its
    spawn location and reset its AI state. This typically occurs when the creature's
    target is lost, its threat list becomes empty, or certain conditions are met during
    combat. The method ensures the creature properly resets its movement, stops attacking,
    and returns to its original position. It also handles cleanup of any active AI
    behaviors or actions that were in progress before entering evade mode.
  parameters:
  - name: why
    description: An integer value indicating the reason for entering evade mode. This
      parameter helps determine specific behavior during the evade process, such as
      whether to reset threat, clear targets, or perform other AI-specific cleanup
      operations.
  returns: Returns true if the creature successfully entered evade mode and began
    moving back to its spawn position; returns false if the operation could not be
    initiated due to invalid state or other constraints.
  examples:
  - title: Basic usage in custom AI
    code: "class MyCreatureAI : public CreatureAI {\npublic:\n    void UpdateAI(uint32\
      \ diff) override {\n        if (!UpdateVictim()) {\n            // If no valid\
      \ victim, enter evade mode\n            _EnterEvadeMode(0);\n        }\n   \
      \ }\n};"
    language: cpp
  - title: Using different evade reasons
    code: "void CreatureAI::HandleCombatEnd() {\n    // Enter evade mode with reason\
      \ 1 for combat end\n    if (!_EnterEvadeMode(1)) {\n        // Handle failure\
      \ case\n        sLog->outError(\"Failed to enter evade mode on combat end\"\
      );\n    }\n}"
    language: cpp
  notes: This method is typically called internally by the core AI system when certain
    conditions are met, but can also be invoked manually from custom AI implementations.
    The 'why' parameter allows for different handling of various evade scenarios,
    such as combat ending naturally versus being interrupted by external factors.
  warnings: Calling this method directly without proper context may result in unexpected
    behavior or visual glitches. Ensure that the creature is in a valid state before
    invoking this method, particularly when dealing with creatures that are currently
    engaged in combat or moving.
  related:
  - EnterEvadeMode
  - Reset
  - UpdateVictim
  - AttackStart
metadata:
  confidence: 0.92
  generated_at: '2025-11-07T14:54:13.139553'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
