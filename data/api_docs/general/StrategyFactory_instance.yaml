api:
  class: StrategyFactory
  method: instance
  signature: StrategyFactory * StrategyFactory::instance()
documentation:
  brief: Returns the singleton instance of the StrategyFactory class
  description: The instance() method implements the singleton pattern for the StrategyFactory
    class, ensuring that only one instance of the factory exists throughout the application
    lifecycle. This method is commonly used in TrinityCore's AI system to retrieve
    the global strategy factory responsible for creating and managing various AI strategies
    for different NPC behaviors. The returned instance can be used to register new
    strategies, retrieve existing strategies, or perform other factory-related operations.
    This method is thread-safe and should be called whenever access to the global
    strategy factory is required.
  parameters: []
  returns: A pointer to the singleton instance of StrategyFactory. The method never
    returns NULL as it's implemented using the Meyers singleton pattern which guarantees
    instantiation.
  examples:
  - title: Basic Usage
    code: 'StrategyFactory* factory = StrategyFactory::instance();

      // Use the factory to get or create strategies

      AiObjectContext* context = factory->createContext("basic_strategy");'
    language: cpp
  - title: Accessing Global AI Context
    code: "StrategyFactory* factory = StrategyFactory::instance();\nif (factory)\n\
      {\n    // Register a new strategy\n    factory->registerStrategy(\"custom_ai\"\
      , new CustomStrategy());\n    // Retrieve existing strategy\n    Strategy* strategy\
      \ = factory->getStrategy(\"custom_ai\");\n}"
    language: cpp
  notes: This method follows the Meyers singleton implementation pattern which is
    thread-safe in C++11 and later. The instance is created on first access and destroyed
    automatically at program termination. This pattern eliminates the need for explicit
    initialization or cleanup code.
  warnings: null
  related:
  - StrategyFactory::registerStrategy
  - StrategyFactory::getStrategy
  - StrategyFactory::createContext
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T01:39:48.343028'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
