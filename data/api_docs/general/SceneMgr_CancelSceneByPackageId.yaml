api:
  class: SceneMgr
  method: CancelSceneByPackageId
  signature: void SceneMgr::CancelSceneByPackageId(uint32 sceneScriptPackageId)
documentation:
  brief: Cancels an active scene associated with the specified script package ID.
  description: The CancelSceneByPackageId method terminates any ongoing scene that
    is currently being played for a player and is linked to the provided scene script
    package ID. This function is typically used to interrupt scripted sequences, such
    as cutscenes or quest-related animations, before they complete naturally. The
    method operates on the active scene instance tied to the player's current session
    and ensures that no further scene events are processed for that specific package.
    It does not return any value and should be called when a scene needs to be prematurely
    stopped due to game state changes, player actions, or quest progression.
  parameters:
  - name: sceneScriptPackageId
    description: The unique identifier of the scene script package that defines the
      scene to be canceled. This ID corresponds to a specific set of scripted events
      and animations defined in the game's scene system.
  returns: null
  examples:
  - title: Cancel a quest-related scene
    code: 'Player* player = ...;

      SceneMgr* sceneMgr = player->GetSceneMgr();

      sceneMgr->CancelSceneByPackageId(12345); // Cancels the scene with package ID
      12345'
    language: cpp
  - title: Cancel active scene before quest completion
    code: "void OnQuestComplete(Player* player, uint32 questId)\n{\n    if (questId\
      \ == 9876)\n        player->GetSceneMgr()->CancelSceneByPackageId(54321);\n}"
    language: cpp
  notes: This method only affects scenes that are currently active for the player.
    If no scene is associated with the given package ID, the call will have no effect.
    The scene cancellation may trigger cleanup routines in the underlying scene system,
    but it does not guarantee immediate removal of all visual or audio effects.
  warnings: Calling this method while a scene is already in the process of being canceled
    can lead to undefined behavior. Ensure that the package ID provided corresponds
    to an actual active scene to avoid unnecessary overhead or errors.
  related:
  - SceneMgr::PlaySceneByPackageId
  - SceneMgr::HasActiveScene
  - SceneMgr::CancelScene
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T06:58:00.121660'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
