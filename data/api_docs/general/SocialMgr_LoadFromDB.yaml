api:
  class: SocialMgr
  method: LoadFromDB
  signature: PlayerSocial * SocialMgr::LoadFromDB(int result, const int & guid)
documentation:
  brief: Loads social data for a player from the database into a PlayerSocial object
  description: The LoadFromDB method retrieves all social relationship data for a
    specified player from the database and populates a PlayerSocial object with that
    information. This includes friends, ignores, and other social interactions stored
    in the database. The method is typically called during player login or when initializing
    social data structures. It ensures that a player's social state is properly restored
    from persistent storage to maintain continuity of gameplay experience.
  parameters:
  - name: result
    description: Database result set containing social data for the player
  - name: guid
    description: Unique identifier (GUID) of the player whose social data is being
      loaded
  returns: Pointer to a PlayerSocial object containing the loaded social data, or
    nullptr if loading fails
  examples:
  - title: Basic usage during player login
    code: "PlayerSocial* social = sSocialMgr->LoadFromDB(result, playerGuid);\nif\
      \ (social)\n{\n    // Social data successfully loaded\n    player->SetSocial(social);\n\
      }"
    language: cpp
  - title: Error handling for failed database load
    code: "PlayerSocial* social = sSocialMgr->LoadFromDB(result, playerGuid);\nif\
      \ (!social)\n{\n    // Handle case where social data could not be loaded from\
      \ DB\n    sLog->outError(\"Failed to load social data for player GUID: %u\"\
      , playerGuid);\n    // Initialize with default empty social state\n    social\
      \ = new PlayerSocial();\n}"
    language: cpp
  notes: This method assumes that the database connection is already established and
    that the result parameter contains valid data for the specified GUID. The returned
    PlayerSocial object should be managed carefully to prevent memory leaks. The method
    may perform database queries internally, so it's recommended to call this during
    appropriate initialization phases rather than in performance-critical code paths.
  warnings: Calling this method with an invalid or non-existent GUID may result in
    undefined behavior or database errors. Always validate the GUID and database result
    before calling this method. Ensure proper cleanup of returned PlayerSocial objects
    to avoid memory leaks.
  related:
  - SaveToDB
  - GetSocialList
  - AddFriend
  - RemoveFriend
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T23:30:09.399000'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
