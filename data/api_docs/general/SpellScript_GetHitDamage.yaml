api:
  class: SpellScript
  method: GetHitDamage
  signature: int SpellScript::GetHitDamage() const
documentation:
  brief: Retrieves the damage amount that was dealt by the spell hit.
  description: The GetHitDamage method returns the actual damage value that was inflicted
    when a spell successfully hit its target. This value represents the final calculated
    damage after all modifiers, reductions, and resistances have been applied. It
    is commonly used in spell scripts to access the damage dealt for effects such
    as damage over time (DoT) applications, damage bonuses, or damage-based triggers.
    The method should only be called during the spell's hit phase, typically within
    a SpellScript hook like HandleHit or similar. Calling this method outside of the
    appropriate execution context may result in undefined behavior or incorrect values.
  parameters: []
  returns: An integer representing the total damage amount that was dealt to the target
    upon successful spell hit. Returns zero if no damage was dealt or if the spell
    did not land successfully.
  examples:
  - title: Basic Usage in SpellScript
    code: "class MySpellScript : public SpellScript\n{\npublic:\n    void HandleHit()\n\
      \    {\n        int damage = GetHitDamage();\n        if (damage > 0)\n    \
      \    {\n            // Apply additional effect based on damage dealt\n     \
      \       caster->AddAura(12345, target);\n        }\n    }\n};"
    language: cpp
  - title: Using Damage Value for Conditional Effects
    code: "class FireballSpellScript : public SpellScript\n{\npublic:\n    void OnHit()\n\
      \    {\n        int damage = GetHitDamage();\n        if (damage >= 1000)\n\
      \        {\n            // Apply burn effect for high damage hits\n        \
      \    target->CastSpell(target, 98765, true);\n        }\n    }\n};"
    language: cpp
  notes: This method is only valid during the spell hit processing phase. It should
    not be called in pre-hit or post-hit hooks where damage values might not yet be
    calculated or have already been processed. The returned value reflects the final
    damage after armor reduction, resistances, and other mitigation effects.
  warnings: Calling GetHitDamage outside of a valid spell hit context (e.g., during
    cast phase) will return an undefined or zero value. Ensure that this method is
    only invoked within appropriate SpellScript hooks such as HandleHit, OnHit, or
    similar to guarantee accurate results.
  related:
  - GetHitTarget
  - GetHitHeal
  - GetSpellInfo
  - GetCaster
metadata:
  confidence: 0.95
  generated_at: '2025-11-01T05:56:59.503138'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
