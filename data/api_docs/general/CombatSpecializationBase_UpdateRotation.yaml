api:
  class: CombatSpecializationBase
  method: UpdateRotation
  signature: void CombatSpecializationBase::UpdateRotation(::Unit * target)
documentation:
  brief: Updates the combat specialization rotation based on the current target.
  description: The UpdateRotation method is responsible for recalculating and applying
    the appropriate combat rotation strategy for a unit's current specialization.
    This method evaluates the target's state, available abilities, and the unit's
    current combat context to determine the optimal sequence of actions. It typically
    involves checking cooldowns, mana requirements, and tactical positioning to ensure
    efficient resource usage and damage output. The method is commonly called during
    combat updates or when a new target is acquired.
  parameters:
  - name: target
    description: Pointer to the Unit object representing the current combat target.
      This parameter determines the rotation strategy and ability selection based
      on the target's health, status effects, and other combat-relevant properties.
  returns: null
  examples:
  - title: Basic Usage in Combat
    code: "void MyCombatAI::UpdateCombatRotation(Unit* target)\n{\n    if (target\
      \ && target->IsAlive())\n    {\n        m_combatSpecialization->UpdateRotation(target);\n\
      \    }\n}"
    language: cpp
  - title: Integration with Combat State Machine
    code: "void CombatSpecializationBase::UpdateRotation(Unit* target)\n{\n    if\
      \ (!target || !target->IsAlive())\n        return;\n\n    // Evaluate current\
      \ combat state and update rotation\n    switch (GetCombatState())\n    {\n \
      \       case COMBAT_STATE_MELEE:\n            UpdateMeleeRotation(target);\n\
      \            break;\n        case COMBAT_STATE_RANGED:\n            UpdateRangedRotation(target);\n\
      \            break;\n        default:\n            UpdateGenericRotation(target);\n\
      \            break;\n    }\n}"
    language: cpp
  notes: This method is typically invoked during combat updates and should not be
    called excessively outside of combat scenarios. The implementation may vary significantly
    between different specialization types (e.g., warrior, rogue, mage). Consider
    performance implications when calling this method frequently in tight loops.
  warnings: Ensure the target pointer is valid before calling this method to prevent
    null pointer dereferences. This method modifies internal state and should only
    be called from within a combat context where the unit has an active target.
  related:
  - GetCombatState
  - UpdateMeleeRotation
  - UpdateRangedRotation
  - UpdateGenericRotation
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T09:33:49.626891'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
