api:
  class: HostileEventBus
  method: PublishDespawn
  signature: void HostileEventBus::PublishDespawn(int hostile, uint32 zoneId)
documentation:
  brief: Notifies the hostile event bus that a hostile entity has despawned in the
    specified zone.
  description: The PublishDespawn method is used to broadcast an event indicating
    that a hostile entity (such as a mob or NPC) has been removed from the game world.
    This typically occurs when the entity's health reaches zero, is killed by a player
    or creature, or is otherwise removed from the active zone. The method takes the
    unique identifier of the hostile entity and the zone ID where it despawned, allowing
    subsystems to react accordingly. This event is crucial for maintaining synchronization
    between game logic, AI behavior, and player interactions within the specified
    zone.
  parameters:
  - name: hostile
    description: The unique identifier (ID) of the hostile entity that has despawned.
      This typically corresponds to a creature or NPC entry in the database.
  - name: zoneId
    description: The ID of the zone where the hostile entity has despawned. Used to
      scope the event and ensure proper handling within the correct game context.
  returns: null
  examples:
  - title: Basic Despawn Notification
    code: HostileEventBus::GetInstance()->PublishDespawn(12345, 123);
    language: cpp
  - title: Despawn Notification with Dynamic Zone ID
    code: 'uint32 currentZoneId = player->GetZoneId();

      HostileEventBus::GetInstance()->PublishDespawn(mob->GetEntry(), currentZoneId);'
    language: cpp
  notes: This method is typically called internally by the game engine when a hostile
    entity's despawn event occurs. It is not intended to be invoked manually unless
    implementing custom AI or event handling logic. The event bus may trigger additional
    callbacks or updates in related systems such as quest tracking, loot distribution,
    or AI state management.
  warnings: Ensure that the hostile ID and zone ID passed are valid; invalid IDs could
    lead to unexpected behavior or errors in event processing. Avoid calling this
    method outside of a valid game context (e.g., during server shutdown) as it may
    cause race conditions or memory corruption.
  related:
  - PublishSpawn
  - PublishUpdate
  - SubscribeToDespawnEvents
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T03:12:16.129871'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
