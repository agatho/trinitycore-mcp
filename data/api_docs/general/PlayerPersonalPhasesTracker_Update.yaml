api:
  class: PlayerPersonalPhasesTracker
  method: Update
  signature: void PlayerPersonalPhasesTracker::Update(Map * map, uint32 diff)
documentation:
  brief: Updates the player's personal phases tracker with the current map and time
    delta.
  description: The Update method is responsible for processing and maintaining the
    state of a player's personal phases within the game world. It takes the current
    map context and a time delta (in milliseconds) to determine if any phase changes
    should occur, such as entering or exiting phased areas, updating phase restrictions,
    or managing phase-based visibility. This method is typically called during the
    game loop to ensure that player phase states are synchronized with the current
    map and time progression. The method does not return any value but modifies internal
    state based on phase conditions.
  parameters:
  - name: map
    description: Pointer to the current Map object where the player is located. This
      parameter determines the phase context and boundaries for the player's personal
      phases.
  - name: diff
    description: Time delta in milliseconds since the last update call. Used to calculate
      time-based phase transitions or timeouts, such as temporary phase restrictions
      or timed events.
  returns: null
  examples:
  - title: Basic Update Call
    code: "void SomeGameLoopFunction(Player* player, Map* map, uint32 diff) {\n  \
      \  if (player->GetPersonalPhasesTracker()) {\n        player->GetPersonalPhasesTracker()->Update(map,\
      \ diff);\n    }\n}"
    language: cpp
  - title: Update During Player Movement
    code: "void Player::OnMapChanged(Map* newMap) {\n    uint32 diff = sWorld->GetLastTickTime();\n\
      \    if (m_personalPhasesTracker) {\n        m_personalPhasesTracker->Update(newMap,\
      \ diff);\n    }\n}"
    language: cpp
  notes: This method is typically invoked by the core game loop or during map transitions.
    It's important to ensure that the Map pointer passed is valid and represents the
    current player location. The diff parameter should reflect accurate time elapsed
    since the last update for proper phase timing behavior.
  warnings: Do not call this method with a null Map pointer as it may lead to undefined
    behavior or crashes. Ensure that the player's personal phases tracker is initialized
    before calling Update.
  related:
  - GetPersonalPhasesTracker
  - SetPersonalPhasesTracker
  - AddPhase
  - RemovePhase
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T22:20:58.987017'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
