api:
  class: LoSUtils
  method: GetClearedPositionNear
  signature: int LoSUtils::GetClearedPositionNear(const int & target, float searchRadius,
    Map * map)
documentation:
  brief: Finds a clear, walkable position near a target within a specified radius
    on a map.
  description: The GetClearedPositionNear method searches for a valid walkable location
    in the vicinity of a given target position within a defined search radius. It
    is commonly used in game mechanics where NPCs or objects need to spawn or move
    to a location that is free from obstacles and suitable for movement. The method
    evaluates the map's collision data to ensure the returned position is traversable.
    This utility is especially useful in pathfinding, spawning logic, and positioning
    systems within TrinityCore-based World of Warcraft servers.
  parameters:
  - name: target
    description: The reference point (likely a GUID or coordinate) around which to
      search for a clear position.
  - name: searchRadius
    description: The maximum distance from the target position to search for a valid
      location. Must be a positive float value.
  - name: map
    description: Pointer to the Map object where the search is performed. Must not
      be null.
  returns: Returns an integer representing the result of the search operation. A return
    value of 0 typically indicates success and a valid position was found, while non-zero
    values may indicate failure or no suitable position within the radius.
  examples:
  - title: Basic usage to find a clear spawn position
    code: "int result = LoSUtils::GetClearedPositionNear(playerGuid, 5.0f, playerMap);\n\
      if (result == 0) {\n    // Position found and can be used for spawning\n}"
    language: cpp
  - title: Using with NPC movement logic
    code: "float radius = 10.0f;\nMap* map = npc->GetMap();\nint targetGuid = npc->GetGUID();\n\
      int status = LoSUtils::GetClearedPositionNear(targetGuid, radius, map);\nif\
      \ (status == 0) {\n    // Proceed with movement or action\n}"
    language: cpp
  notes: This method relies on the underlying map's collision detection system. Performance
    may vary depending on the complexity of terrain and the size of the search radius.
    The method assumes that the target parameter is a valid identifier for position
    lookup, typically a GUID or coordinate reference.
  warnings: Ensure that the provided Map pointer is valid and not null to avoid undefined
    behavior. If the search radius is too small or the area is completely obstructed,
    the method may return an error code without finding a suitable position.
  related:
  - GetClearedPositionInFront
  - IsWithinLOS
  - FindNearestWalkablePosition
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T01:15:25.633460'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
