api:
  class: VehicleAI
  method: OnCharmed
  signature: void VehicleAI::OnCharmed(bool isNew)
documentation:
  brief: Handles the event when a vehicle is charmed by a player, initializing or
    updating charm-related behavior.
  description: The OnCharmed method is invoked when a vehicle AI unit becomes charmed
    by a player, either through direct control or by being mounted as a vehicle. This
    method is responsible for setting up the necessary charm state and behavior, including
    updating the vehicle's target, managing the charm effect, and ensuring proper
    interaction with the charmer. It is typically called internally by the TrinityCore
    framework when a vehicle's charm status changes. The isNew parameter indicates
    whether this is the first time the vehicle has been charmed or if it's an update
    to an existing charm state.
  parameters:
  - name: isNew
    description: A boolean flag indicating whether the vehicle is being charmed for
      the first time (true) or if it's an update to an existing charm state (false).
  returns: null
  examples:
  - title: Basic usage in a custom VehicleAI implementation
    code: "class MyVehicleAI : public VehicleAI {\npublic:\n    void OnCharmed(bool\
      \ isNew) override {\n        if (isNew) {\n            // Initialize charm behavior\n\
      \            SetReactState(REACT_PASSIVE);\n            SetControlled(true);\n\
      \        } else {\n            // Update existing charm state\n            UpdateCharmTarget();\n\
      \        }\n        VehicleAI::OnCharmed(isNew);\n    }\n};"
    language: cpp
  notes: This method is part of the vehicle AI system and is typically not called
    directly by developers. It integrates with the core charm mechanics in TrinityCore,
    including handling player control, target updates, and state synchronization.
  warnings: Improper implementation of this method may lead to unexpected behavior
    such as vehicles not responding to player commands or failing to release charm
    effects properly upon dismissal.
  related:
  - VehicleAI::OnUncharmed
  - VehicleAI::UpdateCharmTarget
  - VehicleAI::SetControlled
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T00:07:46.231833'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
