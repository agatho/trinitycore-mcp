api:
  class: AfflictionWarlockRefactored
  method: UpdateBuffs
  signature: void AfflictionWarlockRefactored::UpdateBuffs()
documentation:
  brief: Updates the affliction warlock's active buffs and aura states.
  description: The UpdateBuffs method manages the application, refreshment, and removal
    of all active buffs and auras for an affliction warlock class. This includes tracking
    debuffs on targets, managing buff durations, and ensuring proper stacking mechanics
    for spells like Shadowflame, Unstable Affliction, and other affliction-specific
    abilities. The method is typically called during the AI update cycle to maintain
    current buff states and ensure accurate spell casting decisions based on available
    buffs. It handles both player and pet buff states, ensuring that the warlock's
    aura management system remains synchronized with game mechanics.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in AI Update Cycle
    code: "void AfflictionWarlockAI::Update()\n{\n    // ... other AI logic ...\n\
      \    m_warlock->UpdateBuffs();\n    // ... rest of AI logic ...\n}"
    language: cpp
  - title: Integration with Custom Buff Management
    code: "void AfflictionWarlockRefactored::UpdateBuffs()\n{\n    // Update debuff\
      \ durations\n    if (m_target && m_target->HasAura(SPELL_SHADOW_BOLT_AURA))\n\
      \        m_target->GetAura(SPELL_SHADOW_BOLT_AURA)->RefreshDuration();\n   \
      \ \n    // Apply new buffs if conditions met\n    if (!m_player->HasAura(SPELL_UNSTABLE_AFFLICTION))\n\
      \        m_player->AddAura(SPELL_UNSTABLE_AFFLICTION, m_player);\n}"
    language: cpp
  notes: This method should be called regularly during the AI update cycle to maintain
    accurate buff states. The implementation may involve checking for aura expiration,
    refreshing durations, and applying new buffs based on combat state. Performance
    considerations include avoiding unnecessary aura checks when no changes are needed.
  warnings: Calling this method outside of the proper AI update context may lead to
    inconsistent buff states or incorrect spell targeting. Ensure that all target
    references are valid before calling this method.
  related:
  - UpdateSpells
  - UpdateTargeting
  - CheckAuras
  - ApplyBuff
  - RemoveBuff
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T09:32:57.473957'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
