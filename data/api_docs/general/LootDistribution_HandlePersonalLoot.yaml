api:
  class: LootDistribution
  method: HandlePersonalLoot
  signature: void LootDistribution::HandlePersonalLoot(Player * player, const LootItem
    & item)
documentation:
  brief: Processes personal loot distribution for a player when they receive an item
    from a loot roll.
  description: The HandlePersonalLoot method is responsible for managing the distribution
    of personally awarded loot to a specific player in World of Warcraft's TrinityCore
    framework. This function is typically invoked when a player wins a loot roll for
    an item that is designated as personal loot, meaning it cannot be shared with
    other players. The method ensures proper handling of the item assignment, updates
    the player's inventory, and may trigger related events or notifications within
    the game system. It operates within the context of the LootDistribution class
    which manages all aspects of how loot is distributed among players during loot
    rolls.
  parameters:
  - name: player
    description: Pointer to the Player object who will receive the personal loot.
      Must be a valid player instance with an active session.
  - name: item
    description: Reference to the LootItem structure containing details about the
      item being distributed, including item entry ID, stack count, and other loot
      properties.
  returns: null
  examples:
  - title: Basic Usage in Loot Roll Handler
    code: "void SomeLootHandler::OnLootRollFinished(Player* player, const LootItem&\
      \ item)\n{\n    LootDistribution::HandlePersonalLoot(player, item);\n}"
    language: cpp
  - title: Integration with Custom Loot System
    code: "void CustomLootSystem::DistributePersonalLoot(Player* player, uint32 itemId)\n\
      {\n    LootItem item;\n    item.itemid = itemId;\n    item.count = 1;\n    item.is_looted\
      \ = false;\n    \n    LootDistribution::HandlePersonalLoot(player, item);\n}"
    language: cpp
  notes: This method assumes that the player has already been validated and is eligible
    to receive the loot. It does not perform any checks for inventory space or item
    restrictions; these should be handled prior to calling this function. The method
    may interact with the player's loot cache and update their in-game inventory directly.
  warnings: Calling this method without proper validation of the player object or
    item data can lead to undefined behavior or crashes. Ensure that the player is
    online and the item structure contains valid data before invoking this function.
  related:
  - LootDistribution::HandleGroupLoot
  - LootDistribution::HandleFreeForAllLoot
  - LootDistribution::RollLoot
  - Player::AddItem
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T09:29:25.792683'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
