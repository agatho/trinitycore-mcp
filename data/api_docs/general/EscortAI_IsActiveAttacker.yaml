api:
  class: EscortAI
  method: IsActiveAttacker
  signature: bool EscortAI::IsActiveAttacker() const
documentation:
  brief: Checks if the escort target is currently engaged in combat with an active
    attacker.
  description: The IsActiveAttacker method determines whether the player or NPC being
    escorted is currently under attack by an active enemy. This method is typically
    used within the EscortAI system to manage the state of the escort quest and decide
    when to initiate defensive actions or flee from combat. The method evaluates the
    current combat status of the escort target and returns true if there is an active
    attacker, false otherwise. This functionality is crucial for proper quest progression
    and NPC behavior during escorted events.
  parameters: []
  returns: Returns true if the escort target has an active attacker (i.e., is currently
    in combat with a hostile unit), false if no active attacker is present or if the
    target is not engaged in combat.
  examples:
  - title: Basic usage to check combat status
    code: "if (escortAI->IsActiveAttacker())\n{\n    // Handle combat state\n    escortAI->Flee();\n\
      }"
    language: cpp
  - title: Using IsActiveAttacker in a combat decision loop
    code: "void EscortAI::UpdateEscortAI(const uint32 diff)\n{\n    if (IsActiveAttacker())\n\
      \    {\n        // Target is under attack, initiate defensive actions\n    \
      \    DoMeleeAttackIfReady();\n    }\n    else\n    {\n        // No active attacker,\
      \ continue escorting\n        UpdateVictim();\n    }\n}"
    language: cpp
  notes: This method relies on the internal combat state tracking of the EscortAI
    system. It may return false if the target is in a non-combat state even if there
    are enemies nearby but not actively attacking. The method should be called regularly
    during AI updates to maintain accurate combat status.
  warnings: Do not assume that a true return value means immediate danger - the method
    only indicates active attackers, not necessarily hostile intent or imminent threat.
    The method may not reflect real-time combat changes if called outside of the proper
    update cycle.
  related:
  - GetAttackers
  - HasAttackers
  - IsInCombat
  - UpdateVictim
metadata:
  confidence: 0.92
  generated_at: '2025-11-04T08:50:17.976542'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
