api:
  class: GatheringManager
  method: GetSkillUpChance
  signature: float GatheringManager::GetSkillUpChance(const GatheringNode & node)
    const
documentation:
  brief: Calculates the chance for a player to gain skill points when gathering a
    resource node
  description: The GetSkillUpChance method computes the probability that a player
    will successfully increase their gathering skill level when interacting with a
    specific resource node. This calculation takes into account various factors such
    as the player's current skill level, the node's difficulty, and any applicable
    bonuses or penalties. The returned value represents a percentage chance between
    0.0 and 1.0, where 0.0 means no chance of skill gain and 1.0 indicates guaranteed
    skill increase. This method is typically called during the gathering process to
    determine if a successful skill increment should occur.
  parameters: []
  returns: A float value between 0.0 and 1.0 representing the probability of successfully
    gaining skill points when gathering the node. Values closer to 1.0 indicate higher
    chance of skill increase, while values near 0.0 indicate minimal or no chance
    of skill gain.
  examples:
  - title: Basic usage in gathering logic
    code: "GatheringNode node = GetGatheringNode();\nfloat chance = gatheringManager.GetSkillUpChance(node);\n\
      if (rand() % 100 < chance * 100) {\n    // Player gains skill point\n    player->UpdateSkill(skillId,\
      \ 1);\n}"
    language: cpp
  - title: Using chance to determine skill gain outcome
    code: "void ProcessGathering(GatheringManager& manager, const GatheringNode& node,\
      \ Player* player) {\n    float chance = manager.GetSkillUpChance(node);\n  \
      \  float randomValue = static_cast<float>(rand()) / RAND_MAX;\n    \n    if\
      \ (randomValue < chance) {\n        // Skill up successful\n        player->UpdateSkill(player->GetGatheringSkill(),\
      \ 1);\n        SendSkillUpMessage(player);\n    } else {\n        // No skill\
      \ gain this time\n        SendNoSkillGainMessage(player);\n    }\n}"
    language: cpp
  notes: This method is part of the gathering system's core mechanics and directly
    affects player progression. The calculation likely involves complex formulas that
    consider player skill level, node quality, environmental factors, and potential
    skill bonuses from equipment or talents. The method should be called before determining
    if a skill increment occurs to maintain consistency in game progression.
  warnings: Ensure that this method is only called when the player is actually attempting
    to gather a resource node, as calling it outside of proper gathering context may
    produce incorrect results. The randomization of skill gains should be handled
    separately from this method to maintain deterministic behavior for testing and
    debugging purposes.
  related:
  - GatheringManager::GatherNode
  - GatheringManager::IsNodeAvailable
  - Player::UpdateSkill
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T13:40:37.342685'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
