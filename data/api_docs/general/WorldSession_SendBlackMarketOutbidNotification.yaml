api:
  class: WorldSession
  method: SendBlackMarketOutbidNotification
  signature: void WorldSession::SendBlackMarketOutbidNotification(const BlackMarketTemplate
    * templ)
documentation:
  brief: Sends a black market outbid notification to the player's client
  description: This method constructs and sends a packet to the connected client informing
    the player that their bid on a black market item has been outbid by another player.
    The notification includes details about the item, the previous bid amount, and
    the new bid amount. This functionality is part of the Black Market system introduced
    in World of Warcraft's Legion expansion, allowing players to participate in an
    auction-style system for rare and valuable items. The method requires a valid
    BlackMarketTemplate object containing the auction data for the specific item that
    was outbid.
  parameters:
  - name: templ
    description: Pointer to a BlackMarketTemplate structure containing the auction
      data for the item that was outbid. This structure must be valid and contain
      proper auction information including item details, bid amounts, and bidder information.
  returns: null
  examples:
  - title: Basic usage in auction handler
    code: "void HandleBidOutbid(Player* player, BlackMarketTemplate* auction)\n{\n\
      \    WorldSession* session = player->GetSession();\n    if (session && auction)\n\
      \    {\n        session->SendBlackMarketOutbidNotification(auction);\n    }\n\
      }"
    language: cpp
  notes: This method directly communicates with the client through the WorldSession's
    packet sending mechanism. It should only be called when a player's bid has actually
    been outbid, not for all auctions. The BlackMarketTemplate parameter must contain
    valid data or the packet may fail to construct properly.
  warnings: Ensure that the BlackMarketTemplate pointer is valid before calling this
    method, as passing a null pointer could lead to undefined behavior. This method
    should only be invoked in appropriate auction handling contexts where outbidding
    actually occurs.
  related:
  - SendBlackMarketBidNotification
  - SendBlackMarketAuctionWonNotification
  - SendBlackMarketAuctionOutbidNotification
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T19:39:32.745774'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
