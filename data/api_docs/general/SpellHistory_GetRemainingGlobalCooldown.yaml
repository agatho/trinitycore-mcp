api:
  class: SpellHistory
  method: GetRemainingGlobalCooldown
  signature: int SpellHistory::GetRemainingGlobalCooldown(const SpellInfo * spellInfo)
    const
documentation:
  brief: Calculates and returns the remaining time in milliseconds for a global cooldown
    associated with the specified spell.
  description: The GetRemainingGlobalCooldown method determines how much time remains
    on the global cooldown (GCD) that applies to the given spell. In World of Warcraft,
    the GCD is a universal cooldown that prevents players from casting spells too
    rapidly. This method checks the internal cooldown state of the spell and returns
    the remaining duration in milliseconds. If no global cooldown is active for the
    spell, it typically returns 0 or a negative value indicating the cooldown has
    expired. The method is commonly used to enforce game balance by ensuring spells
    cannot be cast faster than allowed by the GCD system.
  parameters: []
  returns: Returns an integer representing the remaining time in milliseconds for
    the global cooldown. A positive value indicates active cooldown, zero or negative
    values indicate the cooldown has expired or is not applicable.
  examples:
  - title: Check Global Cooldown Before Casting
    code: "if (SpellHistory* spellHistory = player->GetSpellHistory()) {\n    int\
      \ remaining = spellHistory->GetRemainingGlobalCooldown(spellInfo);\n    if (remaining\
      \ <= 0) {\n        // Can cast the spell immediately\n        player->CastSpell(target,\
      \ spellId, true);\n    } else {\n        // Display cooldown message or delay\
      \ casting\n        ChatHandler(player->GetSession()).PSendSysMessage(\"Spell\
      \ on cooldown for %d ms.\", remaining);\n    }\n}"
    language: cpp
  notes: This method relies on internal state tracking of spell cooldowns within the
    SpellHistory class. It does not modify any state but only reads current cooldown
    information. The returned value is in milliseconds and should be compared against
    zero to determine if a spell can be cast.
  warnings: Ensure that the SpellInfo pointer passed to this method is valid and represents
    a spell with a defined global cooldown. Passing an invalid or null pointer may
    lead to undefined behavior or crashes.
  related:
  - GetGlobalCooldown
  - SetGlobalCooldown
  - HasGlobalCooldown
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T18:00:53.298159'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
