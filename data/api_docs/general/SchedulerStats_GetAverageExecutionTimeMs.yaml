api:
  class: SchedulerStats
  method: GetAverageExecutionTimeMs
  signature: float SchedulerStats::GetAverageExecutionTimeMs() const
documentation:
  brief: Calculates and returns the average execution time in milliseconds of scheduled
    tasks within the scheduler.
  description: The GetAverageExecutionTimeMs method computes the average duration,
    in milliseconds, that scheduled tasks have taken to execute. This metric is typically
    used for performance monitoring and optimization purposes within TrinityCore's
    task scheduling system. The value represents a rolling average based on recent
    execution times of tasks managed by the scheduler. It does not account for future
    or pending tasks, only those that have already completed. This method is thread-safe
    and provides a snapshot of current performance characteristics.
  parameters: []
  returns: A floating-point number representing the average execution time in milliseconds
    of all previously executed scheduled tasks. Returns zero if no tasks have been
    executed yet.
  examples:
  - title: Basic Usage for Performance Monitoring
    code: 'SchedulerStats stats;

      float avgTime = stats.GetAverageExecutionTimeMs();

      std::cout << "Average task execution time: " << avgTime << " ms" << std::endl;'
    language: cpp
  - title: Monitoring Scheduler Performance Over Time
    code: "void MonitorScheduler() {\n    static uint32 lastCheck = 0;\n    uint32\
      \ now = getMSTime();\n    if (now - lastCheck > 5000) { // Every 5 seconds\n\
      \        float avgTime = sScheduler->GetStats().GetAverageExecutionTimeMs();\n\
      \        if (avgTime > 100.0f)\n            TC_LOG_WARN(\"scheduler\", \"High\
      \ average task execution time: %.2f ms\", avgTime);\n        lastCheck = now;\n\
      \    }\n}"
    language: cpp
  notes: This method relies on internal tracking of completed task durations. The
    accuracy of the returned value depends on how frequently tasks are executed and
    recorded. For high-frequency or real-time performance monitoring, consider caching
    the result or using a more granular sampling approach.
  warnings: null
  related:
  - GetTotalExecutionTimeMs
  - GetCompletedTaskCount
  - GetMaxExecutionTimeMs
metadata:
  confidence: 0.92
  generated_at: '2025-11-08T15:03:14.184524'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
