api:
  class: TerrainMgr
  method: GetZoneAndAreaId
  signature: void TerrainMgr::GetZoneAndAreaId(const PhaseShift & phaseShift, uint32
    & zoneid, uint32 & areaid, const int & loc)
documentation:
  brief: Retrieves the zone and area identifiers for a given phase shift and location.
  description: The GetZoneAndAreaId method is used to determine the zone and area
    identifiers associated with a specific phase shift and location within the game
    world. This functionality is essential for handling phased content, where different
    areas of the world may be visible or hidden depending on player progression, quests,
    or other game events. The method takes into account the current phase state of
    the player and the specified location to accurately map to the correct zone and
    area IDs. It's commonly used in conjunction with phase management systems to ensure
    that players interact with the appropriate content based on their current phase
    status.
  parameters:
  - name: phaseShift
    description: The PhaseShift object representing the current phase state of the
      player or entity. This contains information about which phases are active and
      how they affect visibility of world content.
  - name: zoneid
    description: Reference to a uint32 variable that will be populated with the zone
      identifier for the specified location and phase. Zone IDs typically represent
      larger geographical regions in the game world.
  - name: areaid
    description: Reference to a uint32 variable that will be populated with the area
      identifier for the specified location and phase. Area IDs usually represent
      smaller subdivisions within zones, such as cities or specific locations.
  - name: loc
    description: An integer value representing the location context, which may influence
      how zone/area IDs are determined. This parameter could be used to specify different
      coordinate systems or reference points for the lookup.
  returns: null
  examples:
  - title: Basic Usage Example
    code: 'PhaseShift phase;

      uint32 zoneId = 0;

      uint32 areaId = 0;

      int location = 0;

      // Assuming we have a valid PhaseShift object

      TerrainMgr::GetZoneAndAreaId(phase, zoneId, areaId, location);

      // zoneId and areaId now contain the appropriate identifiers'
    language: cpp
  - title: Usage with Player Context
    code: 'Player* player = ...; // Get player reference

      PhaseShift phase = player->GetPhaseShift();

      uint32 zoneId = 0;

      uint32 areaId = 0;

      int location = 1;

      TerrainMgr::GetZoneAndAreaId(phase, zoneId, areaId, location);

      // Use zoneId and areaId to determine player''s current zone/area for quest
      or event handling'
    language: cpp
  notes: This method is typically called during world updates or when processing player
    movement events. The implementation likely involves checking the phase shift against
    known zone/area mappings and resolving them based on the provided location context.
    It's important to note that this method modifies the zoneid and areaid parameters
    directly, so they should be initialized before calling.
  warnings: The method modifies the zoneid and areaid parameters by reference, so
    ensure these variables are properly initialized or cleared before calling. Incorrect
    handling of phase shifts can lead to incorrect zone/area identification, potentially
    causing issues with quest progression or content visibility.
  related:
  - GetZoneId
  - GetAreaId
  - GetPhaseShift
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T05:30:49.689638'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
