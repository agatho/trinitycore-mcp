api:
  class: GroupEventBus
  method: Subscribe
  signature: bool GroupEventBus::Subscribe(BotAI * subscriber, const int & types)
documentation:
  brief: Subscribes a BotAI instance to receive group events of specified types.
  description: The Subscribe method registers a BotAI subscriber to receive notifications
    about group-related events. It allows the bot to listen for specific event types
    defined by the 'types' parameter, enabling targeted event handling within the
    group context. The method returns true if the subscription is successfully added
    to the event bus, or false if the subscription fails due to invalid parameters
    or internal errors. This mechanism supports dynamic event-driven behavior in TrinityCore's
    AI system, allowing bots to react appropriately to group changes such as member
    joins, leaves, or other relevant events.
  parameters:
  - name: subscriber
    description: Pointer to the BotAI instance that wishes to subscribe to group events.
      Must be a valid, initialized BotAI object.
  - name: types
    description: Integer value representing the bitmask of event types the subscriber
      wants to receive. Each bit corresponds to a specific group event type (e.g.,
      member join, leave, etc.).
  returns: True if the subscription was successfully added to the GroupEventBus; false
    otherwise. Returns false if the subscriber is null or if the types parameter contains
    invalid event type bits.
  examples:
  - title: Basic Subscription Example
    code: "BotAI* bot = new BotAI();\nint eventTypeMask = GROUP_EVENT_MEMBER_JOIN\
      \ | GROUP_EVENT_MEMBER_LEAVE;\nbool success = GroupEventBus::Subscribe(bot,\
      \ eventTypeMask);\nif (success) {\n    // Bot is now subscribed to member join\
      \ and leave events\n}"
    language: cpp
  - title: Subscription with Error Handling
    code: "BotAI* bot = GetPlayerBot();\nif (!bot) {\n    return false;\n}\nint eventTypes\
      \ = GROUP_EVENT_LEADER_CHANGE | GROUP_EVENT_DISBAND;\nbool result = GroupEventBus::Subscribe(bot,\
      \ eventTypes);\nif (!result) {\n    // Log error: failed to subscribe\n    sLog->outError(\"\
      Failed to subscribe bot %u to group events\", bot->GetGUID().GetCounter());\n\
      }"
    language: cpp
  notes: This method is part of the TrinityCore AI event system and should be used
    carefully to avoid memory leaks or dangling pointers. The GroupEventBus maintains
    a list of active subscribers, so ensure that unsubscribing occurs when bots are
    destroyed or removed from the group. Event types must match predefined constants
    in the codebase for proper functionality.
  warnings: Do not pass null pointers as subscriber arguments; this will likely cause
    crashes or undefined behavior. Ensure that event type masks contain only valid
    bits defined by the system to prevent unexpected subscription behavior.
  related:
  - Unsubscribe
  - Publish
  - GetSubscribers
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T13:14:47.801550'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
