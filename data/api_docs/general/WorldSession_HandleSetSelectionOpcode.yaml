api:
  class: WorldSession
  method: HandleSetSelectionOpcode
  signature: void WorldSession::HandleSetSelectionOpcode(WorldPackets::Misc::SetSelection
    & packet)
documentation:
  brief: Processes a client packet to set the selected GameObject or Unit for interaction.
  description: The HandleSetSelectionOpcode method handles the SetSelection opcode
    sent by the client, which is used to inform the server about the currently selected
    GameObject or Unit. This selection is typically made by the player when interacting
    with objects in the game world, such as examining an NPC, opening a chest, or
    targeting a creature for combat. The method updates the session's current selection
    state and may trigger additional actions based on the type of object selected.
    It is part of the core interaction system that allows players to engage with various
    entities in the game world.
  parameters: []
  returns: null
  examples:
  - title: Basic Selection Handling
    code: "void WorldSession::HandleSetSelectionOpcode(WorldPackets::Misc::SetSelection&\
      \ packet)\n{\n    // Process the selection packet\n    if (packet.Guid)\n  \
      \  {\n        // Update player's current selection\n        _player->SetSelection(packet.Guid);\n\
      \    }\n}"
    language: cpp
  notes: This method is typically called from the main packet processing loop and
    should be thread-safe as it operates on session-specific data. The packet contains
    a GUID that identifies the selected object, which can be either a GameObject or
    Unit. The server validates the selection against the player's current vision range
    and interaction rules.
  warnings: Improper handling of selection packets could lead to security vulnerabilities
    or unexpected behavior in player interactions. Always validate that the selected
    object is within the player's valid interaction range before processing further
    actions.
  related:
  - WorldSession::HandleGameObjectUse
  - WorldSession::HandleUnitSpellCast
  - Player::SetSelection
  - Player::GetSelection
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T19:13:36.275603'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
