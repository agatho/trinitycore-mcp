api:
  class: Player
  method: UpdatePvPState
  signature: void Player::UpdatePvPState(bool onlyFFA)
documentation:
  brief: Updates the player's PvP state, including FFA flags and PvP combat status.
  description: The UpdatePvPState method updates a player's PvP-related state in the
    game world. It manages the player's faction flags, PvP combat status, and FFA
    (Free For All) state. This method is typically called when a player enters or
    exits PvP zones, changes their PvP flag status, or when their PvP state needs
    to be synchronized with the server. The method can optionally restrict updates
    to only FFA-related states if the 'onlyFFA' parameter is set to true. This ensures
    that non-FFA PvP states are not modified during certain operations.
  parameters:
  - name: onlyFFA
    description: When true, updates only the FFA (Free For All) PvP state without
      modifying other PvP flags or combat status. When false, updates all PvP-related
      states including faction flags and combat status.
  returns: null
  examples:
  - title: Basic PvP State Update
    code: player->UpdatePvPState(false);
    language: cpp
  - title: FFA-only PvP State Update
    code: player->UpdatePvPState(true);
    language: cpp
  notes: This method internally calls other related functions to update the player's
    faction flags, combat status, and visibility in the game world. It is typically
    invoked automatically by the core when a player enters or leaves PvP zones, but
    can also be manually called for special circumstances such as custom PvP mechanics
    or zone transitions.
  warnings: Calling this method with incorrect parameters may result in inconsistent
    PvP state, potentially causing players to appear as non-PvP when they should be
    flagged, or vice versa. Ensure that the player's current location and faction
    status are properly evaluated before calling this method.
  related:
  - Player::SetPvPFlag
  - Player::RemovePvPFlag
  - Player::UpdateFactionFlags
  - Player::SetInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-10-29T17:19:04.081792'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
