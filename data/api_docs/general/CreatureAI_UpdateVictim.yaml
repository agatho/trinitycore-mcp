api:
  class: CreatureAI
  method: UpdateVictim
  signature: bool CreatureAI::UpdateVictim()
documentation:
  brief: Updates the creature's current victim target based on AI logic and threat
    table.
  description: The UpdateVictim method is responsible for determining and setting
    the current target for a CreatureAI instance. It evaluates the creature's threat
    list, checks for valid targets within range, and updates the AI's current victim
    accordingly. This method is typically called during the AI update cycle to ensure
    the creature is targeting the most appropriate enemy based on aggro rules and
    combat behavior. The method considers factors such as threat level, distance,
    and target validity when selecting a new victim.
  parameters: []
  returns: Returns true if a new victim was successfully selected or if the current
    victim remains valid; returns false if no valid victim could be found or if the
    creature is not in combat mode.
  examples:
  - title: Basic usage in custom AI
    code: "class MyCreatureAI : public CreatureAI {\npublic:\n    void UpdateAI(uint32\
      \ diff) override {\n        if (!UpdateVictim())\n            DoMeleeAttackIfReady();\n\
      \    }\n};"
    language: cpp
  - title: Custom victim update with additional checks
    code: "bool MyCreatureAI::UpdateVictim() {\n    if (!SelectHostileTarget())\n\
      \        return false;\n    \n    // Additional custom logic\n    if (me->GetVictim()\
      \ && me->GetVictim()->IsDead())\n        return false;\n    \n    return true;\n\
      }"
    language: cpp
  notes: This method is part of the core AI update loop and should not be called manually
    unless implementing custom AI behavior. The method relies on the creature's threat
    table and target selection logic which is managed by the TrinityCore core system.
  warnings: Calling this method directly from outside the AI update cycle may cause
    unexpected behavior or inconsistencies in combat targeting. Always ensure proper
    AI state management when overriding or extending this functionality.
  related:
  - SelectHostileTarget
  - GetVictim
  - AttackStart
  - AddThreat
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T16:12:26.628162'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
