api:
  class: Player
  method: ApplyItemEquipSpell
  signature: void Player::ApplyItemEquipSpell(Item * item, bool apply, bool formChange)
documentation:
  brief: Applies or removes spell effects from equipped items.
  description: The ApplyItemEquipSpell method handles the application or removal of
    spells associated with equipped items, particularly those related to item bonuses
    and enchantments. It manages the activation and deactivation of item-based spell
    effects, ensuring proper synchronization between the player's inventory and the
    game mechanics. This method is crucial for maintaining accurate spell effects
    during item equip/unequip operations and is typically invoked automatically by
    the game engine when items are equipped or unequipped.
  parameters:
  - name: item
    description: Pointer to the Item object whose spell effects need to be applied
      or removed. This parameter must not be null, as passing a nullptr would result
      in undefined behavior.
  - name: apply
    description: Boolean flag indicating whether to apply (true) or remove (false)
      the item's spell effects. This determines the direction of the operation.
  - name: formChange
    description: Boolean flag that indicates whether a form change is occurring, which
      may affect how spell effects are applied. This parameter influences the handling
      of certain spell effects related to shapeshifting or form changes.
  returns: null
  examples:
  - title: Basic usage example
    code: 'Player* player = new Player();

      Item* item = new Item();

      player->ApplyItemEquipSpell(item, true, false);'
    language: cpp
  - title: Advanced usage with form change
    code: 'Player* player = new Player();

      Item* item = new Item();

      player->ApplyItemEquipSpell(item, false, true);

      // This would remove spell effects while accounting for form changes'
    language: cpp
  notes: This method is part of the internal game mechanics and typically invoked
    automatically during item equip/unquip operations. It ensures that spell effects
    are properly applied or removed from the player's character, especially when dealing
    with enchantments or bonuses that depend on equipped items.
  warnings: Improper use of this method can lead to incorrect spell effects being
    applied or removed, which may cause gameplay issues such as missing stat bonuses
    or incorrect aura effects. Always ensure that item pointers are valid and that
    the apply flag is correctly set before calling this method.
  related:
  - Item::GetSpellId
  - Player::RemoveItemSpell
  - Player::AddItemSpell
metadata:
  confidence: 0.95
  generated_at: '2025-10-31T01:18:22.713843'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
