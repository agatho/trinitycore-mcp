api:
  class: CombatSpecializationBase
  method: CastSpell
  signature: bool CombatSpecializationBase::CastSpell(uint32 spellId, ::Unit * target)
documentation:
  brief: Initiates casting of a specified spell on a target unit.
  description: The CastSpell method is used to trigger the casting of a spell identified
    by its unique spell ID on a given target unit. This method handles the core logic
    for spell execution within the combat specialization framework, including validation
    of spell availability, target eligibility, and resource consumption. It integrates
    with TrinityCore's spell system to ensure proper spell state management and cooldown
    handling. The method returns true if the spell casting was successfully initiated,
    or false if it failed due to invalid parameters, insufficient resources, or other
    constraints.
  parameters:
  - name: spellId
    description: The unique identifier of the spell to be cast. This must correspond
      to a valid spell entry in the TrinityCore spell database.
  - name: target
    description: Pointer to the target Unit on which the spell will be cast. Must
      not be null and should represent a valid game object that can be targeted by
      the spell.
  returns: Returns true if the spell casting was successfully initiated, otherwise
    false. A return value of false typically indicates invalid parameters, unavailable
    resources, or target ineligibility.
  examples:
  - title: Basic Spell Casting
    code: "if (player->GetCombatSpecialization()->CastSpell(12345, targetUnit)) {\n\
      \    // Spell casting started successfully\n    sLog->outString(\"Spell cast\
      \ initiated.\");\n} else {\n    // Failed to initiate spell casting\n    sLog->outString(\"\
      Failed to cast spell.\");\n}"
    language: cpp
  - title: Conditional Spell Casting
    code: "if (player->GetCombatSpecialization()->CastSpell(12345, targetUnit) &&\
      \ player->IsInCombat()) {\n    // Only cast if in combat and spell was initiated\n\
      \    player->AddAura(67890, player); // Apply a buff after successful cast\n\
      }"
    language: cpp
  notes: This method does not directly execute the spell effect; it only initiates
    the casting process. Actual spell effects are handled asynchronously by the core
    spell system. The method assumes that all necessary preconditions for spell casting
    (such as mana, rage, or other resources) have been checked prior to calling this
    function.
  warnings: Ensure that the target unit pointer is valid and not null before calling
    this method. Passing an invalid or destroyed target may lead to undefined behavior
    or crashes. Also, be aware that spell IDs must exist in the database; otherwise,
    casting will fail silently.
  related:
  - IsSpellReady
  - GetSpellCooldown
  - SetSpellCooldown
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T17:06:13.463878'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
