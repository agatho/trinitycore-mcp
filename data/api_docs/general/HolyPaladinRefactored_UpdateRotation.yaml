api:
  class: HolyPaladinRefactored
  method: UpdateRotation
  signature: void HolyPaladinRefactored::UpdateRotation(int * target)
documentation:
  brief: Updates the holy paladin's rotation state based on current target and spell
    availability
  description: The UpdateRotation method is responsible for managing the core combat
    logic of a Holy Paladin AI. It evaluates the current target, available spells,
    mana levels, and player state to determine the optimal sequence of actions. This
    includes selecting appropriate healing or protective spells, managing cooldowns,
    and ensuring proper resource allocation during combat. The method typically integrates
    with the broader AI system to maintain consistent rotation behavior while adapting
    to changing battlefield conditions.
  parameters:
  - name: target
    description: Pointer to the target unit that the paladin should focus on. This
      parameter is used to determine spell targeting, threat management, and healing
      priority. The target may be null if no valid target exists.
  returns: void
  examples:
  - title: Basic UpdateRotation Usage
    code: "void MyPaladinAI::Update()\n{\n    Unit* target = GetVictim();\n    m_paladin->UpdateRotation(&target);\n\
      }"
    language: cpp
  - title: Advanced UpdateRotation with Conditional Logic
    code: "void HolyPaladinRefactored::UpdateRotation(int* target)\n{\n    if (!target\
      \ || !IsAlive())\n        return;\n\n    // Evaluate healing needs\n    if (GetHealthPercent()\
      \ < 50)\n        CastSpell(SPELL_FLASH_OF_LIGHT);\n    else if (HasAura(SPELL_DIVINE_SHIELD))\n\
      \        CastSpell(SPELL_HOLY_LIGHT);\n    else\n        CastSpell(SPELL_FLASH_OF_LIGHT);\n\
      }"
    language: cpp
  notes: This method should be called regularly during combat to maintain optimal
    spell rotation. The implementation may vary depending on the specific subclass
    or specialization of the paladin. Ensure that target validation is performed before
    calling this method to prevent null pointer dereferences.
  warnings: Improper handling of the target parameter can lead to invalid spell targeting
    or crashes. Always validate that the target exists and is in a valid state before
    passing it to UpdateRotation.
  related:
  - CastSpell
  - GetVictim
  - HasAura
  - IsAlive
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T03:13:54.235610'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
