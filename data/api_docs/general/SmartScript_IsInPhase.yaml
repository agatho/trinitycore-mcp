api:
  class: SmartScript
  method: IsInPhase
  signature: bool SmartScript::IsInPhase(uint32 p) const
documentation:
  brief: Checks if the current SmartScript context is in the specified phase.
  description: The IsInPhase method determines whether the current SmartScript execution
    context is active within a specific phase. This functionality is commonly used
    in World of Warcraft AI scripting to control when certain actions or events should
    occur based on the game's phase system. The method evaluates the phase mask associated
    with the script and compares it against the provided phase identifier. It returns
    true if the script is currently active in the specified phase, and false otherwise.
    This is particularly useful for conditional logic in creature AI, game events,
    or quest-related scripting where behavior needs to vary based on the current game
    phase.
  parameters:
  - name: p
    description: The phase identifier to check against. This value represents a specific
      phase mask used in the World of Warcraft phase system. Valid values are typically
      defined by the game's phase management system and correspond to specific phase
      states or combinations of phases.
  returns: Returns true if the current SmartScript context is active in the specified
    phase (p), false otherwise. The method performs a bitwise comparison between the
    current phase mask and the provided phase identifier.
  examples:
  - title: Basic Phase Check
    code: "if (script->IsInPhase(1234)) {\n    // Execute action only when in phase\
      \ 1234\n    script->Talk(\"I am active in this phase!\");\n}"
    language: cpp
  - title: Conditional AI Behavior Based on Phase
    code: "if (script->IsInPhase(5678)) {\n    // Special behavior during phase 5678\n\
      \    script->CastSpell(target, SPELL_PHASE_SPECIAL);\n} else {\n    // Default\
      \ behavior\n    script->CastSpell(target, SPELL_DEFAULT);\n}"
    language: cpp
  notes: This method relies on the SmartScript's internal phase tracking system. The
    phase identifier 'p' must correspond to a valid phase defined in the game's phase
    management system. Performance is generally good as it performs simple bitwise
    operations, but frequent calls should be considered for optimization in high-frequency
    scripts.
  warnings: Ensure that the phase identifier passed to this method corresponds to
    an actual defined phase in the game world. Using invalid or undefined phase IDs
    may lead to unexpected behavior. The method only checks against the current script's
    phase context, not global phase states.
  related:
  - SetPhase
  - GetPhase
  - IsInPhaseGroup
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T02:19:45.455692'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
