api:
  class: MageAI
  method: GetBestAoETarget
  signature: ::Unit * MageAI::GetBestAoETarget()
documentation:
  brief: Selects the most optimal target for area-of-effect spells based on threat
    and proximity.
  description: The GetBestAoETarget method determines the best unit to cast area-of-effect
    Mage spells on, considering factors such as threat level, distance, and target
    priority. This method is typically used by the MageAI class to optimize spell
    selection for AoE abilities like Frost Nova or Blizzard. It evaluates potential
    targets within the AI's current threat list and selects the one that maximizes
    damage efficiency while minimizing risk. The selection process prioritizes high-threat
    targets that are also within optimal casting range.
  parameters: []
  returns: Returns a pointer to the Unit object that represents the best target for
    area-of-effect Mage spells, or NULL if no suitable target is found within the
    current context.
  examples:
  - title: Basic usage in Mage AI logic
    code: "Unit* target = mageAI->GetBestAoETarget();\nif (target)\n{\n    // Cast\
      \ AoE spell on selected target\n    caster->CastSpell(target, SPELL_BLIZZARD,\
      \ true);\n}"
    language: cpp
  - title: Using returned target for spell targeting
    code: "Unit* bestTarget = mageAI->GetBestAoETarget();\nif (bestTarget && bestTarget->IsAlive())\n\
      {\n    // Ensure target is valid before casting\n    if (caster->IsWithinLOS(bestTarget)\
      \ && caster->IsInRange(bestTarget, 0.0f, 30.0f))\n    {\n        caster->CastSpell(bestTarget,\
      \ SPELL_FROST_NOVA, true);\n    }\n}"
    language: cpp
  notes: This method relies on the AI's internal threat management system and may
    return different targets depending on the current combat state. The selection
    algorithm considers both unit threat values and proximity to the caster, making
    it suitable for dynamic battlefield conditions.
  warnings: The returned Unit pointer should always be validated for NULL before use,
    as the method may return NULL when no valid AoE targets are available. Additionally,
    the target selection may change rapidly during combat, so caching the result is
    not recommended.
  related:
  - GetBestMeleeTarget
  - GetNextTarget
  - GetThreatList
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T12:51:46.717608'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
