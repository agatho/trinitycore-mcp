api:
  class: MarksmanshipHunter
  method: CanUseAbility
  signature: bool MarksmanshipHunter::CanUseAbility(uint32 spellId)
documentation:
  brief: Determines whether a Marksmanship Hunter can use a specified spell ability.
  description: The CanUseAbility method evaluates if a Marksmanship Hunter character
    is currently able to cast or use a given spell ability. This includes checking
    various game mechanics such as resource requirements (rage, focus, energy), cooldown
    states, stance restrictions, and other class-specific conditions that may prevent
    the use of certain abilities. The method returns true if all prerequisites are
    met and the ability can be used immediately, otherwise it returns false. This
    functionality is crucial for AI decision-making and spell selection logic in both
    player-controlled and NPC hunter characters.
  parameters:
  - name: spellId
    description: The unique identifier of the spell or ability to check. This corresponds
      to the Spell.dbc entry ID used internally by TrinityCore's spell system.
  returns: Returns true if the Marksmanship Hunter can immediately use the specified
    spell ability, considering all relevant game state conditions such as resource
    availability, cooldowns, and stance requirements. Returns false if any condition
    prevents the ability from being used.
  examples:
  - title: Basic Usage Check
    code: "if (hunter->CanUseAbility(75)) {\n    // Player can use Auto Shot\n   \
      \ hunter->CastSpell(target, 75, true);\n}"
    language: cpp
  - title: Conditional Ability Usage
    code: "uint32 shotSpell = 75; // Auto Shot\nif (hunter->CanUseAbility(shotSpell))\
      \ {\n    hunter->CastSpell(target, shotSpell, true);\n} else if (hunter->CanUseAbility(14310))\
      \ { // Aimed Shot\n    hunter->CastSpell(target, 14310, true);\n}"
    language: cpp
  notes: This method performs multiple checks including resource validation, cooldown
    state, and stance compliance. It does not account for temporary buffs or debuffs
    that might affect spell usability beyond the core mechanics. The implementation
    relies on internal hunter state tracking and may be affected by custom modifications
    to spell casting rules.
  warnings: Do not use this method as a definitive check for spell validity in all
    contexts, as it only evaluates immediate usability conditions. Some abilities
    might be blocked by external factors not covered by this method, such as line
    of sight or target restrictions.
  related:
  - GetSpellCooldown
  - HasMana
  - IsInCombat
  - GetShapeshiftForm
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T16:23:15.443894'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
