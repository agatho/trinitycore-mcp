api:
  class: DevastationEvoker
  method: CanUseAbility
  signature: bool DevastationEvoker::CanUseAbility(uint32 spellId)
documentation:
  brief: Determines whether a DevastationEvoker can use a specified spell ability
    based on game state and cooldowns.
  description: The CanUseAbility method evaluates if a DevastationEvoker instance
    is currently capable of casting a given spell. It checks various conditions such
    as cooldown status, mana requirements, target validity, and class-specific restrictions.
    This method is typically used in AI decision-making logic to prevent invalid spell
    casts and ensure proper gameplay mechanics. The evaluation considers both immediate
    usability constraints and broader contextual factors like combat state or player
    status.
  parameters:
  - name: spellId
    description: The unique identifier of the spell to check for usability. This corresponds
      to the Spell.dbc entry ID used in TrinityCore's spell system.
  returns: Returns true if the DevastationEvoker can cast the specified spell at this
    moment, false otherwise. A return value of false indicates that one or more conditions
    prevent the ability from being used, such as active cooldowns, insufficient resources,
    or invalid targeting.
  examples:
  - title: Basic Usage in AI Logic
    code: "if (devastationEvoker->CanUseAbility(SPELL_DEVASTATION)) {\n    devastationEvoker->CastSpell(target,\
      \ SPELL_DEVASTATION);\n} else {\n    // Handle inability to cast\n    devastationEvoker->DoMeleeAttackIfReady();\n\
      }"
    language: cpp
  - title: Checking Multiple Abilities
    code: "uint32 abilities[] = {SPELL_DEVASTATION, SPELL_CONFLAGRATION, SPELL_SHOCKWAVE};\n\
      for (uint32 spellId : abilities) {\n    if (devastationEvoker->CanUseAbility(spellId))\
      \ {\n        devastationEvoker->CastSpell(target, spellId);\n        break;\
      \ // Cast first available ability\n    }\n}"
    language: cpp
  notes: This method should be called before attempting to cast any spell to avoid
    invalid actions. It may internally query the spell's cooldown information and
    resource requirements, so frequent calls could impact performance if used excessively
    in tight loops.
  warnings: Do not assume that a successful return from this method guarantees that
    the spell will successfully cast; additional checks like line-of-sight or target
    validation might still be required. Also, calling this method during combat while
    the evoker is stunned or silenced may return false even when the spell would otherwise
    be usable.
  related:
  - CastSpell
  - GetSpellCooldown
  - HasManaForSpell
  - IsCasting
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T18:31:27.789511'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
