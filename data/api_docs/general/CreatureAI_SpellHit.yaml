api:
  class: CreatureAI
  method: SpellHit
  signature: void CreatureAI::SpellHit(WorldObject * param0, const int * param1)
documentation:
  brief: Handles spell hit events for creatures, allowing custom AI behavior when
    a spell affects the creature.
  description: The SpellHit method is a virtual callback function in the CreatureAI
    class that is invoked whenever a spell successfully hits the creature. This method
    allows developers to implement custom logic in response to spells being cast on
    the creature, such as triggering specific animations, modifying behavior, or changing
    the creature's state. It is part of the core AI system and can be overridden by
    custom AI implementations to provide unique responses to various spell effects.
    The method receives a pointer to the object that was hit and a pointer to an integer
    representing the spell ID.
  parameters:
  - name: param0
    description: Pointer to the WorldObject that was hit by the spell. This is typically
      the creature itself, but could be another object if the spell affected something
      else in the vicinity.
  - name: param1
    description: Pointer to an integer representing the Spell ID of the spell that
      hit the creature. This allows the AI to determine which specific spell was cast
      and respond accordingly.
  returns: null
  examples:
  - title: Basic Spell Hit Implementation
    code: "class MyCreatureAI : public CreatureAI\n{\npublic:\n    void SpellHit(WorldObject*\
      \ target, const int* spellId) override\n    {\n        if (*spellId == 12345)\n\
      \        {\n            // Custom behavior when spell ID 12345 hits the creature\n\
      \            DoCast(SPELL_CUSTOM_EFFECT);\n        }\n    }\n};"
    language: cpp
  - title: Advanced Spell Hit with Conditional Logic
    code: "class AdvancedCreatureAI : public CreatureAI\n{\npublic:\n    void SpellHit(WorldObject*\
      \ target, const int* spellId) override\n    {\n        switch (*spellId)\n \
      \       {\n            case SPELL_FIREBALL:\n                // Handle fireball\
      \ hit\n                me->SetReactState(REACT_AGGRESSIVE);\n              \
      \  break;\n            case SPELL_HEAL:\n                // Handle healing spell\n\
      \                if (me->GetHealthPct() < 50)\n                    DoCast(SPELL_RESTORE_HEALTH);\n\
      \                break;\n            default:\n                break;\n    \
      \    }\n    }\n};"
    language: cpp
  notes: This method is called during the spell's execution phase, after the spell
    has been processed and before any visual effects are displayed. It should not
    be used for heavy computations as it may affect performance. The spell ID parameter
    points to a constant value that represents the spell being cast.
  warnings: Do not modify the WorldObject pointer or attempt to delete it within this
    method, as it is managed by the core system. Also, be cautious about calling methods
    that might cause recursion if they trigger another spell hit event.
  related:
  - SpellHitTarget
  - SpellHitBySpell
  - UpdateAI
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T16:14:59.761196'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
