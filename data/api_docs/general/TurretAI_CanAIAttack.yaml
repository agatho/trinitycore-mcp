api:
  class: TurretAI
  method: CanAIAttack
  signature: bool TurretAI::CanAIAttack(const int * who) const
documentation:
  brief: Determines whether the turret AI can attack a specified target.
  description: The CanAIAttack method evaluates if the turret AI instance is capable
    of initiating an attack against a given target. This method typically checks various
    conditions such as the target's validity, the turret's current state, line of
    sight, and faction relationships. It serves as a prerequisite check before executing
    an attack action in the game's AI system. The method returns true if all necessary
    conditions for attacking are met, otherwise false.
  parameters:
  - name: who
    description: Pointer to an integer representing the target's identifier or index.
      This parameter is used to determine if the turret can attack the specified target
      based on AI logic and game state.
  returns: Returns true if the turret AI can attack the specified target, false otherwise.
    The method considers factors such as target validity, faction alignment, and current
    AI state when making this determination.
  examples:
  - title: Basic usage to check if turret can attack a target
    code: "if (turretAI->CanAIAttack(&targetGuid)) {\n    // Proceed with attack logic\n\
      \    turretAI->AttackStart(target);\n}"
    language: cpp
  - title: Using CanAIAttack in a loop to validate multiple targets
    code: "for (uint32 i = 0; i < targetCount; ++i) {\n    if (turretAI->CanAIAttack(&targetGuids[i]))\
      \ {\n        // Attack the valid target\n        turretAI->AttackStart(targetGuids[i]);\n\
      \        break;\n    }\n}"
    language: cpp
  notes: This method is typically called before initiating an attack to ensure that
    the turret AI has a valid target and is in a state where it can engage in combat.
    The 'who' parameter may be null or invalid, so implementations should handle such
    cases gracefully.
  warnings: Ensure that the target identifier passed to this method is valid and represents
    a live entity. Passing an invalid or stale target ID could lead to unexpected
    behavior or crashes.
  related:
  - AttackStart
  - UpdateAI
  - IsInCombat
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T15:56:52.905055'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
