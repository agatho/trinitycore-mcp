api:
  class: CombatStateAnalyzer
  method: GetNearbyEnemies
  signature: int CombatStateAnalyzer::GetNearbyEnemies(float range) const
documentation:
  brief: Counts and returns the number of nearby enemy units within the specified
    range.
  description: The GetNearbyEnemies method calculates and returns the total count
    of hostile units (enemies) that are currently within the given range of the combat
    state analyzer's reference point. This method is typically used in AI decision-making
    processes to assess the immediate threat level or enemy density around a unit.
    The range parameter defines the maximum distance at which enemies are considered
    'nearby'. Enemies are evaluated based on their hostility towards the unit associated
    with this combat state analyzer, and only those within the specified radius are
    counted. This method does not modify any internal state and is safe for repeated
    calls during combat evaluation.
  parameters: []
  returns: An integer representing the number of nearby enemy units found within the
    specified range. Returns zero if no enemies are detected or if the range is invalid
    (e.g., negative).
  examples:
  - title: Basic Usage to Assess Threat Level
    code: "int enemyCount = combatAnalyzer.GetNearbyEnemies(10.0f);\nif (enemyCount\
      \ > 3)\n{\n    // Execute defensive strategy\n    player->CastSpell(player,\
      \ SPELL_DEFENSIVE_STANCE, true);\n}"
    language: cpp
  - title: Dynamic Range Adjustment Based on Combat State
    code: "float threatRange = (combatAnalyzer.GetNearbyEnemies(5.0f) > 2) ? 8.0f\
      \ : 15.0f;\nint enemiesInCloseRange = combatAnalyzer.GetNearbyEnemies(threatRange);\n\
      // Adjust movement or spell targeting based on enemy proximity\nif (enemiesInCloseRange\
      \ >= 1)\n{\n    player->CastSpell(target, SPELL_MELEE_ATTACK, true);\n}"
    language: cpp
  notes: This method relies on the underlying World of Warcraft combat system to determine
    hostility and unit positioning. It may not account for line-of-sight or terrain
    obstructions unless explicitly implemented in the internal logic. The performance
    impact is minimal as it uses optimized spatial queries, but repeated calls with
    small ranges during fast-paced combat scenarios should be monitored for potential
    performance implications.
  warnings: Ensure that the combat state analyzer has a valid reference unit before
    calling this method; otherwise, the results may be unpredictable or incorrect.
    The range value must be positive to return meaningful results. Using extremely
    large range values may impact performance due to increased number of units being
    evaluated.
  related:
  - GetNearbyAllies
  - GetNearbyUnits
  - GetEnemyCount
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T19:08:09.863360'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
