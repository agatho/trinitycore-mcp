api:
  class: LoSUtils
  method: GetLoSBreakpoints
  signature: int LoSUtils::GetLoSBreakpoints(const int & from, const int & to, Map
    * map)
documentation:
  brief: Calculates line-of-sight breakpoints between two points in a map for visibility
    checks.
  description: The GetLoSBreakpoints method determines the necessary breakpoints along
    a straight line path from a starting point to an ending point within a specified
    game map. This utility is primarily used by the TrinityCore engine to perform
    line-of-sight calculations for spell casting, NPC vision, and other gameplay mechanics
    that require checking whether an object or effect can see another object without
    obstruction. The method takes into account the map's geometry and any obstacles
    that may block visibility. It returns a numeric code indicating success or failure
    of the calculation process.
  parameters:
  - name: from
    description: The starting point identifier, typically representing a unit's position
      or object location in the game world.
  - name: to
    description: The target point identifier, usually representing another unit's
      position or object location for which visibility is being checked.
  - name: map
    description: Pointer to the Map object where the line-of-sight check occurs. Must
      be a valid map instance; null pointer will result in undefined behavior.
  returns: Returns an integer value indicating the outcome of the line-of-sight breakpoint
    calculation. A return value of 0 typically signifies success, while non-zero values
    may indicate failure due to invalid inputs, map data issues, or uncalculable paths.
  examples:
  - title: Basic Usage for Line-of-Sight Check
    code: "int result = LoSUtils::GetLoSBreakpoints(playerGuid, targetGuid, playerMap);\n\
      if (result == 0) {\n    // Line of sight is clear\n} else {\n    // Line of\
      \ sight is blocked or calculation failed\n}"
    language: cpp
  notes: This method is part of the core visibility system in TrinityCore and relies
    heavily on map data integrity. It should only be called when both source and target
    positions are known to exist within the same map instance. Performance can degrade
    with complex terrain or high-frequency calls, so caching results where possible
    is recommended.
  warnings: Passing invalid or null map pointers will likely cause crashes or undefined
    behavior. Ensure that the from and to parameters refer to valid objects on the
    map before calling this function. Avoid frequent repeated calls without optimization
    for performance-critical systems.
  related:
  - IsInLineOfSight
  - GetVisibilityRange
  - CheckLoS
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T01:13:15.816899'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
