api:
  class: PathGenerator
  method: GetPolyByLocation
  signature: int PathGenerator::GetPolyByLocation(const float * Point, float * Distance)
    const
documentation:
  brief: Finds the navigation polygon containing a specified point and calculates
    the distance to it.
  description: The GetPolyByLocation method determines which navigation polygon (or
    'poly') in the pathfinding system contains the given point. It also computes the
    shortest distance from the point to the boundary of that polygon. This is commonly
    used during pathfinding operations to validate positions or determine if a character's
    location is within a valid navigable area. The method operates on the internal
    navigation mesh data structure and requires the point coordinates to be in the
    correct spatial reference system. It returns an identifier for the polygon, which
    can then be used for further navigation queries.
  parameters:
  - name: Point
    description: A pointer to an array of three floats representing the X, Y, and
      Z coordinates of the point in world space.
  - name: Distance
    description: A pointer to a float that will be filled with the calculated distance
      from the input point to the nearest polygon boundary. If the point is inside
      the polygon, this value represents the minimum distance to the edge.
  returns: An integer identifier representing the navigation polygon containing the
    specified point. A return value of -1 typically indicates an error or that no
    valid polygon was found for the given coordinates.
  examples:
  - title: Basic usage to find polygon and distance
    code: "float point[3] = {100.0f, 200.0f, 300.0f};\nfloat distance;\nint polyId\
      \ = pathGenerator.GetPolyByLocation(point, &distance);\nif (polyId != -1) {\n\
      \    printf(\"Polygon ID: %d, Distance to edge: %.2f\\n\", polyId, distance);\n\
      } else {\n    printf(\"No valid polygon found for the given point.\\n\");\n}"
    language: cpp
  notes: This method is part of the navigation mesh system used by TrinityCore's pathfinding
    engine. It relies on precomputed navigation data and assumes that the input coordinates
    are in the correct world coordinate system. The internal implementation likely
    uses spatial partitioning or a bounding volume hierarchy for efficient lookup.
  warnings: Ensure that the Point array contains valid floating-point values; invalid
    coordinates may lead to undefined behavior or incorrect results. Also, note that
    this method does not validate whether the point is within a walkable area, only
    that it belongs to a polygon in the mesh.
  related:
  - GetPolyByLocation
  - FindPath
  - GetPath
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T11:53:00.164901'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
