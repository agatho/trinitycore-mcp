api:
  class: MageAI
  method: RecordSpellHit
  signature: void MageAI::RecordSpellHit(uint32 spellId, ::Unit * target, uint32 damage)
documentation:
  brief: Records spell hit data for a mage AI, including spell ID, target unit, and
    damage dealt.
  description: The RecordSpellHit method is used by the MageAI class to log information
    about a spell that has successfully hit a target. This function captures essential
    data such as the spell identifier, the target unit that was hit, and the amount
    of damage inflicted. It serves as part of the mage's AI behavior system, enabling
    tracking of spell effectiveness and aiding in decision-making for future spell
    selections. The method does not return any value but updates internal state or
    logs for later analysis. This function is typically invoked during combat when
    a mage's spell successfully connects with an enemy unit.
  parameters:
  - name: spellId
    description: The unique identifier of the spell that was cast and hit the target.
      This value corresponds to the Spell ID defined in the game's spell database.
  - name: target
    description: Pointer to the Unit object representing the target that was hit by
      the spell. Can be null if the target is invalid or has been destroyed.
  - name: damage
    description: The amount of damage dealt to the target by the spell. This value
      represents the actual damage after any modifiers, resistances, or mitigations
      have been applied.
  returns: null
  examples:
  - title: Basic usage in mage AI combat
    code: "void MyMageAI::OnSpellHit(uint32 spellId, Unit* target, uint32 damage)\n\
      {\n    RecordSpellHit(spellId, target, damage);\n}"
    language: cpp
  - title: Tracking spell effectiveness
    code: "void MageAI::ProcessSpellHit(uint32 spellId, Unit* target, uint32 damage)\n\
      {\n    if (target && target->IsAlive())\n    {\n        RecordSpellHit(spellId,\
      \ target, damage);\n        // Additional logic for analyzing spell performance\n\
      \    }\n}"
    language: cpp
  notes: This method is likely used internally by the MageAI system to maintain statistics
    or trigger certain behaviors based on spell hits. It may be called from various
    spell casting and damage application functions within the AI's combat loop. The
    target parameter should be validated before use to prevent potential null pointer
    dereferences.
  warnings: Ensure that the target unit is valid and alive before calling this method,
    as passing a null or invalid target could lead to undefined behavior. Be cautious
    when using this function in high-frequency contexts due to potential performance
    implications if logging or processing occurs on every hit.
  related:
  - GetSpellHitData
  - ProcessSpellCast
  - UpdateCombatState
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T00:45:39.025993'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
