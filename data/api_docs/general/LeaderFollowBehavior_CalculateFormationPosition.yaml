api:
  class: LeaderFollowBehavior
  method: CalculateFormationPosition
  signature: int LeaderFollowBehavior::CalculateFormationPosition(Player * leader,
    int memberIndex, int totalMembers)
documentation:
  brief: Calculates and returns the formation position index for a player in a group
    based on their leader and member count.
  description: The CalculateFormationPosition method determines the appropriate positional
    index for a given player within a group formation. It takes into account the leader
    of the group, the player's index among group members, and the total number of
    members to compute where that player should position themselves in the formation.
    This functionality is typically used in AI behaviors for managing group positioning
    during movement or combat scenarios. The method assumes valid inputs and does
    not perform explicit validation of parameters.
  parameters:
  - name: leader
    description: Pointer to the Player object representing the group leader. Must
      be a valid player instance.
  - name: memberIndex
    description: Zero-based index of the current member within the group, excluding
      the leader. Valid range is 0 to totalMembers - 1.
  - name: totalMembers
    description: Total number of members in the group including the leader. Must be
      a positive integer greater than zero.
  returns: Returns an integer representing the calculated formation position index
    for the player. The value typically corresponds to a specific slot or offset within
    a predefined formation pattern, with negative values possibly indicating invalid
    positions.
  examples:
  - title: Basic usage in group movement
    code: int pos = behavior.CalculateFormationPosition(leaderPlayer, 2, 5); // Returns
      formation index for third member of a 5-person group
    language: cpp
  - title: Using result to set follower position
    code: 'Player* follower = GetGroupMember(1);

      int formationPos = behavior.CalculateFormationPosition(leader, 1, GetGroupSize());

      follower->SetFormationPosition(formationPos);'
    language: cpp
  notes: This method is part of the LeaderFollowBehavior AI system and is commonly
    used in group-based movement logic. The exact formation pattern may depend on
    internal AI configuration or game settings. Performance is generally optimal as
    it performs simple arithmetic operations.
  warnings: Ensure that the leader pointer is valid before calling this method, otherwise
    undefined behavior may occur. The memberIndex must be within valid bounds (0 to
    totalMembers - 1), otherwise the result may be incorrect or out-of-bounds.
  related:
  - GetFormationPosition
  - SetFormationPosition
  - UpdateFormation
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T10:36:01.804300'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
