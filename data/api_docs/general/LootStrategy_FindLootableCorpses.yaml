api:
  class: LootStrategy
  method: FindLootableCorpses
  signature: int LootStrategy::FindLootableCorpses(BotAI * ai, float maxDistance)
    const
documentation:
  brief: Finds and returns the number of lootable corpses within the specified maximum
    distance for a bot AI.
  description: The FindLootableCorpses method searches for all corpses in the game
    world that are eligible for looting within a given maximum distance from the bot's
    current position. It evaluates each corpse to determine if it is valid for loot
    collection based on criteria such as whether the corpse contains items, is not
    already being looted by another player or bot, and meets the specified distance
    threshold. This method is typically used by AI systems to identify potential targets
    for looting activities in World of Warcraft's TrinityCore environment. The method
    does not modify any game state directly but rather provides a count of valid lootable
    corpses for further processing by the AI.
  parameters:
  - name: ai
    description: Pointer to the BotAI instance that is performing the search. This
      parameter is required and must point to a valid BotAI object.
  - name: maxDistance
    description: Maximum distance in yards within which corpses will be considered
      for looting. Must be a positive value; negative values may result in undefined
      behavior.
  returns: Returns an integer representing the number of lootable corpses found within
    the specified maximum distance. A return value of zero indicates no valid corpses
    were found, while a positive integer indicates the count of eligible corpses.
  examples:
  - title: Basic Usage Example
    code: int corpseCount = strategy->FindLootableCorpses(botAI, 50.0f);
    language: cpp
  - title: Using Result in Loot Decision Logic
    code: "int corpses = strategy->FindLootableCorpses(ai, 30.0f);\nif (corpses >\
      \ 0) {\n    // Proceed with loot action\n    ai->LootCorpses();\n} else {\n\
      \    // No loot available, move to next task\n    ai->MoveToNextTask();\n}"
    language: cpp
  notes: This method relies on the TrinityCore's internal corpse management system
    and may be affected by server settings such as loot visibility rules or corpse
    decay timers. The performance of this method can vary depending on the number
    of corpses in the area and the accuracy of distance calculations. It is recommended
    to cache results when possible to avoid repeated calls during a single AI cycle.
  warnings: Ensure that the BotAI pointer passed to this method is valid and not null,
    as passing an invalid pointer will likely result in a crash or undefined behavior.
    The maxDistance parameter should be validated to prevent excessive search ranges
    which could impact performance.
  related:
  - LootStrategy::LootCorpses
  - BotAI::GetNearbyCorpses
  - LootStrategy::IsCorpseLootable
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T01:02:52.019641'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
