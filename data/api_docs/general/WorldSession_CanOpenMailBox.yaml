api:
  class: WorldSession
  method: CanOpenMailBox
  signature: bool WorldSession::CanOpenMailBox(int guid)
documentation:
  brief: Checks whether the player can open a mailbox at the specified GUID location.
  description: The CanOpenMailBox method determines if a player is eligible to interact
    with a mailbox at a given location. This check typically verifies that the player
    is within range of the mailbox, has the necessary permissions or quest requirements,
    and that the mailbox is not locked or otherwise inaccessible. The method is used
    primarily in the context of mailbox interaction mechanics in World of Warcraft,
    ensuring that players cannot open mailboxes from arbitrary locations or when conditions
    are not met. It serves as a validation step before allowing mailbox access.
  parameters:
  - name: guid
    description: The global unique identifier (GUID) of the mailbox object to check.
      This value uniquely identifies the mailbox in the game world and is typically
      obtained from the GameObject or WorldObject representing the mailbox.
  returns: Returns true if the player can open the mailbox at the specified GUID location,
    false otherwise. A return value of false may indicate that the player is out of
    range, lacks required permissions, or the mailbox is in an invalid state.
  examples:
  - title: Basic usage to check mailbox access
    code: "if (session->CanOpenMailBox(mailboxGuid)) {\n    // Proceed with mailbox\
      \ interaction\n    session->SendShowMailBox(mailboxGuid);\n} else {\n    //\
      \ Notify player they cannot access the mailbox\n    session->SendNotification(\"\
      You cannot open this mailbox.\");\n}"
    language: cpp
  notes: This method likely performs range checks, permission validation, and possibly
    quest state verification. It is commonly used in conjunction with other mailbox-related
    methods such as SendShowMailBox or HandleMailListQuery to manage mailbox interactions.
  warnings: Ensure that the GUID passed corresponds to a valid mailbox object; otherwise,
    behavior may be undefined or lead to client-side errors. The method should not
    be called without verifying that the object exists and is of the correct type
    (e.g., GameObject with mailbox flag).
  related:
  - SendShowMailBox
  - HandleMailListQuery
  - GetPlayer
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T20:05:52.949712'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
