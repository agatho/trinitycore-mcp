api:
  class: Unit
  method: GetAuraEffectOfRankedSpell
  signature: AuraEffect * Unit::GetAuraEffectOfRankedSpell(uint32 spellId, uint8 effIndex,
    int casterGUID) const
documentation:
  brief: Returns the aura effect of a ranked spell with specified index and caster
    GUID
  description: This method retrieves the specific aura effect associated with a ranked
    spell, allowing for precise control over spell mechanics. It is commonly used
    in World of Warcraft's TrinityCore framework to access detailed information about
    spell effects, particularly when dealing with rank-based spells where multiple
    levels exist. The method requires a spell ID, effect index, and caster GUID to
    properly identify the correct aura effect. This functionality is essential for
    implementing complex spell interactions and maintaining accurate game state during
    spell processing.
  parameters:
  - name: spellId
    description: The unique identifier of the spell being queried. Must be a valid
      spell ID from the game database.
  - name: effIndex
    description: The index of the effect within the spell's aura list. Valid range
      is 0-2, representing the three possible effects (0 = first effect, 1 = second
      effect, 2 = third effect).
  - name: casterGUID
    description: The GUID of the caster who applied the aura. This parameter allows
      for precise identification of which aura instance to retrieve when multiple
      instances exist.
  returns: Returns a pointer to the AuraEffect object that matches the specified parameters,
    or nullptr if no matching aura is found. The returned object contains detailed
    information about the effect's properties and can be used for further processing.
  examples:
  - title: Basic usage example
    code: AuraEffect* aura = unit->GetAuraEffectOfRankedSpell(12345, 0, 123456789);
    language: cpp
  - title: Advanced usage example
    code: "AuraEffect* aura = unit->GetAuraEffectOfRankedSpell(12345, 1, 123456789);\n\
      if (aura)\n{\n    // Process the aura effect\n    uint32 effectType = aura->GetAuraType();\n\
      \    int32 amount = aura->GetAmount();\n}\nelse\n{\n    // Handle no matching\
      \ aura case\n}"
    language: cpp
  notes: This method is primarily used in spell processing contexts where multiple
    ranks of the same spell exist. It requires careful handling of GUIDs to ensure
    accurate retrieval of the correct aura effect. Performance considerations include
    avoiding unnecessary calls when dealing with large numbers of spells.
  warnings: The method may return nullptr if no matching aura exists, so proper null
    checking should be performed before using the returned pointer. Care must be taken
    when specifying effect indices as invalid values can lead to undefined behavior.
  related:
  - GetAuraEffect
  - GetAuraEffectOfRank
  - GetSpellInfo
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T13:30:15.127286'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
