api:
  class: SpellCastTargets
  method: SetTargetMask
  signature: void SpellCastTargets::SetTargetMask(uint32 newMask)
documentation:
  brief: Sets the target mask for a spell cast, defining which targets are being aimed
    at.
  description: The SetTargetMask method updates the internal target mask of a SpellCastTargets
    object, determining the types and combinations of targets that a spell is directed
    toward. This mask is used by the TrinityCore server to validate and process spell
    targeting logic, including handling multiple targets, area effects, and specific
    target requirements. The method directly modifies the target mask without performing
    any validation checks on the input value itself, so callers should ensure that
    newMask represents a valid combination of target flags as defined in the game's
    target system.
  parameters:
  - name: newMask
    description: The new target mask value to set. This is a bitmask representing
      one or more target types (e.g., TARGET_FLAG_UNIT, TARGET_FLAG_ITEM, etc.) combined
      using bitwise OR operations. The mask determines which targets are considered
      valid for the spell's casting.
  returns: null
  examples:
  - title: Setting a single unit target
    code: 'SpellCastTargets targets;

      targets.SetTargetMask(TARGET_FLAG_UNIT);'
    language: cpp
  - title: Setting multiple targets including self and unit
    code: 'SpellCastTargets targets;

      targets.SetTargetMask(TARGET_FLAG_UNIT | TARGET_FLAG_SELF);

      // This would indicate that the spell targets both a unit and the caster themselves.'
    language: cpp
  notes: The target mask is typically used in conjunction with other SpellCastTargets
    methods like SetUnitTarget, SetItemTarget, or SetDst. It's important to understand
    that setting an invalid or unsupported mask may result in spell targeting failures
    during execution. The mask values are usually defined as constants in the TrinityCore
    codebase (e.g., TARGET_FLAG_UNIT, TARGET_FLAG_ITEM).
  warnings: Directly setting a target mask without proper validation can lead to unexpected
    behavior or spell failure if the mask includes invalid combinations of flags.
    Always ensure that the newMask value aligns with the intended spell targeting
    mechanics.
  related:
  - GetTargetMask
  - SetUnitTarget
  - SetItemTarget
  - SetDst
metadata:
  confidence: 0.95
  generated_at: '2025-11-03T18:13:19.094113'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
