api:
  class: ActionPriorityHelper
  method: CalculateBuffScore
  signature: float ActionPriorityHelper::CalculateBuffScore(int * target, uint32 spellId)
documentation:
  brief: Evaluates and returns a scoring value for the priority of applying a buff
    spell to a target.
  description: The CalculateBuffScore method computes a numerical score that represents
    how beneficial or prioritized it is to apply a specific buff spell to a given
    target. This score is typically used within AI decision-making processes to determine
    which buffs should be applied first. The method considers various factors such
    as the target's current state, the spell's effects, and potential cooldowns or
    resource requirements. It is commonly invoked by action priority list (APL) systems
    in TrinityCore's AI framework to guide NPC behavior during combat or non-combat
    scenarios.
  parameters:
  - name: target
    description: Pointer to an integer representing the target unit ID. This value
      typically corresponds to a Unit* cast to an int for internal processing within
      the AI system.
  - name: spellId
    description: The unique identifier of the spell being evaluated. This ID must
      correspond to a valid buff spell in the game's spell database.
  returns: A floating-point value representing the calculated priority score for applying
    the buff. Higher scores indicate higher priority, with values typically ranging
    from 0.0 (lowest priority) to 1.0 (highest priority). A return value of 0.0 may
    indicate that the buff is not applicable or beneficial under current conditions.
  examples:
  - title: Basic Usage in AI Decision Making
    code: "float score = helper.CalculateBuffScore(&targetUnit, 12345);\nif (score\
      \ > 0.7f)\n{\n    // Apply the buff\n}"
    language: cpp
  - title: Using with Multiple Buffs for Comparison
    code: "float score1 = helper.CalculateBuffScore(&targetUnit, 12345);\nfloat score2\
      \ = helper.CalculateBuffScore(&targetUnit, 12346);\nfloat score3 = helper.CalculateBuffScore(&targetUnit,\
      \ 12347);\n\nif (score1 >= score2 && score1 >= score3)\n    // Apply buff with\
      \ spellId 12345\nelse if (score2 >= score3)\n    // Apply buff with spellId\
      \ 12346\nelse\n    // Apply buff with spellId 12347"
    language: cpp
  notes: This method is part of the ActionPriorityHelper class, which is designed
    to support dynamic action selection in AI systems. The implementation likely involves
    checking target status effects, spell properties, and contextual factors like
    health percentage or threat level. Performance-wise, this function should be lightweight
    as it's called frequently during AI decision-making loops.
  warnings: Ensure that the target pointer is valid before calling this method to
    prevent undefined behavior. Also, verify that the spellId corresponds to an actual
    buff spell; otherwise, results may be unpredictable or misleading.
  related:
  - CalculateDebuffScore
  - CalculateDamageScore
  - GetSpellPriority
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T22:32:28.416923'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
