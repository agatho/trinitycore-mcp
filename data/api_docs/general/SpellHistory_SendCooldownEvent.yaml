api:
  class: SpellHistory
  method: SendCooldownEvent
  signature: void SpellHistory::SendCooldownEvent(const SpellInfo * spellInfo, int
    itemId, Spell * spell, bool startCooldown)
documentation:
  brief: Sends a cooldown event for a spell or item to the player's client.
  description: The SendCooldownEvent method is responsible for notifying the client
    about the start or end of a spell or item cooldown. It handles the synchronization
    of cooldown states between the server and the player's game client, ensuring that
    cooldown timers are accurately displayed in the user interface. This method is
    typically invoked when a spell is cast or an item is used, and it manages the
    cooldown duration, spell ID, and item ID to properly update the client's cooldown
    tracking system.
  parameters:
  - name: spellInfo
    description: Pointer to the SpellInfo structure containing information about the
      spell being processed. This parameter determines the cooldown duration and other
      spell-specific properties.
  - name: itemId
    description: Identifier for the item associated with the cooldown event. A value
      of 0 indicates no item is involved in the cooldown.
  - name: spell
    description: Pointer to the Spell object representing the spell instance that
      triggered the cooldown. This allows access to spell-specific data and state
      during cooldown processing.
  - name: startCooldown
    description: Boolean flag indicating whether to start (true) or end (false) the
      cooldown. When true, the client will display the cooldown timer; when false,
      it removes the cooldown indicator.
  returns: null
  examples:
  - title: Basic Spell Cooldown Event
    code: 'SpellInfo* spellInfo = sSpellMgr->GetSpellInfo(12345);

      Spell* spell = new Spell(player, spellInfo, true);

      spellHistory->SendCooldownEvent(spellInfo, 0, spell, true);'
    language: cpp
  - title: Item Cooldown Event with Timer Start
    code: 'SpellInfo* spellInfo = sSpellMgr->GetSpellInfo(67890);

      Spell* spell = new Spell(player, spellInfo, true);

      spellHistory->SendCooldownEvent(spellInfo, 54321, spell, true);'
    language: cpp
  notes: This method directly interacts with the client's cooldown system and should
    only be called when a spell or item is actually used. The spellInfo parameter
    must not be null for proper functionality. Cooldown events are sent asynchronously
    to the client, so timing of this call relative to other game events matters.
  warnings: Calling this method without valid parameters may result in incorrect cooldown
    display on the client side. Ensure that the spellInfo pointer is valid and that
    the spell object contains correct state information before invoking this method.
  related:
  - SpellHistory::AddSpellCooldown
  - SpellHistory::GetSpellCooldown
  - SpellHistory::HasSpellCooldown
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T01:55:15.383890'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
