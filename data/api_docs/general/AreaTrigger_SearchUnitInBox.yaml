api:
  class: AreaTrigger
  method: SearchUnitInBox
  signature: void AreaTrigger::SearchUnitInBox(const int & box, int & targetList)
documentation:
  brief: Searches for units within a specified box area trigger bounds and populates
    a target list with found units.
  description: The SearchUnitInBox method performs a spatial search within the boundaries
    of an AreaTrigger to identify and collect all units that intersect or are contained
    within the defined box shape. This functionality is commonly used in game mechanics
    such as area-of-effect spells, trap detection, or trigger-based events where it's
    necessary to determine which entities are currently within a specific region.
    The method modifies the provided targetList parameter by adding references to
    qualifying units. It operates on the assumption that the AreaTrigger has been
    properly initialized with valid box dimensions and position data.
  parameters:
  - name: box
    description: An integer reference representing the identifier or index of the
      box shape associated with this area trigger. This value determines which specific
      bounding box geometry is used for unit detection.
  - name: targetList
    description: An integer reference to a list or container that will be populated
      with identifiers of units found within the box bounds. The method modifies this
      list in-place by appending matching unit GUIDs or references.
  returns: null
  examples:
  - title: Basic usage of SearchUnitInBox to find nearby players
    code: "void MyAreaTrigger::HandlePlayerEnter(Player* player)\n{\n    int boxId\
      \ = 0;\n    int targetUnits[10];\n    SearchUnitInBox(boxId, targetUnits);\n\
      \    // Process the found units\n    for (int i = 0; i < targetUnits[0]; ++i)\
      \ // Assuming first element holds count\n    {\n        if (Player* foundPlayer\
      \ = ObjectAccessor::FindPlayer(ObjectGuid(targetUnits[i+1])))\n        {\n \
      \           // Do something with the player\n        }\n    }\n}"
    language: cpp
  notes: This method relies on the underlying spatial indexing system of TrinityCore
    to efficiently locate units within the specified area. Performance may degrade
    if the box is extremely large or if many units are present in the vicinity. Developers
    should ensure that the AreaTrigger's box data is correctly initialized before
    calling this method.
  warnings: Incorrectly setting the 'box' parameter can lead to undefined behavior
    or failure to detect any units. Also, modifying the targetList during iteration
    may cause memory corruption or unexpected results; always use safe practices when
    handling lists in C++.
  related:
  - GetBox
  - SetBox
  - IsUnitInBox
  - GetAreaTriggerData
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T16:05:30.788885'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
