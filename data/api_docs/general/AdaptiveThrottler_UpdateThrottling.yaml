api:
  class: AdaptiveThrottler
  method: UpdateThrottling
  signature: void AdaptiveThrottler::UpdateThrottling(const SpatialQueryMetrics::FrameMetrics
    & metrics)
documentation:
  brief: Updates the adaptive throttling parameters based on spatial query performance
    metrics.
  description: The UpdateThrottling method adjusts internal throttling settings for
    spatial queries within the TrinityCore server. It analyzes the provided FrameMetrics
    to determine whether the current throttling thresholds are appropriate, and modifies
    them dynamically to maintain optimal performance. This method is typically invoked
    at the end of each frame update cycle to ensure that spatial query operations
    do not consume excessive CPU resources or cause frame rate drops. The adaptive
    nature of this throttling allows the server to respond to varying workloads and
    maintain consistent performance across different server conditions.
  parameters:
  - name: metrics
    description: Contains performance metrics from spatial query operations during
      the current frame, including execution times, number of queries processed, and
      other relevant timing data used to adjust throttling behavior.
  returns: null
  examples:
  - title: Basic Usage in Frame Update
    code: "void WorldSession::Update()\n{\n    // ... other update logic ...\n   \
      \ AdaptiveThrottler::Instance().UpdateThrottling(spatialMetrics);\n}"
    language: cpp
  notes: This method is part of an adaptive system designed to prevent spatial query
    operations from overwhelming the server's CPU resources. It should be called regularly,
    ideally once per frame update, to ensure dynamic adjustment of throttling parameters
    based on real-time performance data.
  warnings: null
  related:
  - AdaptiveThrottler::GetThrottleLimit
  - AdaptiveThrottler::SetThrottleLimit
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T09:54:21.740448'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
