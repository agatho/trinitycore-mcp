api:
  class: DamageInfo
  method: GetAttackType
  signature: int DamageInfo::GetAttackType() const
documentation:
  brief: Returns the attack type identifier associated with the damage information.
  description: The GetAttackType method retrieves the attack type value from a DamageInfo
    object, which represents the kind of attack that caused the damage. This value
    typically corresponds to melee, ranged, or spell-based attacks and is used internally
    by the TrinityCore framework to determine how damage should be processed, displayed,
    or modified. The return value aligns with predefined attack type constants such
    as ATTACK_TYPE_NORMAL, ATTACK_TYPE_RANGED, etc., which are essential for game
    mechanics like critical hit calculations, damage multipliers, and visual effects.
    This method is commonly used in combat-related event handlers and damage processing
    systems.
  parameters: []
  returns: 'An integer representing the attack type. Common values include: 0 (ATTACK_TYPE_NORMAL),
    1 (ATTACK_TYPE_RANGED), 2 (ATTACK_TYPE_SPELL). The exact mapping depends on the
    internal definitions within TrinityCore''s combat system.'
  examples:
  - title: Basic Usage in Combat Handler
    code: "void OnUnitDamageDealt(Unit* attacker, Unit* target, uint32 damage)\n{\n\
      \    DamageInfo* damageInfo = attacker->GetDamageInfo();\n    int attackType\
      \ = damageInfo->GetAttackType();\n    if (attackType == ATTACK_TYPE_RANGED)\n\
      \    {\n        // Handle ranged attack specific logic\n    }\n}"
    language: cpp
  - title: Determining Attack Type for Effects
    code: "void ApplyDamageModifiers(Unit* unit, DamageInfo* damageInfo)\n{\n    int\
      \ attackType = damageInfo->GetAttackType();\n    switch (attackType)\n    {\n\
      \        case ATTACK_TYPE_NORMAL:\n            // Apply normal melee modifiers\n\
      \            break;\n        case ATTACK_TYPE_RANGED:\n            // Apply\
      \ ranged weapon modifiers\n            break;\n        case ATTACK_TYPE_SPELL:\n\
      \            // Apply spell-specific modifiers\n            break;\n    }\n}"
    language: cpp
  notes: This method is part of the DamageInfo class which encapsulates all relevant
    data about a damage event. The returned integer value should be compared against
    predefined constants defined in the TrinityCore source code for proper interpretation.
    This method does not perform any computation or modification; it simply returns
    a cached value from the DamageInfo object.
  warnings: Ensure that the DamageInfo object is valid and initialized before calling
    this method, as accessing an uninitialized or destroyed object may result in undefined
    behavior. The returned attack type value must be validated against expected constants
    to avoid incorrect logic branching.
  related:
  - GetDamage
  - GetSchoolMask
  - GetHitInfo
  - GetProcAttacker
  - GetProcVictim
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T09:51:17.380193'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
