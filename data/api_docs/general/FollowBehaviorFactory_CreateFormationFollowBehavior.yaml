api:
  class: FollowBehaviorFactory
  method: CreateFormationFollowBehavior
  signature: int FollowBehaviorFactory::CreateFormationFollowBehavior(int formation)
documentation:
  brief: Creates and returns a formation follow behavior identifier for use in AI
    pathing.
  description: The CreateFormationFollowBehavior method initializes and registers
    a new formation follow behavior within the TrinityCore AI system. This behavior
    allows NPC followers to maintain a specific formation while following a leader,
    which is commonly used in group quests, scripted events, or player-controlled
    pet behaviors. The method takes a formation type parameter that defines how the
    followers should position themselves relative to the leader. It returns an integer
    identifier that can be used to reference this specific formation behavior in subsequent
    AI operations.
  parameters:
  - name: formation
    description: An integer value representing the formation type to create. Valid
      values typically correspond to predefined formation patterns (e.g., line, circle,
      wedge) defined within the TrinityCore AI system.
  returns: Returns an integer identifier that uniquely represents the created formation
    follow behavior. This ID can be used in other AI-related methods to manage or
    reference the specific formation behavior instance. Returns -1 if the formation
    type is invalid or creation fails.
  examples:
  - title: Basic Formation Creation
    code: "int formationId = factory->CreateFormationFollowBehavior(1); // Creates\
      \ a line formation\nif (formationId != -1) {\n    // Use formationId to set\
      \ up AI behavior\n}"
    language: cpp
  - title: Error Handling for Invalid Formation
    code: "int invalidFormation = factory->CreateFormationFollowBehavior(999); //\
      \ Invalid formation type\nif (invalidFormation == -1) {\n    // Handle error\
      \ case\n    sLog->outError(\"Failed to create formation behavior\");\n}"
    language: cpp
  notes: This method is part of the AI behavior system and should be called during
    NPC initialization or when setting up dynamic group behaviors. The returned identifier
    must be stored for future reference to manage or modify the behavior later.
  warnings: Ensure that the formation parameter is within valid range as invalid values
    may cause the method to return -1 without error logging. This can lead to silent
    failures in AI behavior setup if not properly validated.
  related:
  - GetFormationFollowBehavior
  - UpdateFormationFollowBehavior
  - RemoveFormationFollowBehavior
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T07:44:12.484560'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
