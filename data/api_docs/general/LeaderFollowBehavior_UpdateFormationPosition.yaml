api:
  class: LeaderFollowBehavior
  method: UpdateFormationPosition
  signature: bool LeaderFollowBehavior::UpdateFormationPosition(BotAI * ai)
documentation:
  brief: Updates the bot's position in the formation based on its leader's current
    location and movement state.
  description: The UpdateFormationPosition method is responsible for calculating and
    applying the appropriate positioning logic for a bot within a group or raid formation.
    It determines where the bot should move relative to its leader, considering factors
    such as distance, direction, and movement speed. This method is typically invoked
    during AI update cycles to maintain proper group cohesion. The function evaluates
    whether the bot needs to adjust its position to stay in formation, taking into
    account the leader's current location, orientation, and any ongoing movement commands.
    It returns true if the position was successfully updated or false if no changes
    were necessary or if an error occurred during processing.
  parameters: []
  returns: Returns true if the bot's formation position was successfully updated;
    otherwise, returns false if no update was needed or if an error occurred during
    the process.
  examples:
  - title: Basic usage in AI update loop
    code: "void BotAI::UpdateAI()\n{\n    if (leaderFollowBehavior)\n    {\n     \
      \   leaderFollowBehavior->UpdateFormationPosition(this);\n    }\n}"
    language: cpp
  notes: This method relies on the bot's internal state tracking of its leader and
    formation settings. It assumes that the leader is valid and actively moving or
    stationary, otherwise it may not perform any meaningful updates. Performance-wise,
    this function should be called sparingly during AI update cycles to avoid excessive
    computation.
  warnings: Ensure that the BotAI instance passed to this method has a valid leader
    reference before calling. Failure to do so might result in undefined behavior
    or incorrect positioning logic. Also, calling this method outside of an AI update
    context may lead to inconsistent formation states.
  related:
  - LeaderFollowBehavior::SetFormationPosition
  - LeaderFollowBehavior::GetFormationOffset
  - BotAI::GetLeader
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T03:54:59.904179'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
