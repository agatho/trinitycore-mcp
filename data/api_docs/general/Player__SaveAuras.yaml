api:
  class: Player
  method: _SaveAuras
  signature: void Player::_SaveAuras(int trans)
documentation:
  brief: Saves player's auras to database with specified transaction
  description: This method saves all active auras (buffs, debuffs, and spell effects)
    currently applied to the player to the database using the provided transaction.
    It ensures that aura data is properly persisted across server restarts or player
    logout. The method handles the saving of both temporary and permanent auras, including
    their duration, stack count, and application time. This operation is typically
    called during player logout or when the player's state changes significantly.
    The method requires a valid transaction parameter to ensure proper database handling.
  parameters:
  - name: trans
    description: Transaction object used for database operations. Must be a valid
      transaction handle that ensures atomicity of the save operation.
  returns: null
  examples:
  - title: Basic usage example
    code: 'Player* player = GetPlayer();

      player->_SaveAuras(trans);

      '
    language: cpp
  - title: Advanced usage with transaction management
    code: 'Transaction trans = CharacterDatabase.BeginTransaction();

      player->_SaveAuras(trans);

      CharacterDatabase.CommitTransaction(trans);'
    language: cpp
  notes: The method is typically called during player logout or when the player's
    state changes. It performs database operations using the provided transaction
    handle, ensuring that all aura data is properly saved to the database. The method
    may be called multiple times during a session, but should not be called more than
    once per session unless explicitly required.
  warnings: This method should not be called without a valid transaction object. Calling
    it without proper transaction handling can lead to database inconsistencies or
    corruption. Also, calling this method during active combat or when player is in
    an invalid state may cause unexpected behavior.
  related:
  - Player::SaveToDB
  - Player::UpdateAura
  - Player::GetAura
  - Player::RemoveAura
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T23:03:24.716954'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
