api:
  class: Unit
  method: CleanupBeforeRemoveFromMap
  signature: void Unit::CleanupBeforeRemoveFromMap(bool finalCleanup)
documentation:
  brief: Cleans up unit resources before removing from map
  description: This method performs cleanup operations on a Unit object before it
    is removed from the game world map. It handles resource management, removes unit
    from various tracking systems, and ensures proper memory cleanup. The finalCleanup
    parameter determines whether this is the final cleanup before permanent removal
    or a temporary cleanup during intermediate steps.
  parameters:
  - name: finalCleanup
    description: If true, indicates this is the final cleanup before the unit is permanently
      removed from the map. If false, indicates this is a temporary cleanup during
      intermediate steps.
  returns: null
  examples:
  - title: Basic usage example
    code: 'Unit* unit = new Unit();

      unit->CleanupBeforeRemoveFromMap(true);

      // Unit is now removed from map'
    language: cpp
  notes: This method should be called before any unit removal from the map to ensure
    proper resource cleanup and prevent memory leaks. The method handles internal
    tracking systems and may perform various cleanup operations depending on the unit
    type.
  warnings: Improper use of this method can lead to memory leaks or incorrect tracking
    of units in the game world. Always ensure that finalCleanup is set correctly based
    on the removal context.
  related:
  - Unit::GetMap
  - Unit::RemoveFromMap
  - Unit::IsInWorld
metadata:
  confidence: 0.85
  generated_at: '2025-10-30T21:18:55.006368'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
