api:
  class: WorldSession
  method: GetSessionDbLocaleIndex
  signature: LocaleConstant WorldSession::GetSessionDbLocaleIndex() const
documentation:
  brief: Returns the database locale index associated with this session.
  description: The GetSessionDbLocaleIndex method retrieves the locale constant that
    represents the language and regional settings configured for this WorldSession.
    This value determines how localized content, such as quest text, NPC dialogues,
    and UI elements, are fetched from the database. The returned LocaleConstant corresponds
    to a specific entry in the locales tables of the TrinityCore database, ensuring
    that players receive content appropriate to their client's language settings.
    This method is typically used during query processing and localization of game
    data for the connected client.
  parameters: []
  returns: A LocaleConstant enum value representing the database locale index for
    this session. Possible values include LOCALE_enUS, LOCALE_koKR, LOCALE_frFR, LOCALE_deDE,
    LOCALE_zhCN, LOCALE_zhTW, LOCALE_esES, LOCALE_esMX, LOCALE_ruRU, and others depending
    on supported locales in the TrinityCore build.
  examples:
  - title: Basic Usage to Determine Session Locale
    code: "void HandlePlayerLocaleQuery(WorldSession* session)\n{\n    LocaleConstant\
      \ locale = session->GetSessionDbLocaleIndex();\n    switch (locale)\n    {\n\
      \        case LOCALE_enUS:\n            // Handle English US\n            break;\n\
      \        case LOCALE_zhCN:\n            // Handle Simplified Chinese\n     \
      \       break;\n        default:\n            // Default handling\n        \
      \    break;\n    }\n}"
    language: cpp
  notes: This method returns a cached value that is set during session initialization
    based on the client's locale settings. It does not dynamically update if the client
    changes its language settings during runtime without reconnecting. The LocaleConstant
    returned here directly maps to the 'locale' column in various database tables
    such as creature_template, gameobject_template, and quest_template.
  warnings: null
  related:
  - GetSessionLocaleIndex
  - SetSessionDbLocaleIndex
  - GetPlayer
metadata:
  confidence: 0.95
  generated_at: '2025-11-02T19:52:06.640512'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
