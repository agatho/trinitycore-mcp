api:
  class: TargetSelectionUtils
  method: GetWeakestEnemy
  signature: Unit * TargetSelectionUtils::GetWeakestEnemy(Player * bot, float maxRange)
documentation:
  brief: Returns the weakest enemy unit within the specified range for the given player
    bot.
  description: The GetWeakestEnemy method identifies and returns the Unit object representing
    the weakest enemy target within a defined maximum range from the provided player
    bot. This function is typically used in AI logic to determine optimal target selection
    for combat scenarios. The method evaluates all valid enemies within the specified
    range based on their health or other relevant criteria to select the most vulnerable
    target. It considers factors such as distance, threat level, and unit attributes
    to make this determination. The returned Unit pointer will be null if no suitable
    enemy is found within the given range.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the bot that requires target
      selection. This parameter defines the perspective and position from which enemies
      are evaluated.
  - name: maxRange
    description: Float value specifying the maximum distance within which enemy units
      will be considered for selection. Units beyond this range will be ignored in
      the targeting algorithm.
  returns: Pointer to the Unit object representing the weakest enemy found within
    the specified range, or nullptr if no valid enemy unit is available within the
    given parameters.
  examples:
  - title: Basic usage to find weakest enemy
    code: "Player* myBot = ...; // Bot player instance\nUnit* weakestEnemy = TargetSelectionUtils::GetWeakestEnemy(myBot,\
      \ 30.0f);\nif (weakestEnemy)\n{\n    // Proceed with attack logic\n    myBot->Attack(weakestEnemy,\
      \ true);\n}"
    language: cpp
  - title: Using weakest enemy in combat decision making
    code: "Player* bot = ...;\nfloat range = 25.0f;\nUnit* target = TargetSelectionUtils::GetWeakestEnemy(bot,\
      \ range);\nif (target && bot->IsWithinDist(target, range))\n{\n    // Ensure\
      \ target is valid before attacking\n    if (bot->CanAttack(target) && !target->HasFlag(UNIT_FIELD_FLAGS,\
      \ UNIT_FLAG_NON_ATTACKABLE))\n    {\n        bot->SetTarget(target->GetGUID());\n\
      \        bot->CastSpell(target, SPELL_SHOOT, true);\n    }\n}"
    language: cpp
  notes: This method likely uses internal AI targeting logic that considers unit health,
    threat tables, and combat state. The 'weakest' enemy is usually determined by
    lowest health percentage or absolute health value. Performance-wise, this function
    may iterate through nearby units to evaluate their suitability as targets.
  warnings: Ensure the bot parameter is valid and not null before calling this method.
    The returned Unit pointer must be checked for null before dereferencing to avoid
    crashes. Be aware that enemy units might become invalid or die between the time
    of selection and execution.
  related:
  - GetStrongestEnemy
  - GetNearestEnemy
  - GetHighestThreatEnemy
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T17:22:16.562591'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
