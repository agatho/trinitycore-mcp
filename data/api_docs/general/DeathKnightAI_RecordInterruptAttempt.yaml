api:
  class: DeathKnightAI
  method: RecordInterruptAttempt
  signature: void DeathKnightAI::RecordInterruptAttempt(Unit * target, uint32 spellId,
    bool success)
documentation:
  brief: Records an attempt to interrupt a spell cast by a target unit.
  description: The RecordInterruptAttempt method logs information about a successful
    or failed attempt to interrupt another unit's spell casting. This method is typically
    used within the DeathKnightAI class to track combat interactions and maintain
    accurate records of spell interruption events for AI behavior analysis, performance
    metrics, or debugging purposes. It allows the AI system to understand how often
    interrupts succeed or fail, which can influence future decision-making during
    combat scenarios.
  parameters:
  - name: target
    description: Pointer to the Unit object that is casting the spell being interrupted.
      Must be a valid pointer to an existing unit in the game world.
  - name: spellId
    description: The ID of the spell being interrupted. This identifies which specific
      spell was targeted for interruption and helps categorize the interrupt attempt.
  - name: success
    description: Boolean flag indicating whether the interrupt attempt succeeded (true)
      or failed (false). Used to track performance and adjust AI behavior accordingly.
  returns: null
  examples:
  - title: Basic Interrupt Attempt Recording
    code: "void MyDeathKnightAI::OnSpellCast(Unit* target, uint32 spellId)\n{\n  \
      \  // Simulate a chance to interrupt the target's spell\n    bool wasInterrupted\
      \ = (rand() % 100) < 30; // 30% chance\n    RecordInterruptAttempt(target, spellId,\
      \ wasInterrupted);\n}"
    language: cpp
  - title: Recording Interrupt Attempt with Debug Logging
    code: "void DeathKnightAI::HandleCombat()\n{\n    if (Unit* target = GetVictim())\n\
      \    {\n        if (target->HasUnitState(UNIT_STATE_CASTING))\n        {\n \
      \           uint32 currentSpellId = target->GetCurrentSpell(CURRENT_CHANNELED_SPELL)->m_spellInfo->Id;\n\
      \            bool success = DoInterruptSpell(target, currentSpellId);\n    \
      \        RecordInterruptAttempt(target, currentSpellId, success);\n        \
      \    if (success)\n                TC_LOG_DEBUG(\"ai\", \"Death Knight successfully\
      \ interrupted spell %u.\", currentSpellId);\n        }\n    }\n}"
    language: cpp
  notes: This method likely updates internal tracking structures or logs for performance
    analysis. It may also be used in conjunction with other AI decision-making logic
    to improve interrupt timing and spell selection strategies.
  warnings: Ensure that the target pointer is valid before calling this method, as
    passing a null pointer could lead to undefined behavior. Also, make sure the spellId
    corresponds to an actual spell being cast by the target unit.
  related:
  - GetVictim
  - DoInterruptSpell
  - HasUnitState
metadata:
  confidence: 0.9
  generated_at: '2025-11-09T12:26:41.103022'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
