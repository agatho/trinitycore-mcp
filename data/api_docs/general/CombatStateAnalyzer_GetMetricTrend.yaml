api:
  class: CombatStateAnalyzer
  method: GetMetricTrend
  signature: float CombatStateAnalyzer::GetMetricTrend(std::function<float (const
    CombatMetrics &)> selector) const
documentation:
  brief: Calculates and returns the trend of a specified combat metric over time using
    a provided selector function.
  description: The GetMetricTrend method computes the rate of change for a given combat
    metric by analyzing historical data points. It accepts a std::function that selects
    a specific metric from CombatMetrics objects, then evaluates how that metric has
    changed over time. This is particularly useful for determining whether a player's
    damage per second (DPS), healing per second (HPS), or other combat statistics
    are increasing, decreasing, or remaining stable. The method operates on internal
    combat state data and provides insights into performance trends during combat
    encounters.
  parameters: []
  returns: Returns a float value representing the calculated trend of the selected
    metric. Positive values indicate an increasing trend, negative values indicate
    a decreasing trend, and values near zero suggest stability or minimal change in
    the metric over time.
  examples:
  - title: Calculate DPS Trend
    code: "float dpsTrend = analyzer.GetMetricTrend([](const CombatMetrics& metrics)\
      \ {\n    return metrics.GetDamagePerSecond();\n});"
    language: cpp
  - title: Monitor Healing Trend
    code: "float hpsTrend = analyzer.GetMetricTrend([](const CombatMetrics& metrics)\
      \ {\n    return metrics.GetHealingPerSecond();\n});"
    language: cpp
  notes: This method relies on internal combat data storage that must be populated
    before calling. The trend calculation assumes uniform time intervals between data
    points for accurate results. Performance may vary depending on the amount of historical
    combat data available.
  warnings: The method will return undefined behavior if no combat metrics have been
    recorded or if the selector function returns invalid values (e.g., NaN). Ensure
    that CombatMetrics objects contain valid data before calling this method.
  related:
  - GetCombatMetrics
  - AddCombatMetric
  - ResetCombatState
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T19:08:51.825990'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
