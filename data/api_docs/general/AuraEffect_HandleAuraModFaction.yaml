api:
  class: AuraEffect
  method: HandleAuraModFaction
  signature: void AuraEffect::HandleAuraModFaction(const AuraApplication * aurApp,
    uint8 mode, bool apply) const
documentation:
  brief: Modifies the faction of the target unit based on aura application and mode
    flags.
  description: The HandleAuraModFaction method is responsible for applying or removing
    faction modifications to a target unit when an aura effect is applied or removed.
    This method processes the faction change based on the provided AuraApplication,
    which contains information about the aura's state, and the mode flag that indicates
    whether the effect is being applied or removed. The faction modification can alter
    how the target unit interacts with other factions in the game world, such as changing
    their reputation status or hostility levels. This method typically operates within
    the context of aura application handling and is part of the core combat and interaction
    system in TrinityCore.
  parameters:
  - name: aurApp
    description: Pointer to the AuraApplication object that contains information about
      the aura being applied or removed, including target unit, aura properties, and
      application state.
  - name: mode
    description: An unsigned 8-bit integer flag indicating the mode of operation.
      Typically used to determine whether the faction effect is being applied (1)
      or removed (0), though specific values may vary based on implementation details.
  - name: apply
    description: Boolean flag that specifies whether the faction modification should
      be applied (true) or removed (false). This parameter works in conjunction with
      the mode parameter to control the effect behavior.
  returns: null
  examples:
  - title: Applying Faction Modification
    code: 'AuraEffect* auraEffect = ...; // Get reference to aura effect

      AuraApplication* app = ...; // Get reference to aura application

      auraEffect->HandleAuraModFaction(app, 1, true); // Apply faction modification'
    language: cpp
  - title: Removing Faction Modification
    code: 'AuraEffect* auraEffect = ...; // Get reference to aura effect

      AuraApplication* app = ...; // Get reference to aura application

      auraEffect->HandleAuraModFaction(app, 0, false); // Remove faction modification'
    language: cpp
  notes: This method is part of the internal aura handling system and should not be
    called directly from external code without proper context. The actual faction
    modification logic may depend on additional aura properties or target unit state.
    Ensure that the AuraApplication object passed to this method is valid and properly
    initialized before calling.
  warnings: Improper use of this method with invalid AuraApplication pointers can
    lead to undefined behavior or crashes. Always verify that the aura application
    context is valid before invoking this method. Incorrect mode or apply flags may
    result in unexpected faction state changes for affected units.
  related:
  - AuraEffect::HandleEffect
  - AuraApplication::GetTarget
  - AuraEffect::GetAuraType
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T13:23:36.505717'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
