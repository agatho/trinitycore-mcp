api:
  class: WorldSession
  method: HandleSortAccountBankBags
  signature: void WorldSession::HandleSortAccountBankBags(WorldPackets::Item::SortAccountBankBags
    & sortBankBags)
documentation:
  brief: Handles the client request to sort all bank bags for the account.
  description: The HandleSortAccountBankBags method processes a client packet that
    requests sorting of all bank bag slots for the player's account. This functionality
    allows players to organize their inventory by rearranging items within their bank
    bags according to a predefined sorting algorithm. The method typically triggers
    when a player clicks the 'Sort Bank Bags' button in the game interface, initiating
    an internal reorganization of item placements across all bank containers. It ensures
    that items are properly reordered based on their type, quality, or other criteria
    defined by the server's sorting logic.
  parameters:
  - name: sortBankBags
    description: A packet object containing the client's request to sort account bank
      bags. This parameter includes information about which bags need reordering and
      potentially any sorting preferences or flags set by the client.
  returns: null
  examples:
  - title: Basic Usage Example
    code: "void WorldSession::HandleSortAccountBankBags(WorldPackets::Item::SortAccountBankBags\
      \ & sortBankBags)\n{\n    // Process the sorting request\n    _player->GetBankBagSlots()->SortItems();\n\
      }"
    language: cpp
  notes: This method may involve multiple database operations to update item positions
    in the player's bank. It should be called only when the player has sufficient
    permissions and is within a valid game state where inventory manipulation is allowed.
  warnings: Improper handling of this method could lead to inconsistent inventory
    states or data corruption if item positions are not properly synchronized between
    client and server. Ensure that all related transactions are atomic to prevent
    partial updates.
  related:
  - HandleSortBankBags
  - HandleSortInventoryBags
  - Player::GetBankBagSlots
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T20:32:11.738190'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
