api:
  class: EnhancedBotAI
  method: UpdateMovement
  signature: void EnhancedBotAI::UpdateMovement(uint32 diff)
documentation:
  brief: Updates the movement behavior and positioning of the enhanced bot AI based
    on elapsed time.
  description: The UpdateMovement method is responsible for handling the dynamic movement
    updates of an EnhancedBotAI instance. It processes the bot's current position,
    target location, pathfinding logic, and movement state changes over time. This
    method typically gets called regularly by the game loop to ensure that bots move
    smoothly and realistically within the World of Warcraft environment. The method
    uses the provided time delta (diff) parameter to calculate movement speed, update
    waypoints, and manage any ongoing movement behaviors such as following, fleeing,
    or patrolling.
  parameters:
  - name: diff
    description: The time elapsed in milliseconds since the last update call. This
      value is used to interpolate movement positions and ensure consistent speed
      regardless of frame rate.
  returns: null
  examples:
  - title: Basic usage in game loop
    code: "void GameLoop()\n{\n    uint32 diff = sWorld->GetLastDiff();\n    for (auto&\
      \ bot : botList)\n    {\n        if (bot->IsAIEnabled())\n            bot->GetAI()->UpdateMovement(diff);\n\
      \    }\n}"
    language: cpp
  - title: Integration with custom AI update logic
    code: "class MyEnhancedBotAI : public EnhancedBotAI\n{\npublic:\n    void UpdateMovement(uint32\
      \ diff) override\n    {\n        // Custom movement logic before base update\n\
      \        if (HasTarget() && !IsMoving())\n            StartMovingToTarget();\n\
      \        \n        // Call parent implementation\n        EnhancedBotAI::UpdateMovement(diff);\n\
      \        \n        // Post-update logic\n        HandlePathfinding();\n    }\n\
      };"
    language: cpp
  notes: This method should be called frequently, typically every frame or at regular
    intervals (e.g., every 100ms) to maintain smooth bot movement. The diff parameter
    is crucial for deterministic movement behavior across different server loads and
    client configurations. Performance considerations include avoiding heavy computations
    within this method as it's often called in tight loops.
  warnings: Do not call this method directly from outside the AI update loop without
    proper synchronization, as it may cause race conditions or inconsistent movement
    states. Ensure that all bot-related data is properly initialized before calling
    UpdateMovement to prevent undefined behavior during pathfinding or movement calculations.
  related:
  - UpdateAI
  - MoveTo
  - StopMoving
  - IsMoving
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T14:39:17.305021'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
