api:
  class: ObstacleAvoidanceManager
  method: GenerateFormationAwareAvoidance
  signature: int ObstacleAvoidanceManager::GenerateFormationAwareAvoidance(const CollisionPrediction
    & collision)
documentation:
  brief: Calculates and returns a formation-aware avoidance vector to prevent collision
    with obstacles.
  description: The GenerateFormationAwareAvoidance method computes an avoidance vector
    that helps units in a formation navigate around obstacles while maintaining their
    group structure. This method is typically used by AI-controlled creatures or players
    to dynamically adjust movement paths when encountering environmental hazards or
    other entities. It takes into account the current collision prediction and applies
    formation-aware logic to determine the best avoidance strategy. The returned integer
    value represents the success status of the operation, with zero indicating successful
    generation of the avoidance vector.
  parameters: []
  returns: An integer representing the success status of the avoidance vector generation.
    A return value of 0 indicates successful computation; non-zero values may indicate
    various error conditions such as invalid collision data or failure to calculate
    a valid avoidance path.
  examples:
  - title: Basic Usage in AI Movement
    code: "void UnitAI::UpdateAI(uint32 diff)\n{\n    if (m_obstacleAvoidanceManager)\n\
      \    {\n        int result = m_obstacleAvoidanceManager->GenerateFormationAwareAvoidance(m_collisionPrediction);\n\
      \        if (result == 0)\n        {\n            // Proceed with avoidance\
      \ movement\n            MoveAlongPath();\n        }\n    }\n}"
    language: cpp
  notes: This method is part of the obstacle avoidance system and should be called
    regularly during AI updates to ensure smooth navigation. The method relies on
    accurate collision prediction data being passed in, which must be updated before
    each call.
  warnings: Calling this method without valid collision prediction data may result
    in undefined behavior or incorrect avoidance paths. Ensure that m_collisionPrediction
    is properly initialized before invoking this function.
  related:
  - GenerateAvoidance
  - UpdateCollisionPrediction
  - GetFormationOffset
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T02:24:09.597861'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
