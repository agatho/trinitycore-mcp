api:
  class: PetAI
  method: NeedToStop
  signature: bool PetAI::NeedToStop()
documentation:
  brief: Determines whether the pet should stop its current action and return to a
    passive state.
  description: The NeedToStop method evaluates the current state of the pet's AI behavior
    to decide if it should cease its active actions and transition back to a neutral
    or defensive stance. This typically occurs when the pet's target is no longer
    valid, the pet has been commanded to stop, or certain combat conditions are no
    longer met. The method checks various internal flags and states within the PetAI
    class to make this determination. It is commonly used during AI update cycles
    to ensure proper behavior synchronization with the pet's owner and the game environment.
  parameters: []
  returns: Returns true if the pet should stop its current action and return to a
    passive state; otherwise, returns false if the pet should continue its current
    behavior.
  examples:
  - title: Checking if Pet Should Stop
    code: "if (petAI->NeedToStop()) {\n    pet->SetReactState(REACT_PASSIVE);\n  \
      \  pet->GetMotionMaster()->Clear();\n}"
    language: cpp
  notes: This method is typically called during the PetAI's update loop to determine
    if behavior changes are required. It may be influenced by the pet's health status,
    target validity, and owner commands.
  warnings: null
  related:
  - PetAI::UpdateAI
  - PetAI::DoAction
  - PetAI::SetReactState
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T22:31:22.467596'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
