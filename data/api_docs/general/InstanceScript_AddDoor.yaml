api:
  class: InstanceScript
  method: AddDoor
  signature: void InstanceScript::AddDoor(GameObject * door, bool add)
documentation:
  brief: Registers or unregisters a door object with the instance script for event
    handling and state management.
  description: The AddDoor method is used to register or unregister GameObject doors
    within an instance script. This allows the script to track door states, handle
    events such as door opening/closing, and manage door-related logic during instance
    encounters. When add is true, the door is registered with the instance script
    for tracking; when false, it's removed from tracking. The method typically integrates
    with TrinityCore's instance management system to ensure proper door state persistence
    and event handling throughout the dungeon or raid encounter.
  parameters:
  - name: door
    description: Pointer to the GameObject representing the door to be added or removed
      from tracking. Must be a valid GameObject pointer, typically obtained from CreateGameObject
      or similar methods.
  - name: add
    description: Boolean flag indicating whether to add (true) or remove (false) the
      door from instance tracking. When true, door events are monitored; when false,
      door is no longer tracked by the script.
  returns: null
  examples:
  - title: Register a Door with Instance Script
    code: 'GameObject* door = me->SummonGameObject(176594, position, rotation, 1,
      0);

      instance->AddDoor(door, true);'
    language: cpp
  - title: Remove Door from Instance Tracking
    code: "if (door)\n{\n    instance->AddDoor(door, false);\n    door->Delete();\n\
      }"
    language: cpp
  notes: This method is typically called during instance initialization or when doors
    are created/destroyed during encounter progression. Doors registered via this
    method will automatically have their state managed by the instance script, including
    handling of door opening/closing events and state persistence across player interactions.
  warnings: Ensure that the GameObject pointer passed to AddDoor is valid and not
    already deleted before calling. Improper use can lead to crashes or undefined
    behavior when door events are triggered. Always pair AddDoor calls with corresponding
    removals to prevent memory leaks or dangling pointers.
  related:
  - GetDoor
  - HandleGameObject
  - SetData
metadata:
  confidence: 0.95
  generated_at: '2025-11-06T11:28:56.497558'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
