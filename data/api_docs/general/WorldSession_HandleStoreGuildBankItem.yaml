api:
  class: WorldSession
  method: HandleStoreGuildBankItem
  signature: void WorldSession::HandleStoreGuildBankItem(WorldPackets::Guild::StoreGuildBankItem
    & storeGuildBankItem)
documentation:
  brief: Processes a client request to store an item in the guild bank.
  description: The HandleStoreGuildBankItem method handles the client's request to
    deposit an item from the player's inventory into the guild bank. This method is
    part of the WorldSession class and is invoked when a player interacts with the
    guild bank interface to store items. It validates that the player has access to
    the guild bank, checks if the item can be stored, ensures there is sufficient
    space in the guild bank, and then performs the actual transfer of the item from
    the player's inventory to the guild bank. The method also sends appropriate responses
    back to the client indicating success or failure of the operation.
  parameters:
  - name: storeGuildBankItem
    description: A packet containing information about which item to store, including
      the source container and slot, and destination guild bank tab and slot.
  returns: null
  examples:
  - title: Basic usage in a WorldSession handler
    code: "void WorldSession::HandleStoreGuildBankItem(WorldPackets::Guild::StoreGuildBankItem&\
      \ storeGuildBankItem)\n{\n    // Validate player is in a guild\n    if (!GetPlayer()->GetGuildId())\n\
      \        return;\n    \n    // Process the item storage request\n    GetPlayer()->GetGuild()->StoreItem(this,\
      \ storeGuildBankItem);\n}"
    language: cpp
  notes: This method relies on guild permissions and requires the player to have appropriate
    access rights to the guild bank. It performs validation checks including item
    type restrictions, stack limits, and tab availability before allowing an item
    to be stored.
  warnings: Improper handling of this method can lead to items being lost or duplicated
    in the guild bank system. Ensure that all permissions are checked before allowing
    item transfers.
  related:
  - HandleRetrieveGuildBankItem
  - HandleGuildBankQueryTab
  - HandleGuildBankUpdateTab
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T20:24:15.885726'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
