api:
  class: GatheringManager
  method: SelectBestNode
  signature: const GatheringNode * GatheringManager::SelectBestNode() const
documentation:
  brief: Selects and returns the most optimal gathering node available for the current
    player's session based on proximity, resource type, and availability.
  description: The SelectBestNode method determines the best available gathering node
    for the player by evaluating factors such as distance, node type (mining, herbalism,
    etc.), resource depletion status, and player's current location. It is typically
    used in conjunction with gathering mechanics to ensure players are directed toward
    the most efficient resource nodes. This method does not modify any internal state
    but returns a pointer to a node that meets all active criteria for selection.
    The returned node may be null if no suitable node exists within the valid search
    parameters or if the player's session has no valid gathering targets.
  parameters: []
  returns: A const pointer to the GatheringNode object representing the best available
    node, or nullptr if no valid node is found. The returned node is managed by the
    GatheringManager and should not be deleted directly.
  examples:
  - title: Basic usage in a gathering handler
    code: "const GatheringNode* bestNode = gatheringManager.SelectBestNode();\nif\
      \ (bestNode)\n{\n    // Proceed with gathering logic using bestNode\n    player->MoveTo(bestNode->GetPosition());\n\
      }\nelse\n{\n    // No valid node found, notify player\n    player->SendNotification(\"\
      No available gathering nodes nearby.\");\n}"
    language: cpp
  notes: This method is designed to be called frequently during active gathering sessions.
    It internally caches results for performance optimization but may recalculate
    if node availability changes. The selection algorithm prioritizes proximity and
    resource type matching over other factors.
  warnings: Do not assume that the returned node will remain valid after subsequent
    calls or external modifications to the world state. Always verify the node's validity
    before attempting to interact with it.
  related:
  - GetGatheringNodes
  - IsNodeAvailable
  - UpdateNodeStatus
metadata:
  confidence: 0.9
  generated_at: '2025-11-07T03:04:57.634545'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
