api:
  class: WorldSession
  method: HandleBattlePetSetBattleSlot
  signature: void WorldSession::HandleBattlePetSetBattleSlot(WorldPackets::BattlePet::BattlePetSetBattleSlot
    & battlePetSetBattleSlot)
documentation:
  brief: Sets the battle slot for a battle pet in the player's collection.
  description: The HandleBattlePetSetBattleSlot method processes incoming client packets
    to assign or update a specific battle pet to a designated battle slot within the
    player's pet team. This function is part of the Battle Pet system introduced in
    World of Warcraft's Battle for Azeroth expansion, allowing players to manage which
    pets are active in battles. The method validates that the specified pet exists
    in the player's collection and that the target slot is valid before applying the
    change. It ensures synchronization between the client and server state for battle
    pet teams.
  parameters: []
  returns: null
  examples:
  - title: Basic usage of setting a battle pet to a slot
    code: "void WorldSession::HandleBattlePetSetBattleSlot(WorldPackets::BattlePet::BattlePetSetBattleSlot&\
      \ battlePetSetBattleSlot)\n{\n    // Validate and process the packet\n    if\
      \ (!battlePetSetBattleSlot.PetGuid || battlePetSetBattleSlot.Slot >= MAX_BATTLE_PET_SLOTS)\n\
      \        return;\n\n    // Apply the pet to the specified slot\n    Player*\
      \ player = GetPlayer();\n    if (player)\n        player->SetBattlePetSlot(battlePetSetBattleSlot.PetGuid,\
      \ battlePetSetBattleSlot.Slot);\n}"
    language: cpp
  notes: This method is typically invoked from the network packet handling system
    when a client sends a BattlePetSetBattleSlot packet. It assumes that the player
    has already been authenticated and that the pet GUID corresponds to a valid battle
    pet in the player's collection.
  warnings: Improper validation of slot indices or pet GUIDs could lead to crashes
    or inconsistent game state. Ensure all input values are validated before processing
    to prevent exploits.
  related:
  - HandleBattlePetSummon
  - HandleBattlePetUpdate
  - GetBattlePetSlot
  - SetBattlePetSlot
metadata:
  confidence: 0.9
  generated_at: '2025-11-02T19:46:52.370057'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
