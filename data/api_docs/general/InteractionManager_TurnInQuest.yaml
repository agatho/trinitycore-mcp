api:
  class: InteractionManager
  method: TurnInQuest
  signature: bool InteractionManager::TurnInQuest(Player * bot, int * questGiver,
    uint32 questId, uint32 rewardChoice)
documentation:
  brief: Completes a quest for the specified player and processes the quest reward.
  description: The TurnInQuest method handles the completion of a quest by a player
    character. It validates that the player has met all quest requirements, updates
    the quest status in the player's quest log, and applies the appropriate rewards
    based on the quest's configuration. This includes awarding experience points,
    gold, items, and updating quest-related flags. The method ensures proper interaction
    with the quest giver NPC and handles both automatic and choice-based reward selections.
  parameters:
  - name: bot
    description: Pointer to the Player object representing the character who is turning
      in the quest.
  - name: questGiver
    description: Pointer to an integer that identifies the quest giver NPC. This value
      may be modified during the method execution to reflect updated quest state or
      interaction status.
  - name: questId
    description: Unique identifier for the quest being turned in. Must correspond
      to a valid quest in the game database.
  - name: rewardChoice
    description: Index of the reward choice selected by the player when multiple rewards
      are available. Set to 0 or invalid value to use default reward selection.
  returns: Returns true if the quest was successfully turned in and all associated
    actions completed without error; returns false if the quest could not be turned
    in due to validation failure, missing requirements, or other issues.
  examples:
  - title: Basic Quest Turn-In
    code: "Player* player = ...;\nint questGiver = 12345;\nuint32 questId = 1001;\n\
      bool success = sInteractionManager->TurnInQuest(player, &questGiver, questId,\
      \ 0);\nif (success)\n    TC_LOG_INFO(\"player.quest\", \"Quest %u turned in\
      \ successfully.\", questId);"
    language: cpp
  - title: Quest Turn-In with Reward Choice
    code: "Player* player = ...;\nint questGiver = 12345;\nuint32 questId = 1002;\n\
      uint32 rewardChoice = 2;\nbool success = sInteractionManager->TurnInQuest(player,\
      \ &questGiver, questId, rewardChoice);\nif (success)\n    TC_LOG_INFO(\"player.quest\"\
      , \"Quest %u turned in with reward choice %u.\", questId, rewardChoice);"
    language: cpp
  notes: This method assumes that the player has already accepted the quest and that
    all prerequisites are met. The quest giver pointer is modified during execution
    to reflect updated state information. Ensure that the quest ID exists in the database
    before calling this function.
  warnings: Calling this method without proper validation may result in inconsistent
    quest states or missing rewards. Do not call this method if the player has not
    accepted the quest or if quest requirements are not satisfied. The questGiver
    parameter should be initialized with a valid NPC ID before calling.
  related:
  - AcceptQuest
  - GetQuestStatus
  - RewardQuest
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T02:10:50.662742'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
