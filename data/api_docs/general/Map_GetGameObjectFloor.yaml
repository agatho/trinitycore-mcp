api:
  class: Map
  method: GetGameObjectFloor
  signature: float Map::GetGameObjectFloor(const PhaseShift & phaseShift, float x,
    float y, float z, float maxSearchDist) const
documentation:
  brief: Retrieves the Z-coordinate of the ground level at a specified position within
    the map.
  description: This method calculates and returns the Z-coordinate (height) of the
    ground surface at a given 2D position (x, y) within the current map. It uses phase
    information to determine the correct height based on the current phase shift,
    which is essential for determining valid movement positions in World of Warcraft.
    The method considers a maximum search distance to optimize performance and avoid
    unnecessary calculations. This functionality is crucial for pathfinding and navigation
    systems within the game engine.
  parameters:
  - name: phaseShift
    description: The phase shift information that determines which phase the object
      exists in, affecting height calculations
  - name: x
    description: The X coordinate of the position to query for ground height
  - name: y
    description: The Y coordinate of the position to query for ground height
  - name: z
    description: The Z coordinate (optional) used as a reference point for calculations,
      though not always required
  - name: maxSearchDist
    description: Maximum distance to search for ground height, prevents unnecessary
      calculations and improves performance
  returns: Returns the Z-coordinate (height) of the ground surface at the specified
    position. Returns 0 if no valid ground is found within the maximum search distance.
  examples:
  - title: Basic usage example
    code: float z = map->GetGameObjectFloor(phaseShift, x, y, z, maxSearchDist);
    language: cpp
  - title: Advanced usage with error handling
    code: "float z = map->GetGameObjectFloor(phaseShift, x, y, z, 50.0f);\nif (z >\
      \ 0)\n{\n    // Valid ground found\n}\nelse\n{\n    // No ground found within\
      \ search distance\n}"
    language: cpp
  notes: This method is typically used in conjunction with other navigation methods
    to determine valid movement positions. Performance optimization occurs when maxSearchDist
    is set appropriately to avoid unnecessary calculations.
  warnings: Improper phaseShift handling can lead to incorrect height calculations,
    potentially causing invalid movement positions. Always ensure that the phaseShift
    accurately reflects current game state.
  related:
  - GetGameObjectHeight
  - GetTerrain
  - GetMap
  - GetGround
metadata:
  confidence: 0.85
  generated_at: '2025-10-31T04:19:23.871147'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
