api:
  class: BotResourcePool
  method: CleanupIdleSessions
  signature: void BotResourcePool::CleanupIdleSessions()
documentation:
  brief: Removes and destroys idle bot sessions that have been inactive for a specified
    timeout period.
  description: The CleanupIdleSessions method iterates through all active bot sessions
    managed by the BotResourcePool and identifies those that have exceeded their allowed
    inactivity timeout. It then safely terminates these idle sessions, releasing associated
    resources such as memory, game objects, and any temporary data structures. This
    method is typically invoked periodically by the system to prevent resource leakage
    from abandoned or forgotten bot sessions. The cleanup process ensures that only
    truly inactive sessions are removed, preventing premature termination of active
    bots.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Game Loop
    code: "void GameLoop()\n{\n    // Periodically clean up idle bot sessions\n  \
      \  sBotResourcePool->CleanupIdleSessions();\n}"
    language: cpp
  - title: Integration with Timer-Based Cleanup
    code: "class BotManager\n{\npublic:\n    void Update()\n    {\n        // Run\
      \ cleanup every 5 minutes\n        if (m_cleanupTimer.Passed())\n        {\n\
      \            sBotResourcePool->CleanupIdleSessions();\n            m_cleanupTimer.Reset(300000);\
      \ // 5 minutes\n        }\n    }\n};"
    language: cpp
  notes: This method is designed to be thread-safe and can be called from any thread
    context. It internally uses locking mechanisms to ensure consistency when accessing
    shared session data structures. Performance is optimized by batching idle session
    detection and processing.
  warnings: Calling this method while bots are actively using resources may cause
    unexpected behavior if not properly synchronized with other bot operations. Ensure
    that no active bot operations are in progress before invoking cleanup.
  related:
  - GetActiveSessions
  - AddSession
  - RemoveSession
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T18:15:43.759105'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
