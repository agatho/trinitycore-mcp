api:
  class: CooldownCalculator
  method: CalculateSpellCooldown
  signature: uint32 CooldownCalculator::CalculateSpellCooldown(uint32 spellId, int
    * caster)
documentation:
  brief: Calculates and returns the cooldown time for a specified spell based on caster
    information.
  description: The CalculateSpellCooldown method determines the cooldown duration
    for a given spell ID, taking into account the caster's properties and state. This
    method is typically used within the TrinityCore framework to enforce spell cooldown
    mechanics in World of Warcraft gameplay. It evaluates various factors such as
    spell-specific cooldowns, caster buffs/debuffs, and game rules to compute the
    final cooldown value in milliseconds. The method ensures that spells cannot be
    cast repeatedly before their cooldown period has elapsed, maintaining game balance
    and preventing abuse.
  parameters:
  - name: spellId
    description: The unique identifier of the spell for which to calculate the cooldown.
      This must correspond to a valid spell entry in the database.
  - name: caster
    description: Pointer to an integer representing the caster's identifier or index.
      May be NULL if no specific caster is provided, in which case default cooldown
      calculations apply.
  returns: Returns a uint32 value representing the cooldown time in milliseconds for
    the specified spell. A return value of 0 indicates either no cooldown or an error
    in calculation.
  examples:
  - title: Basic Usage
    code: uint32 cooldown = cooldownCalculator.CalculateSpellCooldown(12345, nullptr);
      // Calculate cooldown for spell ID 12345 with no specific caster
    language: cpp
  - title: With Caster Information
    code: 'int casterId = 1001;

      uint32 cooldown = cooldownCalculator.CalculateSpellCooldown(12345, &casterId);
      // Calculate cooldown for spell ID 12345 with caster ID 1001'
    language: cpp
  notes: This method relies on internal spell data and may interact with various game
    systems including aura effects, talent trees, and item bonuses that influence
    cooldown reduction. The method assumes valid inputs and does not perform input
    validation itself.
  warnings: Passing an invalid spellId or null caster pointer can lead to undefined
    behavior or incorrect results. Ensure that the spell ID exists in the database
    before calling this method.
  related:
  - GetSpellCooldown
  - SetSpellCooldown
  - IsSpellOnCooldown
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T16:45:00.776910'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
