api:
  class: CharmInfo
  method: IsAtStay
  signature: bool CharmInfo::IsAtStay()
documentation:
  brief: Determines whether the charmed unit is currently at its stay position.
  description: The IsAtStay method checks if a charmed creature or unit is currently
    located at its designated stay position. This functionality is crucial for managing
    the behavior of summoned or charmed units in World of Warcraft, particularly when
    they are under the control of a player. The method evaluates the current position
    of the charmed unit against its defined stay coordinates and returns true if the
    unit is within an acceptable range of that location. This is typically used in
    conjunction with movement logic to ensure that charmed units remain near their
    owner or designated area.
  parameters: []
  returns: Returns true if the charmed unit is at its stay position, false otherwise.
    The method considers the unit's current coordinates and compares them against
    the stored stay position coordinates within a predefined tolerance range.
  examples:
  - title: Check if charmed unit is at stay position
    code: "if (player->GetCharmInfo()->IsAtStay()) {\n    // Unit is at stay position,\
      \ perform actions\n    player->SendNotification(\"Unit is at stay position\"\
      );\n}"
    language: cpp
  - title: Use in movement control logic
    code: "void ControlCharmedUnit(Player* player) {\n    CharmInfo* charmInfo = player->GetCharmInfo();\n\
      \    if (!charmInfo->IsAtStay()) {\n        // Move charmed unit back to stay\
      \ position\n        charmInfo->SetStayPosition(player->GetPosition());\n   \
      \     charmInfo->MoveToStayPosition();\n    }\n}"
    language: cpp
  notes: This method relies on the internal state management of CharmInfo, which tracks
    both the current position and the stay position of charmed units. The tolerance
    range for determining 'at stay' status is typically defined by the game's movement
    system and may vary based on unit type or specific charm effects.
  warnings: The method assumes that the CharmInfo object has been properly initialized
    with valid stay position data. Calling this method on a null CharmInfo pointer
    will result in undefined behavior. Additionally, frequent calls to this method
    during high-frequency update loops may impact performance if not optimized.
  related:
  - SetStayPosition
  - MoveToStayPosition
  - GetStayPosition
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T11:50:55.977323'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
