api:
  class: PhaseShift
  method: RemoveVisibleMapId
  signature: int PhaseShift::RemoveVisibleMapId(uint32 visibleMapId)
documentation:
  brief: Removes a visible map ID from the phase shift, returning the number of remaining
    visible maps.
  description: The RemoveVisibleMapId method removes a specified map ID from the list
    of visible maps within a PhaseShift object. This is used in World of Warcraft's
    phase system to control which maps are visible to players or creatures. The method
    typically returns the count of remaining visible maps after removal, though it
    may also return an error code if the specified map ID was not found. This functionality
    is crucial for implementing dynamic zoning, phased events, and visibility changes
    in game content.
  parameters:
  - name: visibleMapId
    description: The map identifier to be removed from the visible maps list. Must
      be a valid map ID that exists within the current phase context.
  returns: Returns an integer representing the number of remaining visible map IDs
    after removal. Returns -1 if the specified map ID was not found in the current
    phase shift.
  examples:
  - title: Basic usage example
    code: 'PhaseShift phase;

      phase.AddVisibleMapId(1234);

      phase.AddVisibleMapId(5678);

      int remaining = phase.RemoveVisibleMapId(1234); // Returns 1

      // Now only map ID 5678 remains visible'
    language: cpp
  - title: Error handling example
    code: "PhaseShift phase;\nphase.AddVisibleMapId(1001);\nint result = phase.RemoveVisibleMapId(9999);\
      \ // Attempt to remove non-existent map\nif (result == -1) {\n    // Handle\
      \ error: map ID not found\n    printf(\"Map ID 9999 not found in visible maps\\\
      n\");\n}"
    language: cpp
  notes: This method is part of the phase management system used by TrinityCore to
    control visibility of different game areas. The PhaseShift object maintains a
    list of map IDs that are currently visible to an entity (player or creature).
    Removing a map ID from this list effectively hides that map from the entity's
    view. This operation should be performed carefully as it can affect gameplay mechanics
    such as quest visibility, NPC spawning, and player movement restrictions.
  warnings: Removing a map ID that is not present in the current phase shift may result
    in an error code (-1) being returned. Always verify that the map ID exists before
    attempting removal to avoid unexpected behavior. In multiplayer environments,
    changes to phase shifts must be synchronized across all affected clients to maintain
    consistency.
  related:
  - AddVisibleMapId
  - HasVisibleMapId
  - GetVisibleMapIds
  - ClearVisibleMapIds
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T06:19:34.751449'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
