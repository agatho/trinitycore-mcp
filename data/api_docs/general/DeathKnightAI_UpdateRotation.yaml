api:
  class: DeathKnightAI
  method: UpdateRotation
  signature: void DeathKnightAI::UpdateRotation(Unit * target)
documentation:
  brief: Updates the Death Knight's combat rotation based on the current target and
    spell availability.
  description: The UpdateRotation method is responsible for determining and executing
    the optimal sequence of spells and abilities for a Death Knight in combat. It
    evaluates the current target's state, available runes, energy, and cooldowns to
    select the most effective actions within the Death Knight's rotation. This method
    typically integrates with the AI's decision-making system to ensure that the Death
    Knight prioritizes high-damage or utility spells based on encounter mechanics
    and player class specialization.
  parameters:
  - name: target
    description: Pointer to the Unit object representing the current combat target.
      This parameter is essential for determining spell targeting, damage output,
      and ability usage.
  returns: null
  examples:
  - title: Basic Usage in Combat AI Loop
    code: "void DeathKnightAI::Update()\n{\n    if (Unit* target = SelectTarget(SELECT_TARGET_TOPAGGRO))\n\
      \    {\n        UpdateRotation(target);\n    }\n}"
    language: cpp
  - title: Integration with Custom Rotation Logic
    code: "void DeathKnightAI::UpdateRotation(Unit* target)\n{\n    if (!target ||\
      \ !target->IsAlive())\n        return;\n\n    // Check for applicable spells\
      \ and execute rotation logic\n    if (me->HasUnitState(UNIT_STATE_CASTING))\n\
      \        return;\n\n    // Example: Prioritize Blood Boil when in melee range\n\
      \    if (me->IsWithinMeleeRange(target) && me->HasSpellCooldown(SPELL_BLOOD_BOIL))\n\
      \    {\n        DoCast(SPELL_BLOOD_BOIL);\n    }\n    else\n    {\n        //\
      \ Other rotation logic here\n    }\n}"
    language: cpp
  notes: This method is typically called during the AI's update cycle and should not
    be invoked manually unless implementing custom behavior. It assumes that the Death
    Knight has valid target selection and that core combat state checks are already
    performed.
  warnings: Do not call this method directly without ensuring that the Death Knight
    is in a valid combat state or that the target is properly initialized. Incorrect
    usage may lead to invalid spell casting or AI instability.
  related:
  - Update
  - SelectTarget
  - DoCast
  - HasSpellCooldown
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T06:36:05.334170'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
