api:
  class: Unit
  method: GetAuraEffect
  signature: AuraEffect * Unit::GetAuraEffect(int type, int family, const int & familyFlag,
    int casterGUID) const
documentation:
  brief: Retrieves a specific aura effect based on type, family, and caster GUID
  description: This method allows developers to access a specific aura effect from
    a Unit's aura list by specifying the aura type, family, family flag, and caster
    GUID. It is commonly used in World of Warcraft TrinityCore implementations for
    spell mechanics handling, particularly when dealing with aura effects that require
    precise identification of the source. The method returns a pointer to the AuraEffect
    object matching the specified criteria, or nullptr if no matching effect is found.
    This functionality is essential for implementing custom spell behaviors and maintaining
    accurate game state tracking.
  parameters:
  - name: type
    description: The aura type (e.g., SPELL_AURA_... constants) to search for. Valid
      values include various aura types like SPELL_AURA_MOD_STAT, SPELL_AURA_PROC_TRIGGER_SPELL,
      etc.
  - name: family
    description: The spell family (e.g., SPELLFAMILY_... constants) to filter by.
      This parameter helps narrow down the search to specific spell families such
      as SPELLFAMILY_WARLOCK or SPELLFAMILY_MAGE.
  - name: familyFlag
    description: The family flag (e.g., SPELLFAMILY_... flags) to match against. This
      allows for more precise filtering of aura effects based on specific spell flags
      within the family.
  - name: casterGUID
    description: The caster GUID (from the unit's owner) to search for. This parameter
      ensures that only aura effects from a specific source are returned, helping
      to avoid conflicts with similar spells or effects.
  returns: Returns a pointer to the AuraEffect object matching the specified criteria,
    or nullptr if no matching effect is found. The returned pointer may be null if
    the unit does not have the specified aura effect.
  examples:
  - title: Basic Usage Example
    code: AuraEffect* effect = unit->GetAuraEffect(SPELL_AURA_MOD_STAT, SPELLFAMILY_WARLOCK,
      0x1000, 0x123456789ABCDEF);
    language: cpp
  - title: Advanced Usage Example
    code: "if (effect != nullptr)\n{\n    // Process the effect\n    int stat = effect->GetModifierType();\n\
      \    // Do something with stat\n}\nelse\n{\n    // Handle no effect case\n}"
    language: cpp
  notes: This method is thread-safe when used properly, but should be used carefully
    in multi-threaded environments where unit state might change. Performance considerations
    include avoiding repeated calls to this method for multiple effects, as it involves
    iterating through the aura list and checking each element.
  warnings: Be cautious when using this method with non-specific family flags, as
    it may return incorrect results if multiple similar effects exist. Also, ensure
    that the caster GUID is valid before calling this method, as invalid GUIDs can
    lead to undefined behavior.
  related:
  - GetAuraEffect
  - GetAuraByType
  - GetAura
  - GetAuraCount
metadata:
  confidence: 0.95
  generated_at: '2025-10-30T13:31:16.949791'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
