api:
  class: HunterAI
  method: GetOptimalAspect
  signature: int HunterAI::GetOptimalAspect() const
documentation:
  brief: Determines and returns the optimal aspect to apply for a hunter based on
    current combat conditions and game state.
  description: The GetOptimalAspect method evaluates the current hunting scenario,
    including target type, distance, threat level, and available aspects, to determine
    which aspect will provide the greatest benefit. This method is typically used
    by the HunterAI class to make intelligent decisions about when and which aspect
    to apply during combat. The returned value corresponds to an aspect spell ID that
    can be directly cast or applied to the hunter's pet. The decision-making process
    considers factors such as whether the target is a boss, the hunter's current health,
    and the presence of debuffs or buffs on the target.
  parameters: []
  returns: Returns an integer representing the spell ID of the optimal aspect to apply.
    Possible values include aspect IDs like 13165 (Aspect of the Hawk), 13161 (Aspect
    of the Monkey), 13163 (Aspect of the Viper), or 13159 (Aspect of the Cheetah).
    Returns 0 if no optimal aspect is determined.
  examples:
  - title: Basic Usage in AI Logic
    code: "void HunterAI::UpdateAI()\n{\n    int aspectId = GetOptimalAspect();\n\
      \    if (aspectId > 0)\n    {\n        // Cast the optimal aspect\n        DoCast(me,\
      \ aspectId);\n    }\n}"
    language: cpp
  - title: Aspect Selection with Debug Logging
    code: "int HunterAI::GetOptimalAspect()\n{\n    int aspect = 0;\n    // Simplified\
      \ logic for demonstration\n    if (me->GetHealthPct() < 30)\n        aspect\
      \ = 13165; // Aspect of the Hawk\n    else if (me->GetVictim()->IsCreature()\
      \ && me->GetVictim()->ToCreature()->IsBoss())\n        aspect = 13163; // Aspect\
      \ of the Viper\n    \n    return aspect;\n}"
    language: cpp
  notes: This method is part of the AI decision-making process and should be called
    frequently during combat updates. The implementation may vary depending on the
    specific version of TrinityCore and any custom modifications to the AI behavior.
    The returned spell ID must correspond to a valid aspect spell that exists in the
    game's spell database.
  warnings: The method assumes that the hunter has access to all aspects and that
    the target is valid for aspect application. Calling this method outside of combat
    or with an invalid target may result in incorrect decisions or no aspect being
    selected. Ensure proper checks are performed before casting the returned aspect
    spell.
  related:
  - DoCast
  - GetVictim
  - IsCreature
  - GetHealthPct
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T08:54:47.223931'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
