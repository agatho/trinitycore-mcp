api:
  class: GatheringManager
  method: OnUpdate
  signature: void GatheringManager::OnUpdate(uint32 elapsed)
documentation:
  brief: Updates the gathering manager's internal state and processes active gathering
    operations.
  description: The OnUpdate method is a core component of the GatheringManager class
    responsible for maintaining and updating the state of all active gathering operations
    within the game world. This method is typically called by the game loop at regular
    intervals to process time-based events, check completion conditions, and manage
    resource collection activities. It handles the progression of gathering timers,
    validates player interactions, and ensures that gathering mechanics behave correctly
    according to game rules and server configurations. The method operates on a per-tick
    basis using the elapsed time parameter to accurately track progress and update
    relevant data structures.
  parameters:
  - name: elapsed
    description: The time elapsed since the last update call, measured in milliseconds.
      This value is used to determine how much time has passed for gathering operations
      and to calculate progress accordingly.
  returns: null
  examples:
  - title: Basic usage in game loop
    code: "void GameWorld::Update(uint32 diff)\n{\n    // ... other update logic ...\n\
      \    _gatheringManager.OnUpdate(diff);\n    // ... other update logic ...\n}"
    language: cpp
  - title: Integration with player interaction
    code: "void Player::UpdateGatherProgress(uint32 diff)\n{\n    if (IsGathering())\n\
      \    {\n        _gatheringManager.OnUpdate(diff);\n        // Handle completion\
      \ or progress updates\n    }\n}"
    language: cpp
  notes: This method is designed to be called from the main game update loop and should
    not be invoked directly by other systems. The elapsed parameter must represent
    actual time passed since last call; incorrect values will cause gathering operations
    to behave erratically. Performance considerations include minimizing expensive
    operations within this method as it's called frequently during gameplay.
  warnings: Do not call this method with zero or negative elapsed values, as this
    may cause undefined behavior in gathering progress calculations. Avoid calling
    this method from multiple threads simultaneously without proper synchronization
    mechanisms.
  related:
  - GatheringManager::StartGather
  - GatheringManager::StopGather
  - GatheringManager::IsGathering
metadata:
  confidence: 0.92
  generated_at: '2025-11-02T07:05:37.799001'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
