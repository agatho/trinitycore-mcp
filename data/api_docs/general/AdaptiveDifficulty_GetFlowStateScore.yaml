api:
  class: AdaptiveDifficulty
  method: GetFlowStateScore
  signature: float AdaptiveDifficulty::GetFlowStateScore(Player * player) const
documentation:
  brief: Calculates and returns the flow state score for a given player based on their
    current gameplay performance and difficulty adaptation metrics.
  description: The GetFlowStateScore method evaluates a player's engagement level
    within the game by analyzing various performance indicators such as combat effectiveness,
    progression speed, and challenge responsiveness. This score is used by the AdaptiveDifficulty
    system to dynamically adjust encounter difficulty in real-time, ensuring that
    players remain engaged without becoming frustrated or bored. The calculation takes
    into account factors like player death rate, time spent in combat, resource management
    efficiency, and overall performance consistency. The method requires a valid Player
    object as input and returns a floating-point value representing the calculated
    flow state score, where higher values typically indicate better engagement and
    appropriate challenge levels.
  parameters: []
  returns: A float value representing the player's current flow state score. Values
    typically range from 0.0 (indicating poor engagement or difficulty mismatch) to
    1.0 (indicating optimal engagement and difficulty balance). Scores below 0.3 may
    trigger difficulty reduction, while scores above 0.7 might prompt difficulty increase.
  examples:
  - title: Basic Usage Example
    code: "Player* player = ...; // Assume valid player object\nfloat score = sAdaptiveDifficulty->GetFlowStateScore(player);\n\
      if (score < 0.5f)\n{\n    // Player may be experiencing difficulty or disengagement\n\
      \    // Adjust difficulty accordingly\n}"
    language: cpp
  - title: Integration with Difficulty Adjustment Logic
    code: "void UpdatePlayerDifficulty(Player* player)\n{\n    float flowScore = sAdaptiveDifficulty->GetFlowStateScore(player);\n\
      \    if (flowScore < 0.4f)\n    {\n        // Reduce difficulty for under-challenged\
      \ players\n        player->SetDifficulty(Difficulty::DIFFICULTY_NORMAL);\n \
      \   }\n    else if (flowScore > 0.7f)\n    {\n        // Increase difficulty\
      \ for over-challenged players\n        player->SetDifficulty(Difficulty::DIFFICULTY_HEROIC);\n\
      \    }\n}"
    language: cpp
  notes: This method is part of the adaptive difficulty system and should only be
    called during active gameplay sessions when player performance data is available.
    The flow state score calculation may involve multiple internal metrics that are
    updated periodically during combat or exploration activities. Performance impact
    is minimal but depends on the complexity of the underlying scoring algorithm.
  warnings: Do not call this method outside of valid gameplay contexts as it may return
    inaccurate results or cause undefined behavior if player data is incomplete. The
    returned score should not be used directly for critical game logic decisions without
    proper validation and range checking.
  related:
  - AdaptiveDifficulty::UpdatePlayerMetrics
  - AdaptiveDifficulty::CalculateDifficultyLevel
  - AdaptiveDifficulty::GetPlayerFlowState
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T17:48:06.711073'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
