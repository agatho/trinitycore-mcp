api:
  class: GuardianDruidRefactored
  method: UpdateBuffs
  signature: void GuardianDruidRefactored::UpdateBuffs()
documentation:
  brief: Updates the guardian druid's buffs and aura states based on current combat
    conditions and spell effects.
  description: The UpdateBuffs method is responsible for managing and refreshing all
    active buff effects and aura states on a Guardian Druid character. This includes
    checking for expired buffs, applying new ones based on current spells or abilities,
    and ensuring the druid's status effects are properly maintained during combat.
    The method typically integrates with the core TrinityCore AI system to synchronize
    buff states with the game engine's spell handling mechanisms. It performs internal
    checks for buff expiration timers, spell proc conditions, and player state changes
    to ensure accurate and timely updates of all active auras.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in AI Update Loop
    code: "void GuardianDruidAI::UpdateAI(uint32 diff)\n{\n    // ... other AI logic\
      \ ...\n    if (m_updateBuffsTimer <= diff)\n    {\n        m_guardianDruid->UpdateBuffs();\n\
      \        m_updateBuffsTimer = 1000; // Update every second\n    }\n    else\n\
      \    {\n        m_updateBuffsTimer -= diff;\n    }\n}"
    language: cpp
  notes: This method is typically called from within the AI update loop at regular
    intervals. It may perform multiple internal checks and modifications to the druid's
    aura state, so it should not be called excessively in tight loops. The implementation
    relies on proper spell casting and aura management systems within TrinityCore.
  warnings: Calling this method outside of the proper AI update context may result
    in inconsistent buff states or unexpected behavior. Ensure that all related spell
    effects are properly initialized before calling this method, as it depends on
    the integrity of the druid's current spell and aura state.
  related:
  - GuardianDruidRefactored::UpdateAuras
  - GuardianDruidRefactored::CheckBuffExpiration
  - GuardianDruidRefactored::ApplyNewBuffs
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T03:34:43.191545'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
