api:
  class: GuildIntegration
  method: ProcessGuildBankTransaction
  signature: void GuildIntegration::ProcessGuildBankTransaction(int * player, uint32
    itemId, bool isDeposit)
documentation:
  brief: Processes a guild bank transaction for depositing or withdrawing an item.
  description: The ProcessGuildBankTransaction method handles the logic for transferring
    items between a player's inventory and the guild bank. It validates the transaction,
    updates item counts in both locations, and ensures proper guild permissions are
    checked. This method is typically invoked when a guild member attempts to deposit
    or withdraw an item from the guild bank. The operation modifies the player's inventory
    and the guild bank storage accordingly.
  parameters:
  - name: player
    description: Pointer to the player's identifier (GUID) who is performing the transaction.
  - name: itemId
    description: The unique identifier of the item being deposited or withdrawn from
      the guild bank.
  - name: isDeposit
    description: Boolean flag indicating whether the transaction is a deposit (true)
      or withdrawal (false).
  returns: null
  examples:
  - title: Deposit an item into guild bank
    code: 'GuildIntegration guildInt;

      int playerGuid = 12345;

      uint32 itemId = 56789;

      guildInt.ProcessGuildBankTransaction(&playerGuid, itemId, true);'
    language: cpp
  - title: Withdraw an item from guild bank
    code: 'GuildIntegration guildInt;

      int playerGuid = 12345;

      uint32 itemId = 56789;

      guildInt.ProcessGuildBankTransaction(&playerGuid, itemId, false);'
    language: cpp
  notes: This method assumes that all necessary permission checks and validation have
    been performed prior to calling. It does not handle error reporting directly but
    relies on the calling code to ensure valid inputs. The method modifies global
    state related to guild bank storage and player inventory.
  warnings: Ensure that the player GUID is valid and that the item ID corresponds
    to a real item in the game database. Improper use may lead to inconsistent inventory
    states or invalid data access.
  related:
  - GetGuildBankItem
  - UpdateGuildBankItem
  - ValidateGuildPermission
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T03:20:21.596829'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
