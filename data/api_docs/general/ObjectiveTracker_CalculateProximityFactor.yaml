api:
  class: ObjectiveTracker
  method: CalculateProximityFactor
  signature: float ObjectiveTracker::CalculateProximityFactor(Player * bot, const
    ObjectiveState & state)
documentation:
  brief: Calculates a proximity factor based on player distance to an objective for
    quest tracking purposes
  description: The CalculateProximityFactor method determines how close a player is
    to a specific quest objective and returns a normalized float value between 0.0
    and 1.0. This factor is used by the ObjectiveTracker to prioritize and display
    objectives based on their proximity to the player. A value of 1.0 indicates the
    player is very close to the objective, while 0.0 means the player is far away
    or the objective is not within tracking range. The method considers both physical
    distance and quest-specific proximity thresholds defined in the game's configuration.
  parameters:
  - name: bot
    description: Pointer to the Player object for which the proximity factor is being
      calculated. Must be a valid player instance.
  - name: state
    description: Reference to the ObjectiveState structure containing current objective
      data including position and tracking parameters.
  returns: Returns a float value between 0.0 and 1.0 representing the proximity factor.
    Values closer to 1.0 indicate higher proximity, while values near 0.0 indicate
    lower proximity or that the objective is out of range.
  examples:
  - title: Basic usage in quest tracking
    code: "float proximity = objectiveTracker->CalculateProximityFactor(player, objectiveState);\n\
      if (proximity > 0.5f) {\n    // Objective is relatively close\n    objectiveTracker->UpdateObjectiveDisplay(objectiveState);\n\
      }"
    language: cpp
  - title: Using proximity factor for priority sorting
    code: "std::vector<ObjectiveState> objectives = GetPlayerObjectives(player);\n\
      std::sort(objectives.begin(), objectives.end(), [](const ObjectiveState& a,\
      \ const ObjectiveState& b) {\n    float factorA = objectiveTracker->CalculateProximityFactor(player,\
      \ a);\n    float factorB = objectiveTracker->CalculateProximityFactor(player,\
      \ b);\n    return factorA > factorB; // Sort by proximity (highest first)\n\
      });"
    language: cpp
  notes: This method is typically called during quest update cycles and may involve
    distance calculations that could impact performance if used excessively. The proximity
    calculation considers both 3D world coordinates and any configured quest-specific
    thresholds. The method assumes the player and objective state are valid and properly
    initialized.
  warnings: Ensure the Player pointer and ObjectiveState reference are valid before
    calling this method to avoid undefined behavior. The proximity factor may return
    unexpected values if the objective position is invalid or if the player's location
    data is not properly synchronized.
  related:
  - GetObjectiveState
  - UpdateObjectiveDisplay
  - IsObjectiveInRange
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T22:59:20.738625'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
