api:
  class: Scenario
  method: AfterCriteriaTreeUpdate
  signature: void Scenario::AfterCriteriaTreeUpdate(const int * param0, int * param1)
documentation:
  brief: Updates the scenario criteria tree after modifications have been made.
  description: The AfterCriteriaTreeUpdate method is invoked to synchronize and process
    changes made to a scenario's criteria tree. This method ensures that any modifications
    to the criteria structure are properly applied and reflected in the active scenario
    state. It typically handles internal bookkeeping such as recalculating progress,
    updating player achievements, or triggering related events based on the modified
    criteria. The method is part of the scenario system's lifecycle management and
    is usually called automatically by the core framework when criteria changes occur.
  parameters:
  - name: param0
    description: Pointer to an integer representing the index or identifier of the
      criteria tree node that was updated. This parameter may be used internally to
      determine which portion of the criteria tree requires processing.
  - name: param1
    description: Pointer to an integer that may represent a status code, update flag,
      or result value indicating success or failure of the criteria update operation.
  returns: null
  examples:
  - title: Basic Usage Example
    code: "void MyScenario::OnCriteriaUpdate(int index, int status)\n{\n    // Simulate\
      \ updating a scenario criteria tree\n    Scenario* scenario = GetScenario();\n\
      \    scenario->AfterCriteriaTreeUpdate(&index, &status);\n}"
    language: cpp
  - title: Advanced Usage with Error Handling
    code: "void ScenarioManager::ProcessCriteriaChange(int nodeId)\n{\n    int status\
      \ = 0;\n    int nodeIndex = nodeId;\n    \n    // Perform validation before\
      \ calling update\n    if (nodeId < 0 || nodeId >= GetMaxNodeCount())\n    {\n\
      \        return; // Invalid node index\n    }\n    \n    // Update the criteria\
      \ tree\n    m_scenario->AfterCriteriaTreeUpdate(&nodeIndex, &status);\n    \n\
      \    if (status != 0)\n    {\n        // Log error or handle failure\n     \
      \   sLog->outError(\"Failed to update scenario criteria tree at node %d\", nodeId);\n\
      \    }\n}"
    language: cpp
  notes: This method is typically called internally by the TrinityCore framework when
    a scenario's criteria tree is modified. Developers should not need to call this
    directly unless implementing custom scenario logic or extending the core behavior.
    The parameters are passed by reference and may be modified during execution.
  warnings: Calling this method with invalid parameter values can lead to undefined
    behavior or crashes within the scenario system. Ensure that param0 points to a
    valid node index and that param1 is properly initialized before use.
  related:
  - Scenario::BeforeCriteriaTreeUpdate
  - Scenario::UpdateCriteria
  - Scenario::GetCriteriaTree
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T03:20:08.792545'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
