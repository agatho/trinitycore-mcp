api:
  class: SpatialGridQueryHelpers
  method: GetEntityType
  signature: int SpatialGridQueryHelpers::GetEntityType(Player * bot, int guid)
documentation:
  brief: Retrieves the entity type identifier for a given GameObject or Unit based
    on its GUID.
  description: The GetEntityType method determines and returns the type of a game
    entity (such as a player, creature, or game object) by examining its unique identifier
    (GUID). This function is typically used in spatial grid queries to categorize
    entities within a specific area. It helps in filtering and processing different
    types of entities efficiently during AI behavior or quest logic execution. The
    method requires a valid Player pointer and a GUID to perform the lookup.
  parameters:
  - name: bot
    description: Pointer to the Player object that is performing the query. Used for
      context and access to player-specific data.
  - name: guid
    description: The unique identifier (GUID) of the entity whose type is being retrieved.
      Must be a valid GUID associated with a GameObject or Unit in the world.
  returns: An integer representing the entity type. Possible values include constants
    like TYPEID_PLAYER, TYPEID_UNIT, TYPEID_GAMEOBJECT, etc., depending on the actual
    type of the entity identified by the GUID.
  examples:
  - title: Basic usage to determine entity type
    code: "int entityType = SpatialGridQueryHelpers::GetEntityType(playerBot, targetGuid);\n\
      if (entityType == TYPEID_UNIT)\n{\n    // Handle creature-specific logic\n}"
    language: cpp
  - title: Using entity type to filter units in a grid query
    code: "for (auto& guid : nearbyEntities)\n{\n    int type = SpatialGridQueryHelpers::GetEntityType(playerBot,\
      \ guid);\n    if (type == TYPEID_UNIT)\n    {\n        // Process nearby creatures\n\
      \    }\n}"
    language: cpp
  notes: This method relies on the internal GUID-to-type mapping maintained by TrinityCore's
    core systems. Ensure that the provided GUID is valid and corresponds to an existing
    entity in the world to avoid undefined behavior.
  warnings: Calling this method with an invalid or non-existent GUID may result in
    incorrect return values or runtime errors. Always validate GUIDs before passing
    them into this function.
  related:
  - GetEntityByGuid
  - IsPlayerType
  - IsCreatureType
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T14:48:19.296292'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
