api:
  class: Unit
  method: SetCharm
  signature: void Unit::SetCharm(Unit * target, bool apply)
documentation:
  brief: SetCharm sets a unit as the charm target of the current unit.
  description: The SetCharm method is used to establish or remove a charm relationship
    between two units in World of Warcraft. When applied, it makes the target unit
    the charm of the current unit, meaning that the current unit will control the
    target's actions and behavior. This method is typically used in conjunction with
    other charm-related functions like SetCharmedBy to manage the charm state of units.
    The method affects both the charm target and the charmer, ensuring proper synchronization
    of their states within the game mechanics.
  parameters:
  - name: target
    description: The Unit pointer that will become the charm target. This unit must
      be valid and cannot be nullptr.
  - name: apply
    description: Boolean value indicating whether to apply or remove the charm. True
      applies the charm, False removes it.
  returns: null
  examples:
  - title: Basic Charm Application Example
    code: 'Unit* target = ...;

      Unit* charmer = ...;

      charmer->SetCharm(target, true);'
    language: cpp
  - title: Advanced Charm Removal Example
    code: 'Unit* target = ...;

      Unit* charmer = ...;

      charmer->SetCharm(target, false);

      // This removes the charm from the target unit'
    language: cpp
  notes: This method should only be called when both units are valid and in the same
    zone. It is important to ensure that the target unit is not already charmed by
    another unit before applying a new charm. The method also requires proper synchronization
    of the charm state across both units, which may involve additional internal checks.
  warnings: This method should not be used on units that are already under charm control,
    as it can lead to unexpected behavior or crashes. It is recommended to check if
    the target unit is already charmed before applying a new charm. Also, care must
    be taken when using this method in multi-threaded environments.
  related:
  - SetCharmedBy
  - GetCharm
  - RemoveCharm
metadata:
  confidence: 0.9
  generated_at: '2025-10-30T01:24:56.464067'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
