api:
  class: MovementIntegration
  method: NeedsEmergencyMovement
  signature: bool MovementIntegration::NeedsEmergencyMovement()
documentation:
  brief: Determines whether emergency movement logic should be triggered for the associated
    unit.
  description: The NeedsEmergencyMovement method evaluates the current state of a
    unit to decide if emergency movement behavior is required. This typically occurs
    when a unit is under attack, stunned, feared, or otherwise incapacitated and needs
    to perform special movement patterns such as fleeing, random movement, or forced
    repositioning. The method checks various combat and status flags to determine
    if the unit's movement should be altered from normal behavior. It serves as a
    decision point for the AI system to activate emergency movement routines.
  parameters: []
  returns: Returns true if emergency movement conditions are met and the unit should
    engage emergency movement logic; otherwise returns false if normal movement behavior
    is appropriate.
  examples:
  - title: Basic Usage in AI Update
    code: "void CustomAI::UpdateAI(uint32 diff)\n{\n    if (me->GetMotionMaster()->GetCurrentMovementGeneratorType()\
      \ != MOTION_TYPE_EMERGENCY)\n    {\n        if (me->NeedsEmergencyMovement())\n\
      \        {\n            me->GetMotionMaster()->MoveEmergency(me->GetPosition());\n\
      \        }\n    }\n}"
    language: cpp
  notes: This method is typically called during AI update cycles to make real-time
    decisions about movement behavior. It may involve checking unit health, threat
    status, and various debuffs or buffs that affect mobility. The implementation
    likely uses internal state flags and combat data from the unit's current context.
  warnings: Ensure this method is not called excessively in tight loops as it may
    perform expensive checks on unit states. The emergency movement logic should only
    be triggered when necessary to avoid performance degradation.
  related:
  - MovementIntegration::UpdateEmergencyMovement
  - Unit::GetMotionMaster
  - MotionMaster::MoveEmergency
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T23:37:29.776387'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
