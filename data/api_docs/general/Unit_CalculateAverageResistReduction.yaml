api:
  class: Unit
  method: CalculateAverageResistReduction
  signature: float Unit::CalculateAverageResistReduction(const int * caster, int schoolMask,
    const Unit * victim, const SpellInfo * spellInfo)
documentation:
  brief: Calculates average resist reduction for a spell against a target
  description: This method computes the average resistance reduction applied to a
    spell based on the caster's level, the spell's school mask, and the target's resistance
    values. It is used in spell damage calculations to determine how much resistance
    affects the effectiveness of a spell against a target. The method considers both
    the caster's level and the victim's resistance values to calculate the reduction
    factor.
  parameters:
  - name: caster
    description: Pointer to the caster's level, used to determine the base resistance
      reduction calculation
  - name: schoolMask
    description: The spell school mask that determines which resistance type is being
      calculated
  - name: victim
    description: Pointer to the target unit whose resistance values are used in the
      calculation
  - name: spellInfo
    description: Pointer to the SpellInfo structure containing spell details for calculating
      resist reduction
  returns: Returns a float value representing the average resist reduction factor
    that should be applied to spell damage calculations
  examples:
  - title: Basic usage example
    code: float resistReduction = unit->CalculateAverageResistReduction(&casterLevel,
      schoolMask, victim, spellInfo);
    language: cpp
  notes: This method is typically used in spell damage calculations and requires accurate
    resistance values from both caster and victim to function properly. It may be
    affected by the target's resistance values and the caster's level.
  warnings: This method should only be called when both caster and victim are valid
    pointers, otherwise it may cause memory access violations or incorrect results
  related:
  - CalculateSpellDamage
  - CalculateDamage
  - GetResistance
metadata:
  confidence: 0.85
  generated_at: '2025-10-30T21:22:43.953347'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
