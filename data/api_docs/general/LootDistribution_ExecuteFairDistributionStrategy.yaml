api:
  class: LootDistribution
  method: ExecuteFairDistributionStrategy
  signature: void LootDistribution::ExecuteFairDistributionStrategy(Player * player,
    const LootItem & item, LootRollType & decision)
documentation:
  brief: Executes the fair distribution strategy for a loot item among players in
    the group.
  description: The ExecuteFairDistributionStrategy method determines how a loot item
    should be distributed among players in a group based on the configured loot rules.
    This method is typically invoked during the loot rolling process when a player
    rolls for an item, and it evaluates the distribution strategy to decide whether
    the item should be awarded to the rolling player or if another player in the group
    should receive it. The decision is influenced by factors such as loot rules (free-for-all,
    round-robin, master loot), player roles, and item properties. This method modifies
    the LootRollType parameter to indicate the outcome of the distribution strategy.
  parameters:
  - name: player
    description: Pointer to the Player object who initiated the loot roll. This player's
      role and permissions determine how the fair distribution is evaluated.
  - name: item
    description: Reference to the LootItem structure representing the item being distributed.
      Contains information about the item, its properties, and roll data.
  - name: decision
    description: Reference to a LootRollType variable that will be updated with the
      result of the fair distribution strategy. Possible values include LOOT_ROLL_PASS,
      LOOT_ROLL_NEED, LOOT_ROLL_GREED, or LOOT_ROLL_DISENCHANT.
  returns: null
  examples:
  - title: Basic usage in loot rolling
    code: "void HandleLootRoll(Player* player, LootItem const& item)\n{\n    LootRollType\
      \ decision = LOOT_ROLL_PASS;\n    lootDistribution.ExecuteFairDistributionStrategy(player,\
      \ item, decision);\n    // Process the decision result\n    switch (decision)\n\
      \    {\n        case LOOT_ROLL_NEED:\n            // Award item to player\n\
      \            break;\n        case LOOT_ROLL_GREED:\n            // Player has\
      \ greeded for item\n            break;\n        default:\n            // Pass\
      \ or other outcome\n            break;\n    }\n}"
    language: cpp
  notes: This method is part of the loot distribution system in TrinityCore and is
    called during the rolling phase of loot. It assumes that all players involved
    have been properly added to the loot group and that the item's properties are
    valid for the current distribution rules.
  warnings: Ensure that the player pointer and item reference are valid before calling
    this method, as invalid pointers can lead to crashes or undefined behavior. The
    decision parameter is modified in place and must be handled appropriately after
    the call.
  related:
  - LootDistribution::Roll
  - LootDistribution::DistributeItem
  - LootDistribution::IsFairDistributionStrategy
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T09:33:16.705959'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
