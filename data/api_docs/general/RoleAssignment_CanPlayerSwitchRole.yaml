api:
  class: RoleAssignment
  method: CanPlayerSwitchRole
  signature: bool RoleAssignment::CanPlayerSwitchRole(Player * player, GroupRole newRole,
    Group * group)
documentation:
  brief: Determines whether a player is allowed to switch to a specified group role.
  description: The CanPlayerSwitchRole method evaluates if a given player can transition
    to a new group role within a specified group. This check typically considers factors
    such as the player's current role, the target role, group composition rules, and
    any restrictions imposed by the game's raid or party management system. The method
    is commonly used before attempting to assign a new role to ensure that the operation
    complies with game mechanics and prevents invalid role assignments.
  parameters:
  - name: player
    description: Pointer to the Player object whose ability to switch roles is being
      evaluated. Must not be null.
  - name: newRole
    description: The GroupRole enum value representing the target role the player
      wants to switch to. Valid values depend on the group type and current game rules.
  - name: group
    description: Pointer to the Group object in which the role switch is being considered.
      Must not be null and must contain the specified player.
  returns: Returns true if the player can successfully switch to the new role; otherwise,
    returns false. This indicates whether the operation would be valid according to
    group rules and player state.
  examples:
  - title: Check if Player Can Switch Role
    code: "if (RoleAssignment::CanPlayerSwitchRole(player, GroupRole::TANK, group))\
      \ {\n    // Proceed with role assignment\n    group->ChangePlayerRole(player,\
      \ GroupRole::TANK);\n} else {\n    // Notify player that role switch is not\
      \ allowed\n    player->SendNotification(\"Cannot switch to this role at this\
      \ time.\");\n}"
    language: cpp
  notes: This method may perform internal checks such as verifying the group type
    (raid vs. party), ensuring the player is a member of the group, and confirming
    that the target role does not conflict with existing assignments. It is recommended
    to call this method before attempting any actual role assignment to prevent invalid
    state changes.
  warnings: Do not assume that a successful return value guarantees the role switch
    will succeed in all cases; additional validation may be required depending on
    the specific implementation of group management logic.
  related:
  - RoleAssignment::AssignPlayerRole
  - Group::ChangePlayerRole
  - Group::GetPlayerRole
metadata:
  confidence: 0.9
  generated_at: '2025-11-03T19:30:03.326584'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
