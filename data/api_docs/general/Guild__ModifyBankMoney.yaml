api:
  class: Guild
  method: _ModifyBankMoney
  signature: bool Guild::_ModifyBankMoney(int trans, uint64 amount, bool add)
documentation:
  brief: Modifies the guild's bank money by adding or removing a specified amount.
  description: The _ModifyBankMoney method is an internal utility function used by
    the Guild class to adjust the total amount of money stored in the guild's bank.
    This method handles the core logic for depositing and withdrawing gold from the
    guild's financial resources. It takes a transaction type identifier, an amount
    of money to modify, and a flag indicating whether to add or subtract the amount.
    The method ensures that the guild's financial state is properly updated and validated.
    This function is typically called by other guild-related methods when processing
    banking operations such as guild bank deposits, withdrawals, or transfers.
  parameters:
  - name: trans
    description: Transaction type identifier that determines the context of the modification.
      Valid values are typically defined in the transaction system and may include
      types like deposit, withdrawal, or transfer.
  - name: amount
    description: The amount of money (in copper) to be added or removed from the guild
      bank. Must be a non-negative value representing the quantity of currency being
      modified.
  - name: add
    description: Boolean flag indicating whether to add (true) or remove (false) the
      specified amount from the guild bank balance.
  returns: Returns true if the modification was successful and the guild's financial
    state was properly updated. Returns false if the operation failed, which could
    occur due to insufficient funds for withdrawal attempts or other validation errors.
  examples:
  - title: Adding money to guild bank
    code: "Guild* guild = ...;\nbool success = guild->_ModifyBankMoney(TRANSACTION_DEPOSIT,\
      \ 1000000, true); // Add 100 gold\nif (success) {\n    // Bank balance updated\
      \ successfully\n}"
    language: cpp
  - title: Withdrawing money from guild bank
    code: "Guild* guild = ...;\nbool success = guild->_ModifyBankMoney(TRANSACTION_WITHDRAWAL,\
      \ 500000, false); // Remove 50 gold\nif (success) {\n    // Bank balance updated\
      \ successfully\n} else {\n    // Handle insufficient funds or other error\n}"
    language: cpp
  notes: This is an internal method and should not be called directly from outside
    the Guild class. The method performs basic validation but does not handle complex
    transaction logging or synchronization. It assumes that the calling code has already
    validated access permissions and other preconditions.
  warnings: Direct usage of this method may bypass important guild banking checks
    and logging. Always ensure proper authorization before calling this function,
    as improper use could lead to inconsistent financial states in the guild bank.
  related:
  - Guild::GetBankMoney
  - Guild::SetBankMoney
  - Guild::DepositItemToBank
  - Guild::WithdrawItemFromBank
metadata:
  confidence: 0.85
  generated_at: '2025-11-04T03:46:52.091121'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
