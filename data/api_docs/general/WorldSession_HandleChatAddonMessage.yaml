api:
  class: WorldSession
  method: HandleChatAddonMessage
  signature: void WorldSession::HandleChatAddonMessage(int type, std::string prefix,
    std::string text, bool isLogged, std::string target, int targetGuid)
documentation:
  brief: Processes and handles addon chat messages sent by players in the World of
    Warcraft client.
  description: The HandleChatAddonMessage method is responsible for processing incoming
    addon chat messages from players. It receives parameters such as message type,
    prefix, text content, logging status, target player information, and target GUID
    to properly route and display the addon message within the game environment. This
    method integrates with TrinityCore's chat system to support third-party addons
    that utilize custom chat channels or extended communication features beyond standard
    in-game chat. The method ensures proper handling of addon messages according to
    game rules and permissions, including validation of message content and appropriate
    target handling for whispers or group communications.
  parameters:
  - name: type
    description: The type of addon message being processed. This typically corresponds
      to predefined chat message types (e.g., SAY, YELL, WHISPER) that determine how
      the message is displayed and routed within the game.
  - name: prefix
    description: A string prefix used to identify or categorize the addon message.
      This may be used by addons to distinguish different types of messages or provide
      additional context for message interpretation.
  - name: text
    description: The actual text content of the addon message that will be displayed
      to recipients. This is the core payload of the message being sent through the
      addon channel.
  - name: isLogged
    description: A boolean flag indicating whether the addon message should be logged
      for administrative review or audit purposes. When true, the message may be recorded
      in logs for monitoring.
  - name: target
    description: The target player name or identifier for targeted messages (such
      as whispers). This parameter specifies to whom the addon message is directed.
  - name: targetGuid
    description: The globally unique identifier (GUID) of the target player. This
      numeric value uniquely identifies the recipient within the game world and is
      used for direct targeting operations.
  returns: null
  examples:
  - title: Basic Addon Message Handling
    code: "void WorldSession::HandleChatAddonMessage(int type, std::string prefix,\
      \ std::string text, bool isLogged, std::string target, int targetGuid)\n{\n\
      \    // Process addon message\n    if (type == CHAT_MSG_WHISPER)\n    {\n  \
      \      SendAddonMessage(prefix, text, target);\n    }\n}"
    language: cpp
  notes: This method is typically invoked by the TrinityCore network handler when
    a client sends an addon chat message packet. It's important to validate all incoming
    parameters to prevent potential exploits or malformed messages from disrupting
    gameplay. The implementation should properly sanitize input data before processing.
  warnings: Improper handling of the prefix or text parameters could lead to security
    vulnerabilities or unexpected behavior in addon systems. Always ensure proper
    validation and sanitization of user-provided content before processing.
  related:
  - HandleChatMessage
  - SendAddonMessage
  - IsAddonMessageAllowed
metadata:
  confidence: 0.9
  generated_at: '2025-11-04T22:33:27.795641'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
