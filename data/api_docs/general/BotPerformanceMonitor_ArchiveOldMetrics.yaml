api:
  class: BotPerformanceMonitor
  method: ArchiveOldMetrics
  signature: void BotPerformanceMonitor::ArchiveOldMetrics(uint64_t olderThanMicroseconds)
documentation:
  brief: Archives performance metrics that are older than the specified threshold
    in microseconds
  description: The ArchiveOldMetrics method removes and archives performance data
    from the bot performance monitoring system that exceeds a given age threshold.
    This method is typically used to manage storage space and maintain performance
    logs by moving older entries to an archive location or database. The archived
    metrics can be used for historical analysis, debugging, or performance trend evaluation.
    The method operates on a time-based cutoff where any metric record with a timestamp
    older than the specified microseconds value will be processed for archiving.
  parameters:
  - name: olderThanMicroseconds
    description: The age threshold in microseconds. Records older than this value
      will be archived. Must be a positive integer representing time duration.
  returns: void
  examples:
  - title: Archive metrics older than 1 hour
    code: 'uint64_t oneHourInMicroseconds = 3600 * 1000000;

      botPerformanceMonitor->ArchiveOldMetrics(oneHourInMicroseconds);'
    language: cpp
  - title: Archive metrics older than 24 hours with error handling
    code: "uint64_t twentyFourHoursInMicroseconds = 24 * 3600 * 1000000;\ntry {\n\
      \    botPerformanceMonitor->ArchiveOldMetrics(twentyFourHoursInMicroseconds);\n\
      } catch (const std::exception& e) {\n    // Handle potential exceptions from\
      \ archive operations\n    LOG_ERROR(\"performance\", \"Failed to archive old\
      \ metrics: {}\", e.what());\n}"
    language: cpp
  notes: This method likely performs database or file I/O operations and may have
    performance implications when dealing with large volumes of data. It's recommended
    to call this method during low-traffic periods or as part of a scheduled maintenance
    task. The implementation may involve locking mechanisms to ensure data consistency
    during the archiving process.
  warnings: Calling this method with a very small value for olderThanMicroseconds
    might result in archiving all current metrics, potentially removing valuable recent
    performance data. Ensure that the threshold is set appropriately to preserve necessary
    historical information while managing storage requirements.
  related:
  - GetPerformanceMetrics
  - ClearOldMetrics
  - UpdateMetric
metadata:
  confidence: 0.85
  generated_at: '2025-11-06T18:44:12.945041'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
