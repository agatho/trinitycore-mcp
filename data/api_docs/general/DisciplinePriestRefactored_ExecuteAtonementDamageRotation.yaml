api:
  class: DisciplinePriestRefactored
  method: ExecuteAtonementDamageRotation
  signature: void DisciplinePriestRefactored::ExecuteAtonementDamageRotation(int *
    target)
documentation:
  brief: Executes the damage rotation for Atonement ability as a Discipline Priest
  description: This method implements the core damage execution logic for the Atonement
    ability in the Discipline Priest class. It determines when and how to apply Atonement
    damage based on current combat state, target conditions, and spell availability.
    The method handles targeting logic, damage calculation, and ensures proper integration
    with the priest's overall rotation strategy. This function is typically called
    during the AI's decision-making process to execute optimal damage output.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in AI Loop
    code: "void DisciplinePriestAI::UpdateAI(uint32 diff)\n{\n    if (me->IsInCombat())\n\
      \    {\n        ExecuteAtonementDamageRotation(&targetGuid);\n    }\n}"
    language: cpp
  notes: This method assumes that the priest has valid target information and that
    Atonement is active. The method should only be called when the priest is in combat
    and has a valid target. Performance considerations include avoiding unnecessary
    calculations when Atonement is not available or applicable.
  warnings: Do not call this method without ensuring the priest is in combat and has
    a valid target. Calling this method outside of combat may result in undefined
    behavior or incorrect spell application. The target parameter should be properly
    validated before passing to this method.
  related:
  - ExecuteAtonementHealRotation
  - CheckAtonementAvailability
  - GetAtonementDamage
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T12:24:21.957029'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
