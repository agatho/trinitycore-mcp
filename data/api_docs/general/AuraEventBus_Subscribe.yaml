api:
  class: AuraEventBus
  method: Subscribe
  signature: bool AuraEventBus::Subscribe(BotAI * subscriber, const int & types)
documentation:
  brief: Subscribes a BotAI instance to receive aura-related events of specified types
  description: The Subscribe method registers a BotAI subscriber with the AuraEventBus
    to receive notifications about specific aura events. It allows AI scripts to react
    to changes in player auras, such as application, removal, or modification of buffs
    and debuffs. The method takes a pointer to a BotAI instance and a bitmask of event
    types to subscribe to. Returns true if the subscription was successful, false
    otherwise. This mechanism is crucial for implementing AI behaviors that respond
    dynamically to aura states in World of Warcraft.
  parameters:
  - name: subscriber
    description: Pointer to the BotAI instance that wants to receive aura events.
      Must be a valid pointer to an initialized BotAI object.
  - name: types
    description: Bitmask specifying which aura event types to subscribe to. Each bit
      represents a different aura event type (e.g., application, removal, modification).
      Values are typically defined as constants in the AuraEventBus or related enums.
  returns: True if the subscription was successfully added to the event bus, false
    if the subscription failed due to invalid parameters or internal errors.
  examples:
  - title: Basic Subscription
    code: "BotAI* myBot = new BotAI();\nint auraTypes = AURA_EVENT_APPLY | AURA_EVENT_REMOVE;\n\
      bool success = AuraEventBus::Instance()->Subscribe(myBot, auraTypes);\nif (success)\
      \ {\n    // Bot will now receive apply and remove events\n}"
    language: cpp
  - title: Subscription with All Event Types
    code: "BotAI* ai = GetBotAI();\nint allAuraEvents = AURA_EVENT_APPLY | AURA_EVENT_REMOVE\
      \ | AURA_EVENT_MODIFY;\nbool result = AuraEventBus::Instance()->Subscribe(ai,\
      \ allAuraEvents);\nif (!result) {\n    // Handle subscription failure\n}"
    language: cpp
  notes: The method uses a singleton pattern for the AuraEventBus instance. Subscriptions
    are typically managed internally by the AI system and should not be called directly
    unless implementing custom event handling logic. The types parameter is expected
    to be a bitmask of valid aura event constants defined in the TrinityCore API.
  warnings: Calling Subscribe with an invalid BotAI pointer will likely cause undefined
    behavior or crashes. Ensure that the BotAI instance is properly initialized before
    attempting subscription. Also, subscriptions are not automatically removed when
    a BotAI object is destroyed, so proper cleanup should be handled by the caller.
  related:
  - Unsubscribe
  - Publish
  - GetInstance
metadata:
  confidence: 0.9
  generated_at: '2025-11-06T21:02:25.434440'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
