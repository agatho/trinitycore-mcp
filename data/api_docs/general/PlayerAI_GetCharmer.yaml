api:
  class: PlayerAI
  method: GetCharmer
  signature: Creature * PlayerAI::GetCharmer() const
documentation:
  brief: Returns the Creature object that is currently charming or controlling this
    player.
  description: The GetCharmer method retrieves the Creature instance that is currently
    exerting control over the player through charm effects such as the 'Charm' spell.
    This method is typically used within AI logic to determine if a player is under
    the influence of an external entity, which can affect behavior and decision-making
    in combat or interaction scenarios. The returned pointer may be null if no creature
    is currently charming the player. This functionality is essential for proper handling
    of player-controlled AI states and maintaining game balance when players are influenced
    by hostile or friendly creatures.
  parameters: []
  returns: A pointer to the Creature object that is charming the player, or nullptr
    if no creature is currently charming the player.
  examples:
  - title: Check if player is charmed
    code: "if (Creature* charmer = player->GetCharmer())\n{\n    // Player is being\
      \ charmed by 'charmer'\n    // Perform actions based on the charmer's type or\
      \ faction\n    if (charmer->IsHostileTo(player))\n    {\n        // Handle hostile\
      \ charm logic\n    }\n}"
    language: cpp
  - title: Interrupt charm effect
    code: "Creature* charmer = player->GetCharmer();\nif (charmer)\n{\n    // Remove\
      \ charm effect from player\n    player->RemoveCharm();\n    // Optionally, make\
      \ the charmer attack the player\n    charmer->AI()->AttackStart(player);\n}"
    language: cpp
  notes: This method is part of the PlayerAI class and should only be called when
    the player has an active AI component. The returned Creature pointer remains valid
    as long as the charm effect persists, but becomes invalid once the charm is removed
    or the creature dies.
  warnings: Be cautious when dereferencing the returned pointer without checking for
    null, as it may cause a crash if the player is not currently charmed. Also, modifying
    the charm state directly through this method can lead to unexpected behavior in
    AI logic and should be avoided unless absolutely necessary.
  related:
  - SetCharmer
  - IsCharmActive
  - RemoveCharm
metadata:
  confidence: 0.95
  generated_at: '2025-11-03T21:50:21.302152'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
