api:
  class: SubtletyRogueRefactored
  method: UpdateRotation
  signature: void SubtletyRogueRefactored::UpdateRotation(int * target)
documentation:
  brief: Updates the subtlety rogue's rotation state based on target and combat conditions
  description: The UpdateRotation method manages the decision-making process for a
    subtlety rogue's combat rotation. It evaluates the current target, player state,
    and available abilities to determine the optimal next action in the rotation sequence.
    This method typically handles ability selection, resource management, and positioning
    logic specific to the subtlety rogue class. The method modifies internal state
    variables and may trigger ability casts or updates to the AI's decision tree.
    It is called regularly during combat to maintain an effective rotation strategy.
  parameters:
  - name: target
    description: Pointer to the target object that the rogue is engaging in combat.
      This parameter determines which enemy the rotation logic will prioritize and
      how abilities are selected based on target properties such as health, distance,
      and threat level.
  returns: null
  examples:
  - title: Basic UpdateRotation Usage
    code: "void SomeCombatHandler() {\n    Unit* target = player->GetVictim();\n \
      \   rogue->UpdateRotation(&target);\n}"
    language: cpp
  - title: Integration with Combat Loop
    code: "void SubtletyRogueRefactored::UpdateAI() {\n    if (me->IsInCombat()) {\n\
      \        Unit* target = me->GetVictim();\n        if (target) {\n          \
      \  UpdateRotation(&target);\n        }\n    }\n}"
    language: cpp
  notes: This method is typically called from within the AI update loop and should
    not be invoked directly during combat without proper state checks. The target
    parameter must point to a valid Unit object, otherwise undefined behavior may
    occur. The method assumes that the rogue has already been initialized with appropriate
    combat state information.
  warnings: Do not call UpdateRotation with a null or invalid target pointer as this
    will likely cause crashes or unexpected behavior. Ensure that the rogue is in
    a valid combat state before calling this method to avoid incorrect rotation decisions.
  related:
  - GetNextAbility
  - CheckResources
  - EvaluateTarget
  - ExecuteRotation
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T18:40:09.470775'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
