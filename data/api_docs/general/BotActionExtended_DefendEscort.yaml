api:
  class: BotActionExtended
  method: DefendEscort
  signature: BotActionExtended BotActionExtended::DefendEscort(int bot, int attacker,
    int escort, uint32 questId, uint32 timestamp)
documentation:
  brief: Initiates a bot's defensive action to protect an escorted target from attackers
    during a quest.
  description: The DefendEscort method is used to instruct a bot to engage in defensive
    behavior while escorting a target, typically during a quest that involves protecting
    a character or object. This method assigns the bot to monitor and attack any attackers
    that threaten the escorted unit. It ensures that the bot prioritizes defending
    the escort over other actions until either the escort reaches its destination,
    the quest is completed, or all attackers are eliminated. The method requires valid
    identifiers for the bot, attacker, and escort entities, along with a quest ID
    to properly manage the context of the escort.
  parameters:
  - name: bot
    description: The unique identifier (GUID) of the bot that will perform the defensive
      action.
  - name: attacker
    description: The unique identifier (GUID) of the attacking unit that the bot should
      target.
  - name: escort
    description: The unique identifier (GUID) of the escorted unit that the bot must
      protect.
  - name: questId
    description: The quest identifier that defines the context and duration of the
      escort behavior.
  - name: timestamp
    description: A time-based value used to track when the action was initiated, ensuring
      proper timing and state management.
  returns: Returns a BotActionExtended object representing the newly created defensive
    escort action. This object can be used to manage or cancel the action later.
  examples:
  - title: Basic usage of DefendEscort
    code: BotActionExtended action = botAI->DefendEscort(botGuid, attackerGuid, escortGuid,
      12345, time(nullptr));
    language: cpp
  - title: Using DefendEscort in a quest context
    code: "if (questStatus == QUEST_STATUS_INCOMPLETE) {\n    BotActionExtended action\
      \ = botAI->DefendEscort(botGuid, attackerGuid, escortGuid, questId, GetGameTime());\n\
      \    // Assign the action to the bot's AI state\n}"
    language: cpp
  notes: This method is typically used in conjunction with quest-based escort mechanics
    in TrinityCore. The timestamp parameter helps ensure that actions are not outdated
    or misapplied when the quest state changes. It is recommended to validate all
    GUIDs before calling this method to avoid runtime errors.
  warnings: Calling this method without valid GUIDs for bot, attacker, and escort
    may result in undefined behavior or AI malfunction. The questId must match an
    active quest to ensure proper action lifecycle management.
  related:
  - BotAI::Escort
  - BotAI::Attack
  - BotAI::Follow
metadata:
  confidence: 0.85
  generated_at: '2025-11-09T03:35:23.705309'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
