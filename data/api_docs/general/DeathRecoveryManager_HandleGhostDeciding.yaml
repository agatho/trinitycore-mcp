api:
  class: DeathRecoveryManager
  method: HandleGhostDeciding
  signature: void DeathRecoveryManager::HandleGhostDeciding(uint32 diff)
documentation:
  brief: Processes ghost state decisions for players who have died and are awaiting
    resurrection or corpse retrieval.
  description: The HandleGhostDeciding method manages the logic for determining what
    happens to a player's ghost state after death. It evaluates the time elapsed since
    death, checks if the player has been resurrected or if their corpse has been recovered,
    and handles the transition of the player from a ghost state back to a living state.
    This method is typically called during the game loop to periodically update ghost-related
    states and ensure proper cleanup of ghost data when appropriate. It plays a key
    role in maintaining the integrity of the player's death and resurrection mechanics
    within the TrinityCore framework.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage in Game Loop
    code: "void GameWorld::Update(uint32 diff)\n{\n    // Other updates...\n    m_deathRecoveryManager.HandleGhostDeciding(diff);\n\
      \    // Other updates...\n}"
    language: cpp
  notes: This method is typically invoked from the main game loop or a dedicated update
    thread. It's important to note that this function does not directly handle resurrection
    logic but rather manages the decision-making process for ghost states, including
    time-based transitions and cleanup of temporary ghost data.
  warnings: Improper handling of ghost state decisions may lead to players remaining
    in an invalid ghost state indefinitely or experiencing incorrect behavior upon
    resurrection. Ensure that all related systems (corpse management, resurrection
    mechanics) are properly synchronized with this method's execution.
  related:
  - HandleGhostState
  - UpdateCorpseState
  - CheckGhostStatus
metadata:
  confidence: 0.85
  generated_at: '2025-11-07T04:07:47.130234'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
