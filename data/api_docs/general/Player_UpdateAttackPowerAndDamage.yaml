api:
  class: Player
  method: UpdateAttackPowerAndDamage
  signature: void Player::UpdateAttackPowerAndDamage(bool ranged)
documentation:
  brief: Updates the player's attack power and damage values based on current equipment
    and stats.
  description: The UpdateAttackPowerAndDamage method recalculates and updates a player's
    attack power and damage statistics. This method is typically invoked when equipment
    changes, stat modifications occur, or when the player's combat state needs to
    be refreshed. It handles both melee and ranged attack calculations depending on
    the 'ranged' parameter. The method ensures that all relevant combat attributes
    are synchronized with the player's current gear and character state. This function
    is crucial for maintaining accurate combat mechanics in World of Warcraft's TrinityCore
    implementation.
  parameters: []
  returns: null
  examples:
  - title: Basic Usage
    code: 'Player* player = ...;

      player->UpdateAttackPowerAndDamage(false); // Update melee attack power and
      damage'
    language: cpp
  - title: Ranged Attack Update
    code: 'Player* player = ...;

      player->UpdateAttackPowerAndDamage(true); // Update ranged attack power and
      damage'
    language: cpp
  notes: This method internally calls other stat calculation functions and may trigger
    updates to the player's combat ratings and spell power. It should be called whenever
    equipment is modified or when significant stat changes occur. The method does
    not directly send updates to the client; it only recalculates internal values.
  warnings: Avoid calling this method excessively during combat as it may cause performance
    issues. Ensure that all relevant stat modifications are complete before calling
    this function to prevent inconsistent state updates.
  related:
  - GetAttackPower
  - GetDamageInfo
  - UpdateStats
  - SetEquipment
metadata:
  confidence: 0.95
  generated_at: '2025-10-29T19:10:17.344377'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
