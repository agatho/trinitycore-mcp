api:
  class: DruidAI
  method: UpdateRotation
  signature: void DruidAI::UpdateRotation(int * target)
documentation:
  brief: Updates the druid's combat rotation logic based on current target and spell
    availability
  description: The UpdateRotation method is responsible for determining and executing
    the appropriate combat abilities for a druid AI character. It evaluates the current
    target, available spells, mana levels, and combat state to select the most effective
    ability from the druid's rotation sequence. This method typically handles spell
    casting decisions, including offensive abilities like Mangle, Shred, or Swipe,
    as well as defensive actions such as Barkskin or Survival Instincts. The method
    operates within the context of a combat AI system where it must balance damage
    output with survivability based on encounter conditions.
  parameters:
  - name: target
    description: Pointer to an integer representing the target's ID or index in the
      combat system. This parameter is used to determine which enemy to focus attacks
      on and to evaluate target-specific conditions for spell selection.
  returns: null
  examples:
  - title: Basic Usage in Combat AI Loop
    code: "void DruidAI::Update()\n{\n    int targetId = GetTargetId();\n    UpdateRotation(&targetId);\n\
      }"
    language: cpp
  - title: Integration with Spell Cooldown Management
    code: "void DruidAI::UpdateRotation(int* target)\n{\n    if (HasSpellReady(SpellID::MANGLE)\
      \ && *target != 0)\n        CastSpell(SpellID::MANGLE, *target);\n    else if\
      \ (HasSpellReady(SpellID::SHRED))\n        CastSpell(SpellID::SHRED, *target);\n\
      \    else\n        // Handle other rotation logic\n}"
    language: cpp
  notes: This method is typically called during each AI update cycle and should not
    be invoked directly from player-controlled actions. The target parameter may be
    null or invalid in certain situations, so proper validation is recommended before
    using it. Performance considerations include avoiding expensive operations within
    this method as it's called frequently during combat.
  warnings: Do not modify the target value pointed to by the parameter unless explicitly
    required by your custom implementation. Passing an invalid or uninitialized pointer
    can lead to undefined behavior and potential crashes in the AI system.
  related:
  - GetTargetId
  - CastSpell
  - HasSpellReady
  - Update
metadata:
  confidence: 0.85
  generated_at: '2025-11-02T08:30:59.520808'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
