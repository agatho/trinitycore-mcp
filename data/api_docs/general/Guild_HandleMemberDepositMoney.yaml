api:
  class: Guild
  method: HandleMemberDepositMoney
  signature: void Guild::HandleMemberDepositMoney(WorldSession * session, uint64 amount,
    bool cashFlow)
documentation:
  brief: Processes a guild member's deposit of gold into the guild bank.
  description: The HandleMemberDepositMoney method handles the action of a guild member
    depositing a specified amount of gold into the guild's bank account. This method
    is typically invoked when a player uses the guild bank interface to deposit funds,
    and it updates both the player's inventory and the guild's total gold reserves.
    The method ensures that the player has sufficient gold in their possession before
    proceeding with the transaction. It also supports an optional cash flow parameter
    that may affect how the transaction is logged or processed within the game's economy
    system.
  parameters:
  - name: session
    description: Pointer to the WorldSession object representing the player's active
      session. Used to identify the player and validate permissions.
  - name: amount
    description: The amount of gold (in copper) that the player wishes to deposit
      into the guild bank. Must be a positive value representing valid currency.
  - name: cashFlow
    description: Boolean flag indicating whether the transaction should be logged
      as part of the cash flow system. If true, additional logging or accounting may
      occur.
  returns: null
  examples:
  - title: Basic Gold Deposit
    code: 'Guild* guild = player->GetGuild();

      WorldSession* session = player->GetSession();

      uint64 depositAmount = 100000; // 10 gold

      bool cashFlow = true;

      guild->HandleMemberDepositMoney(session, depositAmount, cashFlow);'
    language: cpp
  notes: This method assumes that the player is a member of a guild and has sufficient
    gold in their inventory. It does not perform direct validation of the session
    or guild membership; these checks are expected to be performed by calling code.
    The method may trigger updates to the guild's bank UI and potentially send notifications
    to other guild members.
  warnings: Improper handling of the amount parameter can lead to invalid gold transactions,
    including negative values which could cause unexpected behavior. The cashFlow
    flag should be used carefully as it might affect audit trails or game economy
    balance if misused.
  related:
  - HandleMemberWithdrawMoney
  - GetGuildBankBalance
  - IsMember
metadata:
  confidence: 0.85
  generated_at: '2025-11-01T00:37:17.254593'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
