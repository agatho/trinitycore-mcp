api:
  class: ElementalShamanRefactored
  method: UpdateRotation
  signature: void ElementalShamanRefactored::UpdateRotation(int * target)
documentation:
  brief: Updates the elemental shaman's rotation based on current target and combat
    state
  description: The UpdateRotation method manages the core combat logic for an elemental
    shaman AI, determining the appropriate spell sequence and timing based on the
    current target and player state. This method evaluates the target's health, available
    mana, and combat conditions to select optimal abilities such as Lava Burst, Earth
    Shock, or Chain Lightning. It also handles cooldown management and ensures proper
    resource allocation during combat encounters. The method is typically called during
    the AI update cycle and integrates with the broader combat decision-making framework
    of the elemental shaman class.
  parameters:
  - name: target
    description: Pointer to the target's current health value, used to determine spell
      selection and priority. Must be a valid integer pointer representing the target's
      health status.
  returns: null
  examples:
  - title: Basic Usage in Combat AI
    code: "void ElementalShamanAI::Update()\n{\n    Unit* target = GetVictim();\n\
      \    if (target)\n    {\n        int targetHealth = target->GetHealth();\n \
      \       m_elementalShaman.UpdateRotation(&targetHealth);\n    }\n}"
    language: cpp
  - title: Integration with Combat State Management
    code: "void ElementalShamanRefactored::UpdateRotation(int* target)\n{\n    if\
      \ (!target || *target <= 0)\n        return;\n    \n    // Logic to determine\
      \ rotation based on target health\n    if (*target < 20000)\n    {\n       \
      \ // Use high-damage spells\n        CastLavaBurst();\n    }\n    else\n   \
      \ {\n        // Use sustained damage rotation\n        CastChainLightning();\n\
      \    }\n}"
    language: cpp
  notes: This method is part of the elemental shaman's core AI decision-making system
    and should only be called when the shaman is in combat state. The target parameter
    must point to a valid health value, otherwise undefined behavior may occur. Performance
    is optimized for frequent calls during combat cycles.
  warnings: Do not call this method with a null pointer or invalid memory address
    as it will lead to segmentation faults. Ensure that the target parameter accurately
    reflects the current combat state to maintain proper spell selection logic.
  related:
  - CastLavaBurst
  - CastChainLightning
  - CastEarthShock
  - CheckCooldowns
  - GetManaPercentage
metadata:
  confidence: 0.85
  generated_at: '2025-11-08T05:28:53.575833'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
