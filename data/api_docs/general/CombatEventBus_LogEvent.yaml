api:
  class: CombatEventBus
  method: LogEvent
  signature: void CombatEventBus::LogEvent(const CombatEvent & event, const std::string
    & action) const
documentation:
  brief: Logs a combat event with associated action string to the combat event bus.
  description: The LogEvent method is used to record and dispatch combat-related events
    within the TrinityCore framework. It accepts a CombatEvent object and an action
    string that describes the nature of the event, allowing for detailed tracking
    and processing of in-game combat actions such as attacks, spells, damage dealt,
    or healing performed. This method integrates with the broader combat system by
    ensuring that all significant combat interactions are properly logged for further
    analysis, reporting, or game logic execution. The method does not return any value
    but is essential for maintaining accurate combat logs and event-driven systems
    in World of Warcraft emulation.
  parameters:
  - name: event
    description: A const reference to a CombatEvent object containing details about
      the combat action that occurred, such as involved entities, damage values, spell
      IDs, or target information.
  - name: action
    description: A const reference to a std::string that describes the type of action
      being logged, e.g., 'damage_dealt', 'spell_cast', or 'heal_performed'. This
      string is used for categorizing and filtering combat events.
  returns: null
  examples:
  - title: Basic Combat Event Logging
    code: 'CombatEvent event;

      event.damage = 100;

      event.targetGuid = 12345;

      combatBus.LogEvent(event, "damage_dealt");'
    language: cpp
  - title: Logging Spell Cast Event
    code: 'CombatEvent spellEvent;

      spellEvent.spellId = 879;

      spellEvent.casterGuid = 67890;

      combatBus.LogEvent(spellEvent, "spell_cast");'
    language: cpp
  notes: This method is typically invoked during combat processing loops or when specific
    game events occur. It's designed to be thread-safe and may internally use locking
    mechanisms depending on the implementation. The action string should be kept consistent
    across similar event types for effective filtering and analysis.
  warnings: Ensure that CombatEvent objects passed to this method are fully initialized
    before logging, as incomplete data can lead to incorrect combat log entries or
    runtime errors. Avoid calling this method from within critical sections without
    proper synchronization if thread safety is a concern.
  related:
  - GetCombatEvent
  - ProcessEvent
  - RegisterEventHandler
metadata:
  confidence: 0.9
  generated_at: '2025-11-08T07:00:21.150588'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
