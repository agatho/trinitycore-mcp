api:
  class: InstanceMap
  method: GetLfgDungeonsId
  signature: int InstanceMap::GetLfgDungeonsId() const
documentation:
  brief: Retrieves the LFG dungeon ID associated with this instance map.
  description: The GetLfgDungeonsId method returns the unique identifier for the Looking
    for Group (LFG) dungeon that this instance map corresponds to. This ID is used
    by the LFG system to track which dungeon a player's instance map represents, enabling
    proper group matching and dungeon assignment. The method provides access to the
    underlying dungeon template data that defines how players can join and queue for
    this specific instance through the LFG interface. It is commonly used during instance
    creation, player entry handling, and LFG-related operations within the TrinityCore
    framework.
  parameters: []
  returns: An integer representing the LFG dungeon ID associated with this instance
    map. A value of 0 typically indicates that no LFG dungeon is associated with the
    instance, or the instance was not created through the standard LFG system.
  examples:
  - title: Basic Usage to Check Dungeon Association
    code: "InstanceMap* map = player->GetMap();\nint lfgId = map->GetLfgDungeonsId();\n\
      if (lfgId > 0)\n{\n    // This instance is associated with an LFG dungeon\n\
      \    sLog->outString(\"Instance %u is for LFG dungeon ID: %d\", map->GetId(),\
      \ lfgId);\n}"
    language: cpp
  - title: Using the ID to Validate Player Entry
    code: "void HandlePlayerEnterMap(Player* player)\n{\n    InstanceMap* instanceMap\
      \ = dynamic_cast<InstanceMap*>(player->GetMap());\n    if (instanceMap)\n  \
      \  {\n        int lfgId = instanceMap->GetLfgDungeonsId();\n        if (lfgId\
      \ > 0)\n        {\n            // Validate that player is entering the correct\
      \ LFG dungeon\n            sLog->outString(\"Player %s entered LFG dungeon ID:\
      \ %d\", player->GetName().c_str(), lfgId);\n        }\n    }\n}"
    language: cpp
  notes: This method assumes that the instance map has been properly initialized with
    LFG data. The returned ID corresponds to entries in the `lfg_dungeons` table within
    the database, which defines all available dungeons for the LFG system. It's important
    to note that not all instance maps will have an associated LFG dungeon ID, particularly
    those created through custom or non-LFG means.
  warnings: Be cautious when relying on this method in performance-critical sections
    of code as it may involve internal lookups or state checks. Also, ensure that
    the map object is actually an InstanceMap type before calling this method to avoid
    undefined behavior.
  related:
  - GetId
  - GetDifficulty
  - IsLfgDungeon
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T03:09:13.240838'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
