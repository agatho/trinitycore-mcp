api:
  class: LoSUtils
  method: HasLoS
  signature: bool LoSUtils::HasLoS(const int & from, const int & to, Map * map)
documentation:
  brief: Determines whether there is a line of sight between two points in a given
    map.
  description: The HasLoS method checks if there is an unobstructed visual path between
    two specified points within a World of Warcraft map. This function is essential
    for game mechanics such as spell casting, NPC vision, and player targeting, where
    objects must have a clear line of sight to interact with each other. The method
    evaluates the spatial relationship between the 'from' and 'to' coordinates using
    the provided Map instance to determine if any obstacles (such as walls, terrain,
    or other objects) block the direct line of sight. It returns true if there is
    a clear path, and false otherwise. This function typically uses raycasting algorithms
    to perform the visibility check.
  parameters:
  - name: from
    description: The starting point identifier (likely a GUID or object reference)
      from which the line of sight is cast.
  - name: to
    description: The target point identifier (likely a GUID or object reference) to
      which the line of sight is checked.
  - name: map
    description: Pointer to the Map instance where both points exist and the visibility
      check will be performed. Must not be null.
  returns: Returns true if there is a clear line of sight between the 'from' and 'to'
    points, false otherwise. A return value of false indicates that an obstacle blocks
    the direct path between the two points.
  examples:
  - title: Basic usage to check if two players have line of sight
    code: "if (LoSUtils::HasLoS(player1->GetGUID(), player2->GetGUID(), player1->GetMap()))\
      \ {\n    // Players can see each other\n    SendChatMessage(\"We can see each\
      \ other!\");\n} else {\n    // Players cannot see each other due to obstruction\n\
      \    SendChatMessage(\"I can't see you.\");\n}"
    language: cpp
  - title: Using HasLoS for spell targeting validation
    code: "Unit* target = GetTarget();\nif (target && LoSUtils::HasLoS(caster->GetGUID(),\
      \ target->GetGUID(), caster->GetMap())) {\n    // Cast the spell since there's\
      \ line of sight\n    DoSpellCast(target);\n} else {\n    // Cannot cast - no\
      \ line of sight\n    SendSpellFailed(SPELL_FAILED_NO_LINE_OF_SIGHT);\n}"
    language: cpp
  notes: This method relies on the underlying map's collision detection system. The
    performance may vary depending on the complexity of the terrain and obstacles
    in the map. It is recommended to cache results when checking multiple points against
    the same location for better efficiency.
  warnings: Ensure that both 'from' and 'to' parameters refer to valid objects within
    the provided map; otherwise, behavior is undefined. Also, note that this function
    does not account for height differences or vertical obstacles unless explicitly
    implemented in the map's collision system.
  related:
  - GetLineOfSight
  - IsInLoS
  - CheckVisibility
metadata:
  confidence: 0.95
  generated_at: '2025-11-04T01:11:45.188682'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
