api:
  class: SafeCorpseManager
  method: IsCorpseSafeToDelete
  signature: bool SafeCorpseManager::IsCorpseSafeToDelete(int corpseGuid) const
documentation:
  brief: Determines whether a corpse is safe to delete from the database.
  description: The IsCorpseSafeToDelete method checks if a corpse identified by its
    GUID can be safely removed from the database. This check typically involves verifying
    that the corpse is no longer referenced by any active player or game object, and
    that it has been in the database long enough to prevent accidental deletion during
    active gameplay. The method ensures that corpses are not prematurely deleted while
    players might still be accessing them or while they are part of ongoing game mechanics
    such as resurrection timers or corpse looting.
  parameters:
  - name: corpseGuid
    description: The unique identifier (GUID) of the corpse to check for deletion
      safety. This should be a valid database GUID corresponding to an existing corpse
      entry.
  returns: Returns true if the corpse is safe to delete from the database, meaning
    it's no longer referenced and has passed any necessary time-based checks. Returns
    false if the corpse is still in use or protected by game mechanics.
  examples:
  - title: Check if a corpse can be deleted
    code: "if (sObjectMgr->GetCorpseSafeToDelete(corpseGuid)) {\n    // Proceed with\
      \ deleting the corpse\n    sObjectMgr->DeleteCorpse(corpseGuid);\n} else {\n\
      \    // Do not delete, corpse is still in use or protected\n}"
    language: cpp
  notes: This method is typically used as part of a cleanup routine that periodically
    removes old corpses from the database to free up space and maintain performance.
    It may also be called when a player logs out or when a corpse expires due to time
    limits.
  warnings: Do not call this method directly unless you are certain about the state
    of the corpse and its references. Incorrect usage could lead to dangling references
    or data inconsistencies in the database.
  related:
  - DeleteCorpse
  - GetCorpseSafeToDelete
metadata:
  confidence: 0.9
  generated_at: '2025-11-01T06:59:31.197538'
  generator: lmstudio-qwen3-coder-30b
  version: 1.0.0
  source: core
